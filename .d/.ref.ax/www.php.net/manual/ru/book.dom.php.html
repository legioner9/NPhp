<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: DOM - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="book.dom.php.html">
 <link rel="shorturl" href="https://www.php.net/dom">
 <link rel="alternate" href="https://www.php.net/dom" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="refs.xml.php.html">
 <link rel="prev" href="refs.xml.php.html">
 <link rel="next" href="intro.dom.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/book.dom.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/book.dom.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/book.dom.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/book.dom.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/book.dom.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/book.dom.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/book.dom.php" hreflang="pt_BR">
 <link rel="alternate" href="book.dom.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/book.dom.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/book.dom.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="intro.dom.php.html">
          Введение &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="refs.xml.php.html">
          &laquo; Обработка XML        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.xml.php.html'>Обработка XML</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/book.dom.php'>English</option>
            <option value='de/book.dom.php'>German</option>
            <option value='es/book.dom.php'>Spanish</option>
            <option value='fr/book.dom.php'>French</option>
            <option value='it/book.dom.php'>Italian</option>
            <option value='ja/book.dom.php'>Japanese</option>
            <option value='pt_BR/book.dom.php'>Brazilian Portuguese</option>
            <option value='ru/book.dom.php' selected="selected">Russian</option>
            <option value='tr/book.dom.php'>Turkish</option>
            <option value='zh/book.dom.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/dom/book.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Fbook.dom%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="book.dom" class="book">
 
 <h1 class="title">Document Object Model</h1>
 

 

 






 






 






 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 





 






 

<ul class="chunklist chunklist_book"><li><a href="intro.dom.php.html">Введение</a></li><li><a href="dom.setup.php.html">Установка и настройка</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="dom.requirements.php.html">Требования</a></li><li><a href="dom.installation.php.html">Установка</a></li><li><a href="dom.configuration.php.html">Настройка во время выполнения</a></li><li><a href="dom.resources.php.html">Типы ресурсов</a></li></ul></li><li><a href="dom.constants.php.html">Предопределённые константы</a></li><li><a href="dom.examples.php.html">Примеры</a></li><li><a href="class.domattr.php.html">DOMAttr</a> — Класс DOMAttr<ul class="chunklist chunklist_book chunklist_children"><li><a href="domattr.construct.php.html">DOMAttr::__construct</a> — Создаёт экземпляр класса DOMAttr</li><li><a href="domattr.isid.php.html">DOMAttr::isId</a> — Проверяет, является ли атрибут определённым идентификатором</li></ul></li><li><a href="class.domcdatasection.php.html">DOMCdataSection</a> — Класс DOMCdataSection<ul class="chunklist chunklist_book chunklist_children"><li><a href="domcdatasection.construct.php.html">DOMCdataSection::__construct</a> — Создаёт новый экземпляр класса DOMCdataSection</li></ul></li><li><a href="class.domcharacterdata.php.html">DOMCharacterData</a> — Класс DOMCharacterData<ul class="chunklist chunklist_book chunklist_children"><li><a href="domcharacterdata.after.php.html">DOMCharacterData::after</a> — Добавляет узлы после символьных данных</li><li><a href="domcharacterdata.appenddata.php.html">DOMCharacterData::appendData</a> — Добавить строку в конец символьных данных узла</li><li><a href="domcharacterdata.before.php.html">DOMCharacterData::before</a> — Добавляет узлы перед узлом</li><li><a href="domcharacterdata.deletedata.php.html">DOMCharacterData::deleteData</a> — Удалить диапазон символов из узла</li><li><a href="domcharacterdata.insertdata.php.html">DOMCharacterData::insertData</a> — Вставить строку в указанную 16-битную позицию</li><li><a href="domcharacterdata.remove.php.html">DOMCharacterData::remove</a> — Удаляет символьные данные</li><li><a href="domcharacterdata.replacedata.php.html">DOMCharacterData::replaceData</a> — Заменить подстроку в узле типа DOMCharacterData</li><li><a href="domcharacterdata.replacewith.php.html">DOMCharacterData::replaceWith</a> — Заменяет символьные данные новыми узлами</li><li><a href="domcharacterdata.substringdata.php.html">DOMCharacterData::substringData</a> — Извлекает определённый диапазон данных из узла</li></ul></li><li><a href="class.domchildnode.php.html">DOMChildNode</a> — Интерфейс DOMChildNode<ul class="chunklist chunklist_book chunklist_children"><li><a href="domchildnode.after.php.html">DOMChildNode::after</a> — Добавляет узлы после узла</li><li><a href="domchildnode.before.php.html">DOMChildNode::before</a> — Добавляет узлы перед узлом</li><li><a href="domchildnode.remove.php.html">DOMChildNode::remove</a> — Удаляет узел</li><li><a href="domchildnode.replacewith.php.html">DOMChildNode::replaceWith</a> — Заменяет узел на новые узлы</li></ul></li><li><a href="class.domcomment.php.html">DOMComment</a> — Класс DOMComment<ul class="chunklist chunklist_book chunklist_children"><li><a href="domcomment.construct.php.html">DOMComment::__construct</a> — Создаёт новый экземпляр класса DOMComment</li></ul></li><li><a href="class.domdocument.php.html">DOMDocument</a> — Класс DOMDocument<ul class="chunklist chunklist_book chunklist_children"><li><a href="domdocument.adoptnode.php.html">DOMDocument::adoptNode</a> — Переносит узел из другого документа</li><li><a href="domdocument.append.php.html">DOMDocument::append</a> — Добавляет узлы после последнего дочернего узла</li><li><a href="domdocument.construct.php.html">DOMDocument::__construct</a> — Создаёт новый объект DOMDocument</li><li><a href="domdocument.createattribute.php.html">DOMDocument::createAttribute</a> — Создаёт новый атрибут</li><li><a href="domdocument.createattributens.php.html">DOMDocument::createAttributeNS</a> — Создаёт новый атрибут узла с соответствующим пространством имён</li><li><a href="domdocument.createcdatasection.php.html">DOMDocument::createCDATASection</a> — Создаёт новый узел cdata</li><li><a href="domdocument.createcomment.php.html">DOMDocument::createComment</a> — Создать новый узел комментария</li><li><a href="domdocument.createdocumentfragment.php.html">DOMDocument::createDocumentFragment</a> — Создаёт новый фрагмент документа</li><li><a href="domdocument.createelement.php.html">DOMDocument::createElement</a> — Создаёт новый узел элемента</li><li><a href="domdocument.createelementns.php.html">DOMDocument::createElementNS</a> — Создать новый узел элемента с соответствующим пространством имён</li><li><a href="domdocument.createentityreference.php.html">DOMDocument::createEntityReference</a> — Создать новый узел ссылки на сущность</li><li><a href="domdocument.createprocessinginstruction.php.html">DOMDocument::createProcessingInstruction</a> — Создать новый PI-узел</li><li><a href="domdocument.createtextnode.php.html">DOMDocument::createTextNode</a> — Создать новый текстовый узел</li><li><a href="domdocument.getelementbyid.php.html">DOMDocument::getElementById</a> — Ищет элемент с определённым идентификатором</li><li><a href="domdocument.getelementsbytagname.php.html">DOMDocument::getElementsByTagName</a> — Ищет все элементы с заданным локальным именем</li><li><a href="domdocument.getelementsbytagnamens.php.html">DOMDocument::getElementsByTagNameNS</a> — Ищет все элементы с заданным именем в указанном пространстве имён</li><li><a href="domdocument.importnode.php.html">DOMDocument::importNode</a> — Импортировать узел в текущий документ</li><li><a href="domdocument.load.php.html">DOMDocument::load</a> — Загрузка XML из файла</li><li><a href="domdocument.loadhtml.php.html">DOMDocument::loadHTML</a> — Загрузка HTML из строки</li><li><a href="domdocument.loadhtmlfile.php.html">DOMDocument::loadHTMLFile</a> — Загрузка HTML из файла</li><li><a href="domdocument.loadxml.php.html">DOMDocument::loadXML</a> — Загрузка XML из строки</li><li><a href="domdocument.normalizedocument.php.html">DOMDocument::normalizeDocument</a> — Нормализует документ</li><li><a href="domdocument.prepend.php.html">DOMDocument::prepend</a> — Добавляет узлы перед первым дочерним узлом</li><li><a href="domdocument.registernodeclass.php.html">DOMDocument::registerNodeClass</a> — Регистрация расширенного класса, используемого для создания типа базового узла</li><li><a href="domdocument.relaxngvalidate.php.html">DOMDocument::relaxNGValidate</a> — Производит проверку документа на правильность построения посредством relaxNG</li><li><a href="domdocument.relaxngvalidatesource.php.html">DOMDocument::relaxNGValidateSource</a> — Проверяет документ посредством relaxNG</li><li><a href="domdocument.replacechildren.php.html">DOMDocument::replaceChildren</a> — Заменяет дочерние узлы в документе</li><li><a href="domdocument.save.php.html">DOMDocument::save</a> — Сохраняет XML-дерево из внутреннего представления в файл</li><li><a href="domdocument.savehtml.php.html">DOMDocument::saveHTML</a> — Сохраняет документ из внутреннего представления в строку, используя
   форматирование HTML</li><li><a href="domdocument.savehtmlfile.php.html">DOMDocument::saveHTMLFile</a> — Сохраняет документ из внутреннего представления в файл, используя
   форматирование HTML</li><li><a href="domdocument.savexml.php.html">DOMDocument::saveXML</a> — Сохраняет XML-дерево из внутреннего представления в виде строки</li><li><a href="domdocument.schemavalidate.php.html">DOMDocument::schemaValidate</a> — Проверяет действительность документа, основываясь на заданной схеме. Поддерживается только XML-схема 1.0.</li><li><a href="domdocument.schemavalidatesource.php.html">DOMDocument::schemaValidateSource</a> — Проверяет действительность документа, основываясь на схеме</li><li><a href="domdocument.validate.php.html">DOMDocument::validate</a> — Проверяет документ на соответствие его DTD</li><li><a href="domdocument.xinclude.php.html">DOMDocument::xinclude</a> — Проводит вставку XInclude в объекте DOMDocument</li></ul></li><li><a href="class.domdocumentfragment.php.html">DOMDocumentFragment</a> — Класс DOMDocumentFragment<ul class="chunklist chunklist_book chunklist_children"><li><a href="domdocumentfragment.append.php.html">DOMDocumentFragment::append</a> — Добавляет узлы после последнего дочернего узла</li><li><a href="domdocumentfragment.appendxml.php.html">DOMDocumentFragment::appendXML</a> — Добавление необработанных данных XML</li><li><a href="domdocumentfragment.construct.php.html">DOMDocumentFragment::__construct</a> — Конструктор объекта DOMDocumentFragment</li><li><a href="domdocumentfragment.prepend.php.html">DOMDocumentFragment::prepend</a> — Добавляет узлы перед первым дочерним узлом</li><li><a href="domdocumentfragment.replacechildren.php.html">DOMDocumentFragment::replaceChildren</a> — Заменяет дочерние элементы фрагмента</li></ul></li><li><a href="class.domdocumenttype.php.html">DOMDocumentType</a> — Класс DOMDocumentType</li><li><a href="class.domelement.php.html">DOMElement</a> — Класс DOMElement<ul class="chunklist chunklist_book chunklist_children"><li><a href="domelement.after.php.html">DOMElement::after</a> — Добавляет узлы после элемента</li><li><a href="domelement.append.php.html">DOMElement::append</a> — Добавляет узлы после последнего дочернего узла</li><li><a href="domelement.before.php.html">DOMElement::before</a> — Добавляет узлы перед элементом</li><li><a href="domelement.construct.php.html">DOMElement::__construct</a> — Создаёт новый экземпляр класса DOMElement</li><li><a href="domelement.getattribute.php.html">DOMElement::getAttribute</a> — Возвращает значение атрибута</li><li><a href="domelement.getattributenames.php.html">DOMElement::getAttributeNames</a> — Получает имена атрибутов</li><li><a href="domelement.getattributenode.php.html">DOMElement::getAttributeNode</a> — Возвращает узел атрибута</li><li><a href="domelement.getattributenodens.php.html">DOMElement::getAttributeNodeNS</a> — Возвращает узел атрибута</li><li><a href="domelement.getattributens.php.html">DOMElement::getAttributeNS</a> — Возвращает значение атрибута</li><li><a href="domelement.getelementsbytagname.php.html">DOMElement::getElementsByTagName</a> — Возвращает элементы по имени тега</li><li><a href="domelement.getelementsbytagnamens.php.html">DOMElement::getElementsByTagNameNS</a> — Получает элементы по локальному имени в заданном пространстве имён</li><li><a href="domelement.hasattribute.php.html">DOMElement::hasAttribute</a> — Проверяет, существует ли атрибут</li><li><a href="domelement.hasattributens.php.html">DOMElement::hasAttributeNS</a> — Проверяет, существует ли заданный атрибут</li><li><a href="domelement.insertadjacentelement.php.html">DOMElement::insertAdjacentElement</a> — Добавляет соседний элемент</li><li><a href="domelement.insertadjacenttext.php.html">DOMElement::insertAdjacentText</a> — Добавляет соседний текст</li><li><a href="domelement.prepend.php.html">DOMElement::prepend</a> — Добавляет узлы перед первым дочерним узлом</li><li><a href="domelement.remove.php.html">DOMElement::remove</a> — Удаляет элемент</li><li><a href="domelement.removeattribute.php.html">DOMElement::removeAttribute</a> — Удаляет атрибут</li><li><a href="domelement.removeattributenode.php.html">DOMElement::removeAttributeNode</a> — Удаляет атрибут</li><li><a href="domelement.removeattributens.php.html">DOMElement::removeAttributeNS</a> — Удаляет атрибут</li><li><a href="domelement.replacechildren.php.html">DOMElement::replaceChildren</a> — Заменяет дочерние элементы в элементе</li><li><a href="domelement.replacewith.php.html">DOMElement::replaceWith</a> — Заменяет элемент новыми узлами</li><li><a href="domelement.setattribute.php.html">DOMElement::setAttribute</a> — Добавляет новый или изменяет существующий атрибут</li><li><a href="domelement.setattributenode.php.html">DOMElement::setAttributeNode</a> — Добавляет новый узел атрибута в элемент</li><li><a href="domelement.setattributenodens.php.html">DOMElement::setAttributeNodeNS</a> — Добавляет новый атрибут в элемент</li><li><a href="domelement.setattributens.php.html">DOMElement::setAttributeNS</a> — Добавляет новый атрибут</li><li><a href="domelement.setidattribute.php.html">DOMElement::setIdAttribute</a> — Объявляет атрибуту c указанным именем тип ID</li><li><a href="domelement.setidattributenode.php.html">DOMElement::setIdAttributeNode</a> — Объявляет указанному узлу атрибута тип ID</li><li><a href="domelement.setidattributens.php.html">DOMElement::setIdAttributeNS</a> — Объявляет атрибуту с указанными локальным именем и URI пространства имён тип ID</li><li><a href="domelement.toggleattribute.php.html">DOMElement::toggleAttribute</a> — Переключает атрибут</li></ul></li><li><a href="class.domentity.php.html">DOMEntity</a> — Класс DOMEntity</li><li><a href="class.domentityreference.php.html">DOMEntityReference</a> — Класс DOMEntityReference<ul class="chunklist chunklist_book chunklist_children"><li><a href="domentityreference.construct.php.html">DOMEntityReference::__construct</a> — Создаёт новый объект класса DOMEntityReference</li></ul></li><li><a href="class.domexception.php.html">DOMException</a> — Класс DOMException</li><li><a href="class.domimplementation.php.html">DOMImplementation</a> — Класс DOMImplementation<ul class="chunklist chunklist_book chunklist_children"><li><a href="domimplementation.construct.php.html">DOMImplementation::__construct</a> — Создаёт новый объект класса DOMImplementation</li><li><a href="domimplementation.createdocument.php.html">DOMImplementation::createDocument</a> — Создаёт объект класса DOMDocument заданного типа с его элементом document</li><li><a href="domimplementation.createdocumenttype.php.html">DOMImplementation::createDocumentType</a> — Создаёт пустой объект класса DOMDocumentType</li><li><a href="domimplementation.hasfeature.php.html">DOMImplementation::hasFeature</a> — Проверка, реализована ли определённая возможность в реализации DOM</li></ul></li><li><a href="class.domnamednodemap.php.html">DOMNamedNodeMap</a> — Класс DOMNamedNodeMap<ul class="chunklist chunklist_book chunklist_children"><li><a href="domnamednodemap.count.php.html">DOMNamedNodeMap::count</a> — Количество узлов в отображении</li><li><a href="domnamednodemap.getiterator.php.html">DOMNamedNodeMap::getIterator</a> — Получает внешний итератор</li><li><a href="domnamednodemap.getnameditem.php.html">DOMNamedNodeMap::getNamedItem</a> — Получает узел, указанный по имени</li><li><a href="domnamednodemap.getnameditemns.php.html">DOMNamedNodeMap::getNamedItemNS</a> — Получает узел с заданным локальным именем и URI пространства имён</li><li><a href="domnamednodemap.item.php.html">DOMNamedNodeMap::item</a> — Получает узел с заданным индексом</li></ul></li><li><a href="class.domnamespacenode.php.html">DOMNameSpaceNode</a> — Класс DOMNameSpaceNode</li><li><a href="class.domnode.php.html">DOMNode</a> — Класс DOMNode<ul class="chunklist chunklist_book chunklist_children"><li><a href="domnode.appendchild.php.html">DOMNode::appendChild</a> — Добавляет новый дочерний узел в конец списка потомков</li><li><a href="domnode.c14n.php.html">DOMNode::C14N</a> — Канонизировать узлы в строку</li><li><a href="domnode.c14nfile.php.html">DOMNode::C14NFile</a> — Канонизировать узлы в файл</li><li><a href="domnode.clonenode.php.html">DOMNode::cloneNode</a> — Клонирует узел</li><li><a href="domnode.contains.php.html">DOMNode::contains</a> — Проверяет, содержит ли узел другой узел</li><li><a href="domnode.getlineno.php.html">DOMNode::getLineNo</a> — Получает номер строки узла</li><li><a href="domnode.getnodepath.php.html">DOMNode::getNodePath</a> — Получение XPath узла</li><li><a href="domnode.getrootnode.php.html">DOMNode::getRootNode</a> — Получает корневой узел</li><li><a href="domnode.hasattributes.php.html">DOMNode::hasAttributes</a> — Проверяет, имеет ли данный узел атрибуты</li><li><a href="domnode.haschildnodes.php.html">DOMNode::hasChildNodes</a> — Проверяет, имеет ли данный узел потомков</li><li><a href="domnode.insertbefore.php.html">DOMNode::insertBefore</a> — Добавляет новый дочерний узел перед указанным узлом</li><li><a href="domnode.isdefaultnamespace.php.html">DOMNode::isDefaultNamespace</a> — Проверяет, является ли указанный URI пространства имён узла пространством имён по умолчанию или нет</li><li><a href="domnode.isequalnode.php.html">DOMNode::isEqualNode</a> — Проверяет, что оба узла идентичны</li><li><a href="domnode.issamenode.php.html">DOMNode::isSameNode</a> — Указывает, являются ли два узла одним и тем же узлом</li><li><a href="domnode.issupported.php.html">DOMNode::isSupported</a> — Проверяет, поддерживается ли возможность в определённой версии</li><li><a href="domnode.lookupnamespaceuri.php.html">DOMNode::lookupNamespaceURI</a> — Получает URI пространства имён узла по префиксу</li><li><a href="domnode.lookupprefix.php.html">DOMNode::lookupPrefix</a> — Возвращает префикс пространства имён узла из URI пространства имён</li><li><a href="domnode.normalize.php.html">DOMNode::normalize</a> — Нормализует узел</li><li><a href="domnode.removechild.php.html">DOMNode::removeChild</a> — Удаляет дочерний узел из списка потомков</li><li><a href="domnode.replacechild.php.html">DOMNode::replaceChild</a> — Заменяет дочерний узел</li></ul></li><li><a href="class.domnodelist.php.html">DOMNodeList</a> — Класс DOMNodeList<ul class="chunklist chunklist_book chunklist_children"><li><a href="domnodelist.count.php.html">DOMNodeList::count</a> — Получить количество узлов в списке</li><li><a href="domnodelist.getiterator.php.html">DOMNodeList::getIterator</a> — Получает внешний итератор</li><li><a href="domnodelist.item.php.html">DOMNodeList::item</a> — Получает узел с заданным индексом</li></ul></li><li><a href="class.domnotation.php.html">DOMNotation</a> — Класс DOMNotation</li><li><a href="class.domparentnode.php.html">DOMParentNode</a> — Интерфейс DOMParentNode<ul class="chunklist chunklist_book chunklist_children"><li><a href="domparentnode.append.php.html">DOMParentNode::append</a> — Добавляет узлы после последнего дочернего узла</li><li><a href="domparentnode.prepend.php.html">DOMParentNode::prepend</a> — Добавляет узлы перед первым дочерним узлом</li><li><a href="domparentnode.replacechildren.php.html">DOMParentNode::replaceChildren</a> — Заменяет потомков в узле</li></ul></li><li><a href="class.domprocessinginstruction.php.html">DOMProcessingInstruction</a> — Класс DOMProcessingInstruction<ul class="chunklist chunklist_book chunklist_children"><li><a href="domprocessinginstruction.construct.php.html">DOMProcessingInstruction::__construct</a> — Создаёт новый объект класса DOMProcessingInstruction</li></ul></li><li><a href="class.domtext.php.html">DOMText</a> — Класс DOMText<ul class="chunklist chunklist_book chunklist_children"><li><a href="domtext.construct.php.html">DOMText::__construct</a> — Создаёт объект класса DOMText</li><li><a href="domtext.iselementcontentwhitespace.php.html">DOMText::isElementContentWhitespace</a> — Возвращает, содержит ли текстовый узел пробел в содержимом элемента</li><li><a href="domtext.iswhitespaceinelementcontent.php.html">DOMText::isWhitespaceInElementContent</a> — Определяет, содержит ли текстовый узел пробелы в содержимом</li><li><a href="domtext.splittext.php.html">DOMText::splitText</a> — Разделяет узел на два, начиная с заданной позиции</li></ul></li><li><a href="class.domxpath.php.html">DOMXPath</a> — Класс DOMXPath<ul class="chunklist chunklist_book chunklist_children"><li><a href="domxpath.construct.php.html">DOMXPath::__construct</a> — Создаёт новый объект класса DOMXPath</li><li><a href="domxpath.evaluate.php.html">DOMXPath::evaluate</a> — Вычисляет переданное выражение XPath и возвращает типизированный результат,
   если возможно</li><li><a href="domxpath.query.php.html">DOMXPath::query</a> — Выполняет заданное выражение XPath</li><li><a href="domxpath.registernamespace.php.html">DOMXPath::registerNamespace</a> — Регистрирует пространство имён с объектом DOMXPath</li><li><a href="domxpath.registerphpfunctions.php.html">DOMXPath::registerPhpFunctions</a> — Регистрация PHP-функций как функций XPath</li></ul></li><li><a href="ref.dom.php.html">Функции DOM</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="function.dom-import-simplexml.php.html">dom_import_simplexml</a> — Получает объект класса DOMElement из объекта
   класса SimpleXMLElement</li></ul></li></ul></div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=book.dom&amp;redirect=https://www.php.net/manual/ru/book.dom.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">38 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="84771">  <div class="votes">
    <div id="Vu84771">
    <a href="https://www.php.net/manual/vote-note.php?id=84771&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd84771">
    <a href="https://www.php.net/manual/vote-note.php?id=84771&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V84771" title="54% like this...">
    12
    </div>
  </div>
  <a href="book.dom.php.html#84771" class="name">
  <strong class="user"><em>tobiasz.cudnik[at]gmail.com</em></strong></a><a class="genanchor" href="book.dom.php.html#84771"> &para;</a><div class="date" title="2008-07-29 06:47"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom84771">
<div class="phpcode"><code><span class="html">If you need simple interface to DOM check out phpQuery - jQuery port to PHP:<br /><a href="http://code.google.com/p/phpquery/" rel="nofollow" target="_blank">http://code.google.com/p/phpquery/</a><br /><br />It uses CSS selectors to fetch nodes.<br />Here's example how it works:<br /><span class="default">&lt;?php<br /></span><span class="comment">// just one file to include<br /></span><span class="keyword">require(</span><span class="string">'phpQuery/phpQuery.php'</span><span class="keyword">);<br /><br /></span><span class="default">$html </span><span class="keyword">= </span><span class="string">'<br />&lt;div&gt;<br />    mydiv<br />    &lt;ul&gt;<br />        &lt;li&gt;1&lt;/li&gt;<br />        &lt;li&gt;2&lt;/li&gt;<br />        &lt;li&gt;3&lt;/li&gt;<br />    &lt;/ul&gt;<br />&lt;/div&gt;'</span><span class="keyword">;<br /><br /></span><span class="comment">// intialize new DOM from markup<br /></span><span class="default">phpQuery</span><span class="keyword">::</span><span class="default">newDocument</span><span class="keyword">(</span><span class="default">$markup</span><span class="keyword">)<br />    -&gt;</span><span class="default">find</span><span class="keyword">(</span><span class="string">'ul &gt; li'</span><span class="keyword">)<br />        -&gt;</span><span class="default">addClass</span><span class="keyword">(</span><span class="string">'my-new-class'</span><span class="keyword">)<br />        -&gt;</span><span class="default">filter</span><span class="keyword">(</span><span class="string">':last'</span><span class="keyword">)<br />            -&gt;</span><span class="default">addClass</span><span class="keyword">(</span><span class="string">'last-li'</span><span class="keyword">);<br /><br /></span><span class="comment">// query all unordered lists in last used DOM<br /></span><span class="default">pq</span><span class="keyword">(</span><span class="string">'ul'</span><span class="keyword">)-&gt;</span><span class="default">insertAfter</span><span class="keyword">(</span><span class="string">'div'</span><span class="keyword">);<br /><br /></span><span class="comment">// iterate all LIs from last used DOM<br /></span><span class="keyword">foreach(</span><span class="default">pq</span><span class="keyword">(</span><span class="string">'li'</span><span class="keyword">) as </span><span class="default">$li</span><span class="keyword">) {<br />    </span><span class="comment">// iteration returns plain DOM nodes, not phpQuery objects<br />    </span><span class="default">pq</span><span class="keyword">(</span><span class="default">$li</span><span class="keyword">)-&gt;</span><span class="default">addClass</span><span class="keyword">(</span><span class="string">'my-second-new-class'</span><span class="keyword">);<br />}<br /><br /></span><span class="comment">// same as pq('anything')-&gt;htmlOuter()<br />// but on document root (returns doctype etc)<br /></span><span class="keyword">print </span><span class="default">phpQuery</span><span class="keyword">::</span><span class="default">getDocument</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />It uses DOM extension and XPath so it works only in PHP5.</span></code></div>
  </div>
 </div>
  <div class="note" id="57274">  <div class="votes">
    <div id="Vu57274">
    <a href="https://www.php.net/manual/vote-note.php?id=57274&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd57274">
    <a href="https://www.php.net/manual/vote-note.php?id=57274&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V57274" title="75% like this...">
    2
    </div>
  </div>
  <a href="book.dom.php.html#57274" class="name">
  <strong class="user"><em>pes_cz</em></strong></a><a class="genanchor" href="book.dom.php.html#57274"> &para;</a><div class="date" title="2005-09-29 12:32"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom57274">
<div class="phpcode"><code><span class="html">When I tried to parse my XHTML Strict files with DOM extension, it couldn't understand xhtml entities (like &amp;copy;). I found post about it here (14-Jul-2005 09:05) which adviced to add resolveExternals = true, but it was very slow. There was some small note about xml catalogs but without any glue. Here it is:<br /><br />XML catalogs is something like cache. Download all needed dtd's to /etc/xml, edit file /etc/xml/catalog and add this line: &lt;public publicId="-//W3C//DTD XHTML 1.0 Strict//EN" uri="file:///etc/xml/xhtml1-strict.dtd" /&gt;<br /><br />Thats all. Thanks to <a href="http://www.whump.com/moreLikeThis/link/03815" rel="nofollow" target="_blank">http://www.whump.com/moreLikeThis/link/03815</a></span></code></div>
  </div>
 </div>
  <div class="note" id="73875">  <div class="votes">
    <div id="Vu73875">
    <a href="https://www.php.net/manual/vote-note.php?id=73875&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73875">
    <a href="https://www.php.net/manual/vote-note.php?id=73875&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73875" title="61% like this...">
    4
    </div>
  </div>
  <a href="book.dom.php.html#73875" class="name">
  <strong class="user"><em>Yanik &lt;clonyara(at)ahoo(dot)com&gt;</em></strong></a><a class="genanchor" href="book.dom.php.html#73875"> &para;</a><div class="date" title="2007-03-13 11:40"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73875">
<div class="phpcode"><code><span class="html">I hate DOM model !<br />so I wrote dom2array simple function (simple for use):<br /><br />function dom2array($node) {<br />  $res = array();<br />  print $node-&gt;nodeType.'&lt;br/&gt;';<br />  if($node-&gt;nodeType == XML_TEXT_NODE){<br />      $res = $node-&gt;nodeValue;<br />  }<br />  else{<br />      if($node-&gt;hasAttributes()){<br />          $attributes = $node-&gt;attributes;<br />          if(!is_null($attributes)){<br />              $res['@attributes'] = array();<br />              foreach ($attributes as $index=&gt;$attr) {<br />                  $res['@attributes'][$attr-&gt;name] = $attr-&gt;value;<br />              }<br />          }<br />      }<br />      if($node-&gt;hasChildNodes()){<br />          $children = $node-&gt;childNodes;<br />          for($i=0;$i&lt;$children-&gt;length;$i++){<br />              $child = $children-&gt;item($i);<br />              $res[$child-&gt;nodeName] = dom2array($child);<br />          }<br />      }<br />  }<br />  return $res;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="60188">  <div class="votes">
    <div id="Vu60188">
    <a href="https://www.php.net/manual/vote-note.php?id=60188&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd60188">
    <a href="https://www.php.net/manual/vote-note.php?id=60188&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V60188" title="62% like this...">
    2
    </div>
  </div>
  <a href="book.dom.php.html#60188" class="name">
  <strong class="user"><em>simlee at indiana dot edu</em></strong></a><a class="genanchor" href="book.dom.php.html#60188"> &para;</a><div class="date" title="2005-12-29 12:16"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom60188">
<div class="phpcode"><code><span class="html">The project I'm currently working on uses XPaths to dynamically navigate through chunks of an XML file.  I couldn't find any PHP code on the net that would build the XPath to a node for me, so I wrote my own function.  Turns out it wasn't as hard as I thought it might be (yay recursion), though it does entail using some PHP shenanigans...  <br /><br />Hopefully it'll save someone else the trouble of reinventing this wheel. <br /><br /><span class="default">&lt;?php<br />    </span><span class="keyword">function </span><span class="default">getNodeXPath</span><span class="keyword">( </span><span class="default">$node </span><span class="keyword">) {<br />        </span><span class="comment">// REMEMBER THAT XPATHS USE BASE-1 INSTEAD OF BASE-0!!!<br />        <br />        // Get the index for the current node by looping through the siblings.<br />        </span><span class="default">$parentNode </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">parentNode</span><span class="keyword">;<br />        if( </span><span class="default">$parentNode </span><span class="keyword">!= </span><span class="default">null </span><span class="keyword">) {<br />            </span><span class="default">$nodeIndex </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />            do {<br />                </span><span class="default">$testNode </span><span class="keyword">= </span><span class="default">$parentNode</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">( </span><span class="default">$nodeIndex </span><span class="keyword">);<br />                </span><span class="default">$nodeName </span><span class="keyword">= </span><span class="default">$testNode</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">;<br />                </span><span class="default">$nodeIndex</span><span class="keyword">++;<br />                <br />                </span><span class="comment">// PHP trickery!  Here we create a counter based on the node <br />                //  name of the test node to use in the XPath.<br />                </span><span class="keyword">if( !isset( $</span><span class="default">$nodeName </span><span class="keyword">) ) $</span><span class="default">$nodeName </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />                else $</span><span class="default">$nodeName</span><span class="keyword">++;<br />                <br />                </span><span class="comment">// Failsafe return value.<br />                </span><span class="keyword">if( </span><span class="default">$nodeIndex </span><span class="keyword">&gt; </span><span class="default">$parentNode</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">length </span><span class="keyword">) return( </span><span class="string">"/" </span><span class="keyword">);<br />            } while( !</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">isSameNode</span><span class="keyword">( </span><span class="default">$testNode </span><span class="keyword">) );<br />            <br />            </span><span class="comment">// Recursively get the XPath for the parent.<br />            </span><span class="keyword">return( </span><span class="default">getNodeXPath</span><span class="keyword">( </span><span class="default">$parentNode </span><span class="keyword">) . </span><span class="string">"/</span><span class="keyword">{</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">}</span><span class="string">[</span><span class="keyword">{$</span><span class="default">$nodeName</span><span class="keyword">}</span><span class="string">]" </span><span class="keyword">);<br />        } else {<br />            </span><span class="comment">// Hit the root node!  Note that the slash is added when <br />            //  building the XPath, so we return just an empty string.<br />            </span><span class="keyword">return( </span><span class="string">"" </span><span class="keyword">);<br />        }<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="115016">  <div class="votes">
    <div id="Vu115016">
    <a href="https://www.php.net/manual/vote-note.php?id=115016&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115016">
    <a href="https://www.php.net/manual/vote-note.php?id=115016&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115016" title="60% like this...">
    2
    </div>
  </div>
  <a href="book.dom.php.html#115016" class="name">
  <strong class="user"><em>super dot puma at gmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#115016"> &para;</a><div class="date" title="2014-05-13 04:57"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115016">
<div class="phpcode"><code><span class="html">If  you want to print the DOM XML file content, you can use the next code:<br /><br />$doc = new DOMDocument();<br />$doc-&gt;load($xmlFileName);<br />echo "&lt;br&gt;" . $doc-&gt;documentURI;<br />$x = $doc-&gt;documentElement;<br />getNodeContent($x-&gt;childNodes, 0);<br /><br />function getNodeContent($nodes, $level){<br />    foreach ($nodes AS $item) {<br />    //  print "&lt;br&gt;&lt;br&gt;TIPO: " . $item-&gt;nodeType ;<br />      printValues($item, $level);<br />      if ($item-&gt;nodeType == 1) { //DOMElement<br />          foreach ($item-&gt;attributes AS $itemAtt) {<br />              printValues($itemAtt, $level+3);<br />          }<br />          if($item-&gt;childNodes || $item-&gt;childNodes-&gt;lenth &gt; 0) {<br />              getNodeContent($item-&gt;childNodes, $level+5);<br />          }<br />      }<br />    }<br />}<br /><br />function printValues($item, $level){<br />    if ($item-&gt;nodeType == 1) { //DOMElement<br />        printLevel($level);<br />        print $item-&gt;nodeName . " = " . $item-&gt;nodeValue;<br />    }<br />    if ($item-&gt;nodeType == 2) { //DOMAttr<br />        printLevel($level);<br />        print $item-&gt;name . " = " . $item-&gt;value ;<br />    }<br />    if ($item-&gt;nodeType == 3) { //DOMText<br />      if ($item-&gt;isWhitespaceInElementContent() == false){<br />        printLevel($level);<br />        print $item-&gt;wholeText ;<br />      }<br />    }<br />}<br /><br />function printLevel($level)<br />{<br />    print "&lt;br&gt;";<br />    if ($level == 0) {<br />        print "&lt;br&gt;";<br />    }<br />    for($i=0; $i &lt; $level; $i++) {<br />        print "-";<br />    }<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="54909">  <div class="votes">
    <div id="Vu54909">
    <a href="https://www.php.net/manual/vote-note.php?id=54909&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54909">
    <a href="https://www.php.net/manual/vote-note.php?id=54909&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54909" title="58% like this...">
    3
    </div>
  </div>
  <a href="book.dom.php.html#54909" class="name">
  <strong class="user"><em>aidan at php dot net</em></strong></a><a class="genanchor" href="book.dom.php.html#54909"> &para;</a><div class="date" title="2005-07-19 06:04"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54909">
<div class="phpcode"><code><span class="html">As of PHP 5.1, libxml options may be set using constants rather than the use of proprietary DomDocument properties.<br /><br />DomDocument-&gt;resolveExternals is equivilant to setting<br />LIBXML_DTDLOAD<br />LIBXML_DTDATTR<br /><br />DomDocument-&gt;validateOnParse is equivilant to setting<br />LIBXML_DTDLOAD<br />LIBXML_DTDVALID<br /><br />PHP 5.1 users are encouraged to use the new constants. <br /><br />Example:<br /><br />DomDocument-&gt;load($file, LIBXML_DTDLOAD|LIBXML_DTDATTR);<br /><br />DomDocument-&gt;load($file, LIBXML_DTDLOAD|LIBXML_DTDVALID);</span></code></div>
  </div>
 </div>
  <div class="note" id="122659">  <div class="votes">
    <div id="Vu122659">
    <a href="https://www.php.net/manual/vote-note.php?id=122659&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122659">
    <a href="https://www.php.net/manual/vote-note.php?id=122659&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122659" title="60% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#122659" class="name">
  <strong class="user"><em>emmanuellutula at hotmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#122659"> &para;</a><div class="date" title="2018-04-24 04:35"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122659">
<div class="phpcode"><code><span class="html">If you want to  use DOMDocument in your PHPUnit Tests drive on Symfony Controller (testing form)! Use like :<br /><br />namespace Tests\YourBundle\Controller;<br /><br />use Symfony\Bundle\FrameworkBundle\Test\WebTestCase;<br />use YourBundle\Controller\TextController;<br /><br />class DefaultControllerTest extends WebTestCase<br />{<br />    public function testIndex()<br />    {<br />        $client = static::createClient(array(), array());<br /><br />        $crawler = $client-&gt;request('GET', '/text/add');<br />        $this-&gt;assertTrue($crawler-&gt;filter("form")-&gt;count() &gt; 0, "Text form exist !");<br /><br />        $form = $crawler-&gt;filter("form")-&gt;form();<br /><br />        $domDocument = new \DOMDocument;<br /><br />        $domInput = $domDocument-&gt;createElement('input');<br />        $dom = $domDocument-&gt;appendChild($domInput);<br />        $dom-&gt;setAttribute('slug', 'bloc');<br />       <br /><br />        $formInput = new \Symfony\Component\DomCrawler\Field\InputFormField($domInput);<br />        $form-&gt;set($formInput); <br /><br />        $crawler = $client-&gt;submit($form);<br />            <br />        if ($client-&gt;getResponse()-&gt;isRedirect())<br />        {<br />            $crawler = $client-&gt;followRedirect(false);<br />        }<br /><br />       // $this-&gt;assertTrue($client-&gt;getResponse()-&gt;isSuccessful());<br />        //$this-&gt;assertEquals(200, $client-&gt;getResponse()-&gt;getStatusCode(),<br />        //             "Unexpected HTTP status code for GET /backoffice/login");<br />        <br />    }<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="71317">  <div class="votes">
    <div id="Vu71317">
    <a href="https://www.php.net/manual/vote-note.php?id=71317&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71317">
    <a href="https://www.php.net/manual/vote-note.php?id=71317&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71317" title="60% like this...">
    2
    </div>
  </div>
  <a href="book.dom.php.html#71317" class="name">
  <strong class="user"><em>cooper at asu dot ntu-kpi dot kiev dot ua</em></strong></a><a class="genanchor" href="book.dom.php.html#71317"> &para;</a><div class="date" title="2006-11-22 02:32"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71317">
<div class="phpcode"><code><span class="html">If you are using not object-oriented functions and it takes too much time to change them all (or you'll be replacing them later) then as a temporary decision can be used this modules:<br /><br />For DOM XML:<br /><a href="http://alexandre.alapetite.net/doc-alex/domxml-php4-php5/" rel="nofollow" target="_blank">http://alexandre.alapetite.net/doc-alex/domxml-php4-php5/</a><br /><br />For XSLT:<br /><a href="http://alexandre.alapetite.net/doc-alex/xslt-php4-php5/" rel="nofollow" target="_blank">http://alexandre.alapetite.net/doc-alex/xslt-php4-php5/</a></span></code></div>
  </div>
 </div>
  <div class="note" id="54893">  <div class="votes">
    <div id="Vu54893">
    <a href="https://www.php.net/manual/vote-note.php?id=54893&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54893">
    <a href="https://www.php.net/manual/vote-note.php?id=54893&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54893" title="58% like this...">
    2
    </div>
  </div>
  <a href="book.dom.php.html#54893" class="name">
  <strong class="user"><em>aidan at php dot net</em></strong></a><a class="genanchor" href="book.dom.php.html#54893"> &para;</a><div class="date" title="2005-07-18 08:27"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54893">
<div class="phpcode"><code><span class="html">When dealing with validation or loading, the output errors can be quite annoying.<br /><br />PHP 5.1 introduces libxml_get_errors().<br /><br /><a href="http://php.net/libxml_get_errors" rel="nofollow" target="_blank">http://php.net/libxml_get_errors</a></span></code></div>
  </div>
 </div>
  <div class="note" id="59734">  <div class="votes">
    <div id="Vu59734">
    <a href="https://www.php.net/manual/vote-note.php?id=59734&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59734">
    <a href="https://www.php.net/manual/vote-note.php?id=59734&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59734" title="57% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#59734" class="name">
  <strong class="user"><em>johanwthijs-at-hotmail-dot-com</em></strong></a><a class="genanchor" href="book.dom.php.html#59734"> &para;</a><div class="date" title="2005-12-14 06:25"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59734">
<div class="phpcode"><code><span class="html">Being an experienced ASP developer I was wondering how to replace textual content of a node (with msxml this is simply acheived by setting the 'text' property of a node). Out of frustration I started to play around with SimpleXml but I could not get it to work in combination with xPath.<br /><br />I took me a lot of time to find out so I hope this helps others:<br /><br />function replaceNodeText($objXml, $objNode, $strNewContent){<br />    /*<br />    This function replaces a node's string content with strNewContent<br />    */<br />    $objNodeListNested = &amp;$objNode-&gt;childNodes;<br />    foreach ( $objNodeListNested as $objNodeNested ){<br />         if ($objNodeNested-&gt;nodeType == XML_TEXT_NODE)$objNode-&gt;removeChild ($objNodeNested);<br />    }<br />    <br />    $objNode-&gt;appendChild($objXml-&gt;createTextNode($strNewContent));<br />}<br /><br />$objXml= new DOMDocument();<br />$objXml-&gt;loadXML('&lt;root&gt;&lt;node id="1"&gt;bla&lt;/note&gt;&lt;/root&gt;');<br />$objXpath = new domxpath($objXml);<br /><br />$strXpath="/root/node[@id='1']";<br />$objNodeList = $objXpath -&gt;query($strXpath);<br />foreach ($objNodeList as $objNode){<br />//pass the node by reference<br />replaceNodeText($objXml, &amp;$objNode, $strImportedValue);<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="58056">  <div class="votes">
    <div id="Vu58056">
    <a href="https://www.php.net/manual/vote-note.php?id=58056&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd58056">
    <a href="https://www.php.net/manual/vote-note.php?id=58056&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V58056" title="57% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#58056" class="name">
  <strong class="user"><em>toby at tobiasly dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#58056"> &para;</a><div class="date" title="2005-10-22 11:08"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom58056">
<div class="phpcode"><code><span class="html">This module is not included by default either in the CentOS 4 "centosplus" repository. For those using PHP5 on CentOS 4, a simple "yum --enablerepo=centosplus install php-xml" will do the trick (this will install both the XML and DOM modules).</span></code></div>
  </div>
 </div>
  <div class="note" id="77627">  <div class="votes">
    <div id="Vu77627">
    <a href="https://www.php.net/manual/vote-note.php?id=77627&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77627">
    <a href="https://www.php.net/manual/vote-note.php?id=77627&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77627" title="55% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#77627" class="name">
  <strong class="user"><em>PHPdeveloper</em></strong></a><a class="genanchor" href="book.dom.php.html#77627"> &para;</a><div class="date" title="2007-09-06 02:46"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77627">
<div class="phpcode"><code><span class="html">The Yanik's dom2array() function (added on 14-Mar-2007 08:40) does not handle multiple nodes with the same name, i.e.:<br /><br />&lt;foo&gt;<br />  &lt;name&gt;aa&lt;/name&gt;<br />  &lt;name&gt;bb&lt;/name&gt;<br />&lt;/foo&gt;<br /><br />It will overwrite former and your array will contain just the last one ("bb")</span></code></div>
  </div>
 </div>
  <div class="note" id="56059">  <div class="votes">
    <div id="Vu56059">
    <a href="https://www.php.net/manual/vote-note.php?id=56059&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56059">
    <a href="https://www.php.net/manual/vote-note.php?id=56059&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56059" title="55% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#56059" class="name">
  <strong class="user"><em>amir.laherATcomplinet.com</em></strong></a><a class="genanchor" href="book.dom.php.html#56059"> &para;</a><div class="date" title="2005-08-22 05:09"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56059">
<div class="phpcode"><code><span class="html">This particular W3C page provides invaluable documentation for the DOM classes implemented in php5 (via libxml2). It fills in plenty of php.net's gaps:<br /><br /><a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html" rel="nofollow" target="_blank">http://www.w3.org/TR/DOM-Level-2-Core/core.html</a><br /><br />Some key examples:<br />* concise summary of the class heirachy (1.1.1)<br />* clarification that DOM level 2 doesn't allow for population of internal DTDs<br />* explanation of DOMNode-&gt;normalize()<br />* explanation of the DOMImplementation class<br /><br />The interfaces are described in OMG's Interface Definition Language</span></code></div>
  </div>
 </div>
  <div class="note" id="118227">  <div class="votes">
    <div id="Vu118227">
    <a href="https://www.php.net/manual/vote-note.php?id=118227&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118227">
    <a href="https://www.php.net/manual/vote-note.php?id=118227&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118227" title="52% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#118227" class="name">
  <strong class="user"><em>ohcc at 163 dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#118227"> &para;</a><div class="date" title="2015-10-29 05:31"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118227">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br />    </span><span class="comment">// this note is about how to get a DOMNode's outerHTML and innerHTML.<br />    </span><span class="default">$dom </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">,</span><span class="string">'UTF-8'</span><span class="keyword">);<br />    </span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">loadHTML</span><span class="keyword">(</span><span class="string">'&lt;html&gt;&lt;body&gt;&lt;div&gt;&lt;p&gt;p1&lt;/p&gt;&lt;p&gt;p2&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="keyword">);    <br />    </span><span class="default">$node </span><span class="keyword">= </span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">'div'</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);    <br />    </span><span class="default">$outerHTML </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">ownerDocument</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">);    <br />    </span><span class="default">$innerHTML </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    foreach (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes </span><span class="keyword">as </span><span class="default">$childNode</span><span class="keyword">){<br />        </span><span class="default">$innerHTML </span><span class="keyword">.= </span><span class="default">$childNode</span><span class="keyword">-&gt;</span><span class="default">ownerDocument</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">(</span><span class="default">$childNode</span><span class="keyword">);<br />    }<br />    echo </span><span class="string">'&lt;h2&gt;outerHTML: &lt;/h2&gt;'</span><span class="keyword">;<br />    echo </span><span class="default">htmlspecialchars</span><span class="keyword">(</span><span class="default">$outerHTML</span><span class="keyword">);<br />    echo </span><span class="string">'&lt;h2&gt;innerHTML: &lt;/h2&gt;'</span><span class="keyword">;    <br />    echo </span><span class="default">htmlspecialchars</span><span class="keyword">(</span><span class="default">$innerHTML</span><span class="keyword">);    <br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="85874">  <div class="votes">
    <div id="Vu85874">
    <a href="https://www.php.net/manual/vote-note.php?id=85874&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85874">
    <a href="https://www.php.net/manual/vote-note.php?id=85874&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85874" title="53% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#85874" class="name">
  <strong class="user"><em>miguelangelhdz  at  NOSPAM  dot  com</em></strong></a><a class="genanchor" href="book.dom.php.html#85874"> &para;</a><div class="date" title="2008-09-22 06:19"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85874">
<div class="phpcode"><code><span class="html">After searching how to extend the DOMDocument and DOMElement I found a way in the bug: <a href="http://bugs.php.net/bug.php?id=35104." rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=35104.</a> The following code shows how:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">extDOMDocument </span><span class="keyword">extends </span><span class="default">DOMDocument </span><span class="keyword">{<br /> public function </span><span class="default">createElement</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {<br />  </span><span class="default">$orphan </span><span class="keyword">= new </span><span class="default">extDOMElement</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">); </span><span class="comment">// new  sub-class object<br />  </span><span class="default">$docFragment </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">createDocumentFragment</span><span class="keyword">(); </span><span class="comment">// lightweight container maintains "ownerDocument"<br />  </span><span class="default">$docFragment</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$orphan</span><span class="keyword">); </span><span class="comment">// attach<br />  </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">$docFragment</span><span class="keyword">-&gt;</span><span class="default">removeChild</span><span class="keyword">(</span><span class="default">$orphan</span><span class="keyword">); </span><span class="comment">// remove<br />  </span><span class="keyword">return </span><span class="default">$ret</span><span class="keyword">; </span><span class="comment">// ownerDocument set; won't be destroyed on  method exit<br /> </span><span class="keyword">}<br /> </span><span class="comment">// .. more class definition<br /></span><span class="keyword">}<br /><br />class </span><span class="default">extDOMElement </span><span class="keyword">extends </span><span class="default">DOMElement </span><span class="keyword">{<br /> function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">, </span><span class="default">$namespaceURI</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">) {<br />  </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$namespaceURI</span><span class="keyword">);<br /> }<br />  </span><span class="comment">//  ... more class definition here<br /></span><span class="keyword">}<br /><br /></span><span class="default">$doc </span><span class="keyword">= new </span><span class="default">extDOMDocument</span><span class="keyword">(</span><span class="string">'test'</span><span class="keyword">);<br /></span><span class="default">$el </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="string">'tagname'</span><span class="keyword">);<br /></span><span class="default">$el</span><span class="keyword">-&gt;</span><span class="default">setAttribute</span><span class="keyword">(</span><span class="string">"attr"</span><span class="keyword">, </span><span class="string">"val"</span><span class="keyword">);<br /></span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$el</span><span class="keyword">); <br /><br /></span><span class="comment">// append discards the DOMDocumentFragment and just adds its child nodes, but ownerDocument is maintained.<br /></span><span class="keyword">echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$el</span><span class="keyword">).</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">).</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"&lt;xmp&gt;"</span><span class="keyword">.</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">saveXML</span><span class="keyword">().</span><span class="string">"&lt;/xmp&gt;"</span><span class="keyword">;<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="93717">  <div class="votes">
    <div id="Vu93717">
    <a href="https://www.php.net/manual/vote-note.php?id=93717&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93717">
    <a href="https://www.php.net/manual/vote-note.php?id=93717&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93717" title="51% like this...">
    1
    </div>
  </div>
  <a href="book.dom.php.html#93717" class="name">
  <strong class="user"><em>sweisman at pobox dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#93717"> &para;</a><div class="date" title="2009-09-24 01:19"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93717">
<div class="phpcode"><code><span class="html">I had problems with the dom2array_full function by "nospam at ya dot ru". Here's my function, which works correctly for my project, and might work for yours:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">dom_to_array</span><span class="keyword">(</span><span class="default">$root</span><span class="keyword">)<br />{<br />    </span><span class="default">$result </span><span class="keyword">= array();<br /><br />    if (</span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">hasAttributes</span><span class="keyword">())<br />    {<br />        </span><span class="default">$attrs </span><span class="keyword">= </span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">;<br /><br />        foreach (</span><span class="default">$attrs </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$attr</span><span class="keyword">)<br />            </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">] = </span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">;<br />    }<br /><br />    </span><span class="default">$children </span><span class="keyword">= </span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br /><br />    if (</span><span class="default">$children</span><span class="keyword">-&gt;</span><span class="default">length </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)<br />    {<br />        </span><span class="default">$child </span><span class="keyword">= </span><span class="default">$children</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br /><br />        if (</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">== </span><span class="default">XML_TEXT_NODE</span><span class="keyword">)<br />        {<br />            </span><span class="default">$result</span><span class="keyword">[</span><span class="string">'_value'</span><span class="keyword">] = </span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br /><br />            if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">)<br />                return </span><span class="default">$result</span><span class="keyword">[</span><span class="string">'_value'</span><span class="keyword">];<br />            else<br />                return </span><span class="default">$result</span><span class="keyword">;<br />        }<br />    }<br /><br />    </span><span class="default">$group </span><span class="keyword">= array();<br /><br />    for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$children</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />    {<br />        </span><span class="default">$child </span><span class="keyword">= </span><span class="default">$children</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br /><br />        if (!isset(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">]))<br />            </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = </span><span class="default">dom_to_array</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">);<br />        else<br />        {<br />            if (!isset(</span><span class="default">$group</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">]))<br />            {<br />                </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">];<br />                </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = array(</span><span class="default">$tmp</span><span class="keyword">);<br />                </span><span class="default">$group</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = </span><span class="default">1</span><span class="keyword">;<br />            }<br /><br />            </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">][] = </span><span class="default">dom_to_array</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">);<br />        }<br />    }<br /><br />    return </span><span class="default">$result</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="105815">  <div class="votes">
    <div id="Vu105815">
    <a href="https://www.php.net/manual/vote-note.php?id=105815&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd105815">
    <a href="https://www.php.net/manual/vote-note.php?id=105815&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V105815" title="50% like this...">
    0
    </div>
  </div>
  <a href="book.dom.php.html#105815" class="name">
  <strong class="user"><em>Drupella</em></strong></a><a class="genanchor" href="book.dom.php.html#105815"> &para;</a><div class="date" title="2011-09-16 09:18"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom105815">
<div class="phpcode"><code><span class="html">Here is a fast innerHTML function that returns the result without iterating over child nodes.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">innerHTML</span><span class="keyword">(</span><span class="default">$el</span><span class="keyword">) {<br />  </span><span class="default">$doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br />  </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">importNode</span><span class="keyword">(</span><span class="default">$el</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">));<br />  </span><span class="default">$html </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">());<br />  </span><span class="default">$tag </span><span class="keyword">= </span><span class="default">$el</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">;<br />  return </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'@^&lt;' </span><span class="keyword">. </span><span class="default">$tag </span><span class="keyword">. </span><span class="string">'[^&gt;]*&gt;|&lt;/' </span><span class="keyword">. </span><span class="default">$tag </span><span class="keyword">. </span><span class="string">'&gt;$@'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">, </span><span class="default">$html</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />Example<br /><span class="default">&lt;?php<br />$doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br /></span><span class="comment">// A corrupt HTML string<br /></span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">loadHTML</span><span class="keyword">(</span><span class="string">'&lt;HTML&gt;&lt;A HREF="ss"&gt;asd&lt;/A&gt;'</span><span class="keyword">);<br /></span><span class="default">$body </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">'body'</span><span class="keyword">)-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />print </span><span class="default">htmlspecialchars</span><span class="keyword">(</span><span class="default">innerHTML</span><span class="keyword">(</span><span class="default">$body</span><span class="keyword">));<br /></span><span class="comment">// Prints &lt;a href="ss"&gt;asd&lt;/a&gt;<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="89718">  <div class="votes">
    <div id="Vu89718">
    <a href="https://www.php.net/manual/vote-note.php?id=89718&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd89718">
    <a href="https://www.php.net/manual/vote-note.php?id=89718&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V89718" title="50% like this...">
    0
    </div>
  </div>
  <a href="book.dom.php.html#89718" class="name">
  <strong class="user"><em>Junior</em></strong></a><a class="genanchor" href="book.dom.php.html#89718"> &para;</a><div class="date" title="2009-03-20 01:26"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom89718">
<div class="phpcode"><code><span class="html">innerHTML in PHP DOM <br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">DOMinnerHTML</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">)<br />{<br />    </span><span class="default">$innerHTML </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />    </span><span class="default">$children </span><span class="keyword">= </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br />    foreach (</span><span class="default">$children </span><span class="keyword">as </span><span class="default">$child</span><span class="keyword">) <br />    {<br />        </span><span class="default">$tmp_dom </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br />        </span><span class="default">$tmp_dom</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$tmp_dom</span><span class="keyword">-&gt;</span><span class="default">importNode</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br />        </span><span class="default">$innerHTML</span><span class="keyword">.=</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$tmp_dom</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">());<br />    }<br />    return </span><span class="default">$innerHTML</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Example:<br /><br /><span class="default">&lt;?php<br />$dom</span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(); <br /></span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">load</span><span class="keyword">(</span><span class="default">$html_string</span><span class="keyword">);<br /></span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">preserveWhiteSpace </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br /><br /></span><span class="default">$domTable </span><span class="keyword">= </span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">getElementsByTagName</span><span class="keyword">(</span><span class="string">"table"</span><span class="keyword">);<br /><br />foreach (</span><span class="default">$domTable </span><span class="keyword">as </span><span class="default">$tables</span><span class="keyword">)<br />{<br />    echo </span><span class="default">DOMinnerHTML</span><span class="keyword">(</span><span class="default">$tables</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="51817">  <div class="votes">
    <div id="Vu51817">
    <a href="https://www.php.net/manual/vote-note.php?id=51817&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd51817">
    <a href="https://www.php.net/manual/vote-note.php?id=51817&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V51817" title="50% like this...">
    0
    </div>
  </div>
  <a href="book.dom.php.html#51817" class="name">
  <strong class="user"><em>spammable69 at hotmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#51817"> &para;</a><div class="date" title="2005-04-11 10:18"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom51817">
<div class="phpcode"><code><span class="html">I wrote a framework to implement the StyleSheet interfaces as specified on the W3C website.  The code is written in PHP, and is NOT a complete implementation.  Use it how ya like.  I was planning on adding the CSSStyleSheet interfaces as well.  Feel free to ask.<br /><br />&lt;?<br />    class StyleSheetList {<br />        public length;<br />        private self;<br />        <br />        function __construct ( ) {<br />            $this-&gt;self = array();<br />        }<br />        <br />        function __get($property, $&amp;ret) {<br />            if($property == 'length')<br />                $ret = count($this-&gt;self);<br />            return true;<br />        }<br />        <br />        function __set($property, $val) {<br />            if($property == 'length')<br />                return true;<br />        }<br />        <br />        function item( $index ) {<br />            return $this-&gt;self[$index];<br />        }<br />    }<br />    <br />    class MediaList extends StyleSheetList {<br />        <br />        function appendMedium ( $newMedium ) {<br />            array_push($this-&gt;self, $newMedium);<br />        }<br />        <br />        function deleteMedium ( $oldMedium ) {<br />            foreach($this-&gt;self as $item) {<br />                if( $item == $oldMedium ) {<br />                    $item = $this-&gt;self[ $this-&gt;length-1 ];<br />                    array_pop($this-&gt;self);<br />                    break;<br />                }<br />            }<br />        }<br />    }<br />    <br />    class DocumentStyle {<br />        public styleSheets;<br />        <br />        function __construct ( ) {<br />            $this-&gt;styleSheets = new StyleSheetList();<br />        }<br />        <br />        function __set($property, $val) {<br />            if($property == 'styleSheets')<br />                return true;<br />        }<br />    }<br />    <br />    class LinkStyle {<br />        public sheet;<br />        <br />        function __construct () {<br />            $this-&gt;sheet = new StyleSheet();<br />        }<br />        <br />        function __set($property, $val) {<br />            if($property == 'sheet')<br />                return true;<br />        }<br />    }<br />    <br />    class StyleSheet {<br />        public type;<br />        public disabled;<br />        public ownerNode;<br />        public parentStyleSheet;<br />        public href;<br />        public title;<br />        public media;<br />        <br />        function __construct( $type, $disabled, $ownerNode, $parentStyleSheet, $href, $title){<br />            $this-&gt;type = $type;<br />            $this-&gt;disabled = $disabled;<br />            $this-&gt;media = new MediaList();<br />            $this-&gt;ownerNode = $ownerNode;<br />            $this-&gt;parentStyleSheet = $parentStyleSheet;<br />            $this-&gt;href = $href;<br />            $this-&gt;title = $title;<br />        }<br />    }<br />?&gt;<br /><br />Only contactable via <a href="http://murpsoft.com/contact.html" rel="nofollow" target="_blank">http://murpsoft.com/contact.html</a></span></code></div>
  </div>
 </div>
  <div class="note" id="97518">  <div class="votes">
    <div id="Vu97518">
    <a href="https://www.php.net/manual/vote-note.php?id=97518&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97518">
    <a href="https://www.php.net/manual/vote-note.php?id=97518&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97518" title="46% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#97518" class="name">
  <strong class="user"><em>ben_demott at hotmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#97518"> &para;</a><div class="date" title="2010-04-23 01:36"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom97518">
<div class="phpcode"><code><span class="html">A function among several others to parse a google results page, I wrote this some time ago - google has probably changed their site since then, but I thought this might be helpful to someone.<br /><br />I'm moving servers, but I will probably throw this up on my blog when I get it back up.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">googleResult</span><span class="keyword">(</span><span class="default">$listItem</span><span class="keyword">) {<br />    </span><span class="comment">// given a LIST ITEM element, this will validate, and return an array for that LI entry as an inline result from google.<br />    /*<br />     * &lt;li class='g w0'&gt;<br />     *   &lt;h3 class='r'&gt;<br />     *     &lt;a href='the URL' class='l'&gt;<br />     *       Description &lt;em&gt;description&lt;/em&gt;<br />     *     &lt;/a&gt;<br />     *   &lt;/h3&gt;<br />     * &lt;/li&gt;<br />     *<br />       UPDATE:<br />       This function will now look for any subcontainer that has an href, it doesn't have to be an H3<br />       this will make it work with a few more formatted search results.<br />     */<br /><br />    </span><span class="default">$listItem </span><span class="keyword">= </span><span class="default">$listItem</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br />        </span><span class="comment">// Yes I don't use instanceof - I guess you'll have to deal.<br />    </span><span class="keyword">foreach(</span><span class="default">$listItem </span><span class="keyword">as </span><span class="default">$element</span><span class="keyword">) {<br />        if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">) &amp;&amp; </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">) == </span><span class="string">'DOMElement' </span><span class="keyword">&amp;&amp; </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">hasChildNodes</span><span class="keyword">()) {<br />            </span><span class="default">$hrefContainer </span><span class="keyword">= </span><span class="default">$element</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br />            foreach(</span><span class="default">$hrefContainer </span><span class="keyword">as </span><span class="default">$element2</span><span class="keyword">) {<br />                if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$element2</span><span class="keyword">) &amp;&amp; </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$element2</span><span class="keyword">) == </span><span class="string">'DOMElement' </span><span class="keyword">&amp;&amp; </span><span class="default">$element2</span><span class="keyword">-&gt;</span><span class="default">nodeName </span><span class="keyword">== </span><span class="string">'a' </span><span class="keyword">&amp;&amp; </span><span class="default">$element2</span><span class="keyword">-&gt;</span><span class="default">hasAttribute</span><span class="keyword">(</span><span class="string">'href'</span><span class="keyword">)) {<br />                    </span><span class="default">$anchor </span><span class="keyword">= </span><span class="default">$element2</span><span class="keyword">;<br />                    unset(</span><span class="default">$h3</span><span class="keyword">);<br />                    unset(</span><span class="default">$element2</span><span class="keyword">);<br />                    break;<br />                } else {<br />                  </span><span class="comment">//print __LINE__ ." :: Breaking out of loop (normal result) element is not an annchor Element='".$element2-&gt;nodeName."'\n";<br />                </span><span class="keyword">}<br />            }<br />            unset(</span><span class="default">$element</span><span class="keyword">);<br />            unset(</span><span class="default">$listItem</span><span class="keyword">);<br />            break;<br />        }<br />    }<br />    if(empty(</span><span class="default">$anchor</span><span class="keyword">) || !</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$anchor</span><span class="keyword">) || </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$anchor</span><span class="keyword">) != </span><span class="string">'DOMElement'</span><span class="keyword">) {<br />        </span><span class="comment">//print __LINE__ ." :: Returning false, did not locate anchor through iteration...";<br />        </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    </span><span class="default">$href </span><span class="keyword">= </span><span class="default">$anchor</span><span class="keyword">-&gt;</span><span class="default">getAttribute</span><span class="keyword">(</span><span class="string">'href'</span><span class="keyword">);<br />    if(empty(</span><span class="default">$href</span><span class="keyword">)) {<br />        </span><span class="comment">//print __LINE__ ." :: Found anchor object, could not read href attribute / href is empty? href='$href'\n";<br />        </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    </span><span class="default">$description </span><span class="keyword">= </span><span class="default">$anchor</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">;<br />    </span><span class="default">$urlDescription </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    foreach(</span><span class="default">$description </span><span class="keyword">as </span><span class="default">$words</span><span class="keyword">) {<br />        </span><span class="default">$name </span><span class="keyword">=  </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">);<br />        if(</span><span class="default">$name </span><span class="keyword">== </span><span class="string">'em' </span><span class="keyword">|| </span><span class="default">$name </span><span class="keyword">== </span><span class="string">'#text' </span><span class="keyword">|| </span><span class="default">$name </span><span class="keyword">== </span><span class="string">'b'</span><span class="keyword">) {<br />            if(!empty(</span><span class="default">$words</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">)) {<br />                </span><span class="default">$text </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$words</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">);<br />                </span><span class="default">$urlDescription </span><span class="keyword">= </span><span class="default">$urlDescription </span><span class="keyword">. </span><span class="default">$text </span><span class="keyword">. </span><span class="string">' '</span><span class="keyword">;<br />            }<br />        }<br />    }<br />    </span><span class="default">$urlDescription </span><span class="keyword">= </span><span class="default">htmlspecialchars_decode</span><span class="keyword">(</span><span class="default">$urlDescription</span><span class="keyword">, </span><span class="default">ENT_QUOTES</span><span class="keyword">);<br />    </span><span class="default">$urlDescription </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$urlDescription</span><span class="keyword">);<br />    return array(</span><span class="string">'description' </span><span class="keyword">=&gt; </span><span class="default">$urlDescription</span><span class="keyword">, </span><span class="string">'href' </span><span class="keyword">=&gt; </span><span class="default">$href</span><span class="keyword">);<br />}</span></span></code></div>
  </div>
 </div>
  <div class="note" id="92571">  <div class="votes">
    <div id="Vu92571">
    <a href="https://www.php.net/manual/vote-note.php?id=92571&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92571">
    <a href="https://www.php.net/manual/vote-note.php?id=92571&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92571" title="46% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#92571" class="name">
  <strong class="user"><em>philipwaynerollins at gmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#92571"> &para;</a><div class="date" title="2009-07-29 02:06"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92571">
<div class="phpcode"><code><span class="html">You can get the "innerHTML" by nodeValue so<br /><br /><span class="default">&lt;?php<br />    $doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( );<br />    </span><span class="default">$ele </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'p'</span><span class="keyword">, </span><span class="string">'Sensei Ninja' </span><span class="keyword">);<br />    print </span><span class="default">$ele</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />You can even set it if you want<br /><br /><span class="default">&lt;?php<br />    $doc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">( );<br />    </span><span class="default">$ele </span><span class="keyword">= </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">( </span><span class="string">'p' </span><span class="keyword">);<br />    </span><span class="default">$ele</span><span class="keyword">-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="string">'Sensei Ninja'</span><span class="keyword">;<br />    </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">( </span><span class="default">$ele </span><span class="keyword">);<br />    print </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">saveHTML</span><span class="keyword">( );<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="68967">  <div class="votes">
    <div id="Vu68967">
    <a href="https://www.php.net/manual/vote-note.php?id=68967&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68967">
    <a href="https://www.php.net/manual/vote-note.php?id=68967&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68967" title="46% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#68967" class="name">
  <strong class="user"><em>sean at lookin3d dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#68967"> &para;</a><div class="date" title="2006-08-17 10:21"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom68967">
<div class="phpcode"><code><span class="html">$xmlDoc=&lt;&lt;&lt;XML<br />&lt;?xml version="1.0"?&gt;<br />&lt;methodCall&gt;<br />   &lt;methodName&gt;examples.getStateName&lt;/methodName&gt;<br />   &lt;params&gt;<br />      &lt;param&gt;<br />         &lt;value&gt;&lt;i4&gt;41&lt;/i4&gt;&lt;/value&gt;<br />         &lt;/param&gt;<br />      &lt;/params&gt;<br />   &lt;/methodCall&gt;<br />XML;<br /><br />$xml= new DOMDocument();<br />$xml-&gt;preserveWhiteSpace=false;<br />$xml-&gt;loadXML($xmlDoc);<br />print_r(xml2array($xml));<br /><br />function xml2array($n)<br />{<br />    $return=array();<br />    foreach($n-&gt;childNodes as $nc)<br />    ($nc-&gt;hasChildNodes())<br />    ?($n-&gt;firstChild-&gt;nodeName== $n-&gt;lastChild-&gt;nodeName&amp;&amp;$n-&gt;childNodes-&gt;length&gt;1)<br />    ?$return[$nc-&gt;nodeName][]=xml2array($item)<br />    :$return[$nc-&gt;nodeName]=xml2array($nc)<br />    :$return=$nc-&gt;nodeValue;<br />    return $return;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="87471">  <div class="votes">
    <div id="Vu87471">
    <a href="https://www.php.net/manual/vote-note.php?id=87471&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87471">
    <a href="https://www.php.net/manual/vote-note.php?id=87471&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87471" title="45% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#87471" class="name">
  <strong class="user"><em>fantasyman3000 at gmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#87471"> &para;</a><div class="date" title="2008-12-06 05:37"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87471">
<div class="phpcode"><code><span class="html">In response to "simlee at indiana dot edu",<br />- First of all thanks for sharing your funciton.<br />- It didn't work for me so i rewrite it from scratch using different method.<br /><br />Here is the new version, hope it helps someone : <br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br />* result sample : /html[1]/body[1]/span[1]/fieldset[1]/div[1]<br />* @return string<br />*/<br /></span><span class="keyword">function </span><span class="default">getNodeXPath</span><span class="keyword">( </span><span class="default">$node </span><span class="keyword">) {    <br />    </span><span class="default">$result</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />    while (</span><span class="default">$parentNode </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">parentNode</span><span class="keyword">) {<br />        </span><span class="default">$nodeIndex</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">;<br />        </span><span class="default">$nodeTagIndex</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />        do {<br />            </span><span class="default">$nodeIndex</span><span class="keyword">++;<br />            </span><span class="default">$testNode </span><span class="keyword">= </span><span class="default">$parentNode</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">( </span><span class="default">$nodeIndex </span><span class="keyword">);<br />                <br />            if (</span><span class="default">$testNode</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">==</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">nodeName </span><span class="keyword">and </span><span class="default">$testNode</span><span class="keyword">-&gt;</span><span class="default">parentNode</span><span class="keyword">-&gt;</span><span class="default">isSameNode</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">parentNode</span><span class="keyword">) and </span><span class="default">$testNode</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">) {<br />                </span><span class="comment">//echo "{$testNode-&gt;parentNode-&gt;nodeName}-{$testNode-&gt;nodeName}-{}&lt;br/&gt;";<br />                </span><span class="default">$nodeTagIndex</span><span class="keyword">++;<br />            }<br />                <br />        } while (!</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">isSameNode</span><span class="keyword">(</span><span class="default">$testNode</span><span class="keyword">));<br /><br />        </span><span class="default">$result</span><span class="keyword">=</span><span class="string">"/</span><span class="keyword">{</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">}</span><span class="string">[</span><span class="keyword">{</span><span class="default">$nodeTagIndex</span><span class="keyword">}</span><span class="string">]"</span><span class="keyword">.</span><span class="default">$result</span><span class="keyword">;<br />        </span><span class="default">$node</span><span class="keyword">=</span><span class="default">$parentNode</span><span class="keyword">;<br />    };<br />    return </span><span class="default">$result</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />By Sina.Salek.ws</span></code></div>
  </div>
 </div>
  <div class="note" id="93637">  <div class="votes">
    <div id="Vu93637">
    <a href="https://www.php.net/manual/vote-note.php?id=93637&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93637">
    <a href="https://www.php.net/manual/vote-note.php?id=93637&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93637" title="44% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#93637" class="name">
  <strong class="user"><em>odessa131 at aol dot nospam dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#93637"> &para;</a><div class="date" title="2009-09-20 06:49"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93637">
<div class="phpcode"><code><span class="html">I had the hardest time updating a complex XML document. Here's a quick example on how to do it.<br /><br /><span class="default">&lt;?php <br /><br /></span><span class="comment">// Load the XML from a file.<br /></span><span class="default">$xml </span><span class="keyword">= </span><span class="string">"a2062.xml"</span><span class="keyword">; </span><span class="comment">// This is an XFDL form previously unencoded and ungzipped.<br /></span><span class="default">$dom </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">();<br /></span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">preserveWhiteSpace </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br /></span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">Load</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">);<br /><br /></span><span class="comment">// Create an XPath query.<br />// Note: you must define the namespace if the XML document has defined namespaces.<br /></span><span class="default">$xpath </span><span class="keyword">= new </span><span class="default">DOMXPath</span><span class="keyword">(</span><span class="default">$dom</span><span class="keyword">);<br /></span><span class="default">$xpath</span><span class="keyword">-&gt;</span><span class="default">registerNamespace</span><span class="keyword">(</span><span class="string">'xfdl'</span><span class="keyword">, </span><span class="string">"<a href="http://www.PureEdge.com/XFDL/6.5" rel="nofollow" target="_blank">http://www.PureEdge.com/XFDL/6.5</a>"</span><span class="keyword">);<br /><br /></span><span class="comment">// Locate the value for the first Item Description field.<br /></span><span class="default">$query </span><span class="keyword">= </span><span class="string">"//xfdl:page/xfdl:field[@sid='ITEMDESA']/xfdl:value"</span><span class="keyword">;<br /></span><span class="default">$nodeList </span><span class="keyword">= </span><span class="default">$xpath</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">);<br /><br /></span><span class="default">$nodeList</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">)-&gt;</span><span class="default">nodeValue </span><span class="keyword">= </span><span class="string">"This is the text in the value node of the first Item Description field inside the DA 2062 PureEdge form."</span><span class="keyword">;<br /><br /></span><span class="default">$dom</span><span class="keyword">-&gt;</span><span class="default">save</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />I hope this helps someone.</span></code></div>
  </div>
 </div>
  <div class="note" id="88025">  <div class="votes">
    <div id="Vu88025">
    <a href="https://www.php.net/manual/vote-note.php?id=88025&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88025">
    <a href="https://www.php.net/manual/vote-note.php?id=88025&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88025" title="44% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#88025" class="name">
  <strong class="user"><em>nospam at ya dot ru</em></strong></a><a class="genanchor" href="book.dom.php.html#88025"> &para;</a><div class="date" title="2009-01-06 10:18"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom88025">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?PHP<br /></span><span class="keyword">function </span><span class="default">dom2array_full</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">){ <br />    </span><span class="default">$result </span><span class="keyword">= array(); <br />    if(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">== </span><span class="default">XML_TEXT_NODE</span><span class="keyword">) { <br />        </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">; <br />    } <br />    else { <br />        if(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">hasAttributes</span><span class="keyword">()) { <br />            </span><span class="default">$attributes </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">; <br />            if(!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$attributes</span><span class="keyword">))  <br />                foreach (</span><span class="default">$attributes </span><span class="keyword">as </span><span class="default">$index</span><span class="keyword">=&gt;</span><span class="default">$attr</span><span class="keyword">)  <br />                    </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">] = </span><span class="default">$attr</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">; <br />        } <br />        if(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">hasChildNodes</span><span class="keyword">()){ <br />            </span><span class="default">$children </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">childNodes</span><span class="keyword">; <br />            for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$children</span><span class="keyword">-&gt;</span><span class="default">length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) { <br />                </span><span class="default">$child </span><span class="keyword">= </span><span class="default">$children</span><span class="keyword">-&gt;</span><span class="default">item</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">); <br />                if(</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName </span><span class="keyword">!= </span><span class="string">'#text'</span><span class="keyword">) <br />                if(!isset(</span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">])) <br />                    </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = </span><span class="default">dom2array</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">); <br />                else { <br />                    </span><span class="default">$aux </span><span class="keyword">= </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">]; <br />                    </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">] = array( </span><span class="default">$aux </span><span class="keyword">); <br />                    </span><span class="default">$result</span><span class="keyword">[</span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">][] = </span><span class="default">dom2array</span><span class="keyword">(</span><span class="default">$child</span><span class="keyword">); <br />                } <br />            } <br />        } <br />    } <br />    return </span><span class="default">$result</span><span class="keyword">; <br />} <br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="73365">  <div class="votes">
    <div id="Vu73365">
    <a href="https://www.php.net/manual/vote-note.php?id=73365&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73365">
    <a href="https://www.php.net/manual/vote-note.php?id=73365&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73365" title="44% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#73365" class="name">
  <strong class="user"><em>brian dot reynolds at risaris dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#73365"> &para;</a><div class="date" title="2007-02-20 01:09"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73365">
<div class="phpcode"><code><span class="html">I found the xml2array function below very useful, but there seems to be a bug in it. The $item variable was never getting set. I've expanded this out to be a bit more readable, and the corrected code is : <br /><br />function xmlToArray($n)<br />{<br />    $return=array();<br /><br />    foreach($n-&gt;childNodes as $nc){<br />        if( $nc-&gt;hasChildNodes() ){<br />            if( $n-&gt;firstChild-&gt;nodeName== $n-&gt;lastChild-&gt;nodeName&amp;&amp;$n-&gt;childNodes-&gt;length&gt;1){<br />                $item = $n-&gt;firstChild;<br />                $return[$nc-&gt;nodeName][]=$this-&gt;xmlToArray($item);<br />            }<br />            else{<br />                 $return[$nc-&gt;nodeName]=$this-&gt;xmlToArray($nc);<br />            }<br />       }<br />       else{<br />           $return=$nc-&gt;nodeValue;<br />       } <br />    }<br />    return $return;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="81360">  <div class="votes">
    <div id="Vu81360">
    <a href="https://www.php.net/manual/vote-note.php?id=81360&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81360">
    <a href="https://www.php.net/manual/vote-note.php?id=81360&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81360" title="42% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#81360" class="name">
  <strong class="user"><em>danf dot 1979 at []gmail[] dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#81360"> &para;</a><div class="date" title="2008-02-24 07:47"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom81360">
<div class="phpcode"><code><span class="html">This is a couple of classes to deal with yahoo yui menu.<br /><br />/*<br />  $menubar = new MenuBar();<br /><br />  $file = new Menu("File");<br />  $file-&gt;setAttribute("href", "<a href="http://file.com" rel="nofollow" target="_blank">http://file.com</a>");<br /><br />  $quit = new Menu("Quit");<br />  $quit-&gt;setAttribute("href", "<a href="http://quit.com" rel="nofollow" target="_blank">http://quit.com</a>");<br /><br />  $file-&gt;appendChild($quit);<br />  $menubar-&gt;appendChild($file);<br /><br />  echo $menubar-&gt;grab();<br />*/<br /><br />//<br />// Author: Daniel Queirolo.<br />// LGPL<br />//<br /><br />/** ---------------------------------<br />/**  Class MenuBar()<br />/**  Creates a the menubar and appends<br />/**  yuimenubaritems to it.<br />/** ---------------------------------*/<br /><br />class MenuBar extends DOMDocument<br />{<br /><br />  public $menuID = "nav_menu";  // holds the css id that javascript yui menu code should have to recognize<br />  private $UL;                  // This node holds every menu, This is THE node.<br /><br />  /** ---------------------------------<br />  /**  Constructor<br />  /**  Generates a menubar skeleton and the UL node<br />  /** ---------------------------------*/<br /><br />  public function __construct() {<br /><br />    parent::__construct();<br /><br />    $rootdiv = parent::createElement("div");<br />    $rootdiv-&gt;setAttribute("class", "yui-skin-sam");<br /><br />    parent::appendChild($rootdiv);<br /><br />    $yui_menubar = parent::createElement("div");<br />    $yui_menubar-&gt;setAttribute("id", $this-&gt;menuID);<br />    $yui_menubar-&gt;setAttribute("class", "yuimenubar");<br /><br />    $rootdiv-&gt;appendChild($yui_menubar);<br /><br />    $bd = parent::createElement("div");<br />    $bd-&gt;setAttribute("class", "bd");<br /><br />    $yui_menubar-&gt;appendChild($bd);<br /><br />    $ul = parent::createElement("ul");<br />    $ul-&gt;setAttribute("class", "first-of-type");<br /><br />    // ALL Menu() instances ocurr inside an &lt;ul&gt; tag.<br /><br />    $this-&gt;UL = $bd-&gt;appendChild($ul);<br /><br />  }<br /><br />  /** ---------------------------------<br />  /**  appendChild()<br />  /**  Appends a new yuimenubaritem to the menubar UL node.<br />  /**  This function changes &lt;li&gt; and &lt;a&gt; classes to yuiMENUBARsomething<br />  /** ---------------------------------*/<br /><br />  public function appendChild($child) {<br /><br />    $li = parent::importNode($child-&gt;LI, true);<br /><br />    $li-&gt;setAttribute("class", "yuimenubaritem");<br /><br />    $li-&gt;getElementsByTagName("a")-&gt;item(0)-&gt;setAttribute("class", "yuimenubaritemlabel");<br /><br />    $this-&gt;UL-&gt;appendChild($li);<br /><br />  }<br /><br />  public function grab() {<br /><br />    return parent::saveHTML();<br /><br />  }<br /><br />}<br /><br />/** ---------------------------------<br />/**  Class Menu()<br />/**  Creates a yuimenuitem li node<br />/** ---------------------------------*/<br /><br />class Menu extends DOMDocument {<br /><br />  public $LI; // stores the &lt;li&gt; node (THE link) that will be exported to MenuBar() or used on appendChild()<br /><br />  /** ---------------------------------<br />  /**  Constructor<br />  /**  Generates a yuimenuitem li node<br />  /**  No yuimenubar items are created here. MenuBar handles that.<br />  /** ---------------------------------*/<br /><br />  public function __construct($link_name) {<br /><br />    parent::__construct();<br /><br />    $li = parent::createElement("li");<br />    $li-&gt;setAttribute("class", "yuimenuitem");<br /><br />    // LI node stores THE link.<br />    // if appendChild is used, the new (sub) Menu() would be LI node child.<br /><br />    $this-&gt;LI = parent::appendChild($li);<br /><br />    $a = parent::createElement("a", $link_name);<br />    $a-&gt;setAttribute("class", "yuimenuitemlabel");<br /><br />    $li-&gt;appendChild($a);<br /><br />    $this-&gt;li = $li;<br />    $this-&gt;a = $a;<br /><br />  }<br /><br />  /** ---------------------------------<br />  /**  appendChild<br />  /**  Appends a (sub) Menu() to current Menu() in LI<br />  /** ---------------------------------*/<br /><br />  public function appendChild($child) {<br /><br />    $yuimenu = parent::createElement("div");<br />    $yuimenu-&gt;setAttribute("class", "yuimenu");<br /><br />    $this-&gt;LI-&gt;appendChild($yuimenu);<br /><br />    $bd = parent::createElement("div");<br />    $bd-&gt;setAttribute("class", "bd");<br /><br />    $yuimenu-&gt;appendChild($bd);<br /><br />    $ul = parent::createElement("ul");<br /><br />    $bd-&gt;appendChild($ul);<br /><br />    // child-&gt;NODE holds THE link from the new child (from child's __construct())<br /><br />    $ul-&gt;appendChild(parent::importNode($child-&gt;LI, true));<br /><br />  }<br /><br />  public function setAttribute($name, $value, $node="a") {<br /><br />      if ($node == "a") {<br />        $this-&gt;a-&gt;setAttribute($name, $value);<br />      }<br /><br />      else {<br />        $this-&gt;li-&gt;setAttribute($name, $value);<br />      }<br />  }<br /><br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="75553">  <div class="votes">
    <div id="Vu75553">
    <a href="https://www.php.net/manual/vote-note.php?id=75553&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75553">
    <a href="https://www.php.net/manual/vote-note.php?id=75553&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75553" title="42% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#75553" class="name">
  <strong class="user"><em>Sanados at failure dot at</em></strong></a><a class="genanchor" href="book.dom.php.html#75553"> &para;</a><div class="date" title="2007-06-05 02:45"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom75553">
<div class="phpcode"><code><span class="html">appended to <br />brian dot reynolds at risaris dot com<br />20-Feb-2007 10:09<br /><br />when you got variable nodes at start you array fails and looses nodes  beneath.<br />solution that counts occurance though eats up performance:<br /><br />function xmlToArray($n)<br />{<br />    $xml_array = array();<br />    $occurance = array();<br /><br />     foreach($n-&gt;childNodes as $nc)<br />     {<br />         $occurance[$nc-&gt;nodeName]++;<br />     }<br />     <br />    foreach($n-&gt;childNodes as $nc){<br />        if( $nc-&gt;hasChildNodes() )<br />        {<br />            if($occurance[$nc-&gt;nodeName] &gt; 1)<br />            {<br />                $xml_array[$nc-&gt;nodeName][] = xmlToArray($nc);<br />            }<br />            else<br />            {<br />                $xml_array[$nc-&gt;nodeName] = xmlToArray($nc);<br />            }<br />        }<br />        else<br />        {<br />            return utf8_decode($nc-&gt;nodeValue);<br />        }<br />    }<br />    return $xml_array;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="73793">  <div class="votes">
    <div id="Vu73793">
    <a href="https://www.php.net/manual/vote-note.php?id=73793&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73793">
    <a href="https://www.php.net/manual/vote-note.php?id=73793&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73793" title="40% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#73793" class="name">
  <strong class="user"><em>Nevyn at N dot O dot S dot P dot A dot M dot emai dot it</em></strong></a><a class="genanchor" href="book.dom.php.html#73793"> &para;</a><div class="date" title="2007-03-10 07:35"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73793">
<div class="phpcode"><code><span class="html">I wrote a couple of functions to:<br /> - create a DOMDocument from a file<br /> - parse the namespaces in it<br /> - create a XPath object with all the namespaces registered<br /> - load the schemalocations<br /> - validate the file on the main schema (the one without prefix)<br /><br />It is useful for me, see if it is also for someone else!!<br /><br />Giulio<br /><br />function decodeNode($node)<br />{<br />    $out = $node-&gt;ownerDocument-&gt;saveXML($node);<br />    $re = "{^&lt;((?:\\w*:)?\\w*)". //the tag name<br />    "[\\s\n\r]*((?:[\\s\n\r]*". <br />    "(?:\\w*:)?\\w+[\\s\n\r]*=[\\s\n\r]*". //possible attribute name<br />    "(?:\"[^\"]*\"|\'[^\']*\'))*)". //attribute value<br />    "[\\s\n\r]*&gt;[\r\n]*".<br />    "((?:.*[\r\n]*)*)". //content<br />    "[\r\n]*&lt;/\\1&gt;$}"; //closing tag<br />    preg_match($re, $out, $mat);<br />    return $mat;<br />}<br /><br />function innerXml($node)<br />{<br />    $mat = decodeNode($node);<br />    return $mat[3];<br />}<br /><br />function getnodeAttributes($node)<br />{<br />    $mat = decodeNode($node);<br />    $txt = $mat[2];<br />    $re = "{((?:\\w*:)?\\w+)[\\s\n\r]*=[\\s\n\r]*(\"[^\"]*\"|\'[^\']*\')}";<br />    preg_match_all($re, $txt, $mat);<br />    $att = array();<br />    for ($i=0; $i&lt;count($mat[0]); $i++)<br />    {<br />        $value = $mat[2][$i];<br />        if ($value[0] == "\'" || $value[0] == "\"")<br />        {<br />            $len = strlen($value);<br />            $value = substr($value, 1, strlen($value)-2);<br />        }<br />        $att[ $mat[1][$i] ] = $value;<br />    }<br />    return $att;<br />}<br /><br />function loadXml($file)<br />{<br />    $doc = new DOMDocument();<br />    $doc-&gt;load($file);<br />    //cerca l'attributo xmlns<br />    $xsi = false;<br />    $doc-&gt;namespaces = array();<br />    $doc-&gt;xpath = new DOMXPath($doc);<br />    <br />    $attr = getnodeAttributes($doc-&gt;documentElement);<br />    foreach ($attr as $name =&gt; $value)<br />    {<br />        if (substr($name,0,5) == "xmlns")<br />        {<br />            $uri = $value;<br />            $pre = $doc-&gt;documentElement-&gt;lookupPrefix($uri);<br />            if ($uri == "<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>")<br />                $xsi = $pre;<br />            $doc-&gt;namespaces[$pre] = $uri;<br />            if ($pre == "")<br />                $pre = "noname";<br />            $doc-&gt;xpath-&gt;registerNamespace($pre, $uri);<br />        }<br />    }<br />    <br />    if ($xsi)<br />    {<br />        $doc-&gt;schemaLocations = array();<br />        $lst = $doc-&gt;xpath-&gt;query("//@$xsi:schemaLocation");<br />        foreach($lst as $el)<br />        {<br />            $re = "{[\\s\n\r]*([^\\s\n\r]+)[\\s\n\r]*([^\\s\n\r]+)}";<br />            preg_match_all($re, $el-&gt;nodeValue, $mat);<br />            for ($i=0; $i&lt;count($mat[0]); $i++)<br />            {<br />                $value = $mat[2][$i];<br />                $doc-&gt;schemaLocations[ $mat[1][$i] ] = $value;<br />            }<br />        }<br /><br />        $olddir = getcwd();<br />        chdir(dirname($file));<br />        $schema = $doc-&gt;schemaLocations[$doc-&gt;namespaces[""]];<br />        if (substr($schema,0,7) == "file://")<br />        {<br />            $schema = substr($value,7);<br />        }<br />        if (!$doc-&gt;schemaValidate($schema))<br />            dbg()-&gt;err("Invalid file");<br />        chdir($olddir);<br />    }<br />    <br />    return $doc;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="58856">  <div class="votes">
    <div id="Vu58856">
    <a href="https://www.php.net/manual/vote-note.php?id=58856&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd58856">
    <a href="https://www.php.net/manual/vote-note.php?id=58856&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V58856" title="40% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#58856" class="name">
  <strong class="user"><em>mark at vectrex dot org dot uk</em></strong></a><a class="genanchor" href="book.dom.php.html#58856"> &para;</a><div class="date" title="2005-11-17 02:10"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom58856">
<div class="phpcode"><code><span class="html">Note that these DOM functions expect (and presumably return) all their data in UTF-8 character encoding, regardless of what PHP's current encoding is. This means that text nodes, attribute values etc, should be in utf8.<br /><br />This applies even if you're generating an XML document which is not ultimately in utf8.<br /><br />Mark</span></code></div>
  </div>
 </div>
  <div class="note" id="54777">  <div class="votes">
    <div id="Vu54777">
    <a href="https://www.php.net/manual/vote-note.php?id=54777&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54777">
    <a href="https://www.php.net/manual/vote-note.php?id=54777&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54777" title="40% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#54777" class="name">
  <strong class="user"><em>php at webdevelopers dot cz</em></strong></a><a class="genanchor" href="book.dom.php.html#54777"> &para;</a><div class="date" title="2005-07-14 12:05"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54777">
<div class="phpcode"><code><span class="html">[Editor's Note: If you're using entities, then you have no choice. XML Catalogs can speed DTD resolution.]<br /><br />Never use <br /><br />$dom-&gt;resolveExternals=true;<br /><br />when parsing XHTML document that has the DOCTYPE declaration with DTD URL specified in it.<br /><br />Otherwise parsing the XHTML with DOCTYPE like this one:<br /><br />&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "<a href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</a>"&gt;<br /><br />will result in PHP/DOM downloading the DTD file from W3C site when parsing your document. It will add extra delay to your script - I experienced that $dom-&gt;load()'s total time was from 1 to 16 seconds.<br /><br />elixon</span></code></div>
  </div>
 </div>
  <div class="note" id="122913">  <div class="votes">
    <div id="Vu122913">
    <a href="https://www.php.net/manual/vote-note.php?id=122913&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122913">
    <a href="https://www.php.net/manual/vote-note.php?id=122913&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122913" title="33% like this...">
    -1
    </div>
  </div>
  <a href="book.dom.php.html#122913" class="name">
  <strong class="user"><em>chealer at gmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#122913"> &para;</a><div class="date" title="2018-07-05 05:12"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122913">
<div class="phpcode"><code><span class="html">This extension allows editing an HTML snippet, for example removing an element:<br />‌‌$dom = new DOMDocument();<br />‌‌$dom-&gt;loadHTML('keep&lt;b id="simple"&gt;REMOVE&lt;/b&gt;');<br />$‌‌remove = $dom-&gt;getElementById('simple');<br />‌‌$dom-&gt;removeChild($‌‌remove);<br />echo ‌‌$dom-&gt;saveHTML();<br />...would output "keep".<br /><br />But it does not preserve formatting. If your code defines attributes using double quotes, saveHTML() may for instance return single quotes instead.</span></code></div>
  </div>
 </div>
  <div class="note" id="80200">  <div class="votes">
    <div id="Vu80200">
    <a href="https://www.php.net/manual/vote-note.php?id=80200&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80200">
    <a href="https://www.php.net/manual/vote-note.php?id=80200&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80200" title="36% like this...">
    -3
    </div>
  </div>
  <a href="book.dom.php.html#80200" class="name">
  <strong class="user"><em>naudyj at aus3d.com</em></strong></a><a class="genanchor" href="book.dom.php.html#80200"> &para;</a><div class="date" title="2008-01-03 05:06"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80200">
<div class="phpcode"><code><span class="html">The following can take a XML_TEXT_NODE node and return the contents in an array. Yanick's contribution rocks - but<br />it overwrote with duplicates only keeping the last line<br />in the returned array. All the other functions i tested from various sources failed to handle text nodes correctly. Hope this helps someone. It is adapted from code on this site.<br /><br />function myTextNode($n, &amp;$a)<br />{<br /> static $depth = 0;<br /> static $sz = '';<br /><br /> if ($cn = $n-&gt;firstChild) <br /> {<br />  while ($cn)<br />  {<br />   if ($cn-&gt;nodeType == XML_TEXT_NODE) <br />   {<br />    $sz .= $cn-&gt;nodeValue;<br />   } <br />   elseif ($cn-&gt;nodeType == XML_ELEMENT_NODE) <br />   {<br />    $b = 1;<br />    if ($cn-&gt;hasChildNodes()) <br />    {<br />     $depth++;<br />     if ($this-&gt;myHeadings($cn, $a)) <br />     {<br />      if ($sz){<br />       array_push($a, $sz);<br />       $sz = '';<br />      }<br />     }<br />     $depth--;<br />    }<br />   }<br />   $cn = $cn-&gt;nextSibling;<br />  }<br />  return $b;<br /> }<br />} <br /><br />so you could use:   <br /><br />$nodes = $dom-&gt;getElementsByTagName("td"); <br />if($nodes){<br /> foreach ($nodes as $node){<br />  $a = Array();<br />  myTextNode($node, $a);<br /> }<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="80724">  <div class="votes">
    <div id="Vu80724">
    <a href="https://www.php.net/manual/vote-note.php?id=80724&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80724">
    <a href="https://www.php.net/manual/vote-note.php?id=80724&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80724" title="33% like this...">
    -2
    </div>
  </div>
  <a href="book.dom.php.html#80724" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="book.dom.php.html#80724"> &para;</a><div class="date" title="2008-01-29 11:37"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80724">
<div class="phpcode"><code><span class="html">In response to...<br />"If you create your own custom element extending DOMElement and append him in place of the document element, you cannot access to any new members newly defined in your custom class via DOMDocument::$documentElement."<br /><br />... it is not a bug, it is a feature. The DOMDocument::$documentElement property name may be misleading but according to the DOM Level 2 Core specification it is a convenience attribute meant to access the root element of your DOMDocument. See here: <a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#i-Document" rel="nofollow" target="_blank">http://www.w3.org/TR/DOM-Level-2-Core/core.html#i-Document</a></span></code></div>
  </div>
 </div>
  <div class="note" id="80613">  <div class="votes">
    <div id="Vu80613">
    <a href="https://www.php.net/manual/vote-note.php?id=80613&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80613">
    <a href="https://www.php.net/manual/vote-note.php?id=80613&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80613" title="33% like this...">
    -2
    </div>
  </div>
  <a href="book.dom.php.html#80613" class="name">
  <strong class="user"><em>ryoroxdahouse at hotmail dot com</em></strong></a><a class="genanchor" href="book.dom.php.html#80613"> &para;</a><div class="date" title="2008-01-25 12:14"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80613">
<div class="phpcode"><code><span class="html">I use DOM to generate dynamically XHTML document.<br /><br />When trying to extend the DOMDocument and DOMElement classes, I found a very annoying bug concerning DOMDocument::$documentElement.<br /><br />If you create your own custom element extending DOMElement and append him in place of the document element, you cannot access to any new members newly defined in your custom class via DOMDocument::$documentElement.<br /><br />In my situation, I cannot use DOMDocument::registerNodeClass() because the document element is not necessarily the base class for all the elements in my document.<br /><br />*******<br />problem<br />*******<br /><br />See bellow for the repro step:<br /><br /><span class="default">&lt;?php<br />    </span><span class="keyword">class </span><span class="default">MyElement </span><span class="keyword">extends </span><span class="default">DOMElement</span><span class="keyword">{<br />        public </span><span class="default">$myProp</span><span class="keyword">=</span><span class="string">"myProp"</span><span class="keyword">;<br />        public function </span><span class="default">myMethod</span><span class="keyword">(){<br />            return </span><span class="string">'myMethod()'</span><span class="keyword">;<br />        }<br />    }<br />    <br />    </span><span class="default">$myDocument</span><span class="keyword">=new </span><span class="default">DOMDocument</span><span class="keyword">();<br />    </span><span class="default">$myDocument</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(new </span><span class="default">MyElement</span><span class="keyword">(</span><span class="string">'myElement'</span><span class="keyword">,</span><span class="string">'myElement'</span><span class="keyword">));<br />    echo (</span><span class="string">'$myElement-&gt;myProp :'</span><span class="keyword">.</span><span class="default">$myDocument</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">myProp</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">);<br />    echo (</span><span class="string">'$myElement-&gt;myMethod :'</span><span class="keyword">.</span><span class="default">$myDocument</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">myMethod</span><span class="keyword">().</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />will output:<br /><br />Notice: Undefined property: DOMElement::$myProp in C:\Program Files\EasyPHP 2.0b1\www\testDOMBug\test2.php on line 11<br />$myElement-&gt;myProp :<br /><br />Fatal error: Call to undefined method DOMElement::myMethod() in C:\Program Files\EasyPHP 2.0b1\www\testDOMBug\test2.php on line 12<br /><br />*******<br />solution<br />*******<br /><br />After searching around, I found a pretty odd way to fix this problem. It seems that you have to stock a reference to your appended document element in an user-defined (and persistent) variable (in other words, not only in DOMDocument::$documentElement). See below:<br /><br /><span class="default">&lt;?php    <br />    </span><span class="keyword">class </span><span class="default">MyElement </span><span class="keyword">extends </span><span class="default">DOMElement</span><span class="keyword">{<br />        public </span><span class="default">$myProp</span><span class="keyword">=</span><span class="string">"myProp"</span><span class="keyword">;<br />        public function </span><span class="default">myMethod</span><span class="keyword">(){<br />            return </span><span class="string">'myMethod()'</span><span class="keyword">;<br />        }<br />    }<br />    <br />    </span><span class="default">$myDocument</span><span class="keyword">=new </span><span class="default">DOMDocument</span><span class="keyword">();<br />    </span><span class="default">$mydocumentElement</span><span class="keyword">=</span><span class="default">$myDocument</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(new </span><span class="default">MyElement</span><span class="keyword">(</span><span class="string">'myElement'</span><span class="keyword">,</span><span class="string">'myElement'</span><span class="keyword">)); </span><span class="comment">//here is the hack<br />    </span><span class="keyword">echo (</span><span class="string">'$myElement-&gt;myProp :'</span><span class="keyword">.</span><span class="default">$myDocument</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">myProp</span><span class="keyword">.</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">);<br />    echo (</span><span class="string">'$myElement-&gt;myMethod :'</span><span class="keyword">.</span><span class="default">$myDocument</span><span class="keyword">-&gt;</span><span class="default">documentElement</span><span class="keyword">-&gt;</span><span class="default">myMethod</span><span class="keyword">().</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />will output:<br /><br />$myElement-&gt;myProp :myProp<br />$myElement-&gt;myMethod :myMethod()<br /><br />Hope it will help.</span></code></div>
  </div>
 </div>
  <div class="note" id="76838">  <div class="votes">
    <div id="Vu76838">
    <a href="https://www.php.net/manual/vote-note.php?id=76838&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76838">
    <a href="https://www.php.net/manual/vote-note.php?id=76838&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76838" title="33% like this...">
    -3
    </div>
  </div>
  <a href="book.dom.php.html#76838" class="name">
  <strong class="user"><em>Francois  Hill</em></strong></a><a class="genanchor" href="book.dom.php.html#76838"> &para;</a><div class="date" title="2007-08-01 11:21"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom76838">
<div class="phpcode"><code><span class="html">In response to lutfi at smartconsultant dot us :<br /><br />(see my post on<br /><a href="http://fr2.php.net/manual/en/" rel="nofollow" target="_blank">http://fr2.php.net/manual/en/</a><br />function.dom-domdocument-getelementsbytagname.php<br />)<br /><br />Use this class I wrote:<br /><br />class XPathableNode extends DOMNode<br />{<br />    protected $Node;<br />    protected $DOMDocument_from_node;<br />    protected $DOMXpath_for_node;<br /><br />    public function __construct(/* DOMNode */ $node)<br />    {<br />        $this-&gt;Node=$node;<br />        $this-&gt;DOMDocument_from_node=new <br />                                                          DomDocument();<br />        $domNode=$this-&gt;DOMDocument_from_node<br />                                  -&gt;importNode($this-&gt;Node, true);<br />        $this-&gt;DOMDocument_from_node<br />                                 -&gt;appendChild($domNode);<br />        $this-&gt;DomXpath_for_node = <br />                    new Domxpath($this-&gt;<br />                                         DOMDocument_from_node);<br />    }<br /><br />    public function convertHTML()<br />    {    return $this-&gt;DOMDocument_from_node<br />                                                             -&gt;saveHTML();<br />    }<br /><br />    public /*DomNodeList*/ function applyXpath($xpath)<br />    {    return $this-&gt;DomXpath_for_node<br />                                                       -&gt;query($xpath);<br />    }<br />}<br /><br />(sorry for the display... What a terrible hinderance on the<br />part of php.net !)<br /><br />Then :<br />Make a new XPathableNode out of your parent node.<br />You may then retrieve a DOMNodeList from it by applying a<br />xpath (thus being able to specify the depth  and name of <br />elements you want).<br /><br />Has got me around some (of the many) DOM awkwardnesses a few times.<br /><br />;o)</span></code></div>
  </div>
 </div>
  <div class="note" id="81860">  <div class="votes">
    <div id="Vu81860">
    <a href="https://www.php.net/manual/vote-note.php?id=81860&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81860">
    <a href="https://www.php.net/manual/vote-note.php?id=81860&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81860" title="33% like this...">
    -6
    </div>
  </div>
  <a href="book.dom.php.html#81860" class="name">
  <strong class="user"><em>Sven Arduwie</em></strong></a><a class="genanchor" href="book.dom.php.html#81860"> &para;</a><div class="date" title="2008-03-16 06:28"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom81860">
<div class="phpcode"><code><span class="html">I needed a function that quickly converts an xml with key/value pairs to an array.<br /><br />for example:<br />&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;test&gt;<br />    &lt;key id="Array key #1" value="Value #1"/&gt;<br />    &lt;key id="Array key #2" value="Value #2"/&gt;<br />    &lt;key id="Dupe" value="Duplicate keys"/&gt;<br />    &lt;key id="Dupe" value="create numeric arrays"/&gt;<br />    &lt;key id="And another key"&gt;<br />        &lt;![CDATA[<br />            Multiline<br />            data<br />            works<br />            just<br />            as<br />            well.<br />        ]]&gt;<br />    &lt;/key&gt;<br />    &lt;nested&gt;<br />        &lt;key id="Nested key" value="Nested data works as well, but it still results in a 1 dimensional array."/&gt;<br />    &lt;/nested&gt;<br />&lt;/test&gt;<br /><br />Results in the following array:<br />array(5) {<br />  ["Array key #1"]=&gt;<br />  string(8) "Value #1"<br />  ["Array key #2"]=&gt;<br />  string(8) "Value #2"<br />  ["Dupe"]=&gt;<br />  array(2) {<br />    [0]=&gt;<br />    string(14) "Duplicate keys"<br />    [1]=&gt;<br />    string(21) "create numeric arrays"<br />  }<br />  ["And another key"]=&gt;<br />  string(49) "Multiline<br />            data<br />            works<br />            just<br />            as<br />            well."<br />  ["Nested key"]=&gt;<br />  string(73) "Nested data works as well, but it still results in a 1 dimensional array."<br />}<br /><br />Here's the code:<br /><span class="default">&lt;?php<br />    </span><span class="keyword">function </span><span class="default">xml2array</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">) {<br />        </span><span class="default">$domDocument </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">;<br />        </span><span class="default">$domDocument</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">);<br />        </span><span class="default">$domXPath </span><span class="keyword">= new </span><span class="default">DOMXPath</span><span class="keyword">(</span><span class="default">$domDocument</span><span class="keyword">);<br />        </span><span class="default">$array </span><span class="keyword">= array();<br />        foreach (</span><span class="default">$domXPath</span><span class="keyword">-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">'//key'</span><span class="keyword">) as </span><span class="default">$keyDOM</span><span class="keyword">) {<br />            </span><span class="default">$id </span><span class="keyword">= </span><span class="default">$keyDOM</span><span class="keyword">-&gt;</span><span class="default">getAttribute</span><span class="keyword">(</span><span class="string">'id'</span><span class="keyword">);<br />            </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$keyDOM</span><span class="keyword">-&gt;</span><span class="default">hasAttribute</span><span class="keyword">(</span><span class="string">'value'</span><span class="keyword">) ? </span><span class="default">$keyDOM</span><span class="keyword">-&gt;</span><span class="default">getAttribute</span><span class="keyword">(</span><span class="string">'value'</span><span class="keyword">) : </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$keyDOM</span><span class="keyword">-&gt;</span><span class="default">textContent</span><span class="keyword">);<br />            if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)) {<br />                if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">])) {<br />                    </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />                } else {<br />                    </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">] = array(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">]);<br />                    </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">][] = </span><span class="default">$value</span><span class="keyword">;<br />                }<br />            } else {<br />                </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$id</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />            }<br />        }<br />        return </span><span class="default">$array</span><span class="keyword">;<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="78941">  <div class="votes">
    <div id="Vu78941">
    <a href="https://www.php.net/manual/vote-note.php?id=78941&amp;page=book.dom&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78941">
    <a href="https://www.php.net/manual/vote-note.php?id=78941&amp;page=book.dom&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78941" title="25% like this...">
    -4
    </div>
  </div>
  <a href="book.dom.php.html#78941" class="name">
  <strong class="user"><em>jim.filter (at gmail.com)</em></strong></a><a class="genanchor" href="book.dom.php.html#78941"> &para;</a><div class="date" title="2007-11-03 07:42"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78941">
<div class="phpcode"><code><span class="html">Array to DOM<br /><br />Here is a recursive function to turn a multidimensional array into an XML document.  It will handle multiple elements of the same tag, but only one per parent element. IE: <br /><br />Can't generate:         Can generate:<br />&lt;root&gt;                  &lt;root&gt;<br />  &lt;sub1&gt;data1&lt;/sub1&gt;      &lt;subs1&gt;<br />  &lt;sub1&gt;data2&lt;/sub1&gt;         &lt;value&gt;data1&lt;/value&gt;<br />  &lt;sub2&gt;data1&lt;/sub2&gt;         &lt;value&gt;data2&lt;/value&gt;<br />  &lt;sub2&gt;data2&lt;/sub2&gt;      &lt;/subs1&gt;<br />&lt;/root&gt;                   &lt;subs2&gt;<br />                            &lt;value&gt;data1&lt;/value&gt;<br />                            &lt;value&gt;data2&lt;/value&gt;<br />                          &lt;subs2&gt;<br />                        &lt;/root&gt;<br /><br />Also, the function performs no type of error checking on your array and will throw a DOMException if a key value you used in your array contains invalid characters for a proper DOM tag. This function is untested for "deep" multidimensional arrays.<br /><br />Complete code ready to run with example:<br /><br /><span class="default">&lt;?PHP<br />  </span><span class="keyword">function </span><span class="default">AtoX</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$DOM</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">, </span><span class="default">$root</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">){<br />    <br />    if(</span><span class="default">$DOM  </span><span class="keyword">== </span><span class="default">null</span><span class="keyword">){</span><span class="default">$DOM  </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'iso-8859-1'</span><span class="keyword">);}<br />    if(</span><span class="default">$root </span><span class="keyword">== </span><span class="default">null</span><span class="keyword">){</span><span class="default">$root </span><span class="keyword">= </span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="string">'root'</span><span class="keyword">));}<br />    <br />    </span><span class="default">$name </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="string">'#MULTIPLE_ELEMENT_NAME'</span><span class="keyword">];<br /><br />      foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){    <br />        if(</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) &amp;&amp; </span><span class="default">$name </span><span class="keyword">!= </span><span class="default">null</span><span class="keyword">){<br />          if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />            </span><span class="default">$subroot </span><span class="keyword">= </span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">));<br />            </span><span class="default">AtoX</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$DOM</span><span class="keyword">, </span><span class="default">$subroot</span><span class="keyword">);<br />          }<br />          else if(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />            </span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">));<br />          }<br />        }<br />        else if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) &amp;&amp; </span><span class="default">$key </span><span class="keyword">!= </span><span class="string">'#MULTIPLE_ELEMENT_NAME'</span><span class="keyword">){<br />          if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />            </span><span class="default">$subroot </span><span class="keyword">= </span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">));<br />            </span><span class="default">AtoX</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$DOM</span><span class="keyword">, </span><span class="default">$subroot</span><span class="keyword">);<br />          }<br />          else if(</span><span class="default">is_scalar</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)){<br />            </span><span class="default">$root</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">));<br />          }<br />        }<br />      }<br />    return </span><span class="default">$DOM</span><span class="keyword">;  <br />  }<br />  <br />  </span><span class="default">$array </span><span class="keyword">= array(<br />                    </span><span class="string">'#MULTIPLE_ELEMENT_NAME' </span><span class="keyword">=&gt; </span><span class="string">'GenericDatas'</span><span class="keyword">,<br />                    </span><span class="string">'Date'      </span><span class="keyword">=&gt; </span><span class="string">'November 03, 2007'</span><span class="keyword">,<br />                    </span><span class="string">'Company'   </span><span class="keyword">=&gt; </span><span class="string">'Facility One'</span><span class="keyword">,<br />                    </span><span class="string">'Field'     </span><span class="keyword">=&gt; </span><span class="string">'Facility Management Software'</span><span class="keyword">,<br />                    </span><span class="string">'Employees' </span><span class="keyword">=&gt; array(<br />                                      </span><span class="string">'#MULTIPLE_ELEMENT_NAME' </span><span class="keyword">=&gt; </span><span class="string">'Employee'</span><span class="keyword">,<br />                                      </span><span class="string">'Cindy'</span><span class="keyword">,<br />                                      </span><span class="string">'Sean'</span><span class="keyword">,<br />                                      </span><span class="string">'Joe'</span><span class="keyword">,<br />                                      </span><span class="string">'Owen'</span><span class="keyword">,<br />                                      </span><span class="string">'Jim'</span><span class="keyword">,<br />                                      </span><span class="string">'Dale'</span><span class="keyword">,<br />                                      </span><span class="string">'Kelly'</span><span class="keyword">,<br />                                      </span><span class="string">'Ryan'</span><span class="keyword">,<br />                                      </span><span class="string">'Johnathan'</span><span class="keyword">,<br />                                      </span><span class="string">'Robin'</span><span class="keyword">,<br />                                      </span><span class="string">'William Marcus'</span><span class="keyword">,<br />                                      </span><span class="string">'NewCoops' </span><span class="keyword">=&gt; array(<br />                                                          </span><span class="string">'#MULTIPLE_ELEMENT_NAME' </span><span class="keyword">=&gt; </span><span class="string">'Coop'</span><span class="keyword">,<br />                                                          </span><span class="string">'John'</span><span class="keyword">,<br />                                                          </span><span class="string">'Tyler'</span><span class="keyword">,<br />                                                          </span><span class="string">'Ray'</span><span class="keyword">,<br />                                                          </span><span class="string">'Dawn'<br />                                                         </span><span class="keyword">)     <br />                                    ),<br />                    </span><span class="string">'Datas'</span><span class="keyword">,<br />                    </span><span class="string">'DATAS'</span><span class="keyword">,<br />                    </span><span class="string">'OtherDatas'<br />                </span><span class="keyword">);<br />  <br />  </span><span class="default">$DOM  </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(</span><span class="string">'1.0'</span><span class="keyword">, </span><span class="string">'iso-8859-1'</span><span class="keyword">);<br />  </span><span class="default">$root </span><span class="keyword">= </span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">createElement</span><span class="keyword">(</span><span class="string">'CompanyData'</span><span class="keyword">)); <br />  </span><span class="default">$DOM  </span><span class="keyword">= </span><span class="default">AtoX</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$DOM</span><span class="keyword">, </span><span class="default">$root</span><span class="keyword">);<br />  </span><span class="default">$DOM</span><span class="keyword">-&gt;</span><span class="default">save</span><span class="keyword">(</span><span class="string">'C:\test.xml'</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=book.dom&amp;redirect=https://www.php.net/manual/ru/book.dom.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="refs.xml.php.html">Обработка XML</a>

                                    <ul class='child-menu-list'>

                                                <li class="current">
                            <a href="book.dom.php.html" title="DOM">DOM</a>
                        </li>
                                                <li class="">
                            <a href="book.libxml.php.html" title="libxml">libxml</a>
                        </li>
                                                <li class="">
                            <a href="book.simplexml.php.html" title="SimpleXML">SimpleXML</a>
                        </li>
                                                <li class="">
                            <a href="book.wddx.php.html" title="WDDX">WDDX</a>
                        </li>
                                                <li class="">
                            <a href="book.xmldiff.php.html" title="XMLDiff">XMLDiff</a>
                        </li>
                                                <li class="">
                            <a href="book.xml.php.html" title="Разбор XML">Разбор XML</a>
                        </li>
                                                <li class="">
                            <a href="book.xmlreader.php.html" title="XMLReader">XMLReader</a>
                        </li>
                                                <li class="">
                            <a href="book.xmlwriter.php.html" title="XMLWriter">XMLWriter</a>
                        </li>
                                                <li class="">
                            <a href="book.xsl.php.html" title="XSL">XSL</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
