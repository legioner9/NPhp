<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: ZipArchive - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="class.ziparchive.php.html">
 <link rel="shorturl" href="https://www.php.net/ziparchive">
 <link rel="alternate" href="https://www.php.net/ziparchive" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="book.zip.php.html">
 <link rel="prev" href="zip.examples.php.html">
 <link rel="next" href="ziparchive.addemptydir.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/class.ziparchive.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/class.ziparchive.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/class.ziparchive.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/class.ziparchive.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/class.ziparchive.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/class.ziparchive.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/class.ziparchive.php" hreflang="pt_BR">
 <link rel="alternate" href="class.ziparchive.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/class.ziparchive.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/class.ziparchive.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="ziparchive.addemptydir.php.html">
          ZipArchive::addEmptyDir &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="zip.examples.php.html">
          &laquo; Примеры        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.compression.php.html'>Модули для сжатия и архивации</a></li>      <li><a href='book.zip.php.html'>Zip</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/class.ziparchive.php'>English</option>
            <option value='de/class.ziparchive.php'>German</option>
            <option value='es/class.ziparchive.php'>Spanish</option>
            <option value='fr/class.ziparchive.php'>French</option>
            <option value='it/class.ziparchive.php'>Italian</option>
            <option value='ja/class.ziparchive.php'>Japanese</option>
            <option value='pt_BR/class.ziparchive.php'>Brazilian Portuguese</option>
            <option value='ru/class.ziparchive.php' selected="selected">Russian</option>
            <option value='tr/class.ziparchive.php'>Turkish</option>
            <option value='zh/class.ziparchive.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/zip/ziparchive.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Fclass.ziparchive%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="class.ziparchive" class="reference">
 <h1 class="title">Класс <span class="classname"><a href="class.ziparchive.php.html" class="classname">ZipArchive</a></span></h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8, PECL zip &gt;= 1.1.0)</p>

  
  <div class="section" id="ziparchive.intro">
   <h2 class="title">Введение</h2>
   <p class="para">
    Файловый архив, сжатый Zip.
   </p>
  </div>
  

  <div class="section" id="ziparchive.synopsis">
   <h2 class="title">Обзор классов</h2>


   <div class="classsynopsis"><div class="classsynopsisinfo">
    
     <span class="modifier">class</span> <strong class="classname"><strong class="classname">ZipArchive</strong></strong>
    

    
     <span class="modifier">implements</span>
      <a href="class.countable.php.html" class="interfacename">Countable</a> {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Константы */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.create"><var class="varname">CREATE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.excl"><var class="varname">EXCL</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.checkcons"><var class="varname">CHECKCONS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.overwrite"><var class="varname">OVERWRITE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.rdonly"><var class="varname">RDONLY</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-nocase"><var class="varname">FL_NOCASE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-nodir"><var class="varname">FL_NODIR</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-compressed"><var class="varname">FL_COMPRESSED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-unchanged"><var class="varname">FL_UNCHANGED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-recompress"><var class="varname">FL_RECOMPRESS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-encrypted"><var class="varname">FL_ENCRYPTED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-overwrite"><var class="varname">FL_OVERWRITE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-local"><var class="varname">FL_LOCAL</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-central"><var class="varname">FL_CENTRAL</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-enc-guess"><var class="varname">FL_ENC_GUESS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-enc-raw"><var class="varname">FL_ENC_RAW</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-enc-strict"><var class="varname">FL_ENC_STRICT</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-enc-utf-8"><var class="varname">FL_ENC_UTF_8</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-enc-cp437"><var class="varname">FL_ENC_CP437</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.fl-open-file-now"><var class="varname">FL_OPEN_FILE_NOW</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-default"><var class="varname">CM_DEFAULT</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-store"><var class="varname">CM_STORE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-shrink"><var class="varname">CM_SHRINK</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-reduce-1"><var class="varname">CM_REDUCE_1</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-reduce-2"><var class="varname">CM_REDUCE_2</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-reduce-3"><var class="varname">CM_REDUCE_3</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-reduce-4"><var class="varname">CM_REDUCE_4</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-implode"><var class="varname">CM_IMPLODE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-deflate"><var class="varname">CM_DEFLATE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-deflate64"><var class="varname">CM_DEFLATE64</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-pkware-implode"><var class="varname">CM_PKWARE_IMPLODE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-bzip2"><var class="varname">CM_BZIP2</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-lzma"><var class="varname">CM_LZMA</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-lzma2"><var class="varname">CM_LZMA2</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-zstd"><var class="varname">CM_ZSTD</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-xz"><var class="varname">CM_XZ</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-terse"><var class="varname">CM_TERSE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-lz77"><var class="varname">CM_LZ77</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-wavpack"><var class="varname">CM_WAVPACK</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.cm-ppmd"><var class="varname">CM_PPMD</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-ok"><var class="varname">ER_OK</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-multidisk"><var class="varname">ER_MULTIDISK</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-rename"><var class="varname">ER_RENAME</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-close"><var class="varname">ER_CLOSE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-seek"><var class="varname">ER_SEEK</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-read"><var class="varname">ER_READ</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-write"><var class="varname">ER_WRITE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-crc"><var class="varname">ER_CRC</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-zipclosed"><var class="varname">ER_ZIPCLOSED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-noent"><var class="varname">ER_NOENT</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-exists"><var class="varname">ER_EXISTS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-open"><var class="varname">ER_OPEN</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-tmpopen"><var class="varname">ER_TMPOPEN</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-zlib"><var class="varname">ER_ZLIB</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-memory"><var class="varname">ER_MEMORY</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-changed"><var class="varname">ER_CHANGED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-compnotsupp"><var class="varname">ER_COMPNOTSUPP</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-eof"><var class="varname">ER_EOF</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-inval"><var class="varname">ER_INVAL</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-nozip"><var class="varname">ER_NOZIP</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-internal"><var class="varname">ER_INTERNAL</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-incons"><var class="varname">ER_INCONS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-remove"><var class="varname">ER_REMOVE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-deleted"><var class="varname">ER_DELETED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-encrnotsupp"><var class="varname">ER_ENCRNOTSUPP</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-rdonly"><var class="varname">ER_RDONLY</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-nopasswd"><var class="varname">ER_NOPASSWD</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-wrongpasswd"><var class="varname">ER_WRONGPASSWD</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-opnotsupp"><var class="varname">ER_OPNOTSUPP</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-inuse"><var class="varname">ER_INUSE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-tell"><var class="varname">ER_TELL</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-compressed-data"><var class="varname">ER_COMPRESSED_DATA</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-cancelled"><var class="varname">ER_CANCELLED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-data-length"><var class="varname">ER_DATA_LENGTH</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.er-not-allowed"><var class="varname">ER_NOT_ALLOWED</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.afl-rdonly"><var class="varname">AFL_RDONLY</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.afl-is-torrentzip"><var class="varname">AFL_IS_TORRENTZIP</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.afl-want-torrentzip"><var class="varname">AFL_WANT_TORRENTZIP</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.afl-create-or-keep-file-for-empty-archive"><var class="varname">AFL_CREATE_OR_KEEP_FILE_FOR_EMPTY_ARCHIVE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_DOS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_AMIGA</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_OPENVMS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_UNIX</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_VM_CMS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_ATARI_ST</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_OS_2</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_MACINTOSH</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_Z_SYSTEM</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_CPM</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_WINDOWS_NTFS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_MVS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_VSE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_ACORN_RISC</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_VFAT</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_ALTERNATE_MVS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_BEOS</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_TANDEM</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_OS_400</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_OS_X</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.opsys"><var class="varname">OPSYS_DEFAULT</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.em-none"><var class="varname">EM_NONE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.em-trad-pkware"><var class="varname">EM_TRAD_PKWARE</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.em-aes-128"><var class="varname">EM_AES_128</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.em-aes-192"><var class="varname">EM_AES_192</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.em-aes-256"><var class="varname">EM_AES_256</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.em-unknown"><var class="varname">EM_UNKNOWN</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">string</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.libzip-version"><var class="varname">LIBZIP_VERSION</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.length-to-end"><var class="varname">LENGTH_TO_END</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">const</span>
     <span class="type">int</span>
      <var class="fieldsynopsis_varname"><a href="zip.constants.php.html#ziparchive.constants.length-unchecked"><var class="varname">LENGTH_UNCHECKED</var></a></var>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Свойства */</div>
    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.ziparchive.php.html#ziparchive.props.lastid">$<var class="varname">lastId</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.ziparchive.php.html#ziparchive.props.status">$<var class="varname">status</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.ziparchive.php.html#ziparchive.props.statussys">$<var class="varname">statusSys</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">int</span>
      <var class="varname"><a href="class.ziparchive.php.html#ziparchive.props.numfiles">$<var class="varname">numFiles</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.ziparchive.php.html#ziparchive.props.filename">$<var class="varname">filename</var></a></var>;</div>

    <div class="fieldsynopsis"><span class="modifier">public</span>
     <span class="modifier">readonly</span>
     <span class="type">string</span>
      <var class="varname"><a href="class.ziparchive.php.html#ziparchive.props.comment">$<var class="varname">comment</var></a></var>;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Методы */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><a href="ziparchive.addemptydir.php.html" class="methodname">addEmptyDir</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$dirname</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.addfile.php.html" class="methodname">addFile</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$filepath</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$entryname</code><span class="initializer"> = &quot;&quot;</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$start</code><span class="initializer"> = 0</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code><span class="initializer"> = ZipArchive::LENGTH_TO_END</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = ZipArchive::FL_OVERWRITE</span></span><br>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.addfromstring.php.html" class="methodname">addFromString</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$content</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = ZipArchive::FL_OVERWRITE</span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.addglob.php.html" class="methodname">addGlob</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code><span class="initializer"> = []</span></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.addpattern.php.html" class="methodname">addPattern</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code><span class="initializer"> = &quot;.&quot;</span></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$options</code><span class="initializer"> = []</span></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.clearerror.php.html" class="methodname">clearError</a></span>(): <span class="type"><span class="type void">void</span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.close.php.html" class="methodname">close</a></span>(): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.count.php.html" class="methodname">count</a></span>(): <span class="type">int</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.deleteindex.php.html" class="methodname">deleteIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.deletename.php.html" class="methodname">deleteName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.extractto.php.html" class="methodname">extractTo</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$pathto</code></span>, <span class="methodparam"><span class="type"><span class="type">array</span>|<span class="type">string</span>|<span class="type">null</span></span> <code class="parameter">$files</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getarchivecomment.php.html" class="methodname">getArchiveComment</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getarchiveflag.php.html" class="methodname">getArchiveFlag</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$flag</code><span class="initializer"> = 0</span></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type">int</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getcommentindex.php.html" class="methodname">getCommentIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getcommentname.php.html" class="methodname">getCommentName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getexternalattributesindex.php.html" class="methodname">getExternalAttributesIndex</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$opsys</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$attr</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span><br>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getexternalattributesname.php.html" class="methodname">getExternalAttributesName</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$opsys</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$attr</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span><br>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getfromindex.php.html" class="methodname">getFromIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$len</code><span class="initializer"> = 0</span></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getfromname.php.html" class="methodname">getFromName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$len</code><span class="initializer"> = 0</span></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getnameindex.php.html" class="methodname">getNameIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getstatusstring.php.html" class="methodname">getStatusString</a></span>(): <span class="type">string</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getstream.php.html" class="methodname">getStream</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>): <span class="type"><span class="type">resource</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getstreamindex.php.html" class="methodname">getStreamIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">resource</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.getstreamname.php.html" class="methodname">getStreamName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">resource</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname"><a href="ziparchive.iscompressionmethoddupported.php.html" class="methodname">isCompressionMethodSupported</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code></span>, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$enc</code><span class="initializer"> = <strong><code>true</code></strong></span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="modifier">static</span> <span class="methodname"><a href="ziparchive.isencryptionmethoddupported.php.html" class="methodname">isEncryptionMethodSupported</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code></span>, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$enc</code><span class="initializer"> = <strong><code>true</code></strong></span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.locatename.php.html" class="methodname">locateName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.open.php.html" class="methodname">open</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">bool</span>|<span class="type">int</span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.registercancelcallback.php.html" class="methodname">registerCancelCallback</a></span>(<span class="methodparam"><span class="type"><a href="language.types.callable.php.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.registerprogresscallback.php.html" class="methodname">registerProgressCallback</a></span>(<span class="methodparam"><span class="type">float</span> <code class="parameter">$rate</code></span>, <span class="methodparam"><span class="type"><a href="language.types.callable.php.html" class="type callable">callable</a></span> <code class="parameter">$callback</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.renameindex.php.html" class="methodname">renameIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$new_name</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.renamename.php.html" class="methodname">renameName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$new_name</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.replacefile.php.html" class="methodname">replaceFile</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$filepath</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$start</code><span class="initializer"> = 0</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$length</code><span class="initializer"> = ZipArchive::LENGTH_TO_END</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span><br>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setarchivecomment.php.html" class="methodname">setArchiveComment</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$comment</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setarchiveflag.php.html" class="methodname">setArchiveFlag</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$flag</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$value</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setcommentindex.php.html" class="methodname">setCommentIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$comment</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setcommentname.php.html" class="methodname">setCommentName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$comment</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setcompressionindex.php.html" class="methodname">setCompressionIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$compflags</code><span class="initializer"> = 0</span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setcompressionname.php.html" class="methodname">setCompressionName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$compflags</code><span class="initializer"> = 0</span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setencryptionindex.php.html" class="methodname">setEncryptionIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$password</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setencryptionname.php.html" class="methodname">setEncryptionName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$method</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$password</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setexternalattributesindex.php.html" class="methodname">setExternalAttributesIndex</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$opsys</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$attr</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span><br>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setexternalattributesname.php.html" class="methodname">setExternalAttributesName</a></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$opsys</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$attr</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span><br>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setmtimeindex.php.html" class="methodname">setMtimeIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$timestamp</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setmtimename.php.html" class="methodname">setMtimeName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$timestamp</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.setpassword.php.html" class="methodname">setPassword</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.statindex.php.html" class="methodname">statIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.statname.php.html" class="methodname">statName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.unchangeall.php.html" class="methodname">unchangeAll</a></span>(): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.unchangearchive.php.html" class="methodname">unchangeArchive</a></span>(): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.unchangeindex.php.html" class="methodname">unchangeIndex</a></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$index</code></span>): <span class="type">bool</span></div>
<div class="methodsynopsis dc-description"><span class="modifier">public</span> <span class="methodname"><a href="ziparchive.unchangename.php.html" class="methodname">unchangeName</a></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>): <span class="type">bool</span></div>

   }</div>


  </div>

  
  <div class="section" id="ziparchive.props">
   <h2 class="title">Свойства</h2>
   <dl>
    
     <dt id="ziparchive.props.lastid"><var class="varname">lastId</var></dt>

     <dd>

      <p class="para">Значение индекса последней добавленной записи (файл или каталог).
       Доступно с PHP 8.0.0 и PECL zip 1.18.0.</p>
     </dd>

    
    
     <dt id="ziparchive.props.status"><var class="varname">status</var></dt>

     <dd>

      <p class="para">Статус Zip-архива.
      Доступно для закрытого архива, начиная с PHP 8.0.0 и PECL zip 1.18.0.</p>
     </dd>

    
    
     <dt id="ziparchive.props.statussys"><var class="varname">statusSys</var></dt>

     <dd>

      <p class="para">Системный статус Zip-архива.
      Доступно для закрытого архива, начиная с PHP 8.0.0 и PECL zip 1.18.0.</p>
     </dd>

    
    
     <dt id="ziparchive.props.numfiles"><var class="varname">numFiles</var></dt>

     <dd>

      <p class="para">Количество файлов в архиве</p>
     </dd>

    
    
     <dt id="ziparchive.props.filename"><var class="varname">filename</var></dt>

     <dd>

      <p class="para">Имя файла в файловой системе</p>
     </dd>

    
    
     <dt id="ziparchive.props.comment"><var class="varname">comment</var></dt>

     <dd>

      <p class="para">Комментарий к архиву</p>
     </dd>

    
   </dl>

  </div>
  
 </div>


 

























































































































































































































































































































<h2>Содержание</h2><ul class="chunklist chunklist_reference"><li><a href="ziparchive.addemptydir.php.html">ZipArchive::addEmptyDir</a> — Добавляет новую директорию</li><li><a href="ziparchive.addfile.php.html">ZipArchive::addFile</a> — Добавляет в ZIP-архив файл по указанному пути</li><li><a href="ziparchive.addfromstring.php.html">ZipArchive::addFromString</a> — Добавляет файл в ZIP-архив, используя его содержимое</li><li><a href="ziparchive.addglob.php.html">ZipArchive::addGlob</a> — Добавить файлы из директории в соответствии с шаблоном</li><li><a href="ziparchive.addpattern.php.html">ZipArchive::addPattern</a> — Добавить файлы из директории в соответствии с шаблоном регулярного выражения PCRE</li><li><a href="ziparchive.clearerror.php.html">ZipArchive::clearError</a> — Удаляет сообщение об ошибке статуса, системные и/или сообщения модуля zip</li><li><a href="ziparchive.close.php.html">ZipArchive::close</a> — Закрывает активный архив (открытый или вновь созданный)</li><li><a href="ziparchive.count.php.html">ZipArchive::count</a> — Подсчитывает количество файлов в архиве</li><li><a href="ziparchive.deleteindex.php.html">ZipArchive::deleteIndex</a> — Удаляет элемент в архиве, используя его индекс</li><li><a href="ziparchive.deletename.php.html">ZipArchive::deleteName</a> — Удаляет элемент в архиве, используя его имя</li><li><a href="ziparchive.extractto.php.html">ZipArchive::extractTo</a> — Извлекает содержимое архива</li><li><a href="ziparchive.getarchivecomment.php.html">ZipArchive::getArchiveComment</a> — Возвращает комментарий ZIP-архива</li><li><a href="ziparchive.getarchiveflag.php.html">ZipArchive::getArchiveFlag</a> — Возвращает значение глобального флага ZIP-архива</li><li><a href="ziparchive.getcommentindex.php.html">ZipArchive::getCommentIndex</a> — Возвращает комментарий элемента, используя его индекс</li><li><a href="ziparchive.getcommentname.php.html">ZipArchive::getCommentName</a> — Возвращает комментарий элемента, используя его имя</li><li><a href="ziparchive.getexternalattributesindex.php.html">ZipArchive::getExternalAttributesIndex</a> — Извлекает внешние атрибуты записи по её индексу</li><li><a href="ziparchive.getexternalattributesname.php.html">ZipArchive::getExternalAttributesName</a> — Извлечь внешние атрибуты записи по её имени</li><li><a href="ziparchive.getfromindex.php.html">ZipArchive::getFromIndex</a> — Возвращает содержимое элемента по его индексу</li><li><a href="ziparchive.getfromname.php.html">ZipArchive::getFromName</a> — Возвращает содержимое элемента по его имени</li><li><a href="ziparchive.getnameindex.php.html">ZipArchive::getNameIndex</a> — Возвращает имя элемента по его индексу</li><li><a href="ziparchive.getstatusstring.php.html">ZipArchive::getStatusString</a> — Возвращают статус сообщения об ошибке, системный и/или zip-статус</li><li><a href="ziparchive.getstream.php.html">ZipArchive::getStream</a> — Получить дескриптор файла элемента, определённый по имени элемента (только для чтения)</li><li><a href="ziparchive.getstreamindex.php.html">ZipArchive::getStreamIndex</a> — Получает обработчик файла для записи, определённой её индексом (только для чтения)</li><li><a href="ziparchive.getstreamname.php.html">ZipArchive::getStreamName</a> — Получает обработчик файла для записи, определённой её именем (только для чтения)</li><li><a href="ziparchive.iscompressionmethoddupported.php.html">ZipArchive::isCompressionMethodSupported</a> — Проверяет, поддерживается ли метод сжатия libzip</li><li><a href="ziparchive.isencryptionmethoddupported.php.html">ZipArchive::isEncryptionMethodSupported</a> — Проверяет, поддерживается ли метод шифрования libzip</li><li><a href="ziparchive.locatename.php.html">ZipArchive::locateName</a> — Возвращает индекс элемента в архиве</li><li><a href="ziparchive.open.php.html">ZipArchive::open</a> — Открывает ZIP-архив</li><li><a href="ziparchive.registercancelcallback.php.html">ZipArchive::registerCancelCallback</a> — Регистрирует callback-функцию для разрешения отмены во время закрытия архива</li><li><a href="ziparchive.registerprogresscallback.php.html">ZipArchive::registerProgressCallback</a> — Регистрирует callback-функцию для предоставления обновлений при закрытии архива</li><li><a href="ziparchive.renameindex.php.html">ZipArchive::renameIndex</a> — Переименовывает элемент по его индексу</li><li><a href="ziparchive.renamename.php.html">ZipArchive::renameName</a> — Переименовывает элемент по его имени</li><li><a href="ziparchive.replacefile.php.html">ZipArchive::replaceFile</a> — Заменяет файл в ZIP-архиве заданным путём</li><li><a href="ziparchive.setarchivecomment.php.html">ZipArchive::setArchiveComment</a> — Устанавливает комментарий к ZIP-архиву</li><li><a href="ziparchive.setarchiveflag.php.html">ZipArchive::setArchiveFlag</a> — Устанавливает глобальный флаг ZIP-архива</li><li><a href="ziparchive.setcommentindex.php.html">ZipArchive::setCommentIndex</a> — Устанавливает комментарий к элементу по его индексу</li><li><a href="ziparchive.setcommentname.php.html">ZipArchive::setCommentName</a> — Устанавливает комментарий к элементу, заданному по имени</li><li><a href="ziparchive.setcompressionindex.php.html">ZipArchive::setCompressionIndex</a> — Установить метод сжатия записи, заданной её индексом</li><li><a href="ziparchive.setcompressionname.php.html">ZipArchive::setCompressionName</a> — Установить метод сжатия записи, заданной по имени</li><li><a href="ziparchive.setencryptionindex.php.html">ZipArchive::setEncryptionIndex</a> — Установить метод шифрования записи по её индексу</li><li><a href="ziparchive.setencryptionname.php.html">ZipArchive::setEncryptionName</a> — Установить метод шифрования записи по её имени</li><li><a href="ziparchive.setexternalattributesindex.php.html">ZipArchive::setExternalAttributesIndex</a> — Установить внешние атрибуты записи по её индексу</li><li><a href="ziparchive.setexternalattributesname.php.html">ZipArchive::setExternalAttributesName</a> — Установка внешних атрибутов записи, заданной по имени</li><li><a href="ziparchive.setmtimeindex.php.html">ZipArchive::setMtimeIndex</a> — Установить время модификации файла по его индексу</li><li><a href="ziparchive.setmtimename.php.html">ZipArchive::setMtimeName</a> — Установить время модификации файла по его имени</li><li><a href="ziparchive.setpassword.php.html">ZipArchive::setPassword</a> — Установка пароля для активного архива</li><li><a href="ziparchive.statindex.php.html">ZipArchive::statIndex</a> — Получение детальной информации о элементе по его индексу</li><li><a href="ziparchive.statname.php.html">ZipArchive::statName</a> — Получение детальной информации об элементе по его имени</li><li><a href="ziparchive.unchangeall.php.html">ZipArchive::unchangeAll</a> — Отменяет все изменения, сделанные в архиве</li><li><a href="ziparchive.unchangearchive.php.html">ZipArchive::unchangeArchive</a> — Возвращает все глобальные изменения, сделанные в архиве</li><li><a href="ziparchive.unchangeindex.php.html">ZipArchive::unchangeIndex</a> — Отменяет все изменения у позиции с заданным индексом</li><li><a href="ziparchive.unchangename.php.html">ZipArchive::unchangeName</a> — Отменяет все изменения у позиции с заданным именем</li></ul>
</div>
<section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=class.ziparchive&amp;redirect=https://www.php.net/manual/ru/class.ziparchive.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">16 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="110719">  <div class="votes">
    <div id="Vu110719">
    <a href="https://www.php.net/manual/vote-note.php?id=110719&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd110719">
    <a href="https://www.php.net/manual/vote-note.php?id=110719&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V110719" title="62% like this...">
    57
    </div>
  </div>
  <a href="class.ziparchive.php.html#110719" class="name">
  <strong class="user"><em>umbalaconmeogia at NOSPAM dot gmail dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#110719"> &para;</a><div class="date" title="2012-11-28 03:48"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom110719">
<div class="phpcode"><code><span class="html">Zip a folder (include itself).<br />Usage:<br />  HZip::zipDir('/path/to/sourceDir', '/path/to/out.zip');<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">HZip<br /></span><span class="keyword">{<br />  </span><span class="comment">/**<br />   * Add files and sub-directories in a folder to zip file.<br />   * @param string $folder<br />   * @param ZipArchive $zipFile<br />   * @param int $exclusiveLength Number of text to be exclusived from the file path.<br />   */<br />  </span><span class="keyword">private static function </span><span class="default">folderToZip</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">, &amp;</span><span class="default">$zipFile</span><span class="keyword">, </span><span class="default">$exclusiveLength</span><span class="keyword">) {<br />    </span><span class="default">$handle </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">);<br />    while (</span><span class="default">false </span><span class="keyword">!== </span><span class="default">$f </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">)) {<br />      if (</span><span class="default">$f </span><span class="keyword">!= </span><span class="string">'.' </span><span class="keyword">&amp;&amp; </span><span class="default">$f </span><span class="keyword">!= </span><span class="string">'..'</span><span class="keyword">) {<br />        </span><span class="default">$filePath </span><span class="keyword">= </span><span class="string">"</span><span class="default">$folder</span><span class="string">/</span><span class="default">$f</span><span class="string">"</span><span class="keyword">;<br />        </span><span class="comment">// Remove prefix from file path before add to zip.<br />        </span><span class="default">$localPath </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">, </span><span class="default">$exclusiveLength</span><span class="keyword">);<br />        if (</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">)) {<br />          </span><span class="default">$zipFile</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">, </span><span class="default">$localPath</span><span class="keyword">);<br />        } elseif (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">)) {<br />          </span><span class="comment">// Add sub-directory.<br />          </span><span class="default">$zipFile</span><span class="keyword">-&gt;</span><span class="default">addEmptyDir</span><span class="keyword">(</span><span class="default">$localPath</span><span class="keyword">);<br />          </span><span class="default">self</span><span class="keyword">::</span><span class="default">folderToZip</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">, </span><span class="default">$zipFile</span><span class="keyword">, </span><span class="default">$exclusiveLength</span><span class="keyword">);<br />        }<br />      }<br />    }<br />    </span><span class="default">closedir</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">);<br />  }<br /><br />  </span><span class="comment">/**<br />   * Zip a folder (include itself).<br />   * Usage:<br />   *   HZip::zipDir('/path/to/sourceDir', '/path/to/out.zip');<br />   *<br />   * @param string $sourcePath Path of directory to be zip.<br />   * @param string $outZipPath Path of output zip file.<br />   */<br />  </span><span class="keyword">public static function </span><span class="default">zipDir</span><span class="keyword">(</span><span class="default">$sourcePath</span><span class="keyword">, </span><span class="default">$outZipPath</span><span class="keyword">)<br />  {<br />    </span><span class="default">$pathInfo </span><span class="keyword">= </span><span class="default">pathInfo</span><span class="keyword">(</span><span class="default">$sourcePath</span><span class="keyword">);<br />    </span><span class="default">$parentPath </span><span class="keyword">= </span><span class="default">$pathInfo</span><span class="keyword">[</span><span class="string">'dirname'</span><span class="keyword">];<br />    </span><span class="default">$dirName </span><span class="keyword">= </span><span class="default">$pathInfo</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">];<br /><br />    </span><span class="default">$z </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">();<br />    </span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="default">$outZipPath</span><span class="keyword">, </span><span class="default">ZIPARCHIVE</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">);<br />    </span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">addEmptyDir</span><span class="keyword">(</span><span class="default">$dirName</span><span class="keyword">);<br />    </span><span class="default">self</span><span class="keyword">::</span><span class="default">folderToZip</span><span class="keyword">(</span><span class="default">$sourcePath</span><span class="keyword">, </span><span class="default">$z</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="string">"</span><span class="default">$parentPath</span><span class="string">/"</span><span class="keyword">));<br />    </span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br />  }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="118392">  <div class="votes">
    <div id="Vu118392">
    <a href="https://www.php.net/manual/vote-note.php?id=118392&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118392">
    <a href="https://www.php.net/manual/vote-note.php?id=118392&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118392" title="68% like this...">
    17
    </div>
  </div>
  <a href="class.ziparchive.php.html#118392" class="name">
  <strong class="user"><em>ohcc at 163 dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#118392"> &para;</a><div class="date" title="2015-11-28 06:14"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118392">
<div class="phpcode"><code><span class="html">With PHP 5.6+, you may come up with theses errors.<br /><br />Warning: Unknown: Cannot destroy the zip context in Unknown on line 0<br /><br />Warning: ZipArchive::close(): Can't remove file: No such file or directory in xxxx.php on line xx<br /><br />Examples<br /><br />Warning: Unknown: Cannot destroy the zip context in Unknown on line 0<br /><br /><span class="default">&lt;?php         <br />    $za </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br />    </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">'51-n.com.zip'</span><span class="keyword">,</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">|</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">OVERWRITE</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Warning: ZipArchive::close(): Can't remove file: No such file or directory in xxxx.php on line xx<br /><br /><span class="default">&lt;?php         <br />    $za </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br />    </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">'51-n.com.zip'</span><span class="keyword">,</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">|</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">OVERWRITE</span><span class="keyword">);<br />    </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />It happens when the zip archive is empty.<br />Your zip archive will not be saved on disk unless it has at least one file. What's more, when ZipArchive::OVERWRITE is applied, if there exists a file with the same name, it will be removed after ZipArchive::open() is called.<br /><br />So, don't forget to put at least one file to your zip archive.<br /><br /><span class="default">&lt;?php         <br />    $za </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br />    </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">'51-n.com.zip'</span><span class="keyword">,</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">|</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">OVERWRITE</span><span class="keyword">);<br />    </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">addFromString</span><span class="keyword">(</span><span class="string">'wuxiancheng.cn.txt'</span><span class="keyword">,</span><span class="string">'yes'</span><span class="keyword">);<br />    </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="108601">  <div class="votes">
    <div id="Vu108601">
    <a href="https://www.php.net/manual/vote-note.php?id=108601&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108601">
    <a href="https://www.php.net/manual/vote-note.php?id=108601&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108601" title="62% like this...">
    9
    </div>
  </div>
  <a href="class.ziparchive.php.html#108601" class="name">
  <strong class="user"><em>bruno dot vibert at bonobox dot fr</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#108601"> &para;</a><div class="date" title="2012-05-09 08:21"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108601">
<div class="phpcode"><code><span class="html">There is a usefull function to get the ZipArchive status as a human readable string :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">ZipStatusString</span><span class="keyword">( </span><span class="default">$status </span><span class="keyword">)<br />{<br />    switch( (int) </span><span class="default">$status </span><span class="keyword">)<br />    {<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_OK           </span><span class="keyword">: return </span><span class="string">'N No error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_MULTIDISK    </span><span class="keyword">: return </span><span class="string">'N Multi-disk zip archives not supported'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_RENAME       </span><span class="keyword">: return </span><span class="string">'S Renaming temporary file failed'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_CLOSE        </span><span class="keyword">: return </span><span class="string">'S Closing zip archive failed'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_SEEK         </span><span class="keyword">: return </span><span class="string">'S Seek error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_READ         </span><span class="keyword">: return </span><span class="string">'S Read error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_WRITE        </span><span class="keyword">: return </span><span class="string">'S Write error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_CRC          </span><span class="keyword">: return </span><span class="string">'N CRC error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_ZIPCLOSED    </span><span class="keyword">: return </span><span class="string">'N Containing zip archive was closed'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_NOENT        </span><span class="keyword">: return </span><span class="string">'N No such file'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_EXISTS       </span><span class="keyword">: return </span><span class="string">'N File already exists'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_OPEN         </span><span class="keyword">: return </span><span class="string">'S Can\'t open file'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_TMPOPEN      </span><span class="keyword">: return </span><span class="string">'S Failure to create temporary file'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_ZLIB         </span><span class="keyword">: return </span><span class="string">'Z Zlib error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_MEMORY       </span><span class="keyword">: return </span><span class="string">'N Malloc failure'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_CHANGED      </span><span class="keyword">: return </span><span class="string">'N Entry has been changed'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_COMPNOTSUPP  </span><span class="keyword">: return </span><span class="string">'N Compression method not supported'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_EOF          </span><span class="keyword">: return </span><span class="string">'N Premature EOF'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_INVAL        </span><span class="keyword">: return </span><span class="string">'N Invalid argument'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_NOZIP        </span><span class="keyword">: return </span><span class="string">'N Not a zip archive'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_INTERNAL     </span><span class="keyword">: return </span><span class="string">'N Internal error'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_INCONS       </span><span class="keyword">: return </span><span class="string">'N Zip archive inconsistent'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_REMOVE       </span><span class="keyword">: return </span><span class="string">'S Can\'t remove file'</span><span class="keyword">;<br />        case </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">ER_DELETED      </span><span class="keyword">: return </span><span class="string">'N Entry has been deleted'</span><span class="keyword">;<br />        <br />        default: return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'Unknown status %s'</span><span class="keyword">, </span><span class="default">$status </span><span class="keyword">);<br />    }<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="116345">  <div class="votes">
    <div id="Vu116345">
    <a href="https://www.php.net/manual/vote-note.php?id=116345&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116345">
    <a href="https://www.php.net/manual/vote-note.php?id=116345&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116345" title="58% like this...">
    14
    </div>
  </div>
  <a href="class.ziparchive.php.html#116345" class="name">
  <strong class="user"><em>ebestwebmaster at gmail dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#116345"> &para;</a><div class="date" title="2014-12-16 11:46"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116345">
<div class="phpcode"><code><span class="html">A way of zipping files and downloading them thereafter:<br /><span class="default">&lt;?php<br /><br /> $files </span><span class="keyword">= array(</span><span class="string">'image.jpeg'</span><span class="keyword">,</span><span class="string">'text.txt'</span><span class="keyword">,</span><span class="string">'music.wav'</span><span class="keyword">);<br /></span><span class="default">$zipname </span><span class="keyword">= </span><span class="string">'enter_any_name_for_the_zipped_file.zip'</span><span class="keyword">;<br /></span><span class="default">$zip </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br /></span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="default">$zipname</span><span class="keyword">, </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">);<br />foreach (</span><span class="default">$files </span><span class="keyword">as </span><span class="default">$file</span><span class="keyword">) {<br />  </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />}<br /></span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br /><br /></span><span class="comment">///Then download the zipped file.<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Type: application/zip'</span><span class="keyword">);<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-disposition: attachment; filename='</span><span class="keyword">.</span><span class="default">$zipname</span><span class="keyword">);<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Length: ' </span><span class="keyword">. </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$zipname</span><span class="keyword">));<br /></span><span class="default">readfile</span><span class="keyword">(</span><span class="default">$zipname</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="105312">  <div class="votes">
    <div id="Vu105312">
    <a href="https://www.php.net/manual/vote-note.php?id=105312&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd105312">
    <a href="https://www.php.net/manual/vote-note.php?id=105312&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V105312" title="60% like this...">
    9
    </div>
  </div>
  <a href="class.ziparchive.php.html#105312" class="name">
  <strong class="user"><em>Jerry dot Saravia at emc dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#105312"> &para;</a><div class="date" title="2011-08-08 01:57"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom105312">
<div class="phpcode"><code><span class="html">The following code can be used to get a list of all the file names in a zip file.<br /><br /><span class="default">&lt;?php<br />$za </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">();<br /><br /></span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">'theZip.zip'</span><span class="keyword">);<br /><br />for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">numFiles</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ ){<br />    </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">$za</span><span class="keyword">-&gt;</span><span class="default">statIndex</span><span class="keyword">( </span><span class="default">$i </span><span class="keyword">);<br />    </span><span class="default">print_r</span><span class="keyword">( </span><span class="default">basename</span><span class="keyword">( </span><span class="default">$stat</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">] ) . </span><span class="default">PHP_EOL </span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98441">  <div class="votes">
    <div id="Vu98441">
    <a href="https://www.php.net/manual/vote-note.php?id=98441&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98441">
    <a href="https://www.php.net/manual/vote-note.php?id=98441&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98441" title="64% like this...">
    4
    </div>
  </div>
  <a href="class.ziparchive.php.html#98441" class="name">
  <strong class="user"><em>hardcorevenom at gmx dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#98441"> &para;</a><div class="date" title="2010-06-15 03:17"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98441">
<div class="phpcode"><code><span class="html">Read a file from an archive to a variable.<br />A warning is printed automatically in case of a CRC32 mismatch, which we capture, so we can print our own error message.<br /><br /><span class="default">&lt;?php<br />$zip </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">();<br />if (</span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">'archive.zip'</span><span class="keyword">)) {<br />  </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">getStream</span><span class="keyword">(</span><span class="string">'myfile.txt'</span><span class="keyword">); </span><span class="comment">//file inside archive<br />  </span><span class="keyword">if(!</span><span class="default">$fp</span><span class="keyword">)<br />    die(</span><span class="string">"Error: can't get stream to zipped file"</span><span class="keyword">);<br />  </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">statName</span><span class="keyword">(</span><span class="string">'myfile.txt'</span><span class="keyword">);<br /><br />  </span><span class="default">$buf </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">; </span><span class="comment">//file buffer<br />  </span><span class="default">ob_start</span><span class="keyword">(); </span><span class="comment">//to capture CRC error message<br />    </span><span class="keyword">while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">)) {<br />      </span><span class="default">$buf </span><span class="keyword">.= </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">2048</span><span class="keyword">); </span><span class="comment">//reading more than 2156 bytes seems to disable internal CRC32 verification (bug?)<br />    </span><span class="keyword">}<br />    </span><span class="default">$s </span><span class="keyword">= </span><span class="default">ob_get_contents</span><span class="keyword">();<br />  </span><span class="default">ob_end_clean</span><span class="keyword">();<br />  if(</span><span class="default">stripos</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="string">"CRC error"</span><span class="keyword">) != </span><span class="default">FALSE</span><span class="keyword">){<br />    echo </span><span class="string">'CRC32 mismatch, current '</span><span class="keyword">;<br />    </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"%08X"</span><span class="keyword">, </span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$buf</span><span class="keyword">)); </span><span class="comment">//current CRC<br />    </span><span class="keyword">echo </span><span class="string">', expected '</span><span class="keyword">;<br />    </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"%08X"</span><span class="keyword">, </span><span class="default">$stat</span><span class="keyword">[</span><span class="string">'crc'</span><span class="keyword">]); </span><span class="comment">//expected CRC<br />  </span><span class="keyword">}<br /><br />  </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />  </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br />  </span><span class="comment">//Done, unpacked file is stored in $buf<br /></span><span class="keyword">}<br /></span><span class="default">?&gt;<br /></span><br />To create a corrupt file, change a byte in a zip file using a hex editor.</span></code></div>
  </div>
 </div>
  <div class="note" id="118272">  <div class="votes">
    <div id="Vu118272">
    <a href="https://www.php.net/manual/vote-note.php?id=118272&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118272">
    <a href="https://www.php.net/manual/vote-note.php?id=118272&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118272" title="62% like this...">
    2
    </div>
  </div>
  <a href="class.ziparchive.php.html#118272" class="name">
  <strong class="user"><em>ohcc at 163 dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#118272"> &para;</a><div class="date" title="2015-11-06 08:58"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118272">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br />    </span><span class="comment">//use bzip2 + ZipArchive to reduce file size of your zip archives.<br />    </span><span class="default">$zip </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br />    </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">'i.zip'</span><span class="keyword">,</span><span class="default">ZIPARCHIVE</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">|</span><span class="default">ZIPARCHIVE</span><span class="keyword">::</span><span class="default">OVERWRITE</span><span class="keyword">);<br />    </span><span class="default">$file</span><span class="keyword">=</span><span class="string">'wuxiancheng.cn.sql'</span><span class="keyword">;<br />    </span><span class="default">$bzFilename </span><span class="keyword">= </span><span class="default">$file</span><span class="keyword">.</span><span class="string">'.bz2'</span><span class="keyword">;<br />    </span><span class="default">$sql </span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />    </span><span class="default">$sql </span><span class="keyword">= </span><span class="default">bzcompress</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);<br />    </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">addFromString</span><span class="keyword">(</span><span class="default">$bzFilename</span><span class="keyword">,</span><span class="default">$sql</span><span class="keyword">);<br />    </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">setArchiveComment</span><span class="keyword">(</span><span class="string">'zipped on '</span><span class="keyword">.</span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-M-d'</span><span class="keyword">));<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="112195">  <div class="votes">
    <div id="Vu112195">
    <a href="https://www.php.net/manual/vote-note.php?id=112195&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112195">
    <a href="https://www.php.net/manual/vote-note.php?id=112195&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112195" title="60% like this...">
    5
    </div>
  </div>
  <a href="class.ziparchive.php.html#112195" class="name">
  <strong class="user"><em>AshleyDambra at live dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#112195"> &para;</a><div class="date" title="2013-05-16 08:23"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112195">
<div class="phpcode"><code><span class="html">Simple class xZip to zip big folders into multiple parts and unzip multi zip files at once.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">xZip </span><span class="keyword">{<br />    public function </span><span class="default">__construct</span><span class="keyword">() {}<br />    private function </span><span class="default">_rglobRead</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, &amp;</span><span class="default">$array </span><span class="keyword">= array()) {<br />        if (!</span><span class="default">$source </span><span class="keyword">|| </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">) {<br />            </span><span class="default">$source </span><span class="keyword">= </span><span class="string">"."</span><span class="keyword">;<br />        }<br />        foreach ((array) </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$source </span><span class="keyword">. </span><span class="string">"/*/"</span><span class="keyword">) as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />            </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_rglobRead</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"//"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">), </span><span class="default">$array</span><span class="keyword">);<br />        }<br />    <br />        foreach ((array) </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$source </span><span class="keyword">. </span><span class="string">"*.*"</span><span class="keyword">) as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />            </span><span class="default">$array</span><span class="keyword">[] = </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"//"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />        }<br />    }<br />    private function </span><span class="default">_zip</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$part</span><span class="keyword">, </span><span class="default">$destination</span><span class="keyword">) {<br />        </span><span class="default">$zip </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br />        @</span><span class="default">mkdir</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">0777</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />    <br />        if (</span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"//"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="string">"</span><span class="keyword">{</span><span class="default">$destination</span><span class="keyword">}</span><span class="string">/partz</span><span class="keyword">{</span><span class="default">$part</span><span class="keyword">}</span><span class="string">.zip"</span><span class="keyword">), </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">)) {<br />            foreach ((array) </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />                </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">"../"</span><span class="keyword">, </span><span class="string">"./"</span><span class="keyword">), </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">));<br />            }<br />            </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br />        }<br />    }<br />    public function </span><span class="default">zip</span><span class="keyword">(</span><span class="default">$limit </span><span class="keyword">= </span><span class="default">500</span><span class="keyword">, </span><span class="default">$source </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$destination </span><span class="keyword">= </span><span class="string">"./"</span><span class="keyword">) {<br />        if (!</span><span class="default">$destination </span><span class="keyword">|| </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">) {<br />            </span><span class="default">$destination </span><span class="keyword">= </span><span class="string">"./"</span><span class="keyword">;<br />        }<br />    <br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_rglobRead</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">);<br />        </span><span class="default">$maxinput </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br />        </span><span class="default">$splitinto </span><span class="keyword">= ((</span><span class="default">$maxinput </span><span class="keyword">/ </span><span class="default">$limit</span><span class="keyword">) &gt; </span><span class="default">round</span><span class="keyword">(</span><span class="default">$maxinput </span><span class="keyword">/ </span><span class="default">$limit</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">)) ? </span><span class="default">round</span><span class="keyword">(</span><span class="default">$maxinput </span><span class="keyword">/ </span><span class="default">$limit</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">) + </span><span class="default">1 </span><span class="keyword">: </span><span class="default">round</span><span class="keyword">(</span><span class="default">$maxinput </span><span class="keyword">/ </span><span class="default">$limit</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />    <br />        for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$splitinto</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">++) {<br />            </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_zip</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, (</span><span class="default">$i </span><span class="keyword">* </span><span class="default">$limit</span><span class="keyword">), </span><span class="default">$limit</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">), </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$destination</span><span class="keyword">);<br />        }<br />        <br />        unset(</span><span class="default">$input</span><span class="keyword">);<br />        return;<br />    }<br />    public function </span><span class="default">unzip</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$destination</span><span class="keyword">) {<br />        @</span><span class="default">mkdir</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">, </span><span class="default">0777</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />    <br />        foreach ((array) </span><span class="default">glob</span><span class="keyword">(</span><span class="default">$source </span><span class="keyword">. </span><span class="string">"/*.zip"</span><span class="keyword">) as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />            </span><span class="default">$zip </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br />            if (</span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"//"</span><span class="keyword">, </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)) === </span><span class="default">true</span><span class="keyword">) {<br />                </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">extractTo</span><span class="keyword">(</span><span class="default">$destination</span><span class="keyword">);<br />                </span><span class="default">$zip</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br />            }<br />        }<br />    }<br />    <br />    public function </span><span class="default">__destruct</span><span class="keyword">() {}<br />}<br /><br /></span><span class="comment">//$zip = new xZip;<br />//$zip-&gt;zip(500, "images/", "images_zip/");<br />//$zip-&gt;unzip("images_zip/", "images/");<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="106062">  <div class="votes">
    <div id="Vu106062">
    <a href="https://www.php.net/manual/vote-note.php?id=106062&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106062">
    <a href="https://www.php.net/manual/vote-note.php?id=106062&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106062" title="60% like this...">
    3
    </div>
  </div>
  <a href="class.ziparchive.php.html#106062" class="name">
  <strong class="user"><em>webmaster at sebastiangrinke dot info</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#106062"> &para;</a><div class="date" title="2011-10-06 01:30"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106062">
<div class="phpcode"><code><span class="html">Here is a simple function which zips folders with all sub folders or only a simple file... the $data var can be a string or an array...<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">public function </span><span class="default">un_zip</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">$arcpf</span><span class="keyword">,</span><span class="default">$mode</span><span class="keyword">=</span><span class="string">'zip'</span><span class="keyword">,</span><span class="default">$obj</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">){<br />        </span><span class="default">$absoluterpfad </span><span class="keyword">= </span><span class="string">'YOUR_BASE_PATH'</span><span class="keyword">;<br />        </span><span class="default">$arcpf </span><span class="keyword">= </span><span class="default">$absoluterpfad</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">.</span><span class="default">$arcpf</span><span class="keyword">;<br />        if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)==</span><span class="default">false</span><span class="keyword">){<br />             </span><span class="default">$archiv </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">();<br />             </span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="default">$arcpf</span><span class="keyword">,</span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">);<br />        }else{</span><span class="default">$archiv </span><span class="keyword">=&amp; </span><span class="default">$obj</span><span class="keyword">;}<br />        if(</span><span class="default">$mode</span><span class="keyword">==</span><span class="string">'zip'</span><span class="keyword">){<br />           if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)==</span><span class="default">true</span><span class="keyword">){<br />                 foreach(</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$dtmp</span><span class="keyword">){<br />                     </span><span class="default">$archiv </span><span class="keyword">=&amp; </span><span class="default">un_zip</span><span class="keyword">(</span><span class="default">$dtmp</span><span class="keyword">,</span><span class="default">$arcpf</span><span class="keyword">,</span><span class="string">'zip'</span><span class="keyword">,&amp;</span><span class="default">$archiv</span><span class="keyword">);<br />                 }<br />           }else{<br />            if(</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)==</span><span class="default">true</span><span class="keyword">){<br />                    </span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">addEmptyDir</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$absoluterpfad</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">));<br />                  </span><span class="default">$files </span><span class="keyword">= </span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />               </span><span class="default">$bad </span><span class="keyword">= array(</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">'..'</span><span class="keyword">);<br />               </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$files</span><span class="keyword">,</span><span class="default">$bad</span><span class="keyword">);<br />               foreach(</span><span class="default">$files </span><span class="keyword">as </span><span class="default">$ftmp</span><span class="keyword">){<br />                   if(</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">.</span><span class="default">$ftmp</span><span class="keyword">)==</span><span class="default">true</span><span class="keyword">){<br />                        </span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">addEmptyDir</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$absoluterpfad</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$ftmp</span><span class="keyword">));<br />                        </span><span class="default">$archiv </span><span class="keyword">=&amp; </span><span class="default">un_zip</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">.</span><span class="default">$ftmp</span><span class="keyword">,</span><span class="default">$arcpf</span><span class="keyword">,</span><span class="string">'zip'</span><span class="keyword">,&amp;</span><span class="default">$archiv</span><span class="keyword">);<br />                   }elseif(</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">.</span><span class="default">$ftmp</span><span class="keyword">)==</span><span class="default">true</span><span class="keyword">){<br />                    </span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">.</span><span class="default">$ftmp</span><span class="keyword">,</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$absoluterpfad</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">.</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$ftmp</span><span class="keyword">));<br />                   }<br />                 }<br />            }elseif(</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)==</span><span class="default">true</span><span class="keyword">){</span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">,</span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$absoluterpfad</span><span class="keyword">.</span><span class="default">DS</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$data</span><span class="keyword">));}<br />           }<br />        }<br />        if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)==</span><span class="default">false</span><span class="keyword">){</span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();}<br />        else{return </span><span class="default">$archiv</span><span class="keyword">;}<br />        if(</span><span class="default">$mode</span><span class="keyword">==</span><span class="string">'unzip'</span><span class="keyword">){</span><span class="default">$archiv</span><span class="keyword">-&gt;</span><span class="default">extractTo</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);}<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="116937">  <div class="votes">
    <div id="Vu116937">
    <a href="https://www.php.net/manual/vote-note.php?id=116937&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116937">
    <a href="https://www.php.net/manual/vote-note.php?id=116937&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116937" title="57% like this...">
    3
    </div>
  </div>
  <a href="class.ziparchive.php.html#116937" class="name">
  <strong class="user"><em>nick at fullfatthings dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#116937"> &para;</a><div class="date" title="2015-03-24 02:59"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom116937">
<div class="phpcode"><code><span class="html">There is a limit withing PHP 5.3.3 (which seems to have been addressed in later versions; 5.3.29 seems ok on a different server).<br /><br />If you try to open a zip file with more than 65,535 files in it (in my case it had 237,942 files) then you cannot access the later files. The numFiles property only reports the first 65k files.</span></code></div>
  </div>
 </div>
  <div class="note" id="109618">  <div class="votes">
    <div id="Vu109618">
    <a href="https://www.php.net/manual/vote-note.php?id=109618&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109618">
    <a href="https://www.php.net/manual/vote-note.php?id=109618&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109618" title="54% like this...">
    3
    </div>
  </div>
  <a href="class.ziparchive.php.html#109618" class="name">
  <strong class="user"><em>niklas dot schumi at NOSPAM dot googlemail dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#109618"> &para;</a><div class="date" title="2012-08-02 10:44"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109618">
<div class="phpcode"><code><span class="html">Hi there.<br />I just wrote a little function to zip a whole folder while maintaining the dir-structure. I hope it might help someone.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">folderToZip</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">, &amp;</span><span class="default">$zipFile</span><span class="keyword">, </span><span class="default">$subfolder </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />    if (</span><span class="default">$zipFile </span><span class="keyword">== </span><span class="default">null</span><span class="keyword">) {<br />        </span><span class="comment">// no resource given, exit<br />        </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    </span><span class="comment">// we check if $folder has a slash at its end, if not, we append one<br />    </span><span class="default">$folder </span><span class="keyword">.= </span><span class="default">end</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">)) == </span><span class="string">"/" </span><span class="keyword">? </span><span class="string">"" </span><span class="keyword">: </span><span class="string">"/"</span><span class="keyword">;<br />    </span><span class="default">$subfolder </span><span class="keyword">.= </span><span class="default">end</span><span class="keyword">(</span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$subfolder</span><span class="keyword">)) == </span><span class="string">"/" </span><span class="keyword">? </span><span class="string">"" </span><span class="keyword">: </span><span class="string">"/"</span><span class="keyword">;<br />    </span><span class="comment">// we start by going through all files in $folder<br />    </span><span class="default">$handle </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">);<br />    while (</span><span class="default">$f </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">)) {<br />        if (</span><span class="default">$f </span><span class="keyword">!= </span><span class="string">"." </span><span class="keyword">&amp;&amp; </span><span class="default">$f </span><span class="keyword">!= </span><span class="string">".."</span><span class="keyword">) {<br />            if (</span><span class="default">is_file</span><span class="keyword">(</span><span class="default">$folder </span><span class="keyword">. </span><span class="default">$f</span><span class="keyword">)) {<br />                </span><span class="comment">// if we find a file, store it<br />                // if we have a subfolder, store it there<br />                </span><span class="keyword">if (</span><span class="default">$subfolder </span><span class="keyword">!= </span><span class="default">null</span><span class="keyword">)<br />                    </span><span class="default">$zipFile</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$folder </span><span class="keyword">. </span><span class="default">$f</span><span class="keyword">, </span><span class="default">$subfolder </span><span class="keyword">. </span><span class="default">$f</span><span class="keyword">);<br />                else<br />                    </span><span class="default">$zipFile</span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">(</span><span class="default">$folder </span><span class="keyword">. </span><span class="default">$f</span><span class="keyword">);<br />            } elseif (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$folder </span><span class="keyword">. </span><span class="default">$f</span><span class="keyword">)) {<br />                </span><span class="comment">// if we find a folder, create a folder in the zip <br />                </span><span class="default">$zipFile</span><span class="keyword">-&gt;</span><span class="default">addEmptyDir</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />                </span><span class="comment">// and call the function again<br />                </span><span class="default">folderToZip</span><span class="keyword">(</span><span class="default">$folder </span><span class="keyword">. </span><span class="default">$f</span><span class="keyword">, </span><span class="default">$zipFile</span><span class="keyword">, </span><span class="default">$f</span><span class="keyword">);<br />            }<br />        }<br />    }<br />}<br /></span><span class="default">?&gt;<br /></span><br />Use it like this:<br /><span class="default">&lt;?php<br />$z </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">();<br /></span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">"test.zip"</span><span class="keyword">, </span><span class="default">ZIPARCHIVE</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">);<br /></span><span class="default">folderToZip</span><span class="keyword">(</span><span class="string">"storeThisFolder"</span><span class="keyword">, </span><span class="default">$z</span><span class="keyword">);<br /></span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />Have a good day!</span></code></div>
  </div>
 </div>
  <div class="note" id="128559">  <div class="votes">
    <div id="Vu128559">
    <a href="https://www.php.net/manual/vote-note.php?id=128559&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128559">
    <a href="https://www.php.net/manual/vote-note.php?id=128559&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128559" title="100% like this...">
    2
    </div>
  </div>
  <a href="class.ziparchive.php.html#128559" class="name">
  <strong class="user"><em>theking2(at)king.ma</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#128559"> &para;</a><div class="date" title="2023-05-20 05:00"><strong>8 months ago</strong></div>
  <div class="text" id="Hcom128559">
<div class="phpcode"><code><span class="html">A modern way to zip a folder recursivly is using the DirectoryIterator. I use this little class:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">MakeZip<br /></span><span class="keyword">{<br />  private </span><span class="default">ZipArchive $zipArchive</span><span class="keyword">;<br />  private </span><span class="default">int $startPathLength</span><span class="keyword">; </span><span class="comment">// chars to remove from the start for the stored entity<br /><br />  </span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">(<br />    </span><span class="default">string $zipArchivename</span><span class="keyword">,<br />    public readonly </span><span class="default">string $startPath</span><span class="keyword">,<br />    public readonly </span><span class="default">mixed $convert_function</span><span class="keyword">,<br />  )<br />  {<br />    </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">zipArchive </span><span class="keyword">= new </span><span class="default">\ZipArchive</span><span class="keyword">;<br />    </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">zipArchive</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="default">$zipArchivename</span><span class="keyword">, </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CREATE</span><span class="keyword">);<br />    </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">startPathLength </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">startPath</span><span class="keyword">);<br /><br />    </span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">zipDir</span><span class="keyword">(</span><span class="default">$startPath</span><span class="keyword">);<br />  }<br />  public function </span><span class="default">__destruct</span><span class="keyword">()<br />  {<br />    </span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">zipArchive</span><span class="keyword">-&gt; </span><span class="default">close</span><span class="keyword">();<br />  }<br /><br />  </span><span class="comment">/**<br />   * Add files and sub-directories in a folder to zip file.<br />   * @param string $folder<br />   * @param ZipArchive $zipFile<br />   * @param int $exclusiveLength Number of text to be exclusived from the file path.<br />   */<br />  </span><span class="keyword">private function </span><span class="default">zipDir</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">)<br />  {<br />    echo </span><span class="default">$folder </span><span class="keyword">. </span><span class="string">'&lt;br&gt;' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />    foreach (new </span><span class="default">\DirectoryIterator</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">) as </span><span class="default">$f</span><span class="keyword">) {<br />      if (</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">isDot</span><span class="keyword">())<br />        continue; </span><span class="comment">//skip . ..<br />      </span><span class="keyword">if (</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">isDir</span><span class="keyword">()) {<br />        if( </span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getExtension</span><span class="keyword">() === </span><span class="string">'git'</span><span class="keyword">) continue; </span><span class="comment">// skip .git folder<br />        </span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">zipArchive</span><span class="keyword">-&gt; </span><span class="default">addEmptyDir</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getPathname</span><span class="keyword">());<br />        </span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">zipDir</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getPathname</span><span class="keyword">());<br /><br />        continue;<br />      }<br />      if (</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">isFile</span><span class="keyword">()) {<br />        if (</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getBasename</span><span class="keyword">() === </span><span class="default">basename</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)) continue; </span><span class="comment">// skip self <br />        </span><span class="keyword">if (</span><span class="default">$f</span><span class="keyword">-&gt;</span><span class="default">getExtension</span><span class="keyword">() === </span><span class="string">'zip'</span><span class="keyword">) continue; </span><span class="comment">// skip ZIP files<br /><br />        </span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">zipArchive </span><span class="keyword">-&gt;</span><span class="default">addFile</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">-&gt; </span><span class="default">getPathname</span><span class="keyword">(), </span><span class="default">$this</span><span class="keyword">-&gt; </span><span class="default">startPathLength</span><span class="keyword">) ); </span><span class="comment">// remove './'<br /><br />        </span><span class="keyword">continue;<br />      }<br /><br />    }<br />  }<br />}<br /></span><span class="default">?&gt;<br /></span><br />Which can be used thusly:<br /><span class="default">&lt;?php<br />  $host </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="string">'_'</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_HOST'</span><span class="keyword">]);<br />  </span><span class="default">$date </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Ymd-His'</span><span class="keyword">);<br /><br />  </span><span class="default">$zip </span><span class="keyword">= new </span><span class="default">\MakeZip</span><span class="keyword">(</span><span class="string">"./archiv-</span><span class="default">$host</span><span class="string">-</span><span class="default">$date</span><span class="string">.zip"</span><span class="keyword">, </span><span class="string">'./'</span><span class="keyword">, </span><span class="default">$convert_function</span><span class="keyword">);<br />  unset(</span><span class="default">$zip</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Add encryption or other features in the constructor.</span></code></div>
  </div>
 </div>
  <div class="note" id="109406">  <div class="votes">
    <div id="Vu109406">
    <a href="https://www.php.net/manual/vote-note.php?id=109406&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109406">
    <a href="https://www.php.net/manual/vote-note.php?id=109406&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109406" title="51% like this...">
    1
    </div>
  </div>
  <a href="class.ziparchive.php.html#109406" class="name">
  <strong class="user"><em>panique at web dot de</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#109406"> &para;</a><div class="date" title="2012-07-14 11:21"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109406">
<div class="phpcode"><code><span class="html">Important: Due to the natural file size limit of 4GB (~3,6GB to be correct) of zip files, this class will generate corrupt files of the result is larger than 4 GB. Using tar.gz is a proper alternative.</span></code></div>
  </div>
 </div>
  <div class="note" id="114158">  <div class="votes">
    <div id="Vu114158">
    <a href="https://www.php.net/manual/vote-note.php?id=114158&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114158">
    <a href="https://www.php.net/manual/vote-note.php?id=114158&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114158" title="41% like this...">
    -2
    </div>
  </div>
  <a href="class.ziparchive.php.html#114158" class="name">
  <strong class="user"><em>piotr dot stop dot spam at gmail dot com</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#114158"> &para;</a><div class="date" title="2014-01-17 04:58"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom114158">
<div class="phpcode"><code><span class="html">You can check general purpose flag to test if the zip file is encrypted. Example function below.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/**<br /> * Check if the file is encrypted<br /> * <br /> * Notice: if file doesn't exists or cannot be opened, function<br /> * also return false.<br /> * <br /> * @param string $pathToArchive<br /> * @return boolean return true if file is encrypted<br /> */<br /></span><span class="keyword">function </span><span class="default">isEncryptedZip</span><span class="keyword">( </span><span class="default">$pathToArchive </span><span class="keyword">) {<br />    </span><span class="default">$fp </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">( </span><span class="default">$pathToArchive</span><span class="keyword">, </span><span class="string">'r' </span><span class="keyword">);<br />    </span><span class="default">$encrypted </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />    if ( </span><span class="default">$fp </span><span class="keyword">&amp;&amp; </span><span class="default">fseek</span><span class="keyword">( </span><span class="default">$fp</span><span class="keyword">, </span><span class="default">6 </span><span class="keyword">) == </span><span class="default">0 </span><span class="keyword">) {<br />        </span><span class="default">$string </span><span class="keyword">= </span><span class="default">fread</span><span class="keyword">( </span><span class="default">$fp</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">);<br />        if ( </span><span class="default">false </span><span class="keyword">!== </span><span class="default">$string </span><span class="keyword">) {<br />            </span><span class="default">$data </span><span class="keyword">= </span><span class="default">unpack</span><span class="keyword">(</span><span class="string">"vgeneral"</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />            </span><span class="default">$encrypted </span><span class="keyword">= </span><span class="default">$data</span><span class="keyword">[ </span><span class="string">'general' </span><span class="keyword">] &amp; </span><span class="default">0x01 </span><span class="keyword">? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />        }<br />        </span><span class="default">fclose</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">);<br />    }<br />    return </span><span class="default">$encrypted</span><span class="keyword">;<br />}</span></span></code></div>
  </div>
 </div>
  <div class="note" id="100268">  <div class="votes">
    <div id="Vu100268">
    <a href="https://www.php.net/manual/vote-note.php?id=100268&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd100268">
    <a href="https://www.php.net/manual/vote-note.php?id=100268&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V100268" title="37% like this...">
    -4
    </div>
  </div>
  <a href="class.ziparchive.php.html#100268" class="name">
  <strong class="user"><em>h-fate at gmx dot net</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#100268"> &para;</a><div class="date" title="2010-10-05 04:17"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom100268">
<div class="phpcode"><code><span class="html">Be wary that there are several algorithms to generate a zip file. I found that Office OpenXML files created with ZipArchive are not recognized by Excel 2007, for example.<br /><br />You have to use a different class to zip in this case, such as PclZip.</span></code></div>
  </div>
 </div>
  <div class="note" id="119749">  <div class="votes">
    <div id="Vu119749">
    <a href="https://www.php.net/manual/vote-note.php?id=119749&amp;page=class.ziparchive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119749">
    <a href="https://www.php.net/manual/vote-note.php?id=119749&amp;page=class.ziparchive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119749" title="22% like this...">
    -10
    </div>
  </div>
  <a href="class.ziparchive.php.html#119749" class="name">
  <strong class="user"><em>M. Wolf</em></strong></a><a class="genanchor" href="class.ziparchive.php.html#119749"> &para;</a><div class="date" title="2016-08-17 05:39"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119749">
<div class="phpcode"><code><span class="html">How to detect corrupt files with CRC mismatch:<br /><br />Creating a corrupt archive for testing is simple - zip some files and change a byte with a hex editor in the resulting ZIP file. Now you can test the file with a ZIP application to learn which file inside the archive is corrupt.<br /><br />ZipArchive seems unable to detect broken files. ZipArchive::CHECKCONS doesn't help, only if it's not a ZIP file at all. It happily decompressed corrupt files in my tests and the user downloading the data is not informed.<br /><br />You can simply verify on the server for smaller files:<br /><span class="default">&lt;?php<br />$maxsize </span><span class="keyword">= </span><span class="default">1024</span><span class="keyword">*</span><span class="default">1024</span><span class="keyword">;<br /></span><span class="default">$z </span><span class="keyword">= new </span><span class="default">ZipArchive</span><span class="keyword">;<br /></span><span class="default">$r </span><span class="keyword">= </span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">open</span><span class="keyword">(</span><span class="string">"foo.zip"</span><span class="keyword">, </span><span class="default">ZipArchive</span><span class="keyword">::</span><span class="default">CHECKCONS</span><span class="keyword">);<br />if(</span><span class="default">$r </span><span class="keyword">!== </span><span class="default">TRUE</span><span class="keyword">)<br />  die(</span><span class="string">'ZIP error when trying to open "foo.zip": '</span><span class="keyword">.</span><span class="default">$r</span><span class="keyword">);<br /><br /></span><span class="default">$stat </span><span class="keyword">= </span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">statName</span><span class="keyword">(</span><span class="string">"mybrokenfile.txt"</span><span class="keyword">);<br />if(</span><span class="default">$stat</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">] &gt; </span><span class="default">$maxsize</span><span class="keyword">)<br />  die(</span><span class="string">'File too large, decompression denied'</span><span class="keyword">);<br /></span><span class="default">$s </span><span class="keyword">= </span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">getStream</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br /></span><span class="default">$data </span><span class="keyword">= </span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$maxsize</span><span class="keyword">);<br /></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">);<br />if(</span><span class="default">$stat</span><span class="keyword">[</span><span class="string">'crc'</span><span class="keyword">] != </span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">))<br />  die(</span><span class="string">'File is corrupt!'</span><span class="keyword">);<br /></span><span class="comment">//echo 'File is valid';<br /><br />//you may send the file to the client now if you didn't output anything before<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Description: File Transfer'</span><span class="keyword">);<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Type: application/octet-stream'</span><span class="keyword">);<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Disposition: attachment; filename="mybrokenfile.txt"'</span><span class="keyword">);<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Transfer-Encoding: binary'</span><span class="keyword">);<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Length: ' </span><span class="keyword">. </span><span class="default">$stat</span><span class="keyword">[</span><span class="string">'size'</span><span class="keyword">]);<br /></span><span class="default">ob_clean</span><span class="keyword">();<br />echo </span><span class="default">$data</span><span class="keyword">;<br /></span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">close</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span> <br />If the file shall not be fully decompressed on the server but decompressed while streaming to the client due to it's size, the file transfer already startet and printing an error message later doesn't work. Maybe the best way would be to interrupt the connection before closing the file transfer. The client should be able to detect this as corrupt download.<br />On the server side a function is needed, that can calculate the CRC32 on streamed data stepwise.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=class.ziparchive&amp;redirect=https://www.php.net/manual/ru/class.ziparchive.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="book.zip.php.html">Zip</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="intro.zip.php.html" title="Введение">Введение</a>
                        </li>
                                                <li class="">
                            <a href="zip.setup.php.html" title="Установка и настройка">Установка и настройка</a>
                        </li>
                                                <li class="">
                            <a href="zip.constants.php.html" title="Предопределённые константы">Предопределённые константы</a>
                        </li>
                                                <li class="">
                            <a href="zip.examples.php.html" title="Примеры">Примеры</a>
                        </li>
                                                <li class="current">
                            <a href="class.ziparchive.php.html" title="ZipArchive">ZipArchive</a>
                        </li>
                                                <li class="">
                            <a href="ref.zip.php.html" title="Функции Zip">Функции Zip</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
