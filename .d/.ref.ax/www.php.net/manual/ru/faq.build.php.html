<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: Проблемы сборки - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="faq.build.php.html">
 <link rel="shorturl" href="https://www.php.net/build">
 <link rel="alternate" href="https://www.php.net/build" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="faq.php.html">
 <link rel="prev" href="faq.installation.php.html">
 <link rel="next" href="faq.using.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/faq.build.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/faq.build.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/faq.build.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/faq.build.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/faq.build.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/faq.build.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/faq.build.php" hreflang="pt_BR">
 <link rel="alternate" href="faq.build.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/faq.build.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/faq.build.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="faq.using.php.html">
          Использование PHP &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="faq.installation.php.html">
          &laquo; Установка        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='faq.php.html'>ЧАВО</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/faq.build.php'>English</option>
            <option value='de/faq.build.php'>German</option>
            <option value='es/faq.build.php'>Spanish</option>
            <option value='fr/faq.build.php'>French</option>
            <option value='it/faq.build.php'>Italian</option>
            <option value='ja/faq.build.php'>Japanese</option>
            <option value='pt_BR/faq.build.php'>Brazilian Portuguese</option>
            <option value='ru/faq.build.php' selected="selected">Russian</option>
            <option value='tr/faq.build.php'>Turkish</option>
            <option value='zh/faq.build.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/faq/build.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffaq.build%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="faq.build" class="chapter">
 <h1>Проблемы сборки</h1>

 

 <p class="para">
  В этом разделе собраны наиболее общие ошибки, возникающие на этапе сборки.
 </p>

 <div class="qandaset"><ol class="qandaset_questions"><li><a href="faq.build.php.html#faq.build.configure">
    
     Я получил последнюю версию PHP, используя анонимный доступ к Git,
     но в нём нет конфигурационного скрипта!
    
   </a></li><li><a href="faq.build.php.html#faq.build.configuring">
    
     У меня возникают проблемы при конфигурировании PHP для работы с Apache.
     Он говорит, что не может найти httpd.h,
     хотя файл находится точно там, где я сказал!
    
   </a></li><li><a href="faq.build.php.html#faq.build.lex">
    
     Во время конфигурации PHP (./configure)
     вы наталкиваетесь на ошибку, схожую со следующей:
    
    
     
      checking lex output file root... ./configure: lex: command not found
      configure: error: cannot find output from lex; giving up
     
    
   </a></li><li><a href="faq.build.php.html#faq.build.apache-sharedcore">
    
     Когда я пытаюсь запустить Apache, я получаю следующее сообщение:
    
    
     
      fatal: relocation error: file /path/to/libphp4.so:
      symbol ap_block_alarms: referenced symbol not found
     
    
   </a></li><li><a href="faq.build.php.html#faq.build.not-found">
    
     Когда я запускаю configure, он говорит, что не может найти файлы
     include или библиотеку для GD, gdbm или какого-либо другого пакета!
    
   </a></li><li><a href="faq.build.php.html#faq.build.yytname">
    
     При компиляции файла language-parser.tab.c
     мне выдаются ошибки, говорящие yytname undeclared.
    
   </a></li><li><a href="faq.build.php.html#faq.build.link">
    
     Когда я запускаю make, похоже, он выполняется нормально,
     но на конечной линковке жалуется, что не может найти некоторые файлы.
    
   </a></li><li><a href="faq.build.php.html#faq.build.undefined">
    
     При компоновке PHP, он жалуется на некоторые неопределённые ссылки.
    
   </a></li><li><a href="faq.build.php.html#faq.build.not-running">
    
     Я следовал всем шагам по установке модульной версии для Apache на Unix,
     но мои PHP-скрипты выводятся в браузере или я получаю запрос сохранить файл.
    
   </a></li><li><a href="faq.build.php.html#faq.build.activate-module">
    
     В документации рекомендуется использовать:
     --activate-module=src/modules/php4/libphp4.a,
     но такой файл не существует, поэтому я заменил это на
     --activate-module=src/modules/php4/libmodphp4.a
     и оно не работает!? Что происходит?
    
   </a></li><li><a href="faq.build.php.html#faq.build.ansi">
    
     Когда я пытаюсь собрать Apache c PHP в виде статического модуля,
     используя --activate-module=src/modules/php4/libphp4.a
     он говорит, что мой компилятор не ANSI-совместимый.
    
   </a></li><li><a href="faq.build.php.html#faq.build.apxs">
    
     Когда я пытаюсь собрать PHP с помощью --with-apxs,
     я получаю странное сообщение об ошибке.
    
   </a></li><li><a href="faq.build.php.html#faq.build.microtime">
    
     Во время выполнения make я очень быстро получаю
     ошибки и множество всяких RUSAGE_.
    
   </a></li><li><a href="faq.build.php.html#faq.build.mysql.tempnam">
    
     При компиляции PHP с MySQL, configure выполняется нормально,
     но во время make я получаю ошибку типа следующей:
     ext/mysql/libmysqlclient/my_tempnam.o(.text+0x46): In function
      my_tempnam&#039;: /php4/ext/mysql/libmysqlclient/my_tempnam.c:103: the  use
      of tempnam&#039; is dangerous, better use mkstemp&#039;,
     в чём дело?
    
   </a></li><li><a href="faq.build.php.html#faq.build.upgrade">
    
     Я хочу обновить мой PHP. Где я могу найти строку
     ./configure, которая была использована для моей
     текущей PHP установки?
    
   </a></li><li><a href="faq.build.php.html#faq.build.gdlibs">
    
     При сборке PHP с библиотекой GD, либо выдаются странные ошибки
     компиляции, либо ошибки сегментации (segfaults) при выполнении.
    
   </a></li><li><a href="faq.build.php.html#faq.installation.needgnu">
    
     При компиляции PHP я, кажется, получаю случайные ошибки, например она
     зависает. Я использую Solaris, если это имеет значение.
    
   </a></li></ol></div>
  <dl class="qandaentry" id="faq.build.configure">
   <dt><strong>
    
     Я получил последнюю версию PHP, используя анонимный доступ к Git,
     но в нём нет конфигурационного скрипта!
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Вам нужен установленный пакет GNU autoconf для того, чтобы сгенерировать
     конфигурационный скрипт из <var class="filename">configure.in</var>.
     После получения исходников с Git сервера просто запустите
     <strong class="command">./buildconf</strong> в директории верхнего уровня.
     (Также, если вы запускаете <strong class="command">configure</strong> без опции
     <code class="literal">--enable-maintainer-mode</code>, то конфигурационный
     скрипт не будет перестроен автоматически при изменении файла
     <var class="filename">configure.in</var>, поэтому вам необходимо делать это
     вручную, когда вы заметите, что <var class="filename">configure.in</var> изменился.
     Один из симптомов - появление таких вещей как @VARIABLE@ в вашем Makefile
     после выполнения configure или <var class="filename">config.status</var>.)
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.configuring">
   <dt><strong>
    
     У меня возникают проблемы при конфигурировании PHP для работы с Apache.
     Он говорит, что не может найти <var class="filename">httpd.h</var>,
     хотя файл находится точно там, где я сказал!
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Для configure/setup скрипта вам необходимо указать
     директорию верхнего уровня, в которой находятся исходники Apache.
     Это означает, что вам надо задать <strong class="option configure">--with-apache=/path/to/apache</strong>,
     а <em>не</em>
     <strong class="option configure">--with-apache=/path/to/apache/src</strong>.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.lex">
   <dt><strong>
    
     Во время конфигурации PHP (<code class="literal">./configure</code>)
     вы наталкиваетесь на ошибку, схожую со следующей:
    
    
     <div class="example-contents screen"><br />
      checking lex output file root... ./configure: lex: command not found<br />
      configure: error: cannot find output from lex; giving up<br />
     </div>
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Не забудьте внимательно прочитать инструкции по
     <a href="install.unix.php.html" class="link">установке</a> и заметьте, что для
     компиляции PHP вам нужно установить как flex, так и bison.
     В зависимости от ваших настроек, установите bison и flex либо из
     исходников, либо из пакетов, например, RPM.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.apache-sharedcore">
   <dt><strong>
    
     Когда я пытаюсь запустить Apache, я получаю следующее сообщение:
    
    
     <div class="example-contents screen"><br />
      fatal: relocation error: file /path/to/libphp4.so:<br />
      symbol ap_block_alarms: referenced symbol not found<br />
     </div>
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Эта ошибка обычно появляется, если ядро Apache было скомпилировано как
     разделяемая библиотека DSO (Dynamic Shared Object). Попробуйте
     переконфигурировать Apache, используя, по крайней мере, следующие флаги:
    </p>
    <p class="para">
     <div class="example-contents screen"><br />
      --enable-shared=max --enable-rule=SHARED_CORE<br />
     </div>
    </p>
    <p class="para">
     Для более подробной информации читайте файл <var class="filename">INSTALL</var>
     в директории верхнего уровня или <a href="http://httpd.apache.org/docs/current/dso.html" class="link external">&raquo;&nbsp;
     страницу руководства Apache по DSO</a>.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.not-found">
   <dt><strong>
    
     Когда я запускаю configure, он говорит, что не может найти файлы
     include или библиотеку для GD, gdbm или какого-либо другого пакета!
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Вы можете сделать так, что скрипт configure будет искать файлы
     заголовков или библиотеки в нестандартных местах, задав дополнительные
     флаги для С препроцессора и компоновщика, такие как:
     <div class="example-contents">
<div class="cdata"><pre>
    CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure
</pre></div>
     </div>

     Если вы используете csh-подобную оболочку (зачем?), то это будет:
     <div class="example-contents">
<div class="cdata"><pre>
    env CPPFLAGS=-I/path/to/include LDFLAGS=-L/path/to/library ./configure
</pre></div>
     </div>

    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.yytname">
   <dt><strong>
    
     При компиляции файла <var class="filename">language-parser.tab.c</var>
     мне выдаются ошибки, говорящие <code class="literal">yytname undeclared</code>.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Вам необходимо обновить вашу версию Bison. Последнюю версию можно
     найти на
     <a href="http://www.gnu.org/software/bison/bison.html" class="link external">&raquo;&nbsp;http://www.gnu.org/software/bison/bison.html</a>.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.link">
   <dt><strong>
    
     Когда я запускаю <strong class="command">make</strong>, похоже, он выполняется нормально,
     но на конечной линковке жалуется, что не может найти некоторые файлы.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Некоторые старые версии make ошибочно не помещают скомпилированные
     файлы в поддиректорию functions в той же директории.
     Попробуйте выполнить <strong class="command">cp *.o functions</strong> и затем
     перезапустить <strong class="command">make</strong>. Если это помогло, то вам
     действительно надо установить свежую версию GNU make.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.undefined">
   <dt><strong>
    
     При компоновке PHP, он жалуется на некоторые неопределённые ссылки.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Посмотрите на строку для компоновки и убедитесь, что все нужные библиотеки
     добавлены в конце. Часто забывают &#039;-ldl&#039; и библиотеки, необходимые для
     поддержки включённых вручную баз данных.
    </p>
    <p class="para">
     Некоторые люди также сообщают, что при компоновке с Apache
     им пришлось добавить &#039;-ldl&#039; сразу после <var class="filename">libphp4.a</var>.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.not-running">
   <dt><strong>
    
     Я следовал всем шагам по установке модульной версии для Apache на Unix,
     но мои PHP-скрипты выводятся в браузере или я получаю запрос сохранить файл.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Это означает, что по какой-то причине модуль PHP не вызывается.
     Перед тем как обращаться за помощью, проверьте три вещи:
     <ul class="itemizedlist">
      <li class="listitem">
       <span class="simpara">
        Убедитесь, что запускаемый вами бинарник httpd действительно новый,
        только что построенный httpd. Для этого попробуйте запустить:
        <code class="literal">/path/to/binary/httpd -l</code>
       </span>
       <span class="simpara">
        Если вы не видите <var class="filename">mod_php4.c</var> в списке, то вы
        запускаете не тот бинарник. Найдите и установите правильный бинарник.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Убедитесь, что вы добавили правильный Mime Type в один из ваших
        <code class="literal">Apache .conf</code>
        файлов. Это должно быть: <code class="literal">AddType application/x-httpd-php .php</code>
       </span>
       <span class="simpara">
        Также убедитесь, что эта строка AddType не попала внутрь
        &lt;Virtualhost&gt; или &lt;Directory&gt; блока, так как это не
        даст
        ей работать с местонахождением вашего тестового скрипта.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Наконец, между Apache 1.2 и Apache 1.3 расположение конфигурационных
        файлов Apache по умолчанию изменилось. Вам надо проверить, что
        действительно читается тот конфигурационный файл, в который вы
        добавили строку AddType. Вы можете внести очевидную синтаксическую
        ошибку в ваш <var class="filename">httpd.conf</var> файл или какое-либо другое заметное
        изменение, которое покажет вам, что читается правильный файл.
       </span>
      </li>
     </ul>
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.activate-module">
   <dt><strong>
    
     В документации рекомендуется использовать:
     <code class="literal">--activate-module=src/modules/php4/libphp4.a</code>,
     но такой файл не существует, поэтому я заменил это на
     <code class="literal">--activate-module=src/modules/php4/libmodphp4.a</code>
     и оно не работает!? Что происходит?
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Заметьте, что файл <var class="filename">libphp4.a</var> не должен
     существовать.
     Он будет создан в процессе!
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.ansi">
   <dt><strong>
    
     Когда я пытаюсь собрать Apache c PHP в виде статического модуля,
     используя <code class="literal">--activate-module=src/modules/php4/libphp4.a</code>
     он говорит, что мой компилятор не ANSI-совместимый.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Сообщение об ошибке вводит в заблуждение; это исправлено в более
     свежих версиях Apache.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.apxs">
   <dt><strong>
    
     Когда я пытаюсь собрать PHP с помощью <strong class="option configure">--with-apxs</strong>,
     я получаю странное сообщение об ошибке.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Проверьте три вещи. Во-первых, по какой-то причине, когда Apache
     создаёт Perl скрипт apxs, он получается без правильного компилятора и
     переменных, задающих флаги.
     Найдите ваш apxs скрипт (попробуйте команду <strong class="command">which apxs</strong>),
     иногда он установлен как <var class="filename">/usr/local/apache/bin/apxs</var>
     или <var class="filename">/usr/sbin/apxs</var>.
     Откройте его и найдите строки, схожие с этими:
     <div class="example-contents">
<div class="cdata"><pre>
my $CFG_CFLAGS_SHLIB  = &#039; &#039;;          # substituted via Makefile.tmpl
my $CFG_LD_SHLIB      = &#039; &#039;;          # substituted via Makefile.tmpl
my $CFG_LDFLAGS_SHLIB = &#039; &#039;;          # substituted via Makefile.tmpl
</pre></div>
     </div>

     Если они так и выглядят, то вы нашли вашу проблему. Они могут содержать
     только пробелы или другие неправильные значения, такие как &#039;q()&#039;.
     Измените эти строки на:
     <div class="example-contents">
<div class="cdata"><pre>
my $CFG_CFLAGS_SHLIB  = &#039;-fpic -DSHARED_MODULE&#039;; # substituted via Makefile.tmpl
my $CFG_LD_SHLIB      = &#039;gcc&#039;;                   # substituted via Makefile.tmpl
my $CFG_LDFLAGS_SHLIB = q(-shared);              # substituted via Makefile.tmpl
</pre></div>
     </div>

     Вторая возможная проблема возникает только на Red Hat 6.1 и 6.2.
     Скрипт apxs, поставляемый с Red Hat, сломан. Ищите эту строку:
     <div class="example-contents">
<div class="cdata"><pre>
my $CFG_LIBEXECDIR    = &#039;modules&#039;;         # substituted via APACI install
</pre></div>
     </div>

     Если вы нашли вышеприведённую строку, измените её на следующее:
     <div class="example-contents">
<div class="cdata"><pre>
my $CFG_LIBEXECDIR    = &#039;/usr/lib/apache&#039;; # substituted via APACI install
</pre></div>
     </div>

     И последнее, если вы переконфигурируете/переустанавливаете Apache,
     запустите <strong class="command">make clean</strong> после <strong class="command">./configure</strong>
     и перед <strong class="command">make</strong>.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.microtime">
   <dt><strong>
    
     Во время выполнения <strong class="command">make</strong> я очень быстро получаю
     ошибки и множество всяких <code class="literal">RUSAGE_</code>.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     При выполнении <strong class="command">make</strong> во время установки,
     если вы сталкиваетесь с проблемами, похожими на следующее:
     <div class="example-contents">
<div class="cdata"><pre>
microtime.c: In function `php_if_getrusage&#039;:
microtime.c:94: storage size of `usg&#039; isn&#039;t known
microtime.c:97: `RUSAGE_SELF&#039; undeclared (first use in this function)
microtime.c:97: (Each undeclared identifier is reported only once
microtime.c:97: for each function it appears in.)
microtime.c:103: `RUSAGE_CHILDREN&#039; undeclared (first use in this function)
make[3]: *** [microtime.lo] Error 1
make[3]: Leaving directory `/home/master/php-4.0.1/ext/standard&#039;
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory `/home/master/php-4.0.1/ext/standard&#039;
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/home/master/php-4.0.1/ext&#039;
make: *** [all-recursive] Error 1
</pre></div>
     </div>

    </p>
    <p class="para">
     Ваша система сломана. Вы должны исправить ваши файлы
     <var class="filename">/usr/include</var>, установив пакет glibc-devel,
     который соответствует вашей glibc. Это абсолютно не зависит от PHP.
     Для доказательства попробуйте следующий простой тест:
     <div class="example-contents">
<div class="cdata"><pre>
$ cat &gt;test.c &lt;&lt;X
#include &lt;sys/resource.h&gt;
X
$ gcc -E test.c &gt;/dev/null
</pre></div>
     </div>

     Если выдаются ошибки, то ваши include файлы испорчены.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.mysql.tempnam">
   <dt><strong>
    
     При компиляции PHP с MySQL, configure выполняется нормально,
     но во время <code class="literal">make</code> я получаю ошибку типа следующей:
     <em>ext/mysql/libmysqlclient/my_tempnam.o(.text+0x46): In function
      my_tempnam&#039;: /php4/ext/mysql/libmysqlclient/my_tempnam.c:103: the  use
      of tempnam&#039; is dangerous, better use mkstemp&#039;</em>,
     в чём дело?
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Во-первых, важно понимать, что это <code class="literal">Warning</code> (предупреждение),
     а не фатальная ошибка. Так как это последнее, что выводится во время
     <code class="literal">make</code>, оно может выглядеть как фатальная ошибка,
     но это не так. Конечно, если ваш компилятор умирает на предупреждениях,
     (Warnings), то тогда да. Также имейте ввиду, что поддержка MySQL
     включена по умолчанию.
    </p>
    <blockquote class="note"><p><strong class="note">Замечание</strong>: 
     <p class="para">
      Начиная с PHP 4.3.2 вы также будете видеть следующий текст после
      того как сборка (make) завершится:
     </p>
     <p class="para">
      <div class="example-contents screen"><br />
       Build complete.<br />
       (It is safe to ignore warnings about tempnam and tmpnam).<br />
       (Сборка завершена, можно безопасно игнорировать<br />
       предупреждения о tempnam и tmpnam.)<br />
      </div>
     </p>
    </p></blockquote>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.upgrade">
   <dt><strong>
    
     Я хочу обновить мой PHP. Где я могу найти строку
     <strong class="command">./configure</strong>, которая была использована для моей
     текущей PHP установки?
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Либо смотрите файл config.nice в дереве исходников вашей текущей PHP
     установки, либо, если это недоступно, просто выполните скрипт:
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php phpinfo</span><span style="color: #007700">(); </span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

     В начале вывода будет находиться строка <strong class="command">./configure</strong>,
     которая была использована для сборки текущего PHP.
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.build.gdlibs">
   <dt><strong>
    
     При сборке PHP с библиотекой GD, либо выдаются странные ошибки
     компиляции, либо ошибки сегментации (segfaults) при выполнении.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Убедитесь, что ваша библиотека GD и PHP компонуются с одними и теми же
     зависимыми библиотеками (например, libpng).
    </p>
   </dd>
  </dl>

  <dl class="qandaentry" id="faq.installation.needgnu">
   <dt><strong>
    
     При компиляции PHP я, кажется, получаю случайные ошибки, например она
     зависает. Я использую Solaris, если это имеет значение.
    
   </strong></dt>
   <dd class="answer">
    <p class="para">
     Использование не GNU утилит во время компиляции PHP может вызвать
     проблемы.
     Чтобы быть уверенным, что компиляция PHP будет работать,
     используйте GNU утилиты. Например, в Solaris, использование
     SunOS BSD-совместимой или Solaris версии <code class="literal">sed</code>
     не будет работать, а GNU или Sun POSIX (xpg4) версии
     <code class="literal">sed</code> будет.
     Ссылки: <a href="http://www.gnu.org/software/sed/sed.html" class="link external">&raquo;&nbsp;GNU sed</a>,
     <a href="http://www.gnu.org/software/flex/flex.html" class="link external">&raquo;&nbsp;GNU flex</a>, and
     <a href="http://www.gnu.org/software/bison/bison.html" class="link external">&raquo;&nbsp;GNU bison</a>.
    </p>
   </dd>
  </dl>
 
</div>
<section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=faq.build&amp;redirect=https://www.php.net/manual/ru/faq.build.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">4 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="107623">  <div class="votes">
    <div id="Vu107623">
    <a href="https://www.php.net/manual/vote-note.php?id=107623&amp;page=faq.build&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd107623">
    <a href="https://www.php.net/manual/vote-note.php?id=107623&amp;page=faq.build&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V107623" title="76% like this...">
    11
    </div>
  </div>
  <a href="faq.build.php.html#107623" class="name">
  <strong class="user"><em>Fabio</em></strong></a><a class="genanchor" href="faq.build.php.html#107623"> &para;</a><div class="date" title="2012-02-22 01:47"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom107623">
<div class="phpcode"><code><span class="html">When building PHP 5.3.x for Apache 2.4.x you may get an error in the apxs query for the MPM_NAME.<br />This is because the apxs included in Apache 2.4.x doesn't recognize that query anymore.<br /><br />To resolve this issue one should modify the PHP configure file to use the right MPM module used by Apache.<br /><br />To know the used MPM you can execute this command: apachectl -t -D DUMP_MODULES | grep mpm<br /><br />Then, edit the PHP configure file, search for the APXS_MPM variable and force its value to prefork, event or worker according to the value returned by the previous command.<br /><br />Hope it helps.<br />-<br />Fabio</span></code></div>
  </div>
 </div>
  <div class="note" id="93634">  <div class="votes">
    <div id="Vu93634">
    <a href="https://www.php.net/manual/vote-note.php?id=93634&amp;page=faq.build&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93634">
    <a href="https://www.php.net/manual/vote-note.php?id=93634&amp;page=faq.build&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93634" title="63% like this...">
    6
    </div>
  </div>
  <a href="faq.build.php.html#93634" class="name">
  <strong class="user"><em>terry at mackintoshweb dot com</em></strong></a><a class="genanchor" href="faq.build.php.html#93634"> &para;</a><div class="date" title="2009-09-19 08:43"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93634">
<div class="phpcode"><code><span class="html">The configure script of PHP 5.3.0 has some test lines that use expr with the option --, my expr (version 2.0) does not except --.  This causes a run of error messages from the shell like:<br /><br />./configure: line 2xxx: test: =: unary operator expected<br />expr: syntax error<br /><br />I used buildconf --force to see if it would fix this.<br />While it resulted in a quit different file, it still had the lines of code with expr -- in it.</span></code></div>
  </div>
 </div>
  <div class="note" id="74942">  <div class="votes">
    <div id="Vu74942">
    <a href="https://www.php.net/manual/vote-note.php?id=74942&amp;page=faq.build&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74942">
    <a href="https://www.php.net/manual/vote-note.php?id=74942&amp;page=faq.build&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74942" title="58% like this...">
    3
    </div>
  </div>
  <a href="faq.build.php.html#74942" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="faq.build.php.html#74942"> &para;</a><div class="date" title="2007-05-05 06:48"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74942">
<div class="phpcode"><code><span class="html">@ anca-phpdoc at anca dot tv: <br /><br />You can use ./configure --with-libxml-dir=/path_to_xml2-config</span></code></div>
  </div>
 </div>
  <div class="note" id="59524">  <div class="votes">
    <div id="Vu59524">
    <a href="https://www.php.net/manual/vote-note.php?id=59524&amp;page=faq.build&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59524">
    <a href="https://www.php.net/manual/vote-note.php?id=59524&amp;page=faq.build&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59524" title="58% like this...">
    3
    </div>
  </div>
  <a href="faq.build.php.html#59524" class="name">
  <strong class="user"><em>anca-phpdoc at anca dot tv</em></strong></a><a class="genanchor" href="faq.build.php.html#59524"> &para;</a><div class="date" title="2005-12-08 07:48"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59524">
<div class="phpcode"><code><span class="html">For the configure newbies among us:<br /><br />If you update or reinstall any of the libraries used to compile in a different directory than they started out, you will need to make sure that you update the config.cache file (or re-generate it) so that configure will not look in the wrong place for the information. <br /><br />On Mac OS X, for example, I updated my libxml using Fink.  Fink placed the files in the /sw directory.  However, php was still looking for important libxml files (such as xml2-config) in the old directory (/usr/bin/xml2-config).   After updating config.cache with the new value of the xml2-config path, I was able to compile correctly.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=faq.build&amp;redirect=https://www.php.net/manual/ru/faq.build.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="faq.php.html">ЧАВО</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="faq.general.php.html" title="Общая информация">Общая информация</a>
                        </li>
                                                <li class="">
                            <a href="faq.mailinglist.php.html" title="Списки рассылки">Списки рассылки</a>
                        </li>
                                                <li class="">
                            <a href="faq.obtaining.php.html" title="Получение PHP">Получение PHP</a>
                        </li>
                                                <li class="">
                            <a href="faq.databases.php.html" title="Вопросы по базам данных">Вопросы по базам данных</a>
                        </li>
                                                <li class="">
                            <a href="faq.installation.php.html" title="Установка">Установка</a>
                        </li>
                                                <li class="current">
                            <a href="faq.build.php.html" title="Проблемы сборки">Проблемы сборки</a>
                        </li>
                                                <li class="">
                            <a href="faq.using.php.html" title="Использование PHP">Использование PHP</a>
                        </li>
                                                <li class="">
                            <a href="faq.passwords.php.html" title="Хеширование паролей">Хеширование паролей</a>
                        </li>
                                                <li class="">
                            <a href="faq.html.php.html" title="PHP и HTML">PHP и HTML</a>
                        </li>
                                                <li class="">
                            <a href="faq.com.php.html" title="PHP и COM">PHP и COM</a>
                        </li>
                                                <li class="">
                            <a href="faq.misc.php.html" title="Разные вопросы">Разные вопросы</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
