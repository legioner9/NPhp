<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: Хеширование паролей - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="faq.passwords.php.html">
 <link rel="shorturl" href="https://www.php.net/passwords">
 <link rel="alternate" href="https://www.php.net/passwords" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="faq.php.html">
 <link rel="prev" href="faq.using.php.html">
 <link rel="next" href="faq.html.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/faq.passwords.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/faq.passwords.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/faq.passwords.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/faq.passwords.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/faq.passwords.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/faq.passwords.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/faq.passwords.php" hreflang="pt_BR">
 <link rel="alternate" href="faq.passwords.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/faq.passwords.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/faq.passwords.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="faq.html.php.html">
          PHP и HTML &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="faq.using.php.html">
          &laquo; Использование PHP        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='faq.php.html'>ЧАВО</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/faq.passwords.php'>English</option>
            <option value='de/faq.passwords.php'>German</option>
            <option value='es/faq.passwords.php'>Spanish</option>
            <option value='fr/faq.passwords.php'>French</option>
            <option value='it/faq.passwords.php'>Italian</option>
            <option value='ja/faq.passwords.php'>Japanese</option>
            <option value='pt_BR/faq.passwords.php'>Brazilian Portuguese</option>
            <option value='ru/faq.passwords.php' selected="selected">Russian</option>
            <option value='tr/faq.passwords.php'>Turkish</option>
            <option value='zh/faq.passwords.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/faq/passwords.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffaq.passwords%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="faq.passwords" class="chapter">
  <h1>Безопасное хеширование паролей</h1>

  

  <p class="para">
   В этом разделе разъясняются причины, стоящие за хешированием паролей в целях
   безопасности, а также эффективные методы хеширования.
  </p>

  <div class="qandaset"><ol class="qandaset_questions"><li><a href="faq.passwords.php.html#faq.passwords.hashing">
     
      Почему я должен хешировать пароли пользователей в моем приложении?
     
    </a></li><li><a href="faq.passwords.php.html#faq.passwords.fasthash">
     
      Почему популярные хеширующие функции, такие как md5 и
      sha1 не подходят для паролей?
     
    </a></li><li><a href="faq.passwords.php.html#faq.passwords.bestpractice">
     
      Если популярные хеширующие функции не подходят, как же я тогда должен
      хешировать свои пароли?
     
    </a></li><li><a href="faq.passwords.php.html#faq.passwords.salt">
     
      Что такое соль?
     
    </a></li><li><a href="faq.passwords.php.html#faq.password.storing-salts">
     
      Как я должен хранить свою соль?
     
    </a></li></ol></div>
   <dl class="qandaentry" id="faq.passwords.hashing">
    <dt><strong>
     
      Почему я должен хешировать пароли пользователей в моем приложении?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      Хеширование паролей является одним из самых основных соображений безопасности,
      которые необходимо сделать, при разработке приложения, принимающего пароли
      от пользователей. Без хеширования, пароли, хранящиеся в базе вашего приложения,
      могут быть украдены, например, если ваша база данных была скомпрометирована,
      а затем немедленно могут быть применены для компрометации не только вашего
      приложения, но и аккаунтов ваших пользователей на других сервисах, если
      они не используют уникальных паролей.
     </p>
     <p class="para">
      Применяя хеширующий алгоритм к пользовательским паролям перед сохранением
      их в своей базе данных, вы делаете невозможным разгадывание оригинального
      пароля для атакующего вашу базу данных, в то же время сохраняя возможность
      сравнения полученного хеша с оригинальным паролем.
     </p>
     <p class="para">
      Важно заметить, однако, что хеширование паролей защищает их только
      от компрометирования в вашем хранилище, но не обязательно от вмешательства
      вредоносного кода в вашем приложении.
     </p>
    </dd>
   </dl>
   <dl class="qandaentry" id="faq.passwords.fasthash">
    <dt><strong>
     
      Почему популярные хеширующие функции, такие как <span class="function"><a href="function.md5.php.html" class="function">md5()</a></span> и
      <span class="function"><a href="function.sha1.php.html" class="function">sha1()</a></span> не подходят для паролей?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      Такие хеширующие алгоритмы как MD5, SHA1 и SHA256 были спроектированы
      очень быстрыми и эффективными. При наличии современных технологий и
      оборудования, стало довольно просто выяснить результат этих алгоритмов методом
      &quot;грубой силы&quot; для определения оригинальных вводимых данных.
     </p>
     <p class="para">
      Из-за той скорости, с которой современные компьютеры могут &quot;обратить&quot;
      эти хеширующие алгоритмы, многие профессионалы компьютерной безопасности
      строго не рекомендуют использовать их для хеширования паролей.
     </p>
    </dd>
   </dl>
   <dl class="qandaentry" id="faq.passwords.bestpractice">
    <dt><strong>
     
      Если популярные хеширующие функции не подходят, как же я тогда должен
      хешировать свои пароли?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      При хешировании паролей существует два важных соображения: это стоимость
      вычисления и соль. Чем выше стоимость вычисления хеширующего алгоритма,
      тем больше времени требуется для взлома его вывода методом &quot;грубой силы&quot;.
     </p>
     <p class="para">
      PHP предоставляет <a href="book.password.php.html" class="link">встроенное API хеширования паролей</a>,
      которое безопасно работает и с <a href="function.password-hash.php.html" class="link">хешированием</a>
      и с <a href="function.password-verify.php.html" class="link">проверкой паролей</a>.
     </p>
     
     <p class="para">
      Другой возможностью является функция <span class="function"><a href="function.crypt.php.html" class="function">crypt()</a></span>, которая
      поддерживает несколько алгоритмов хеширования. При использовании
      этой функции вы можете быть уверенным, что выбранный вами алгоритм
      доступен, так как PHP содержит собственную реализацию каждого
      поддерживаемого алгоритма, даже в случае, если какие-то из них
      не поддерживаются вашей системой.
     </p>
     <p class="para">
      При хешировании паролей рекомендуется применять алгоритм Blowfish, который
      также используется по умолчанию в API хеширования паролей, так как
      он значительно большей вычислительной сложности, чем MD5 или SHA1,
      при этом по-прежнему гибок.
     </p>
     <p class="para">
      Учтите, что, если вы используете функцию <span class="function"><a href="function.crypt.php.html" class="function">crypt()</a></span> для проверки
      пароля, то вам нужно предостеречь себя от атак по времени, применяя
      сравнение строк, которое занимает постоянное время. Ни операторы PHP
      <a href="language.operators.comparison.php.html" class="link">== и ===</a>,
      ни функция <span class="function"><a href="function.strcmp.php.html" class="function">strcmp()</a></span> не являются таковыми.
      Функция же <span class="function"><a href="function.password-verify.php.html" class="function">password_verify()</a></span> как раз делает то, что нужно.
      Настоятельно рекомендуется использовать
      <a href="book.password.php.html" class="link">встроенное API хеширования паролей</a>,
      если есть такая возможность.
     </p>
    </dd>
   </dl>
   <dl class="qandaentry" id="faq.passwords.salt">
    <dt><strong>
     
      Что такое соль?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      Криптографическая соль представляет собой данные, которые применяются в
      процессе хеширования для предотвращения возможности разгадать оригинальный ввод
      с помощью поиска результата хеширования в списке заранее вычисленных пар
      ввод-хеш, известном также как &quot;радужная&quot; таблица.
     </p>
     <p class="para">
      Более простыми словами, соль - это кусочек дополнительных данных, которые
      делают ваши хеши намного более устойчивыми к взлому. Существует много
      онлайн-сервисов, предоставляющих обширные списки заранее вычисленных хешей
      вместе с их оригинальным вводом. Использование соли делает поиск результирующего
      хеша в таком списке маловероятным или даже невозможным.
     </p>
     <p class="para">
      <span class="function"><a href="function.password-hash.php.html" class="function">password_hash()</a></span> создаёт случайную соль в случае, если
      она не была передана, и чаще всего это наилучший и безопасный выбор.
     </p>
    </dd>
   </dl>
   <dl class="qandaentry" id="faq.password.storing-salts">
    <dt><strong>
     
      Как я должен хранить свою соль?
     
    </strong></dt>
    <dd class="answer">
     <p class="para">
      При использовании функции <span class="function"><a href="function.password-hash.php.html" class="function">password_hash()</a></span> или
      <span class="function"><a href="function.crypt.php.html" class="function">crypt()</a></span>, возвращаемое значение уже содержит соль как часть
      созданного хеша. Это значение нужно хранить как есть в вашей базе данных,
      так как оно содержит также информацию о хеширующей функции, которая использовалась,
      и может быть непосредственно передано в функции <span class="function"><a href="function.password-verify.php.html" class="function">password_verify()</a></span>
      или <span class="function"><a href="function.crypt.php.html" class="function">crypt()</a></span> при проверке пароля.
     </p>
     <p class="para">
      Следующая диаграмма показывает формат возвращаемого значения функциями
      <span class="function"><a href="function.crypt.php.html" class="function">crypt()</a></span> или <span class="function"><a href="function.password-hash.php.html" class="function">password_hash()</a></span>. Как
      можно видеть, они содержат полную информацию об алгоритме
      и соли, требуемых для будущей проверки пароля.
     </p>
     <p class="para">
      <div class="mediaobject">
       
       <div class="imageobject">
        <img src="images/2a34c7f2e658f6ae74f3869f2aa5886f-crypt-text-rendered.svg" alt="
        Компоненты значения, возвращаемые функциями password_hash и crypt, идут в следующем порядке:
        выбранный алгоритм, опции алгоритма, соль и хеш пароля.
       " width="690" height="192" />
       </div>
      </div>
     </p>
    </dd>
   </dl>
  

 </div>
<section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=faq.passwords&amp;redirect=https://www.php.net/manual/ru/faq.passwords.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">4 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="114618">  <div class="votes">
    <div id="Vu114618">
    <a href="https://www.php.net/manual/vote-note.php?id=114618&amp;page=faq.passwords&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114618">
    <a href="https://www.php.net/manual/vote-note.php?id=114618&amp;page=faq.passwords&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114618" title="64% like this...">
    145
    </div>
  </div>
  <a href="faq.passwords.php.html#114618" class="name">
  <strong class="user"><em>alf dot henrik at ascdevel dot com</em></strong></a><a class="genanchor" href="faq.passwords.php.html#114618"> &para;</a><div class="date" title="2014-03-12 07:58"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114618">
<div class="phpcode"><code><span class="html">I feel like I should comment some of the clams being posted as replies here.<br /><br />For starters, speed IS an issue with MD5 in particular and also SHA1. I've written my own MD5 bruteforce application just for the fun of it, and using only my CPU I can easily check a hash against about 200mill. hash per second. The main reason for this speed is that you for most attempts can bypass 19 out of 64 steps in the algorithm. For longer input (&gt; 16 characters) it won't apply, but I'm sure there's some ways around it.<br /><br />If you search online you'll see people claiming to be able to check against billions of hashes per second using GPUs. I wouldn't be surprised if it's possible to reach 100 billion per second on a single computer alone these days, and it's only going to get worse. It would require a watt monster with 4 dual high-end GPUs or something, but still possible.<br /><br />Here's why 100 billion per second is an issue:<br />Assume most passwords contain a selection of 96 characters. A password with 8 characters would then have 96^8 = 7,21389578984e+15 combinations.<br />With 100 billion per second it would then take 7,21389578984e+15 / 3600 = ~20 hours to figure out what it actually says. Keep in mind that you'll need to add the numbers for 1-7 characters as well. 20 hours is not a lot if you want to target a single user. <br /><br />So on essence:<br />There's a reason why newer hash algorithms are specifically designed not to be easily implemented on GPUs.<br /><br />Oh, and I can see there's someone mentioning MD5 and rainbow tables. If you read the numbers here, I hope you realize how incredibly stupid and useless rainbow tables have become in terms of MD5. Unless the input to MD5 is really huge, you're just not going to be able to compete with GPUs here. By the time a storage media is able to produce far beyond 3TB/s, the CPUs and GPUs will have reached much higher speeds.<br /><br />As for SHA1, my belief is that it's about a third slower than MD5. I can't verify this myself, but it seems to be the case judging the numbers presented for MD5 and SHA1. The issue with speeds is basically very much the same here as well.<br /><br />The moral here:<br />Please do as told. Don't every use MD5 and SHA1 for hasing passwords ever again. We all know passwords aren't going to be that long for most people, and that's a major disadvantage. Adding long salts will help for sure, but unless you want to add some hundred bytes of salt, there's going to be fast bruteforce applications out there ready to reverse engineer your passwords or your users' passwords.</span></code></div>
  </div>
 </div>
  <div class="note" id="119525">  <div class="votes">
    <div id="Vu119525">
    <a href="https://www.php.net/manual/vote-note.php?id=119525&amp;page=faq.passwords&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119525">
    <a href="https://www.php.net/manual/vote-note.php?id=119525&amp;page=faq.passwords&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119525" title="61% like this...">
    24
    </div>
  </div>
  <a href="faq.passwords.php.html#119525" class="name">
  <strong class="user"><em>swardx at gmail dot com</em></strong></a><a class="genanchor" href="faq.passwords.php.html#119525"> &para;</a><div class="date" title="2016-06-29 09:36"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119525">
<div class="phpcode"><code><span class="html">A great read..<br /><br /><a href="https://nakedsecurity.sophos.com/2013/11/20/serious-security-how-to-store-your-users-passwords-safely/" rel="nofollow" target="_blank">https://nakedsecurity.sophos.com/2013/11/20/serious-security-how-to-store-your-users-passwords-safely/</a><br /><br />Serious Security: How to store your users’ passwords safely<br /><br />In summary, here is our minimum recommendation for safe storage of your users’ passwords:<br /><br />    Use a strong random number generator to create a salt of 16 bytes or longer.<br />    Feed the salt and the password into the PBKDF2 algorithm.<br />    Use HMAC-SHA-256 as the core hash inside PBKDF2.<br />    Perform 20,000 iterations or more. (June 2016.)<br />    Take 32 bytes (256 bits) of output from PBKDF2 as the final password hash.<br />    Store the iteration count, the salt and the final hash in your password database.<br />    Increase your iteration count regularly to keep up with faster cracking tools.<br /><br />Whatever you do, don’t try to knit your own password storage algorithm.</span></code></div>
  </div>
 </div>
  <div class="note" id="126448">  <div class="votes">
    <div id="Vu126448">
    <a href="https://www.php.net/manual/vote-note.php?id=126448&amp;page=faq.passwords&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd126448">
    <a href="https://www.php.net/manual/vote-note.php?id=126448&amp;page=faq.passwords&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V126448" title="52% like this...">
    1
    </div>
  </div>
  <a href="faq.passwords.php.html#126448" class="name">
  <strong class="user"><em>tamas at microwizard dot com</em></strong></a><a class="genanchor" href="faq.passwords.php.html#126448"> &para;</a><div class="date" title="2021-09-22 08:23"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom126448">
<div class="phpcode"><code><span class="html">While I am reading the comments some old math lessons came into my mind and started thinking. Using constants in a mathematical algorythms do not change the complexity of the algorythm itself.<br /><br />The reason of salting is to avoid using rainbow tables (sorry guys this is the only reason) because it speeds up (shortcuts) the "actual" processing power.<br />(((Longer stored hashes AND longer password increases complexity of cracking NOT adding salt ALONE.)))<br /><br />PHP salting functions returns all the needed information for checking passwords, therfore this information should be treated as constant from farther point of view. It is also a target for rainbow tables (sure: for much-much larger ones).<br /><br />What is the solution?<br />The solution is to store password hash and salt on different places.<br />The implementation is yours. Every two different places will be good enough.<br /><br />Yes, it will make problems for hackers. He/she needs to understand your system. No speed up for password cracking will work for him/her without reimplementing your whole system.<br /><br />This is my two cent.</span></code></div>
  </div>
 </div>
  <div class="note" id="109002">  <div class="votes">
    <div id="Vu109002">
    <a href="https://www.php.net/manual/vote-note.php?id=109002&amp;page=faq.passwords&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109002">
    <a href="https://www.php.net/manual/vote-note.php?id=109002&amp;page=faq.passwords&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109002" title="50% like this...">
    4
    </div>
  </div>
  <a href="faq.passwords.php.html#109002" class="name">
  <strong class="user"><em>fluffy at beesbuzz dot biz</em></strong></a><a class="genanchor" href="faq.passwords.php.html#109002"> &para;</a><div class="date" title="2012-06-11 11:33"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109002">
<div class="phpcode"><code><span class="html">The security issue with simple hashing (md5 et al) isn't really the speed, so much as the fact that it's idempotent; two different people with the same password will have the same hash, and so if one person's hash is brute-forced, the other one will as well.  This facilitates rainbow attacks.  Simply slowing the hash down isn't a very useful tactic for improving security.  It doesn't matter how slow and cumbersome your hash algorithm is - as soon as someone has a weak password that's in a dictionary, EVERYONE with that weak password is vulnerable.<br /><br />Also, hash algorithms such as md5 are for the purpose of generating a digest and checking if two things are probably the same as each other; they are not intended to be impossible to generate a collision for.  Even if an underlying password itself requires a lot of brute forcing to determine, that doesn't mean it will be impossible to find some other bit pattern that generates the same hash in a trivial amount of time.<br /><br />As such: please, please, PLEASE only use salted hashes for password storage.  There is no reason to implement your own salted hash mechanism, either, as crypt() already does an excellent job of this.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=faq.passwords&amp;redirect=https://www.php.net/manual/ru/faq.passwords.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="faq.php.html">ЧАВО</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="faq.general.php.html" title="Общая информация">Общая информация</a>
                        </li>
                                                <li class="">
                            <a href="faq.mailinglist.php.html" title="Списки рассылки">Списки рассылки</a>
                        </li>
                                                <li class="">
                            <a href="faq.obtaining.php.html" title="Получение PHP">Получение PHP</a>
                        </li>
                                                <li class="">
                            <a href="faq.databases.php.html" title="Вопросы по базам данных">Вопросы по базам данных</a>
                        </li>
                                                <li class="">
                            <a href="faq.installation.php.html" title="Установка">Установка</a>
                        </li>
                                                <li class="">
                            <a href="faq.build.php.html" title="Проблемы сборки">Проблемы сборки</a>
                        </li>
                                                <li class="">
                            <a href="faq.using.php.html" title="Использование PHP">Использование PHP</a>
                        </li>
                                                <li class="current">
                            <a href="faq.passwords.php.html" title="Хеширование паролей">Хеширование паролей</a>
                        </li>
                                                <li class="">
                            <a href="faq.html.php.html" title="PHP и HTML">PHP и HTML</a>
                        </li>
                                                <li class="">
                            <a href="faq.com.php.html" title="PHP и COM">PHP и COM</a>
                        </li>
                                                <li class="">
                            <a href="faq.misc.php.html" title="Разные вопросы">Разные вопросы</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
