<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: array_merge_recursive - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.array-merge-recursive.php.html">
 <link rel="shorturl" href="https://www.php.net/array-merge-recursive">
 <link rel="alternate" href="https://www.php.net/array-merge-recursive" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.array.php.html">
 <link rel="prev" href="function.array-map.php.html">
 <link rel="next" href="function.array-merge.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.array-merge-recursive.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.array-merge-recursive.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.array-merge-recursive.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.array-merge-recursive.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.array-merge-recursive.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.array-merge-recursive.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.array-merge-recursive.php" hreflang="pt_BR">
 <link rel="alternate" href="function.array-merge-recursive.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.array-merge-recursive.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.array-merge-recursive.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.array-merge.php.html">
          array_merge &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.array-map.php.html">
          &laquo; array_map        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.vartype.php.html'>Модули, относящиеся к переменным и типам</a></li>      <li><a href='book.array.php.html'>Массивы</a></li>      <li><a href='ref.array.php.html'>Функции для работы с массивами</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.array-merge-recursive.php'>English</option>
            <option value='de/function.array-merge-recursive.php'>German</option>
            <option value='es/function.array-merge-recursive.php'>Spanish</option>
            <option value='fr/function.array-merge-recursive.php'>French</option>
            <option value='it/function.array-merge-recursive.php'>Italian</option>
            <option value='ja/function.array-merge-recursive.php'>Japanese</option>
            <option value='pt_BR/function.array-merge-recursive.php'>Brazilian Portuguese</option>
            <option value='ru/function.array-merge-recursive.php' selected="selected">Russian</option>
            <option value='tr/function.array-merge-recursive.php'>Turkish</option>
            <option value='zh/function.array-merge-recursive.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/array/functions/array-merge-recursive.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.array-merge-recursive%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.array-merge-recursive" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_merge_recursive</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">array_merge_recursive</span> &mdash; <span class="dc-title">Рекурсивное слияние одного или более массивов</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.array-merge-recursive-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>array_merge_recursive</strong></span>(<span class="methodparam"><span class="type">array</span> <code class="parameter">...$arrays</code></span>): <span class="type">array</span></div>

  <p class="para rdfs-comment">
   Функция <span class="function"><strong>array_merge_recursive()</strong></span> сливает элементы
   двух или более массивов таким образом, что значения одного массива
   присоединяются в конец другого. Возвращает результирующий массив.
  </p>
  <p class="para">
   Если входные массивы имеют одинаковые строковые ключи,
   то значения этих ключей сливаются в массив, и это делается рекурсивно,
   так что если одно из значений является массивом, то функция сливает его
   с соответствующим значением в другом массиве. Однако, если массивы имеют
   одинаковые числовые ключи, каждое последующее значение не заменит
   исходное значение, а будет добавлено в конец массива.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.array-merge-recursive-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">arrays</code></dt>

     <dd>

      <p class="para">
       Рекурсивно сливаемые массивы.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-merge-recursive-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Массив значений, полученный в результате слияния аргументов
   вместе.
   Если вызывается без аргументов, возвращает пустой <span class="type">array</span>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.array-merge-recursive-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.4.0</td>
       <td>
        Функция теперь может быть вызвана без каких-либо параметров.
         Ранее требовался хотя бы один параметр.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-merge-recursive-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>array_merge_recursive()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$ar1 </span><span style="color: #007700">= array(</span><span style="color: #DD0000">"color" </span><span style="color: #007700">=&gt; array(</span><span style="color: #DD0000">"favorite" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"red"</span><span style="color: #007700">), </span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$ar2 </span><span style="color: #007700">= array(</span><span style="color: #0000BB">10</span><span style="color: #007700">, </span><span style="color: #DD0000">"color" </span><span style="color: #007700">=&gt; array(</span><span style="color: #DD0000">"favorite" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"green"</span><span style="color: #007700">, </span><span style="color: #DD0000">"blue"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$result </span><span style="color: #007700">= </span><span style="color: #0000BB">array_merge_recursive</span><span style="color: #007700">(</span><span style="color: #0000BB">$ar1</span><span style="color: #007700">, </span><span style="color: #0000BB">$ar2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Результат выполнения приведённого примера:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [color] =&gt; Array
        (
            [favorite] =&gt; Array
                (
                    [0] =&gt; red
                    [1] =&gt; green
                )

            [0] =&gt; blue
        )

    [0] =&gt; 5
    [1] =&gt; 10
)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.array-merge-recursive-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-merge.php.html" class="function" rel="rdfs-seeAlso">array_merge()</a> - Сливает один или большее количество массивов</span></li>
    <li class="member"><span class="function"><a href="function.array-replace-recursive.php.html" class="function" rel="rdfs-seeAlso">array_replace_recursive()</a> - Рекурсивно заменяет элементы первого массива элементами переданных массивов</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.array-merge-recursive&amp;redirect=https://www.php.net/manual/ru/function.array-merge-recursive.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">38 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="92195">  <div class="votes">
    <div id="Vu92195">
    <a href="https://www.php.net/manual/vote-note.php?id=92195&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92195">
    <a href="https://www.php.net/manual/vote-note.php?id=92195&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92195" title="80% like this...">
    156
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#92195" class="name">
  <strong class="user"><em>gabriel dot sobrinho at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#92195"> &para;</a><div class="date" title="2009-07-13 07:56"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92195">
<div class="phpcode"><code><span class="html">I refactored the Daniel's function and I got it:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * array_merge_recursive does indeed merge arrays, but it converts values with duplicate<br /> * keys to arrays rather than overwriting the value in the first array with the duplicate<br /> * value in the second array, as array_merge does. I.e., with array_merge_recursive,<br /> * this happens (documented behavior):<br /> *<br /> * array_merge_recursive(array('key' =&gt; 'org value'), array('key' =&gt; 'new value'));<br /> *     =&gt; array('key' =&gt; array('org value', 'new value'));<br /> *<br /> * array_merge_recursive_distinct does not change the datatypes of the values in the arrays.<br /> * Matching keys' values in the second array overwrite those in the first array, as is the<br /> * case with array_merge, i.e.:<br /> *<br /> * array_merge_recursive_distinct(array('key' =&gt; 'org value'), array('key' =&gt; 'new value'));<br /> *     =&gt; array('key' =&gt; array('new value'));<br /> *<br /> * Parameters are passed by reference, though only for performance reasons. They're not<br /> * altered by this function.<br /> *<br /> * @param array $array1<br /> * @param array $array2<br /> * @return array<br /> * @author Daniel &lt;daniel (at) danielsmedegaardbuus (dot) dk&gt;<br /> * @author Gabriel Sobrinho &lt;gabriel (dot) sobrinho (at) gmail (dot) com&gt;<br /> */<br /></span><span class="keyword">function </span><span class="default">array_merge_recursive_distinct </span><span class="keyword">( array &amp;</span><span class="default">$array1</span><span class="keyword">, array &amp;</span><span class="default">$array2 </span><span class="keyword">)<br />{<br />  </span><span class="default">$merged </span><span class="keyword">= </span><span class="default">$array1</span><span class="keyword">;<br /><br />  foreach ( </span><span class="default">$array2 </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$value </span><span class="keyword">)<br />  {<br />    if ( </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) &amp;&amp; isset ( </span><span class="default">$merged </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] ) &amp;&amp; </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$merged </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] ) )<br />    {<br />      </span><span class="default">$merged </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_merge_recursive_distinct </span><span class="keyword">( </span><span class="default">$merged </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value </span><span class="keyword">);<br />    }<br />    else<br />    {<br />      </span><span class="default">$merged </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />    }<br />  }<br /><br />  return </span><span class="default">$merged</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />This fix the E_NOTICE when the the first array doesn't have the key and the second array have a value which is a array.</span></code></div>
  </div>
 </div>
  <div class="note" id="106985">  <div class="votes">
    <div id="Vu106985">
    <a href="https://www.php.net/manual/vote-note.php?id=106985&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106985">
    <a href="https://www.php.net/manual/vote-note.php?id=106985&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106985" title="80% like this...">
    25
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#106985" class="name">
  <strong class="user"><em>martyniuk dot vasyl at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#106985"> &para;</a><div class="date" title="2011-12-24 09:10"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106985">
<div class="phpcode"><code><span class="html">This is my version of array_merge_recursive without overwriting numeric keys:<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">array_merge_recursive_new</span><span class="keyword">() {<br /><br />        </span><span class="default">$arrays </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />        </span><span class="default">$base </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br /><br />        foreach (</span><span class="default">$arrays </span><span class="keyword">as </span><span class="default">$array</span><span class="keyword">) {<br />            </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">); </span><span class="comment">//important<br />            </span><span class="keyword">while (list(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) = @</span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />                if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; @</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])) {<br />                    </span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_merge_recursive_new</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value</span><span class="keyword">);<br />                } else {<br />                    </span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />                }<br />            }<br />        }<br /><br />        return </span><span class="default">$base</span><span class="keyword">;<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="88373">  <div class="votes">
    <div id="Vu88373">
    <a href="https://www.php.net/manual/vote-note.php?id=88373&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88373">
    <a href="https://www.php.net/manual/vote-note.php?id=88373&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88373" title="83% like this...">
    4
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#88373" class="name">
  <strong class="user"><em>remy dot damour at -please-no-spam-laposte dot net</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#88373"> &para;</a><div class="date" title="2009-01-21 06:28"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom88373">
<div class="phpcode"><code><span class="html">If what you want is merge all values of your array that are arrays themselves to get a resulting array of depth one, then you're more looking for array_flatten function.<br /><br />Unfortunately I did not find such native function in php, here is the one I wrote:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Flatten an array so that resulting array is of depth 1.<br /> * If any value is an array itself, it is merged by parent array, and so on.<br /> *<br /> * @param array $array<br /> * @param bool $preserver_keys OPTIONAL When true, keys are preserved when mergin nested arrays (=&gt; values with same key get overwritten)<br /> * @return array<br /> */<br /></span><span class="keyword">function </span><span class="default">array_flatten</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$preserve_keys </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">)<br />{<br />    if (!</span><span class="default">$preserve_keys</span><span class="keyword">) {<br />        </span><span class="comment">// ensure keys are numeric values to avoid overwritting when array_merge gets called<br />        </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />    }<br />    <br />    </span><span class="default">$flattened_array </span><span class="keyword">= array();<br />    foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />        if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)) {<br />            </span><span class="default">$flattened_array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$flattened_array</span><span class="keyword">, </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">, </span><span class="default">$preserve_keys</span><span class="keyword">));<br />        } elseif (</span><span class="default">$preserve_keys</span><span class="keyword">) {<br />            </span><span class="default">$flattened_array</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />        } else {<br />            </span><span class="default">$flattened_array</span><span class="keyword">[] = </span><span class="default">$v</span><span class="keyword">;<br />        }<br />    }<br />    return </span><span class="default">$flattened_array</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">// example<br /></span><span class="default">$a </span><span class="keyword">= array (</span><span class="string">'k1' </span><span class="keyword">=&gt; </span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'k2' </span><span class="keyword">=&gt; array(</span><span class="string">'k1' </span><span class="keyword">=&gt; </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'k4' </span><span class="keyword">=&gt; array(</span><span class="string">'k3' </span><span class="keyword">=&gt; </span><span class="string">'c'</span><span class="keyword">)));<br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">array_flatten</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)); </span><span class="comment">// output: array(0 =&gt; 'a', 1 =&gt; 'b', 2 =&gt; 'c')<br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">array_flatten</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">)); </span><span class="comment">// output: array('k1' =&gt; 'b', 'k3' =&gt; 'c') // first 'k1' value gets overwritten by nested 'k1' value<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="82976">  <div class="votes">
    <div id="Vu82976">
    <a href="https://www.php.net/manual/vote-note.php?id=82976&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82976">
    <a href="https://www.php.net/manual/vote-note.php?id=82976&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82976" title="78% like this...">
    8
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#82976" class="name">
  <strong class="user"><em>thomas at n-o-s-p-a-m dot thoftware dot de</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#82976"> &para;</a><div class="date" title="2008-05-04 06:50"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom82976">
<div class="phpcode"><code><span class="html">This is a simple, three line approach.<br /><br />Short description: If one of the Arguments isn't an Array, first Argument is returned. If an Element is an Array in both Arrays, Arrays are merged recursively, otherwise the element in $ins will overwrite the element in $arr (regardless if key is numeric or not). This also applys to Arrays in $arr, if the Element is scalar in $ins (in difference to the previous approach).<br /><br />  function array_insert($arr,$ins) {<br />    # Loop through all Elements in $ins:<br />    if (is_array($arr) &amp;&amp; is_array($ins)) foreach ($ins as $k =&gt; $v) {<br />      # Key exists in $arr and both Elemente are Arrays: Merge recursively.<br />      if (isset($arr[$k]) &amp;&amp; is_array($v) &amp;&amp; is_array($arr[$k])) $arr[$k] = array_insert($arr[$k],$v);<br />      # Place more Conditions here (see below)<br />      # ...<br />      # Otherwise replace Element in $arr with Element in $ins:<br />      else $arr[$k] = $v;<br />    }<br />    # Return merged Arrays:<br />    return($arr);<br />  }<br /><br />In Addition to felix dot ospald at gmx dot de in my opinion there is no need to compare keys with type-casting, as a key always is changed into an integer if it could be an integer. Just try<br /><br />$a = array('1'=&gt;'1');<br />echo gettype(key($a));<br /><br />It will echo 'integer'. So for having Integer-Keys simply appended instead of replaced, add the Line:<br /><br />  elseif (is_int($k)) $arr[] = $v;<br /><br />A Condition I used is:<br /><br />  elseif (is_null($v)) unset($arr[$k]);<br /><br />So a NULL-Value in $ins will unset the correspondig Element in $arr (which is different to setting it to NULL!). This may be another Addition to felix dot ospald at gmx dot de: The absolute correct way to check for a Key existing in an Array is using array_key_exists() (not needed in the current context, as isset() is combined with is_array()). array_key_exists() will return TRUE even if the Value of the Element is NULL.<br /><br />And the last one: If you want to use this approach for more than 2 Arrays, simply use this:<br /><br />  function array_insert_mult($arr) {<br />    # More than 1 Argument: Append all Arguments.<br />    if (func_num_args() &gt; 1) foreach (array_slice(func_get_args(),1) as $ins) $arr = array_insert($arr,$ins);<br />    # Return merged Arrays:<br />    return($arr);<br />  }<br /><br />And if you worry about maintaining References: Simply use $ins[$k] instead of $v when assigning a Value/using a Value as Argument.</span></code></div>
  </div>
 </div>
  <div class="note" id="89684">  <div class="votes">
    <div id="Vu89684">
    <a href="https://www.php.net/manual/vote-note.php?id=89684&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd89684">
    <a href="https://www.php.net/manual/vote-note.php?id=89684&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V89684" title="75% like this...">
    10
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#89684" class="name">
  <strong class="user"><em>daniel at danielsmedegaardbuus dot dk</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#89684"> &para;</a><div class="date" title="2009-03-19 02:18"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom89684">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * array_merge_recursive does indeed merge arrays, but it converts values with duplicate<br /> * keys to arrays rather than overwriting the value in the first array with the duplicate<br /> * value in the second array, as array_merge does. I.e., with array_merge_recursive,<br /> * this happens (documented behavior):<br /> * <br /> * array_merge_recursive(array('key' =&gt; 'org value'), array('key' =&gt; 'new value'));<br /> *     =&gt; array('key' =&gt; array('org value', 'new value'));<br /> * <br /> * array_merge_recursive_distinct does not change the datatypes of the values in the arrays.<br /> * Matching keys' values in the second array overwrite those in the first array, as is the<br /> * case with array_merge, i.e.:<br /> * <br /> * array_merge_recursive_distinct(array('key' =&gt; 'org value'), array('key' =&gt; 'new value'));<br /> *     =&gt; array('key' =&gt; array('new value'));<br /> * <br /> * Parameters are passed by reference, though only for performance reasons. They're not<br /> * altered by this function.<br /> * <br /> * @param array $array1<br /> * @param mixed $array2<br /> * @return array<br /> * @author daniel@danielsmedegaardbuus.dk<br /> */<br /></span><span class="keyword">function &amp;</span><span class="default">array_merge_recursive_distinct</span><span class="keyword">(array &amp;</span><span class="default">$array1</span><span class="keyword">, &amp;</span><span class="default">$array2 </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />{<br />  </span><span class="default">$merged </span><span class="keyword">= </span><span class="default">$array1</span><span class="keyword">;<br />  <br />  if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">))<br />    foreach (</span><span class="default">$array2 </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">)<br />      if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]))<br />        </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]) ? </span><span class="default">array_merge_recursive_distinct</span><span class="keyword">(</span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$array2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]) : </span><span class="default">$array2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />      else<br />        </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />  <br />  return </span><span class="default">$merged</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="104145">  <div class="votes">
    <div id="Vu104145">
    <a href="https://www.php.net/manual/vote-note.php?id=104145&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104145">
    <a href="https://www.php.net/manual/vote-note.php?id=104145&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104145" title="71% like this...">
    21
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#104145" class="name">
  <strong class="user"><em>walf</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#104145"> &para;</a><div class="date" title="2011-05-25 10:23"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104145">
<div class="phpcode"><code><span class="html">There are a lot of examples here for recursion that are meant to behave more like array_merge() but they don't get it quite right or are fairly customised. I think this version is most similar, takes more than 2 arguments and can be renamed in one place:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">array_merge_recursive_simple</span><span class="keyword">() {<br /><br />    if (</span><span class="default">func_num_args</span><span class="keyword">() &lt; </span><span class="default">2</span><span class="keyword">) {<br />        </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__ </span><span class="keyword">.</span><span class="string">' needs two or more array arguments'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />        return;<br />    }<br />    </span><span class="default">$arrays </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />    </span><span class="default">$merged </span><span class="keyword">= array();<br />    while (</span><span class="default">$arrays</span><span class="keyword">) {<br />        </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br />        if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />            </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__ </span><span class="keyword">.</span><span class="string">' encountered a non array argument'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />            return;<br />        }<br />        if (!</span><span class="default">$array</span><span class="keyword">)<br />            continue;<br />        foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />            if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))<br />                if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$merged</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]))<br />                    </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value</span><span class="keyword">);<br />                else<br />                    </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />            else<br />                </span><span class="default">$merged</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />    }<br />    return </span><span class="default">$merged</span><span class="keyword">;<br />}<br /><br /></span><span class="default">$a1 </span><span class="keyword">= array(<br />    </span><span class="default">88 </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />    </span><span class="string">'foo' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br />    </span><span class="string">'bar' </span><span class="keyword">=&gt; array(</span><span class="default">4</span><span class="keyword">),<br />    </span><span class="string">'x' </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">,<br />    </span><span class="string">'z' </span><span class="keyword">=&gt; array(<br />        </span><span class="default">6</span><span class="keyword">,<br />        </span><span class="string">'m' </span><span class="keyword">=&gt; </span><span class="string">'hi'</span><span class="keyword">,<br />    ),<br />);<br /></span><span class="default">$a2 </span><span class="keyword">= array(<br />    </span><span class="default">99 </span><span class="keyword">=&gt; </span><span class="default">7</span><span class="keyword">,<br />    </span><span class="string">'foo' </span><span class="keyword">=&gt; array(</span><span class="default">8</span><span class="keyword">),<br />    </span><span class="string">'bar' </span><span class="keyword">=&gt; </span><span class="default">9</span><span class="keyword">,<br />    </span><span class="string">'y' </span><span class="keyword">=&gt; </span><span class="default">10</span><span class="keyword">,<br />    </span><span class="string">'z' </span><span class="keyword">=&gt; array(<br />        </span><span class="string">'m' </span><span class="keyword">=&gt; </span><span class="string">'bye'</span><span class="keyword">,<br />        </span><span class="default">11</span><span class="keyword">,<br />    ),<br />);<br /></span><span class="default">$a3 </span><span class="keyword">= array(<br />    </span><span class="string">'z' </span><span class="keyword">=&gt; array(<br />        </span><span class="string">'m' </span><span class="keyword">=&gt; </span><span class="string">'ciao'</span><span class="keyword">,<br />    ),<br />);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">, </span><span class="default">$a3</span><span class="keyword">));<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge_recursive_simple</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">, </span><span class="default">$a3</span><span class="keyword">));<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">, </span><span class="default">$a3</span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />gives:<br /><br />array(7) {              array(7) {              array(7) {<br />  int(1)                  int(1)                  int(1)<br />  ["foo"]=&gt;               ["foo"]=&gt;               ["foo"]=&gt;<br />  array(1) {              array(1) {              array(2) {<br />    [0]=&gt;                   [0]=&gt;                   [0]=&gt;<br />    int(8)                  int(8)                  int(2)<br />  }                       }                         [1]=&gt;<br />  ["bar"]=&gt;               ["bar"]=&gt;                 int(8)<br />  int(9)                  int(9)                  }<br />  ["x"]=&gt;                 ["x"]=&gt;                 ["bar"]=&gt;<br />  int(5)                  int(5)                  array(2) {<br />  ["z"]=&gt;                 ["z"]=&gt;                   [0]=&gt;<br />  array(1) {              array(3) {                int(4)<br />    ["m"]=&gt;                 [0]=&gt;                   [1]=&gt;<br />    string(4) "ciao"        int(6)                  int(9)<br />  }                         ["m"]=&gt;               }<br />  [1]=&gt;                     string(4) "ciao"      ["x"]=&gt;<br />  int(7)                    [1]=&gt;                 int(5)<br />  ["y"]=&gt;                   int(11)               ["z"]=&gt;<br />  int(10)                 }                       array(3) {<br />}                         [1]=&gt;                     [0]=&gt;<br />                          int(7)                    int(6)<br />                          ["y"]=&gt;                   ["m"]=&gt;<br />                          int(10)                   array(3) {<br />                        }                             [0]=&gt;<br />                                                      string(2) "hi"<br />                                                      [1]=&gt;<br />                                                      string(3) "bye"<br />                                                      [2]=&gt;<br />                                                      string(4) "ciao"<br />                                                    }<br />                                                    [1]=&gt;<br />                                                    int(11)<br />                                                  }<br />                                                  [1]=&gt;<br />                                                  int(7)<br />                                                  ["y"]=&gt;<br />                                                  int(10)<br />                                                }</span></code></div>
  </div>
 </div>
  <div class="note" id="118727">  <div class="votes">
    <div id="Vu118727">
    <a href="https://www.php.net/manual/vote-note.php?id=118727&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118727">
    <a href="https://www.php.net/manual/vote-note.php?id=118727&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118727" title="73% like this...">
    12
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#118727" class="name">
  <strong class="user"><em>fantomx1 at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#118727"> &para;</a><div class="date" title="2016-01-26 11:35"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118727">
<div class="phpcode"><code><span class="html">I little bit improved daniel's and gabriel's contribution to behave more like original array_merge function to append numeric keys instead of overwriting them and added usefull option of specifying which elements to merge as you more often than not need to merge only specific part of array tree, and some parts of array just need  to let overwrite previous. By specifying helper element mergeWithParent=true, that section of array  will be merged, otherwise latter array part will override former. First level of array behave as classic array_merge.<br /><br />        function array_merge_recursive_distinct ( array &amp;$array1, array &amp;$array2 )<br />    {<br />        static $level=0;<br />        $merged = [];<br />        if (!empty($array2["mergeWithParent"]) || $level == 0) {<br />            $merged = $array1;<br />        }<br /><br />        foreach ( $array2 as $key =&gt; &amp;$value )<br />        {<br />            if (is_numeric($key)) {<br />                $merged [] = $value;<br />            } else {<br />                $merged[$key] = $value;<br />            }<br /><br />            if ( is_array ( $value ) &amp;&amp; isset ( $array1 [$key] ) &amp;&amp; is_array ( $array1 [$key] )<br />            ) {<br />                $level++;<br />                $merged [$key] = array_merge_recursive_distinct($array1 [$key], $value);<br />                $level--;<br />            }<br />        }<br />        unset($merged["mergeWithParent"]);<br />        return $merged;<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="91835">  <div class="votes">
    <div id="Vu91835">
    <a href="https://www.php.net/manual/vote-note.php?id=91835&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91835">
    <a href="https://www.php.net/manual/vote-note.php?id=91835&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91835" title="75% like this...">
    2
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#91835" class="name">
  <strong class="user"><em>jonnybergstrom at googles mail domain dot comm</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#91835"> &para;</a><div class="date" title="2009-06-27 08:30"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom91835">
<div class="phpcode"><code><span class="html">This function didn't work for me - or it didn't do what I thought it would. So I wrote the below function, which merges two arrays, and returns the resulting array. The base array is the left one ($a1), and if a key is set in both arrays, the right value has precedence. If a value in the left one is an array and also an array in the right one, the function calls itself (recursion). If the left one is an array and the right one exists but is not an array, then the right non-array-value will be used.<br /><br />*Any key only appearing in the right one will be ignored* <br /> - as I didn't need values appearing only in the right in my implementation, but if you want that you could make some fast fix.<br /><br />function array_merge_recursive_leftsource(&amp;$a1, &amp;$a2) {<br />    $newArray = array();<br />    foreach ($a1 as $key =&gt; $v) {<br />        if (!isset($a2[$key])) {<br />            $newArray[$key] = $v;<br />            continue;<br />        }<br /><br />        if (is_array($v)) {<br />            if (!is_array($a2[$key])) {<br />                $newArray[$key] = $a2[$key];<br />                continue;<br />            }<br />            $newArray[$key] = array_merge_recursive_leftsource($a1[$key], $a2[$key]);<br />            continue;<br />        }<br /><br />        $newArray[$key] = $a2[$key];<br />    }<br />    return $newArray;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="81038">  <div class="votes">
    <div id="Vu81038">
    <a href="https://www.php.net/manual/vote-note.php?id=81038&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81038">
    <a href="https://www.php.net/manual/vote-note.php?id=81038&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81038" title="75% like this...">
    2
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#81038" class="name">
  <strong class="user"><em>spambegone at cratemedia dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#81038"> &para;</a><div class="date" title="2008-02-12 02:06"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom81038">
<div class="phpcode"><code><span class="html">I've tried these array_merge_recursive functions without much success. Maybe it's just me but they don't seem to actually go more than one level deep? As with all things, its usually easier to write your own, which I did and it seems to work just the way I wanted. Anyways, my function hasn't been tested extensively, but it's a simple function, so in hopes that this might be useful to someone else I'm sharing.<br /><br />Also, the PHP function array_merge_recursive() didn't work for my purposes because it didn't overwrite the values like I needed it to. You know how it works, it just turns it into an array with multiple values... not helpful if your code is expecting one string.<br /><br />function array_merge_recursive_unique($array1, $array2) {<br />    <br />    // STRATEGY<br />    /*<br />    Merge array1 and array2, overwriting 1st array values with 2nd array <br />    values where they overlap. Use array1 as the base array and then add <br />    in values from array2 as they exist.<br />    <br />    Walk through each value in array2 and see if a value corresponds<br />    in array1. If it does, overwrite with second array value. If it's an <br />    array, recursively execute this function and return the value. If it's <br />    a string, overwrite the value from array1 with the value from array2. <br />    <br />    If a value exists in array2 that is not found in array1, add it to array1.<br />    */<br /><br />    // LOOP THROUGH $array2<br />    foreach($array2 AS $k =&gt; $v) {<br />        <br />        // CHECK IF VALUE EXISTS IN $array1<br />        if(!empty($array1[$k])) {<br />            // IF VALUE EXISTS CHECK IF IT'S AN ARRAY OR A STRING<br />            if(!is_array($array2[$k])) {<br />                // OVERWRITE IF IT'S A STRING<br />                $array1[$k]=$array2[$k];<br />            } else {<br />                // RECURSE IF IT'S AN ARRAY<br />                $array1[$k] = array_merge_recursive_unique($array1[$k], $array2[$k]);<br />            }<br />        } else {<br />            // IF VALUE DOESN'T EXIST IN $array1 USE $array2 VALUE<br />            $array1[$k]=$v;<br />        }<br />    }<br />    unset($k, $v);<br />    <br />    <br />    return $array1;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="42663">  <div class="votes">
    <div id="Vu42663">
    <a href="https://www.php.net/manual/vote-note.php?id=42663&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd42663">
    <a href="https://www.php.net/manual/vote-note.php?id=42663&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V42663" title="72% like this...">
    11
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#42663" class="name">
  <strong class="user"><em>brian at vermonster dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#42663"> &para;</a><div class="date" title="2004-05-25 02:44"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom42663">
<div class="phpcode"><code><span class="html">Here is a fairly simple function that replaces while recursing.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * array_merge_recursive2()<br /> *<br /> * Similar to array_merge_recursive but keyed-valued are always overwritten.<br /> * Priority goes to the 2nd array.<br /> *<br /> * @static yes<br /> * @public yes<br /> * @param $paArray1 array<br /> * @param $paArray2 array<br /> * @return array<br /> */<br /></span><span class="keyword">function </span><span class="default">array_merge_recursive2</span><span class="keyword">(</span><span class="default">$paArray1</span><span class="keyword">, </span><span class="default">$paArray2</span><span class="keyword">)<br />{<br />    if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$paArray1</span><span class="keyword">) or !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$paArray2</span><span class="keyword">)) { return </span><span class="default">$paArray2</span><span class="keyword">; }<br />    foreach (</span><span class="default">$paArray2 </span><span class="keyword">AS </span><span class="default">$sKey2 </span><span class="keyword">=&gt; </span><span class="default">$sValue2</span><span class="keyword">)<br />    {<br />        </span><span class="default">$paArray1</span><span class="keyword">[</span><span class="default">$sKey2</span><span class="keyword">] = </span><span class="default">array_merge_recursive2</span><span class="keyword">(@</span><span class="default">$paArray1</span><span class="keyword">[</span><span class="default">$sKey2</span><span class="keyword">], </span><span class="default">$sValue2</span><span class="keyword">);<br />    }<br />    return </span><span class="default">$paArray1</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />Examples:<br /><span class="default">&lt;?php<br /><br />$array1 </span><span class="keyword">= array(<br />    </span><span class="string">'liquids' </span><span class="keyword">=&gt; array(<br />        </span><span class="string">'water' </span><span class="keyword">=&gt; array(</span><span class="string">'cold'</span><span class="keyword">, </span><span class="string">'fizzy'</span><span class="keyword">, </span><span class="string">'clean'</span><span class="keyword">)<br />        ,</span><span class="string">'beer' </span><span class="keyword">=&gt; </span><span class="string">'warm'<br />    </span><span class="keyword">)<br />);<br /><br /></span><span class="default">$array2 </span><span class="keyword">= array(<br />    </span><span class="string">'liquids' </span><span class="keyword">=&gt; array(<br />        </span><span class="string">'water' </span><span class="keyword">=&gt; </span><span class="string">'hot'<br />        </span><span class="keyword">,</span><span class="string">'milk' </span><span class="keyword">=&gt; </span><span class="string">'wet'<br />    </span><span class="keyword">)<br />);<br /><br /></span><span class="default">$result1 </span><span class="keyword">= </span><span class="default">array_merge_recursive2</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">);<br /></span><span class="default">$result2 </span><span class="keyword">= </span><span class="default">array_merge_recursive2</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">, </span><span class="default">$array1</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Result 1 is:<br />Array<br />(<br />    [liquids] =&gt; Array<br />        (<br />            [water] =&gt; hot<br />            [beer] =&gt; warm<br />            [milk] =&gt; wet<br />        )<br />)<br /><br />Result 2 is:<br />Array<br />(<br />    [liquids] =&gt; Array<br />        (<br />            [water] =&gt; Array<br />                (<br />                    [0] =&gt; cold<br />                    [1] =&gt; fizzy<br />                    [2] =&gt; clean<br />                )<br /><br />            [milk] =&gt; wet<br />            [beer] =&gt; warm<br />        )<br />)</span></code></div>
  </div>
 </div>
  <div class="note" id="102379">  <div class="votes">
    <div id="Vu102379">
    <a href="https://www.php.net/manual/vote-note.php?id=102379&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd102379">
    <a href="https://www.php.net/manual/vote-note.php?id=102379&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V102379" title="70% like this...">
    12
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#102379" class="name">
  <strong class="user"><em>andyidol at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#102379"> &para;</a><div class="date" title="2011-02-10 07:14"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom102379">
<div class="phpcode"><code><span class="html">Here's my function to recursively merge two arrays with overwrites. Nice for merging configurations.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">MergeArrays</span><span class="keyword">(</span><span class="default">$Arr1</span><span class="keyword">, </span><span class="default">$Arr2</span><span class="keyword">)<br />{<br />  foreach(</span><span class="default">$Arr2 </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$Value</span><span class="keyword">)<br />  {<br />    if(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$Arr1</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$Value</span><span class="keyword">))<br />      </span><span class="default">$Arr1</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">MergeArrays</span><span class="keyword">(</span><span class="default">$Arr1</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$Arr2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br /><br />    else<br />      </span><span class="default">$Arr1</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$Value</span><span class="keyword">;<br /><br />  }<br /><br />  return </span><span class="default">$Arr1</span><span class="keyword">;<br /><br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="96201">  <div class="votes">
    <div id="Vu96201">
    <a href="https://www.php.net/manual/vote-note.php?id=96201&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd96201">
    <a href="https://www.php.net/manual/vote-note.php?id=96201&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V96201" title="71% like this...">
    6
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#96201" class="name">
  <strong class="user"><em>mark dot roduner at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#96201"> &para;</a><div class="date" title="2010-02-13 11:34"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom96201">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Merges any number of arrays / parameters recursively, replacing <br /> * entries with string keys with values from latter arrays. <br /> * If the entry or the next value to be assigned is an array, then it <br /> * automagically treats both arguments as an array.<br /> * Numeric entries are appended, not replaced, but only if they are <br /> * unique<br /> *<br /> * calling: result = array_merge_recursive_distinct(a1, a2, ... aN)<br />**/<br /><br /></span><span class="keyword">function </span><span class="default">array_merge_recursive_distinct </span><span class="keyword">() {<br />  </span><span class="default">$arrays </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />  </span><span class="default">$base </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br />  if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">)) </span><span class="default">$base </span><span class="keyword">= empty(</span><span class="default">$base</span><span class="keyword">) ? array() : array(</span><span class="default">$base</span><span class="keyword">);<br />  foreach(</span><span class="default">$arrays </span><span class="keyword">as </span><span class="default">$append</span><span class="keyword">) {<br />    if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$append</span><span class="keyword">)) </span><span class="default">$append </span><span class="keyword">= array(</span><span class="default">$append</span><span class="keyword">);<br />    foreach(</span><span class="default">$append </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />      if(!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$base</span><span class="keyword">) and !</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)) {<br />        </span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$append</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />        continue;<br />      }<br />      if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) or </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])) {<br />        </span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_merge_recursive_distinct</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$append</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />      } else if(</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">)) {<br />        if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$base</span><span class="keyword">)) </span><span class="default">$base</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />      } else {<br />        </span><span class="default">$base</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />      }<br />    }<br />  }<br />  return </span><span class="default">$base</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="109285">  <div class="votes">
    <div id="Vu109285">
    <a href="https://www.php.net/manual/vote-note.php?id=109285&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109285">
    <a href="https://www.php.net/manual/vote-note.php?id=109285&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109285" title="66% like this...">
    3
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#109285" class="name">
  <strong class="user"><em>robert dot schlak at alcatel-lucent dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#109285"> &para;</a><div class="date" title="2012-07-02 04:39"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109285">
<div class="phpcode"><code><span class="html">The presence of NULLs; here is an example of the issue and a fix. Although it may not be apparent, if using array_merge_recursive in a loop to combine results from a database query or some other function, you can corrupt your result when NULLs are present in the data. I discovered this when migrating from an Oracle DB to a MySQL DB. I had to match the array structure returned from the PHP function calling the DB and got bit. The array_walk call fixed this for me.<br />This is a simple example that lacks any DB calls and looping. Assume your array had the DB column names (first, last, and age) and you needed to combine the data in a multi-dimensional array in which the column name is an array key with all rows beneath it. The corruption occurs in $a3. If using element position 2, one could create the fictitious 'pete johnson' because of the collapsing of elements.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">print </span><span class="string">"&lt;pre&gt;Show corruption\\n"</span><span class="keyword">;<br /></span><span class="default">$a1 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'bob'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="string">'jones'</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'48'</span><span class="keyword">);<br /></span><span class="default">$a2 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'sam'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="string">'smith'</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'41'</span><span class="keyword">);<br /></span><span class="default">$a3 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'pete'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="default">null</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'3'</span><span class="keyword">);<br /></span><span class="default">$a4 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'joe'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="string">'johnson'</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'33'</span><span class="keyword">);<br /></span><span class="default">$a5 </span><span class="keyword">= </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">,</span><span class="default">$a3</span><span class="keyword">,</span><span class="default">$a4</span><span class="keyword">);<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a5</span><span class="keyword">);<br /><br />print </span><span class="string">"Show Fix\\n"</span><span class="keyword">;<br /></span><span class="default">$a1 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'bob'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="string">'jones'</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'48'</span><span class="keyword">);<br /></span><span class="default">$a2 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'sam'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="string">'smith'</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'41'</span><span class="keyword">);<br /></span><span class="default">$a3 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'pete'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="default">null</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'3'</span><span class="keyword">);<br /></span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$a3</span><span class="keyword">, </span><span class="string">'null_to_empty'</span><span class="keyword">);<br /></span><span class="default">$a4 </span><span class="keyword">= array(</span><span class="string">'first'</span><span class="keyword">=&gt;</span><span class="string">'joe'</span><span class="keyword">, </span><span class="string">'last'</span><span class="keyword">=&gt;</span><span class="string">'johnson'</span><span class="keyword">, </span><span class="string">'age'</span><span class="keyword">=&gt;</span><span class="string">'33'</span><span class="keyword">);<br /></span><span class="default">$a5 </span><span class="keyword">= </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">,</span><span class="default">$a3</span><span class="keyword">,</span><span class="default">$a4</span><span class="keyword">);<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a5</span><span class="keyword">);<br />print </span><span class="string">"&lt;/pre&gt;\\n"</span><span class="keyword">;<br /><br />function </span><span class="default">null_to_empty</span><span class="keyword">(&amp;</span><span class="default">$item</span><span class="keyword">) {<br /><br />  </span><span class="default">$item </span><span class="keyword">= </span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: </span><span class="default">$item</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="88707">  <div class="votes">
    <div id="Vu88707">
    <a href="https://www.php.net/manual/vote-note.php?id=88707&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88707">
    <a href="https://www.php.net/manual/vote-note.php?id=88707&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88707" title="60% like this...">
    1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#88707" class="name">
  <strong class="user"><em>miniscalope at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#88707"> &para;</a><div class="date" title="2009-02-04 03:56"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom88707">
<div class="phpcode"><code><span class="html">I would merge 2 arrays but keep the values unique in the result array.<br />I hope this will help...<br /><span class="default">&lt;?php <br /><br /></span><span class="keyword">function </span><span class="default">array_merge_recursive_unique</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">) {<br />    <br />    foreach(</span><span class="default">$array2 </span><span class="keyword">AS </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />        if(!isset(</span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]))<br />        {<br />            </span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />        }<br />        else<br />        {<br />            if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)){<br />                if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]))<br />                {<br />                    if(!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]))<br />                    {<br />                        </span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">][] = </span><span class="default">$v</span><span class="keyword">;<br />                    }<br />                }<br />                else<br />                {<br />                    if(</span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] != </span><span class="default">$v</span><span class="keyword">)<br />                        </span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = array(</span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">], </span><span class="default">$v</span><span class="keyword">);<br />                 }<br />            }<br />            else<br />            {<br />                </span><span class="default">$array1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] =    </span><span class="default">array_merge_recursive_unique</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">,</span><span class="default">$array2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />            }<br />            <br />        }<br />    <br />    }<br />      unset(</span><span class="default">$k</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">);<br />      return </span><span class="default">$array1</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="73843">  <div class="votes">
    <div id="Vu73843">
    <a href="https://www.php.net/manual/vote-note.php?id=73843&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73843">
    <a href="https://www.php.net/manual/vote-note.php?id=73843&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73843" title="57% like this...">
    1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#73843" class="name">
  <strong class="user"><em>paha at paha dot hu</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#73843"> &para;</a><div class="date" title="2007-03-12 12:02"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73843">
<div class="phpcode"><code><span class="html">In this version the values are overwritten only if they are not an array.  If the value is an array, its elements will be merged/overwritten:<br /><br />// array_merge_recursive which override value with next value.<br />// based on: <a href="http://www.php.net/manual/hu/function.array-merge-recursive.php" rel="nofollow" target="_blank">http://www.php.net/manual/hu/function.array-merge-recursive.php</a> 09-Dec-2006 03:38<br />function array_merge_recursive_unique($array0, $array1)<br />{<br />    $arrays = func_get_args();<br />    $remains = $arrays;<br /><br />    // We walk through each arrays and put value in the results (without<br />    // considering previous value).<br />    $result = array();<br /><br />    // loop available array<br />    foreach($arrays as $array) {<br /><br />        // The first remaining array is $array. We are processing it. So<br />        // we remove it from remaing arrays.<br />        array_shift($remains);<br /><br />        // We don't care non array param, like array_merge since PHP 5.0.<br />        if(is_array($array)) {<br />            // Loop values<br />            foreach($array as $key =&gt; $value) {<br />                if(is_array($value)) {<br />                    // we gather all remaining arrays that have such key available<br />                    $args = array();<br />                    foreach($remains as $remain) {<br />                        if(array_key_exists($key, $remain)) {<br />                            array_push($args, $remain[$key]);<br />                        }<br />                    }<br /><br />                    if(count($args) &gt; 2) {<br />                        // put the recursion<br />                        $result[$key] = call_user_func_array(__FUNCTION__, $args);<br />                    } else {<br />                        foreach($value as $vkey =&gt; $vval) {<br />                            $result[$key][$vkey] = $vval;<br />                        }<br />                    }<br />                } else {<br />                    // simply put the value<br />                    $result[$key] = $value;<br />                }<br />            }<br />        }<br />    }<br />    return $result;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="87518">  <div class="votes">
    <div id="Vu87518">
    <a href="https://www.php.net/manual/vote-note.php?id=87518&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87518">
    <a href="https://www.php.net/manual/vote-note.php?id=87518&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87518" title="55% like this...">
    2
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#87518" class="name">
  <strong class="user"><em>phil dot kemmeter at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#87518"> &para;</a><div class="date" title="2008-12-08 10:45"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87518">
<div class="phpcode"><code><span class="html">I've edit this version even a little bit more, so that the function does not override any values, but inserts them at a free key in the array:<br /><br />function my_array_merge ($arr,$ins) {<br />    if(is_array($arr))<br />    {<br />        if(is_array($ins)) foreach($ins as $k=&gt;$v)<br />        {<br />            if(isset($arr[$k])&amp;&amp;is_array($v)&amp;&amp;is_array($arr[$k]))<br />            {<br />                $arr[$k] = my_array_merge($arr[$k],$v);<br />            }<br />            else {<br />                // This is the new loop :)<br />                while (isset($arr[$k]))<br />                    $k++;<br />                $arr[$k] = $v;<br />            }<br />        }<br />    }<br />    elseif(!is_array($arr)&amp;&amp;(strlen($arr)==0||$arr==0))<br />    {<br />        $arr=$ins;<br />    }<br />    return($arr);<br />}<br /><br />Example:<br /><br />$array1 = array(<br />    100 =&gt; array(30),<br />    200 =&gt; array(20, 30)<br />);<br /><br />$array2 = array(<br />    100 =&gt; array(40),<br />    201 =&gt; array(60, 30)<br />);<br /><br />print_r(my_array_merge($array1,$array2));<br /><br />Output with array_merge_recursive:<br />Array<br />(<br />    [0] =&gt; Array<br />        (<br />            [0] =&gt; 30<br />        )<br /><br />    [1] =&gt; Array<br />        (<br />            [0] =&gt; 20<br />            [1] =&gt; 30<br />        )<br /><br />    [2] =&gt; Array<br />        (<br />            [0] =&gt; 40<br />        )<br /><br />)<br />This is not the result, I expect from a MERGE-Routine...<br /><br />Output with the current function:<br /><br />Array<br />(<br />    [100] =&gt; Array<br />        (<br />            [0] =&gt; 30<br />            [1] =&gt; 40<br />        )<br /><br />    [200] =&gt; Array<br />        (<br />            [0] =&gt; 20<br />            [1] =&gt; 30<br />        )<br /><br />)<br /><br />This is what I want :)</span></code></div>
  </div>
 </div>
  <div class="note" id="127724">  <div class="votes">
    <div id="Vu127724">
    <a href="https://www.php.net/manual/vote-note.php?id=127724&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd127724">
    <a href="https://www.php.net/manual/vote-note.php?id=127724&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V127724" title="no votes...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#127724" class="name">
  <strong class="user"><em>dev at oove dot blue</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#127724"> &para;</a><div class="date" title="2022-10-15 12:01"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom127724">
<div class="phpcode"><code><span class="html">I was looking for a function like this one :<br />merge one ore more arrays without appending values, just override and extend the array if needed. <br />Useful for merging configurations or merging json data to be saved in database (my case)<br /><br />Similar to Object.assign in javascript<br /><br />    public static function array_merge()<br />    {<br />        // Holds all the arrays passed<br />        $params = func_get_args ();<br />        // First array is used as the base, everything else overwrites on it<br />        $return = array_shift ( $params );<br /><br />        if(!is_array($return))<br />            $return = [];<br />        // Merge all arrays on the first array<br />        foreach ( $params as $array ) {<br />            foreach ( $array as $key =&gt; $value ) {<br /><br />                if(!isset($return[$key]) || !is_array($value)) {<br />                    $return[$key] = $value;<br />                }<br />                else<br />                {<br />                    $return[$key] = ArrayTools::array_merge( $return[$key], $value );<br />                }<br />            }<br />        }<br /><br />        return $return;<br /><br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="125329">  <div class="votes">
    <div id="Vu125329">
    <a href="https://www.php.net/manual/vote-note.php?id=125329&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125329">
    <a href="https://www.php.net/manual/vote-note.php?id=125329&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125329" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#125329" class="name">
  <strong class="user"><em>andrew at indigo - sphere dot co dot uk</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#125329"> &para;</a><div class="date" title="2020-09-04 11:27"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125329">
<div class="phpcode"><code><span class="html">An alternative solution where this function does not produce the desired output: Pass a custom recursive function to array_reduce():<br /><br />For example (Using PHP 7 capabilities to create recursive anonymous function):<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">array_merge_recursive</span><span class="keyword">(...</span><span class="default">$arrays</span><span class="keyword">): ?array {<br />   return </span><span class="default">array_reduce</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">, new class {<br />        public function </span><span class="default">__invoke</span><span class="keyword">(</span><span class="default">$carry</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">) {<br />            if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$carry</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">) {<br />                return </span><span class="default">$this</span><span class="keyword">(</span><span class="default">$carry</span><span class="keyword">, </span><span class="default">$item</span><span class="keyword">);<br />            }<br />            return </span><span class="default">$item </span><span class="keyword">?: </span><span class="default">$carry</span><span class="keyword">;<br />        }<br />    }<br />}<br /></span><span class="default">?&gt;<br /></span>In this case truthy values will overwrite the value in the previous array.<br />Of course this is presented as a simple example only, and is not a general solution.</span></code></div>
  </div>
 </div>
  <div class="note" id="124184">  <div class="votes">
    <div id="Vu124184">
    <a href="https://www.php.net/manual/vote-note.php?id=124184&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124184">
    <a href="https://www.php.net/manual/vote-note.php?id=124184&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124184" title="no votes...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#124184" class="name">
  <strong class="user"><em>hailongzh at hotmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#124184"> &para;</a><div class="date" title="2019-09-10 04:17"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124184">
<div class="phpcode"><code><span class="html">Sharing my code to reserve the numeric keys:<br /><br />    function revise_keys($source)<br />    {<br />        if (!is_array($source)) {<br />            return $source;<br />        }<br /><br />        $target = [];<br /><br />        foreach ($source as $key =&gt; $value) {<br />            $target['S' . $key] = revise_keys($value);<br />        }<br /><br />        return $target;<br />    }<br /><br />    function revert_keys($source)<br />    {<br />        if (!is_array($source)) {<br />            return $source;<br />        }<br /><br />        $target = [];<br /><br />        foreach ($source as $key =&gt; $value) {<br />            $target[substr($key, 1 - strlen($key))] = revert_keys($value);<br />        }<br /><br />        return $target;<br />    }<br /><br />    function enhanced_array_merge_recursive(...$candidates)<br />    {<br />        $merged = [];<br /><br />        foreach ($candidates as $candidate) {<br />            if (!is_array($candidate)) {<br />                continue;<br />            }<br /><br />            $merged = array_merge_recursive($merged, revise_keys($candidate));<br />        }<br /><br />        return revert_keys($merged);<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="124151">  <div class="votes">
    <div id="Vu124151">
    <a href="https://www.php.net/manual/vote-note.php?id=124151&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124151">
    <a href="https://www.php.net/manual/vote-note.php?id=124151&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124151" title="no votes...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#124151" class="name">
  <strong class="user"><em>gullevek at gullevek dot org</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#124151"> &para;</a><div class="date" title="2019-08-29 08:06"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124151">
<div class="phpcode"><code><span class="html">walfs version is pretty good, but it always assumes we want numeric keys as numeric keys. There are possibilities where a numeric key is actually a string '123'<br /><br />For that I modified the function so that the last argument is a true switch to turn keys can be numeric on. Default is that keys are all string.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">array_merge_recursive_simple</span><span class="keyword">()<br />{<br />    </span><span class="comment">// croak on not enough arguemnts (we need at least two)<br />    </span><span class="keyword">if (</span><span class="default">func_num_args</span><span class="keyword">() &lt; </span><span class="default">2</span><span class="keyword">) {<br />        </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__ </span><span class="keyword">.</span><span class="string">' needs two or more array arguments'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />        return;<br />    }<br />    </span><span class="comment">// default key is not string<br />    </span><span class="default">$key_is_string </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />    </span><span class="default">$arrays </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />    </span><span class="comment">// if last is not array, then assume it is trigger for key is always string<br />    </span><span class="keyword">if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">end</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">))) {<br />        if (</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">)) {<br />            </span><span class="default">$key_is_string </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />        }<br />    }<br />    </span><span class="comment">// check that arrays count is at least two, else we don't have enough<br />    </span><span class="keyword">if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">) &lt; </span><span class="default">2</span><span class="keyword">) {<br />        </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">.</span><span class="string">' needs two or more array arguments'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />        return;<br />    }<br />    </span><span class="default">$merged </span><span class="keyword">= array();<br />    while (</span><span class="default">$arrays</span><span class="keyword">) {<br />        </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br />        if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />            </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__ </span><span class="keyword">.</span><span class="string">' encountered a non array argument'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />            return;<br />        }<br />        if (!</span><span class="default">$array</span><span class="keyword">) {<br />            continue;<br />        }<br />        foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />            if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) || </span><span class="default">$key_is_string </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />                if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$merged</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])) {<br />                    </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">, </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$key_is_string</span><span class="keyword">);<br />                } else {<br />                    </span><span class="default">$merged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />                }<br />            } else {<br />                </span><span class="default">$merged</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />            }<br />        }<br />    }<br />    return </span><span class="default">$merged</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="116903">  <div class="votes">
    <div id="Vu116903">
    <a href="https://www.php.net/manual/vote-note.php?id=116903&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116903">
    <a href="https://www.php.net/manual/vote-note.php?id=116903&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116903" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#116903" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#116903"> &para;</a><div class="date" title="2015-03-17 05:00"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom116903">
<div class="phpcode"><code><span class="html">Attention. <br />(used PHP 5.4. XAMPP)<br /><br />Values with numeric keys are always appended.   The index of the merge array is determined by the startindex of the first array. Value4s with numeric keys seems always appended.<br />If a key looks like an integer, array_merge_recursive will interpret the string as an number.<br /><br />In the example  $arr['farbe']['22'] = 'grün' wil be found after array_merge_recursive in $res['farbe'][33]<br /><br />$ar1 = array("farbe" =&gt; array (31 =&gt; 'holla', "rot", "favorit" =&gt; "gelb2"), "favorit" =&gt; "gelb1", 5);<br />$ar2 = array(10, "farbe" =&gt; array ('22' =&gt; "grün",  "favorit" =&gt; 2, "blau"));<br />$result = array_merge_recursive ($ar1, $ar2);<br />var_dump($result);<br />echo('&lt;hr&gt;');<br /><br />// var_dump<br />array(4) {<br />  ["farbe"]=&gt;<br />  array(5) {<br />    [31]=&gt;<br />    string(5) "holla"<br />    [32]=&gt;<br />    string(3) "rot"<br />    ["favorit"]=&gt;<br />    array(2) {<br />      [0]=&gt;<br />      string(5) "gelb2"<br />      [1]=&gt;<br />      int(2)<br />    }<br />    [33]=&gt;<br />    string(5) "grün"<br />    [34]=&gt;<br />    string(4) "blau"<br />  }<br />  ["favorit"]=&gt;<br />  string(5) "gelb1"<br />  [0]=&gt;<br />  int(5)<br />  [1]=&gt;<br />  int(10)<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="121369">  <div class="votes">
    <div id="Vu121369">
    <a href="https://www.php.net/manual/vote-note.php?id=121369&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121369">
    <a href="https://www.php.net/manual/vote-note.php?id=121369&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121369" title="0% like this...">
    -1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#121369" class="name">
  <strong class="user"><em>zubkov dot rabota at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#121369"> &para;</a><div class="date" title="2017-07-12 10:58"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121369">
<div class="phpcode"><code><span class="html">This recursive array merge function doesn't renumber integer keys and appends new values to existing ones OR adds a new [key =&gt; value] pair if the pair doesn't exist. <br /><br />function array_merge_recursive_adv(array &amp;$array1, $array2) {<br />        if(!empty($array2) &amp;&amp; is_array($array2))<br />            foreach ($array2 as $key =&gt; $value) {<br />                    if(array_key_exists($key,$array1)) {<br />                        if(is_array($value)){<br />                            array_merge_recursive_adv($array1[$key], $value);<br />                        } else {<br />                             if(!empty($array1[$key])) {<br />                                if(is_array($array1[$key])){<br />                                    array_push($array1[$key], $value);<br />                                } else {<br />                                    $array1[$key] = [$array1[$key]];<br />                                    $array1[$key][] = $value;<br />                                }<br />                             } else if(empty($array1[$key])) {<br />                                $array1[$key] = $value;<br />                             }<br />                        }<br />                    } else {<br />                        $array1[$key] = $value;<br />                    }<br />            }<br />            return $array1;<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="117498">  <div class="votes">
    <div id="Vu117498">
    <a href="https://www.php.net/manual/vote-note.php?id=117498&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117498">
    <a href="https://www.php.net/manual/vote-note.php?id=117498&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117498" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#117498" class="name">
  <strong class="user"><em>Orhan POLAT</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#117498"> &para;</a><div class="date" title="2015-06-18 02:24"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117498">
<div class="phpcode"><code><span class="html">Merging arrays recursively some problem about existing keys, so that i wrote the function above like this:<br /><br />function merge($array0, $array1) {<br />  // Result<br />  $merged = array();<br /><br />  foreach (func_get_args() as $array) {<br />   // Check incoming argument is array<br />   if (is_array($array)) {<br />    foreach ($array as $key =&gt; $value) {<br />     // Check there is an array with the key: $key<br />     if (isset($merged[$key])) {<br />      // Check the value is array<br />      if (is_array($value)) {<br />       // So we must merge current value with the existing array<br />       $merged[$key] = call_user_func_array(__FUNCTION__, $merged[$key], $value);<br />      } else {<br />       if (!is_array($merged[$key])) {<br />        // If the existing array with the key: $key not an array<br />        // We make it an array<br />        $merged[$key] = array($merged[$key]);<br />       }<br /><br />       // And add the current value<br />       $merged[$key][] = $value;<br />      }<br />     } else {<br />      // If not exists make the array<br />      $merged[$key] = $value;<br />     }<br />    }<br />   }<br />  }<br /><br />  return $merged;<br /> }</span></code></div>
  </div>
 </div>
  <div class="note" id="115213">  <div class="votes">
    <div id="Vu115213">
    <a href="https://www.php.net/manual/vote-note.php?id=115213&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115213">
    <a href="https://www.php.net/manual/vote-note.php?id=115213&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115213" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#115213" class="name">
  <strong class="user"><em>php at metehanarslan dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#115213"> &para;</a><div class="date" title="2014-06-12 10:52"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115213">
<div class="phpcode"><code><span class="html">Sometimes you need to modify an array with another one here is my approach to replace an array's content recursively with delete opiton. Here i used "::delete::" as reserved word to delete items.<br /><br /><span class="default">&lt;?php<br />$person</span><span class="keyword">= array(<br />    </span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"Metehan"</span><span class="keyword">,<br />    </span><span class="string">"surname"</span><span class="keyword">=&gt;</span><span class="string">"Arslan"</span><span class="keyword">,<br />    </span><span class="string">"age"</span><span class="keyword">=&gt;</span><span class="default">27</span><span class="keyword">,<br />    </span><span class="string">"mail"</span><span class="keyword">=&gt;</span><span class="string">"hidden"</span><span class="keyword">,<br />    </span><span class="string">"favs" </span><span class="keyword">=&gt; array(<br />        </span><span class="string">"language"</span><span class="keyword">=&gt;</span><span class="string">"php"</span><span class="keyword">,<br />        </span><span class="string">"planet"</span><span class="keyword">=&gt;</span><span class="string">"mercury"</span><span class="keyword">,<br />        </span><span class="string">"city"</span><span class="keyword">=&gt;</span><span class="string">"istanbul"</span><span class="keyword">)<br />);<br /><br /></span><span class="default">$newdata </span><span class="keyword">= array(<br />    </span><span class="string">"age"</span><span class="keyword">=&gt;</span><span class="default">28</span><span class="keyword">,<br />    </span><span class="string">"mail"</span><span class="keyword">=&gt;</span><span class="string">"::delete::"</span><span class="keyword">,<br />    </span><span class="string">"favs" </span><span class="keyword">=&gt; array(<br />        </span><span class="string">"language"</span><span class="keyword">=&gt;</span><span class="string">"js"</span><span class="keyword">,<br />        </span><span class="string">"planet"</span><span class="keyword">=&gt;</span><span class="string">"mercury"</span><span class="keyword">,<br />        </span><span class="string">"city"</span><span class="keyword">=&gt;</span><span class="string">"shanghai"</span><span class="keyword">)<br />);<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_overlay</span><span class="keyword">(</span><span class="default">$person</span><span class="keyword">,</span><span class="default">$newdata</span><span class="keyword">));<br /></span><span class="comment">// result: Array ( [name] =&gt; Metehan [surname] =&gt; Arslan [age] =&gt; 28 [favs] =&gt; Array ( [language] =&gt; js [planet] =&gt; mercury [city] =&gt; shanghai ) )<br /><br /></span><span class="keyword">function </span><span class="default">array_overlay</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">)<br />{<br />    foreach(</span><span class="default">$a1 </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />        if (</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]==</span><span class="string">"::delete::"</span><span class="keyword">){<br />            unset(</span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />            continue;<br />        };<br />        if(!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">)) continue;<br />        if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">])){<br />            </span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">array_overlay</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />        }else{<br />            </span><span class="default">$a1</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />        }<br />        <br />    }<br />    return </span><span class="default">$a1</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="121368">  <div class="votes">
    <div id="Vu121368">
    <a href="https://www.php.net/manual/vote-note.php?id=121368&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121368">
    <a href="https://www.php.net/manual/vote-note.php?id=121368&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121368" title="0% like this...">
    -2
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#121368" class="name">
  <strong class="user"><em>zubkov dot rabota at gmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#121368"> &para;</a><div class="date" title="2017-07-12 10:57"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121368">
<div class="phpcode"><code><span class="html">This recursive array merge function doesn't renumber integer keys and appends new values to existing ones OR adds a new [key =&gt; value] pair if the pair doesn't exist. <br /><br />function array_merge_recursive_adv(array &amp;$array1, $array2) {<br />        if(!empty($array2) &amp;&amp; is_array($array2))<br />            foreach ($array2 as $key =&gt; $value) {<br />                    if(array_key_exists($key,$array1)) {<br />                        if(is_array($value)){<br />                            array_merge_recursive_adv($array1[$key], $value);<br />                        } else {<br />                             if(!empty($array1[$key])) {<br />                                if(is_array($array1[$key])){<br />                                    array_push($array1[$key], $value);<br />                                } else {<br />                                    $array1[$key] = [$array1[$key]];<br />                                    $array1[$key][] = $value;<br />                                }<br />                             } else if(empty($array1[$key])) {<br />                                $array1[$key] = $value;<br />                             }<br />                        }<br />                    } else {<br />                        $array1[$key] = $value;<br />                    }<br />            }<br />            return $array1;<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="118401">  <div class="votes">
    <div id="Vu118401">
    <a href="https://www.php.net/manual/vote-note.php?id=118401&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118401">
    <a href="https://www.php.net/manual/vote-note.php?id=118401&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118401" title="0% like this...">
    -1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#118401" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#118401"> &para;</a><div class="date" title="2015-11-30 09:45"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118401">
<div class="phpcode"><code><span class="html">Proper simplistic example:<br /><br /><span class="default">&lt;?php<br /><br />$Array1 </span><span class="keyword">= [</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">];<br /></span><span class="default">$Array2 </span><span class="keyword">= [</span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">];<br /><br />echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">"&lt;br&gt;"</span><span class="keyword">, </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$Array1</span><span class="keyword">, </span><span class="default">$Array2</span><span class="keyword">));<br /><br /></span><span class="default">?&gt;<br /></span><br />Output:<br />1<br />2<br />3<br />4</span></code></div>
  </div>
 </div>
  <div class="note" id="100217">  <div class="votes">
    <div id="Vu100217">
    <a href="https://www.php.net/manual/vote-note.php?id=100217&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd100217">
    <a href="https://www.php.net/manual/vote-note.php?id=100217&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V100217" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#100217" class="name">
  <strong class="user"><em>lsiq at papotam com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#100217"> &para;</a><div class="date" title="2010-10-01 01:17"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom100217">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /><br /></span><span class="comment">//  this function merges an array with the $_SESSION<br />//  if you omit second parameter it merges to the root<br />//  if you give one 'path' array it is merged deeply<br /><br /></span><span class="keyword">function </span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">=array()){<br />   if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />   foreach(</span><span class="default">$arr </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">){<br />      if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">])) {<br />          </span><span class="default">$path</span><span class="keyword">[] = </span><span class="default">$k</span><span class="keyword">;<br />          </span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">], </span><span class="default">$path</span><span class="keyword">);<br />      }else{<br />          </span><span class="default">$ref </span><span class="keyword">= &amp;</span><span class="default">$_SESSION</span><span class="keyword">;<br />          if(</span><span class="default">$path</span><span class="keyword">){<br />              foreach(</span><span class="default">$path </span><span class="keyword">as </span><span class="default">$val</span><span class="keyword">){<br />                  if(!</span><span class="default">$ref</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">]) </span><span class="default">$ref</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">] = array();<br />                  </span><span class="default">$ref </span><span class="keyword">= &amp;</span><span class="default">$ref</span><span class="keyword">[</span><span class="default">$val</span><span class="keyword">];<br />              }<br />          }<br />          </span><span class="default">$ref</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />      }<br />   }<br />}<br /><br /></span><span class="default">session_start</span><span class="keyword">();<br /></span><span class="default">$x </span><span class="keyword">= array(</span><span class="default">k1</span><span class="keyword">=&gt;</span><span class="default">12</span><span class="keyword">, </span><span class="default">k2</span><span class="keyword">=&gt;array(</span><span class="default">kxx</span><span class="keyword">=&gt;</span><span class="string">'forget me'</span><span class="keyword">, </span><span class="default">kyy</span><span class="keyword">=&gt;</span><span class="string">'I was allways here'</span><span class="keyword">));     </span><span class="comment">// do you have any of this on $_SESSION<br /></span><span class="default">$rpl </span><span class="keyword">= array(</span><span class="default">k2</span><span class="keyword">=&gt;array(</span><span class="default">kxx</span><span class="keyword">=&gt;</span><span class="string">'I am a replaced value'</span><span class="keyword">,</span><span class="default">kzz</span><span class="keyword">=&gt;</span><span class="string">'I am a new value'</span><span class="keyword">));<br /></span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, array(</span><span class="string">'deep'</span><span class="keyword">,</span><span class="string">'deep'</span><span class="keyword">,</span><span class="string">'in_session'</span><span class="keyword">));                                </span><span class="comment">// you can use this way <br /></span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);                                                                   </span><span class="comment">// or this<br /></span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$rpl</span><span class="keyword">);                                                                 </span><span class="comment">// to merge parts with the $_SESSION<br /><br /></span><span class="default">$w </span><span class="keyword">= array(</span><span class="default">120</span><span class="keyword">, </span><span class="default">q</span><span class="keyword">=&gt;array(</span><span class="default">199</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">));                                             </span><span class="comment">// works the same way on numeric keys<br /></span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">, array(</span><span class="string">'one'</span><span class="keyword">,</span><span class="string">'two'</span><span class="keyword">));<br /></span><span class="default">arr2sess</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">);<br /><br />echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$_SESSION</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="93905">  <div class="votes">
    <div id="Vu93905">
    <a href="https://www.php.net/manual/vote-note.php?id=93905&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93905">
    <a href="https://www.php.net/manual/vote-note.php?id=93905&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93905" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#93905" class="name">
  <strong class="user"><em>drvali at hotmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#93905"> &para;</a><div class="date" title="2009-10-05 09:31"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93905">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Merges any number of arrays of any dimensions, the later overwriting <br /> * previous keys, unless the key is numeric, in whitch case, duplicated <br /> * values will not be added. <br /> *<br /> * The arrays to be merged are passed as arguments to the function.<br /> *<br /> * @access public<br /> * @return array Resulting array, once all have been merged<br /> */<br /></span><span class="keyword">function </span><span class="default">array_merge_replace_recursive</span><span class="keyword">() {<br />    </span><span class="comment">// Holds all the arrays passed<br />    </span><span class="default">$params </span><span class="keyword">= &amp; </span><span class="default">func_get_args </span><span class="keyword">();<br />    <br />    </span><span class="comment">// First array is used as the base, everything else overwrites on it<br />    </span><span class="default">$return </span><span class="keyword">= </span><span class="default">array_shift </span><span class="keyword">( </span><span class="default">$params </span><span class="keyword">);<br />    <br />    </span><span class="comment">// Merge all arrays on the first array<br />    </span><span class="keyword">foreach ( </span><span class="default">$params </span><span class="keyword">as </span><span class="default">$array </span><span class="keyword">) {<br />        foreach ( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value </span><span class="keyword">) {<br />            </span><span class="comment">// Numeric keyed values are added (unless already there)<br />            </span><span class="keyword">if (</span><span class="default">is_numeric </span><span class="keyword">( </span><span class="default">$key </span><span class="keyword">) &amp;&amp; (! </span><span class="default">in_array </span><span class="keyword">( </span><span class="default">$value</span><span class="keyword">, </span><span class="default">$return </span><span class="keyword">))) {<br />                if (</span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">)) {<br />                    </span><span class="default">$return </span><span class="keyword">[] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">array_merge_replace_recursive </span><span class="keyword">( </span><span class="default">$return </span><span class="keyword">[$</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value </span><span class="keyword">);<br />                } else {<br />                    </span><span class="default">$return </span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />                }<br />                <br />            </span><span class="comment">// String keyed values are replaced<br />            </span><span class="keyword">} else {<br />                if (isset ( </span><span class="default">$return </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] ) &amp;&amp; </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$value </span><span class="keyword">) &amp;&amp; </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$return </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] )) {<br />                    </span><span class="default">$return </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">array_merge_replace_recursive </span><span class="keyword">( </span><span class="default">$return </span><span class="keyword">[$</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value </span><span class="keyword">);<br />                } else {<br />                    </span><span class="default">$return </span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />                }<br />            }<br />        }<br />    }<br />    <br />    return </span><span class="default">$return</span><span class="keyword">;<br />}<br /><br /></span><span class="default">$a </span><span class="keyword">= array (<br />    </span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, <br />    </span><span class="string">"b" </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, <br />    </span><span class="string">'foo'</span><span class="keyword">, <br />    </span><span class="string">'bar' <br /></span><span class="keyword">);<br /></span><span class="default">$b </span><span class="keyword">= array (<br />    </span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, <br />    </span><span class="string">"c" </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">, <br />    </span><span class="string">'foo' <br /></span><span class="keyword">);<br /><br /></span><span class="default">$c </span><span class="keyword">= </span><span class="default">array_merge_replace_recursive </span><span class="keyword">( </span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b </span><span class="keyword">);<br /></span><span class="default">print_r </span><span class="keyword">( </span><span class="default">$a </span><span class="keyword">);<br /></span><span class="default">print_r </span><span class="keyword">( </span><span class="default">$b </span><span class="keyword">);<br /></span><span class="default">print_r </span><span class="keyword">( </span><span class="default">$c </span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Output:<br />Array<br />(<br />    [a] =&gt; 1<br />    [b] =&gt; 2<br />    [0] =&gt; foo<br />    [1] =&gt; bar<br />)<br />Array<br />(<br />    [a] =&gt; 2<br />    [c] =&gt; 3<br />    [0] =&gt; foo<br />)<br />Array<br />(<br />    [a] =&gt; 2<br />    [b] =&gt; 2<br />    [0] =&gt; foo<br />    [1] =&gt; bar<br />    [c] =&gt; 3<br />)</span></code></div>
  </div>
 </div>
  <div class="note" id="91049">  <div class="votes">
    <div id="Vu91049">
    <a href="https://www.php.net/manual/vote-note.php?id=91049&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91049">
    <a href="https://www.php.net/manual/vote-note.php?id=91049&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91049" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#91049" class="name">
  <strong class="user"><em>michiel at synetic dot nl</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#91049"> &para;</a><div class="date" title="2009-05-22 01:54"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom91049">
<div class="phpcode"><code><span class="html">A small improvement upon the previously posted array_merge_recursive_distinct functions (based on daniel's version). This implementation preserves the parameter input from the original, you can pass an infinite amount of array's to merge.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function &amp;</span><span class="default">array_merge_recursive_distinct</span><span class="keyword">()<br />{<br />    </span><span class="default">$aArrays </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />    </span><span class="default">$aMerged </span><span class="keyword">= </span><span class="default">$aArrays</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />    <br />    for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$aArrays</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />    {<br />        if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$aArrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))<br />        {<br />            foreach (</span><span class="default">$aArrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">)<br />            {<br />                if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$aArrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">]))<br />                {<br />                    </span><span class="default">$aMerged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$aMerged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]) ? </span><span class="default">PR</span><span class="keyword">::</span><span class="default">array_merge_recursive_distinct</span><span class="keyword">(</span><span class="default">$aMerged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$aArrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">]) : </span><span class="default">$aArrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">$key</span><span class="keyword">];<br />                }<br />                else<br />                {<br />                    </span><span class="default">$aMerged</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />                }<br />            }<br />        }<br />    }<br />    <br />    return </span><span class="default">$aMerged</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="71396">  <div class="votes">
    <div id="Vu71396">
    <a href="https://www.php.net/manual/vote-note.php?id=71396&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71396">
    <a href="https://www.php.net/manual/vote-note.php?id=71396&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71396" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#71396" class="name">
  <strong class="user"><em>randallgirard at hotmail dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#71396"> &para;</a><div class="date" title="2006-11-26 01:18"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71396">
<div class="phpcode"><code><span class="html">I wrote the following for merging arrays, in my project mainly for configuration... Thought someone else might find it usefull.<br /><br />function array_merge_recursive_keys( $first, $second, $greedy=false) {<br />   $inter = array_intersect_assoc(array_keys($first), array_keys($second)); # shaired keys<br /># the idea next, is to strip and append from $second into $first<br />   foreach ( $inter as $key ) {<br />   # recursion if both are arrays<br />      if ( is_array($first[$key]) &amp;&amp; is_array($second[$key]) ) {<br />         $first[$key] = array_merge_recursive_keys($first[$key], $second[$key]);<br />      }<br />   # non-greedy array merging:<br />      else if ( is_array($first[$key] &amp;&amp; !$greedy ) ) {<br />         $first[$key][] = $second[$key];<br />      }<br />      else if ( is_array($second[$key]) &amp;&amp; !$greedy ) {<br />         $second[$key][] = $first[$key];<br />         $first[$key] = $second[$key];<br />      }<br />   # overwrite...<br />      else {<br />         $first[$key] = $second[$key];<br />      }<br />      unset($second[$key]);<br />   }<br /># merge the unmatching keys onto first<br />   return array_merge($first, $second);<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="70036">  <div class="votes">
    <div id="Vu70036">
    <a href="https://www.php.net/manual/vote-note.php?id=70036&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd70036">
    <a href="https://www.php.net/manual/vote-note.php?id=70036&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V70036" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#70036" class="name">
  <strong class="user"><em>thiago dot mata at yahoo dot com dot br</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#70036"> &para;</a><div class="date" title="2006-09-30 12:25"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom70036">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br />    </span><span class="keyword">function </span><span class="default">array_merge_recursive_keep_keys</span><span class="keyword">( </span><span class="default">$arrElement1 </span><span class="keyword">, </span><span class="default">$arrElement2 </span><span class="keyword">, </span><span class="default">$intCount </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">)<br />    {<br /><br />        </span><span class="default">$arrNew </span><span class="keyword">= array();<br />        <br />        </span><span class="default">$arrElement1Keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">( </span><span class="default">$arrElement1 </span><span class="keyword">);<br />        </span><span class="default">$arrElement2Keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">( </span><span class="default">$arrElement2 </span><span class="keyword">);<br />        <br />        </span><span class="default">$arrDifKeys1 </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">( </span><span class="default">$arrElement1Keys</span><span class="keyword">, </span><span class="default">$arrElement2Keys </span><span class="keyword">);<br />        </span><span class="default">$arrDifKeys2 </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">( </span><span class="default">$arrElement2Keys</span><span class="keyword">, </span><span class="default">$arrElement1Keys </span><span class="keyword">);<br />        </span><span class="default">$arrInter     </span><span class="keyword">= </span><span class="default">array_intersect</span><span class="keyword">( </span><span class="default">$arrElement1Keys </span><span class="keyword">, </span><span class="default">$arrElement2Keys </span><span class="keyword">);<br /><br />        foreach( </span><span class="default">$arrDifKeys1 </span><span class="keyword">as </span><span class="default">$strKey1</span><span class="keyword">)<br />        {<br />            </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strKey1 </span><span class="keyword">] = </span><span class="default">$arrElement1</span><span class="keyword">[ </span><span class="default">$strKey1 </span><span class="keyword">];<br />        }<br />        foreach( </span><span class="default">$arrDifKeys2 </span><span class="keyword">as </span><span class="default">$strKey2</span><span class="keyword">)<br />        {<br />            </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strKey2 </span><span class="keyword">] = </span><span class="default">$arrElement2</span><span class="keyword">[ </span><span class="default">$strKey2 </span><span class="keyword">];<br />        }<br />        foreach( </span><span class="default">$arrInter </span><span class="keyword">as </span><span class="default">$strInterKey </span><span class="keyword">)<br />        {<br />            if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$arrElement1</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] ) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$arrElement2</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] ) )<br />            {<br />                </span><span class="default">$intCount</span><span class="keyword">++;<br />                </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] = </span><span class="default">array_merge_recursive_keep_keys</span><span class="keyword">( </span><span class="default">$arrElement1</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] , </span><span class="default">$arrElement2</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] , </span><span class="default">$intCount </span><span class="keyword">);<br />            }<br />            elseif( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$arrElement1</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] ) || </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$arrElement2</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] ) )<br />            {<br />                </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">][]    =  </span><span class="default">$arrElement1</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">];<br />                </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">][]    =  </span><span class="default">$arrElement2</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">];<br />            }<br />            else<br />            {<br />                </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">] = array();<br />                </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">][] = </span><span class="default">$arrElement1</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">];<br />                </span><span class="default">$arrNew</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">][] = </span><span class="default">$arrElement2</span><span class="keyword">[ </span><span class="default">$strInterKey </span><span class="keyword">];<br />            }<br />        }<br />        return </span><span class="default">$arrNew</span><span class="keyword">;<br />    }    <br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="40452">  <div class="votes">
    <div id="Vu40452">
    <a href="https://www.php.net/manual/vote-note.php?id=40452&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd40452">
    <a href="https://www.php.net/manual/vote-note.php?id=40452&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V40452" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#40452" class="name">
  <strong class="user"><em>paska at kios dot sk</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#40452"> &para;</a><div class="date" title="2004-03-04 02:18"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom40452">
<div class="phpcode"><code><span class="html">This emulates replace of $_REQUEST according to variable_order=GPC.<br />&lt;?<br />    function array_merge_replace($array, $newValues) {<br />        foreach ($newValues as $key =&gt; $value ) {<br />            if (is_array($value)) {<br />                if (!isset($array[$key])) {<br />                    $array[$key] = array();<br />                }<br />                $array[$key] = array_merge_replace($array[$key], $value);<br />            } else {<br />                $array[$key] = $value;<br />            }<br />        }<br />        return $array;<br />    }<br /><br />    $_REQUEST = array_merge_replace($_REQUEST, $_GET);<br />    $_REQUEST = array_merge_replace($_REQUEST, $_POST);<br />    $_REQUEST = array_merge_replace($_REQUEST, $_COOKIE);<br />?&gt;<br /><br />Useful with stripping backslashes at beginning of main include file:<br />&lt;?<br />if (get_magic_quotes_gpc() == 1) {<br /><br />    function stripMagicSlashes($element) {<br />        if (is_array($element)) {<br />            return array_map("stripMagicSlashes", $element);<br />        } else {<br />            return stripslashes($element);<br />        }<br />    }<br /><br />    function array_merge_replace($array, $newValues) {<br />        foreach ($newValues as $key =&gt; $value ) {<br />            if (is_array($value)) {<br />                if (!isset($array[$key])) {<br />                    $array[$key] = array();<br />                }<br />                $array[$key] = array_merge_replace($array[$key], $value);<br />            } else {<br />                $array[$key] = $value;<br />            }<br />        }<br />        return $array;<br />    }<br /><br />    $_GET    = array_map("stripMagicSlashes", $_GET);<br />    $_POST   = array_map("stripMagicSlashes", $_POST);<br />    $_COOKIE = array_map("stripMagicSlashes", $_COOKIE);<br /><br />    $_REQUEST = array_merge_replace($_REQUEST, $_GET);<br />    $_REQUEST = array_merge_replace($_REQUEST, $_POST);<br />    $_REQUEST = array_merge_replace($_REQUEST, $_COOKIE);<br /><br />}<br /><br />$GLOBALS['stripped'] = true;<br />?&gt;<br /><br />Based on examples from users from this site.</span></code></div>
  </div>
 </div>
  <div class="note" id="43462">  <div class="votes">
    <div id="Vu43462">
    <a href="https://www.php.net/manual/vote-note.php?id=43462&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd43462">
    <a href="https://www.php.net/manual/vote-note.php?id=43462&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V43462" title="0% like this...">
    -1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#43462" class="name">
  <strong class="user"><em>manicdepressive at mindless dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#43462"> &para;</a><div class="date" title="2004-06-22 07:30"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom43462">
<div class="phpcode"><code><span class="html">Please be aware that under circumstances where you have <br />both the key and value common between the two arrays at a given node,<br />array_merge_recursive() will behave differently if that value is NULL,<br />as opposed to a non-null value.<br /><br />i.e., I expected the results of the first two sections below to <br />have the same structure, but they don't.  <br />If this might apply to you, please see for yourself.<br /><br />&lt;pre&gt;<span class="default">&lt;?php<br /><br />$a1 </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'b'</span><span class="keyword">);<br /></span><span class="default">$a2 </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'b'</span><span class="keyword">);<br /></span><span class="default">$a3 </span><span class="keyword">= </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">);<br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$a3</span><span class="keyword">); <br />echo </span><span class="string">"\n\n"</span><span class="keyword">;<br /><br /></span><span class="default">$a1 </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="default">NULL</span><span class="keyword">);<br /></span><span class="default">$a2 </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="default">NULL</span><span class="keyword">);<br /></span><span class="default">$a3 </span><span class="keyword">= </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">);<br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$a3</span><span class="keyword">);<br />echo </span><span class="string">"\n\n"</span><span class="keyword">;<br /><br /></span><span class="default">$a1 </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="string">'b'</span><span class="keyword">);<br /></span><span class="default">$a2 </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">=&gt;</span><span class="default">NULL</span><span class="keyword">);<br /></span><span class="default">$a3 </span><span class="keyword">= </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">);<br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">$a3</span><span class="keyword">);<br />echo </span><span class="string">"\n\n"</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;</span>&lt;/pre&gt;<br /><br />This behavior also occurs if the value is the empty array.<br />In fact, in the above example, interchanging the empty array with<br />any and all occurences of NULL will yield the same result.<br /><br />    code till dawn!  -mark</span></code></div>
  </div>
 </div>
  <div class="note" id="81409">  <div class="votes">
    <div id="Vu81409">
    <a href="https://www.php.net/manual/vote-note.php?id=81409&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81409">
    <a href="https://www.php.net/manual/vote-note.php?id=81409&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81409" title="42% like this...">
    -1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#81409" class="name">
  <strong class="user"><em>felix dot ospald at gmx dot de</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#81409"> &para;</a><div class="date" title="2008-02-26 11:23"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom81409">
<div class="phpcode"><code><span class="html">If you desire correct and performant behaviour (in contrast to the other postings) use this code. It works as documented above.<br />If you want that keys are always perserved and not appended or renumbered if they are numeric comment out the "if (((string) $key) === ((string) intval($key)))" case.<br />@spambegone at cratemedia dot com: using empty is not right way to check if an item is in the array use isset!<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">array_merge_recursive2</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$array2</span><span class="keyword">)<br />{<br />    </span><span class="default">$arrays </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />    </span><span class="default">$narrays </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">);<br />    <br />    </span><span class="comment">// check arguments<br />    // comment out if more performance is necessary (in this case the foreach loop will trigger a warning if the argument is not an array)<br />    </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$narrays</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">++) {<br />        if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) {<br />            </span><span class="comment">// also array_merge_recursive returns nothing in this case<br />            </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'Argument #' </span><span class="keyword">. (</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">) . </span><span class="string">' is not an array - trying to merge array with scalar! Returning null!'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />            return;<br />        }<br />    }<br />    <br />    </span><span class="comment">// the first array is in the output set in every case<br />    </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />    <br />    </span><span class="comment">// merege $ret with the remaining arrays<br />    </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$narrays</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">++) {<br />        foreach (</span><span class="default">$arrays</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />            if (((string) </span><span class="default">$key</span><span class="keyword">) === ((string) </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">))) { </span><span class="comment">// integer or string as integer key - append<br />                </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />            }<br />            else { </span><span class="comment">// string key - megre<br />                </span><span class="keyword">if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) &amp;&amp; isset(</span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])) {<br />                    </span><span class="comment">// if $ret[$key] is not an array you try to merge an scalar value with an array - the result is not defined (incompatible arrays)<br />                    // in this case the call will trigger an E_USER_WARNING and the $ret[$key] will be null.<br />                    </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">array_merge_recursive2</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="default">$value</span><span class="keyword">);<br />                }<br />                else {<br />                    </span><span class="default">$ret</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />                }<br />            }<br />        }    <br />    }<br />    <br />    return </span><span class="default">$ret</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">// Examples:<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge_recursive2</span><span class="keyword">(array(</span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">,</span><span class="string">'C' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">)), array(</span><span class="string">'D'</span><span class="keyword">,</span><span class="string">'C' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">))));<br /></span><span class="comment">/*<br />Array<br />(<br />    [0] =&gt; A<br />    [1] =&gt; B<br />    [C] =&gt; Array<br />        (<br />            [0] =&gt; 1<br />            [1] =&gt; 2<br />            [2] =&gt; 3<br />            [3] =&gt; 1<br />            [4] =&gt; 4<br />        )<br />    [2] =&gt; D<br />)*/<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge_recursive2</span><span class="keyword">(array(</span><span class="string">'A'</span><span class="keyword">,</span><span class="string">'B'</span><span class="keyword">,</span><span class="string">'0' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">)), array(</span><span class="string">'D'</span><span class="keyword">,</span><span class="string">'0' </span><span class="keyword">=&gt; array(</span><span class="default">1</span><span class="keyword">,array(</span><span class="default">4</span><span class="keyword">)))));<br /></span><span class="comment">/*<br />Array<br />(<br />    [0] =&gt; Array<br />        (<br />            [0] =&gt; 1<br />            [1] =&gt; 2<br />            [2] =&gt; 3<br />        )<br />    [1] =&gt; B<br />    [2] =&gt; Array<br />        (<br />            [0] =&gt; 1<br />            [1] =&gt; Array<br />                (<br />                    [0] =&gt; 4<br />                )<br />        )<br />)*/<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">array_merge_recursive2</span><span class="keyword">(array(</span><span class="string">'A' </span><span class="keyword">=&gt; array(</span><span class="string">'A' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">)), array(</span><span class="string">'A' </span><span class="keyword">=&gt; array(</span><span class="string">'A' </span><span class="keyword">=&gt; array(</span><span class="default">2</span><span class="keyword">)))));<br /></span><span class="comment">/*<br />Warning: Argument #1 is not an array - trying to merge array with scalar! Returning null! in ... on line ...<br />*/<br /><br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">array_merge_recursive2</span><span class="keyword">(array(</span><span class="string">'A' </span><span class="keyword">=&gt; array(</span><span class="string">'A' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">)), array(</span><span class="string">'A' </span><span class="keyword">=&gt; array(</span><span class="string">'A' </span><span class="keyword">=&gt; </span><span class="default">null</span><span class="keyword">))));<br /></span><span class="comment">/*<br />array(1) { ["A"]=&gt;  array(1) { ["A"]=&gt;  NULL } }<br />*/<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="67962">  <div class="votes">
    <div id="Vu67962">
    <a href="https://www.php.net/manual/vote-note.php?id=67962&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd67962">
    <a href="https://www.php.net/manual/vote-note.php?id=67962&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V67962" title="40% like this...">
    -1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#67962" class="name">
  <strong class="user"><em>smilingrasta</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#67962"> &para;</a><div class="date" title="2006-07-07 10:04"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom67962">
<div class="phpcode"><code><span class="html">This function tends to reindex arrays, which is not  mentioned in the function description.<br /><br />I just tried to run that function on a three dimensional array, containing errormessages.<br />The first dim. contains the severity of the error ('warn', 'crit') the second dim the linenumber (numerical) and the third one consists of errormessages<br /><br /><span class="default">&lt;?php<br /></span><span class="comment"># Array printout:<br /></span><span class="keyword">Array<br /> (<br />   [</span><span class="default">warn</span><span class="keyword">] =&gt; Array  </span><span class="comment">// severity (associative)<br />    </span><span class="keyword">(<br />      [</span><span class="default">2</span><span class="keyword">] =&gt; Array  </span><span class="comment">// linenumber (numerical)<br />       </span><span class="keyword">(<br />         [</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="string">"Category does not exist" <br />         </span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] =&gt; </span><span class="string">"Manufacturer does not exist"<br />       </span><span class="keyword">)<br />    )<br /> )<br /><br /></span><span class="default">?&gt;<br /></span><br />If i now merge two or more of those arrays using array_merge_recursive(), the linenumbers are not conserved. Instead of, they are all renumbered, starting with 0.<br /><br />Just thought anyone may want to know about that. :)<br />regards, smilingrasta</span></code></div>
  </div>
 </div>
  <div class="note" id="85409">  <div class="votes">
    <div id="Vu85409">
    <a href="https://www.php.net/manual/vote-note.php?id=85409&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85409">
    <a href="https://www.php.net/manual/vote-note.php?id=85409&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85409" title="33% like this...">
    -1
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#85409" class="name">
  <strong class="user"><em>scott dot clark at vizioninteractive dot com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#85409"> &para;</a><div class="date" title="2008-08-28 01:55"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85409">
<div class="phpcode"><code><span class="html">Needed some way to fuse two arrays together and found a function here (below from thomas) and decided to update it even further to be a little more smart.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">my_array_merge </span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">,</span><span class="default">$ins</span><span class="keyword">)<br />    {<br />        if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">))<br />            {<br />                if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$ins</span><span class="keyword">)) foreach(</span><span class="default">$ins </span><span class="keyword">as </span><span class="default">$k</span><span class="keyword">=&gt;</span><span class="default">$v</span><span class="keyword">)<br />                    {<br />                        if(isset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">])&amp;&amp;</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)&amp;&amp;</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]))<br />                            {<br />                                </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">my_array_merge</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">],</span><span class="default">$v</span><span class="keyword">);<br />                            }<br />                        else </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />                    }<br />            }<br />        elseif(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)&amp;&amp;(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">||</span><span class="default">$arr</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">))<br />            {<br />                </span><span class="default">$arr</span><span class="keyword">=</span><span class="default">$ins</span><span class="keyword">;<br />            }<br />        return(</span><span class="default">$arr</span><span class="keyword">);<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="114818">  <div class="votes">
    <div id="Vu114818">
    <a href="https://www.php.net/manual/vote-note.php?id=114818&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114818">
    <a href="https://www.php.net/manual/vote-note.php?id=114818&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114818" title="20% like this...">
    -3
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#114818" class="name">
  <strong class="user"><em>cezarion at cezarion dot net</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#114818"> &para;</a><div class="date" title="2014-04-09 12:22"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114818">
<div class="phpcode"><code><span class="html">An updated version of  array_merge_recursive without overwriting numeric keys from martyniuk : <br />function array_merge_recursive_new()<br /> {<br />    $arrays = func_get_args();<br />        $base = array_shift($arrays);<br /><br />        foreach ($arrays as $array) {<br />            reset($base); //important<br />            while (list($key, $value) = @each($array)) {<br />                if (is_array($value) &amp;&amp; @is_array($base[$key])) {<br />                    $base[$key] = array_merge_recursive_new($base[$key], $value);<br />                } else {<br />                    if(isset($base[$key]) &amp;&amp; is_int($key)) {<br />                      $key++;<br />                    }<br />                    $base[$key] = $value;<br />                }<br />            }<br />        }<br /><br />    return $base;<br />  }</span></code></div>
  </div>
 </div>
  <div class="note" id="120006">  <div class="votes">
    <div id="Vu120006">
    <a href="https://www.php.net/manual/vote-note.php?id=120006&amp;page=function.array-merge-recursive&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120006">
    <a href="https://www.php.net/manual/vote-note.php?id=120006&amp;page=function.array-merge-recursive&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120006" title="16% like this...">
    -4
    </div>
  </div>
  <a href="function.array-merge-recursive.php.html#120006" class="name">
  <strong class="user"><em>karl (dot) hepler (at) gmail (dot) com</em></strong></a><a class="genanchor" href="function.array-merge-recursive.php.html#120006"> &para;</a><div class="date" title="2016-10-07 08:24"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120006">
<div class="phpcode"><code><span class="html">I ran into a fairly unique situation where array_merge_recursive ALMOST did what I wanted, but NOT QUITE. I read through all of the comments, and I didn't find anything that really helped me. I saw a lot of functions submitted that were just trying to recreate array_replace_recursive. This is not that.<br /><br />Take a look at the code and try it out. Hopefully it helps someone in need!<br /><br />class Arr<br />{<br />    /**<br />     * Merge multiple arrays.<br />     *<br />     * This is similar to, but slightly different than array_merge_recursive.<br />     * The main difference is that it will merge like keys in subarrays,<br />     * instead of simply pushing them into the output array.<br />     *<br />     * @param  array ...$array<br />     *<br />     * @return array<br />     */<br />    public static function merge()<br />    {<br />        /** Initialize the output array */<br />        $merged = [];<br /><br />        /** Go through each argument */<br />        foreach (func_get_args() as $array) {<br />            /** Go through each key/value of this array */<br />            foreach ($array as $key =&gt; $value) {<br />                /**<br />                 * If this key isn't set on merged,<br />                 * then it needs to be set for the first time<br />                 */<br />                if (! isset($merged[$key])) {<br />                    /**<br />                     * Before we can set it, we must make sure<br />                     * to dive into this value if it is an array,<br />                     * so that all of its children will be processed.<br />                     */<br />                    if (is_array($value)) {<br />                        $value = static::merge($value);<br />                    }<br /><br />                    /**<br />                     * Now that we're happy with this value,<br />                     * and we're sure that, if it is an array,<br />                     * all of its children have been processed,<br />                     * let's go ahead and set it.<br />                     */<br />                    $merged[$key] = $value;<br /><br />                    /** We can skip the rest of the loop */<br />                    continue;<br />                }<br /><br />                /**<br />                 * We're here because we want to set a key<br />                 * that is already set on merged. We don't want<br />                 * to overwrite anything - we want to add to it.<br />                 * So, we need to make sure that we're working with an array.<br />                 */<br />                if (! is_array($merged[$key])) {<br />                    $merged[$key] = [$merged[$key]];<br />                }<br /><br />                /**<br />                 * Before we push the value onto the array,<br />                 * we need to check to see if it is an array itself.<br />                 * If it is, then we need to make sure all of its children<br />                 * are processed. We do this by merging all of the children<br />                 * together. This is where it differs from array_merge_recursive,<br />                 * which would simply push the children onto the end of the array.<br />                 */<br />                if (is_array($value)) {<br />                    $value = forward_static_call_array([Arr::class, 'merge'], $value);<br />                }<br /><br />                /** Now we're ready to push the value into merged */<br />                $merged[$key][] = $value;<br />            }<br />        }<br /><br />        /** Return the merged array */<br />        return $merged;<br />    }<br />}</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.array-merge-recursive&amp;redirect=https://www.php.net/manual/ru/function.array-merge-recursive.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.array.php.html">Функции для работы с массивами</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.array-change-key-case.php.html" title="array_&#8203;change_&#8203;key_&#8203;case">array_&#8203;change_&#8203;key_&#8203;case</a>
                        </li>
                                                <li class="">
                            <a href="function.array-chunk.php.html" title="array_&#8203;chunk">array_&#8203;chunk</a>
                        </li>
                                                <li class="">
                            <a href="function.array-column.php.html" title="array_&#8203;column">array_&#8203;column</a>
                        </li>
                                                <li class="">
                            <a href="function.array-combine.php.html" title="array_&#8203;combine">array_&#8203;combine</a>
                        </li>
                                                <li class="">
                            <a href="function.array-count-values.php.html" title="array_&#8203;count_&#8203;values">array_&#8203;count_&#8203;values</a>
                        </li>
                                                <li class="">
                            <a href="function.array-diff-assoc.php.html" title="array_&#8203;diff_&#8203;assoc">array_&#8203;diff_&#8203;assoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-diff-key.php.html" title="array_&#8203;diff_&#8203;key">array_&#8203;diff_&#8203;key</a>
                        </li>
                                                <li class="">
                            <a href="function.array-diff-uassoc.php.html" title="array_&#8203;diff_&#8203;uassoc">array_&#8203;diff_&#8203;uassoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-diff-ukey.php.html" title="array_&#8203;diff_&#8203;ukey">array_&#8203;diff_&#8203;ukey</a>
                        </li>
                                                <li class="">
                            <a href="function.array-diff.php.html" title="array_&#8203;diff">array_&#8203;diff</a>
                        </li>
                                                <li class="">
                            <a href="function.array-fill-keys.php.html" title="array_&#8203;fill_&#8203;keys">array_&#8203;fill_&#8203;keys</a>
                        </li>
                                                <li class="">
                            <a href="function.array-fill.php.html" title="array_&#8203;fill">array_&#8203;fill</a>
                        </li>
                                                <li class="">
                            <a href="function.array-filter.php.html" title="array_&#8203;filter">array_&#8203;filter</a>
                        </li>
                                                <li class="">
                            <a href="function.array-flip.php.html" title="array_&#8203;flip">array_&#8203;flip</a>
                        </li>
                                                <li class="">
                            <a href="function.array-intersect-assoc.php.html" title="array_&#8203;intersect_&#8203;assoc">array_&#8203;intersect_&#8203;assoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-intersect-key.php.html" title="array_&#8203;intersect_&#8203;key">array_&#8203;intersect_&#8203;key</a>
                        </li>
                                                <li class="">
                            <a href="function.array-intersect-uassoc.php.html" title="array_&#8203;intersect_&#8203;uassoc">array_&#8203;intersect_&#8203;uassoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-intersect-ukey.php.html" title="array_&#8203;intersect_&#8203;ukey">array_&#8203;intersect_&#8203;ukey</a>
                        </li>
                                                <li class="">
                            <a href="function.array-intersect.php.html" title="array_&#8203;intersect">array_&#8203;intersect</a>
                        </li>
                                                <li class="">
                            <a href="function.array-is-list.php.html" title="array_&#8203;is_&#8203;list">array_&#8203;is_&#8203;list</a>
                        </li>
                                                <li class="">
                            <a href="function.array-key-exists.php.html" title="array_&#8203;key_&#8203;exists">array_&#8203;key_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.array-key-first.php.html" title="array_&#8203;key_&#8203;first">array_&#8203;key_&#8203;first</a>
                        </li>
                                                <li class="">
                            <a href="function.array-key-last.php.html" title="array_&#8203;key_&#8203;last">array_&#8203;key_&#8203;last</a>
                        </li>
                                                <li class="">
                            <a href="function.array-keys.php.html" title="array_&#8203;keys">array_&#8203;keys</a>
                        </li>
                                                <li class="">
                            <a href="function.array-map.php.html" title="array_&#8203;map">array_&#8203;map</a>
                        </li>
                                                <li class="current">
                            <a href="function.array-merge-recursive.php.html" title="array_&#8203;merge_&#8203;recursive">array_&#8203;merge_&#8203;recursive</a>
                        </li>
                                                <li class="">
                            <a href="function.array-merge.php.html" title="array_&#8203;merge">array_&#8203;merge</a>
                        </li>
                                                <li class="">
                            <a href="function.array-multisort.php.html" title="array_&#8203;multisort">array_&#8203;multisort</a>
                        </li>
                                                <li class="">
                            <a href="function.array-pad.php.html" title="array_&#8203;pad">array_&#8203;pad</a>
                        </li>
                                                <li class="">
                            <a href="function.array-pop.php.html" title="array_&#8203;pop">array_&#8203;pop</a>
                        </li>
                                                <li class="">
                            <a href="function.array-product.php.html" title="array_&#8203;product">array_&#8203;product</a>
                        </li>
                                                <li class="">
                            <a href="function.array-push.php.html" title="array_&#8203;push">array_&#8203;push</a>
                        </li>
                                                <li class="">
                            <a href="function.array-rand.php.html" title="array_&#8203;rand">array_&#8203;rand</a>
                        </li>
                                                <li class="">
                            <a href="function.array-reduce.php.html" title="array_&#8203;reduce">array_&#8203;reduce</a>
                        </li>
                                                <li class="">
                            <a href="function.array-replace-recursive.php.html" title="array_&#8203;replace_&#8203;recursive">array_&#8203;replace_&#8203;recursive</a>
                        </li>
                                                <li class="">
                            <a href="function.array-replace.php.html" title="array_&#8203;replace">array_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.array-reverse.php.html" title="array_&#8203;reverse">array_&#8203;reverse</a>
                        </li>
                                                <li class="">
                            <a href="function.array-search.php.html" title="array_&#8203;search">array_&#8203;search</a>
                        </li>
                                                <li class="">
                            <a href="function.array-shift.php.html" title="array_&#8203;shift">array_&#8203;shift</a>
                        </li>
                                                <li class="">
                            <a href="function.array-slice.php.html" title="array_&#8203;slice">array_&#8203;slice</a>
                        </li>
                                                <li class="">
                            <a href="function.array-splice.php.html" title="array_&#8203;splice">array_&#8203;splice</a>
                        </li>
                                                <li class="">
                            <a href="function.array-sum.php.html" title="array_&#8203;sum">array_&#8203;sum</a>
                        </li>
                                                <li class="">
                            <a href="function.array-udiff-assoc.php.html" title="array_&#8203;udiff_&#8203;assoc">array_&#8203;udiff_&#8203;assoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-udiff-uassoc.php.html" title="array_&#8203;udiff_&#8203;uassoc">array_&#8203;udiff_&#8203;uassoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-udiff.php.html" title="array_&#8203;udiff">array_&#8203;udiff</a>
                        </li>
                                                <li class="">
                            <a href="function.array-uintersect-assoc.php.html" title="array_&#8203;uintersect_&#8203;assoc">array_&#8203;uintersect_&#8203;assoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-uintersect-uassoc.php.html" title="array_&#8203;uintersect_&#8203;uassoc">array_&#8203;uintersect_&#8203;uassoc</a>
                        </li>
                                                <li class="">
                            <a href="function.array-uintersect.php.html" title="array_&#8203;uintersect">array_&#8203;uintersect</a>
                        </li>
                                                <li class="">
                            <a href="function.array-unique.php.html" title="array_&#8203;unique">array_&#8203;unique</a>
                        </li>
                                                <li class="">
                            <a href="function.array-unshift.php.html" title="array_&#8203;unshift">array_&#8203;unshift</a>
                        </li>
                                                <li class="">
                            <a href="function.array-values.php.html" title="array_&#8203;values">array_&#8203;values</a>
                        </li>
                                                <li class="">
                            <a href="function.array-walk-recursive.php.html" title="array_&#8203;walk_&#8203;recursive">array_&#8203;walk_&#8203;recursive</a>
                        </li>
                                                <li class="">
                            <a href="function.array-walk.php.html" title="array_&#8203;walk">array_&#8203;walk</a>
                        </li>
                                                <li class="">
                            <a href="function.array.php.html" title="array">array</a>
                        </li>
                                                <li class="">
                            <a href="function.arsort.php.html" title="arsort">arsort</a>
                        </li>
                                                <li class="">
                            <a href="function.asort.php.html" title="asort">asort</a>
                        </li>
                                                <li class="">
                            <a href="function.compact.php.html" title="compact">compact</a>
                        </li>
                                                <li class="">
                            <a href="function.count.php.html" title="count">count</a>
                        </li>
                                                <li class="">
                            <a href="function.current.php.html" title="current">current</a>
                        </li>
                                                <li class="">
                            <a href="function.end.php.html" title="end">end</a>
                        </li>
                                                <li class="">
                            <a href="function.extract.php.html" title="extract">extract</a>
                        </li>
                                                <li class="">
                            <a href="function.in-array.php.html" title="in_&#8203;array">in_&#8203;array</a>
                        </li>
                                                <li class="">
                            <a href="function.key-exists.php.html" title="key_&#8203;exists">key_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.key.php.html" title="key">key</a>
                        </li>
                                                <li class="">
                            <a href="function.krsort.php.html" title="krsort">krsort</a>
                        </li>
                                                <li class="">
                            <a href="function.ksort.php.html" title="ksort">ksort</a>
                        </li>
                                                <li class="">
                            <a href="function.list.php.html" title="list">list</a>
                        </li>
                                                <li class="">
                            <a href="function.natcasesort.php.html" title="natcasesort">natcasesort</a>
                        </li>
                                                <li class="">
                            <a href="function.natsort.php.html" title="natsort">natsort</a>
                        </li>
                                                <li class="">
                            <a href="function.next.php.html" title="next">next</a>
                        </li>
                                                <li class="">
                            <a href="function.pos.php.html" title="pos">pos</a>
                        </li>
                                                <li class="">
                            <a href="function.prev.php.html" title="prev">prev</a>
                        </li>
                                                <li class="">
                            <a href="function.range.php.html" title="range">range</a>
                        </li>
                                                <li class="">
                            <a href="function.reset.php.html" title="reset">reset</a>
                        </li>
                                                <li class="">
                            <a href="function.rsort.php.html" title="rsort">rsort</a>
                        </li>
                                                <li class="">
                            <a href="function.shuffle.php.html" title="shuffle">shuffle</a>
                        </li>
                                                <li class="">
                            <a href="function.sizeof.php.html" title="sizeof">sizeof</a>
                        </li>
                                                <li class="">
                            <a href="function.sort.php.html" title="sort">sort</a>
                        </li>
                                                <li class="">
                            <a href="function.uasort.php.html" title="uasort">uasort</a>
                        </li>
                                                <li class="">
                            <a href="function.uksort.php.html" title="uksort">uksort</a>
                        </li>
                                                <li class="">
                            <a href="function.usort.php.html" title="usort">usort</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                        <li>
                <span class="header">Deprecated</span>
                <ul class="child-menu-list">
                                    <li class="">
                        <a href="function.each.php.html" title="each">each</a>
                    </li>
                                </ul>
            </li>
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
