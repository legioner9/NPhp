<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: crc32 - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.crc32.php.html">
 <link rel="shorturl" href="https://www.php.net/crc32">
 <link rel="alternate" href="https://www.php.net/crc32" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.strings.php.html">
 <link rel="prev" href="function.count-chars.php.html">
 <link rel="next" href="function.crypt.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.crc32.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.crc32.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.crc32.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.crc32.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.crc32.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.crc32.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.crc32.php" hreflang="pt_BR">
 <link rel="alternate" href="function.crc32.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.crc32.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.crc32.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.crypt.php.html">
          crypt &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.count-chars.php.html">
          &laquo; count_chars        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.text.php.html'>Обработка текста</a></li>      <li><a href='book.strings.php.html'>Строки</a></li>      <li><a href='ref.strings.php.html'>Функции для работы со строками</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.crc32.php'>English</option>
            <option value='de/function.crc32.php'>German</option>
            <option value='es/function.crc32.php'>Spanish</option>
            <option value='fr/function.crc32.php'>French</option>
            <option value='it/function.crc32.php'>Italian</option>
            <option value='ja/function.crc32.php'>Japanese</option>
            <option value='pt_BR/function.crc32.php'>Brazilian Portuguese</option>
            <option value='ru/function.crc32.php' selected="selected">Russian</option>
            <option value='tr/function.crc32.php'>Turkish</option>
            <option value='zh/function.crc32.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/strings/functions/crc32.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.crc32%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.crc32" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">crc32</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.1, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">crc32</span> &mdash; <span class="dc-title">Вычисляет полином CRC32 для строки</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.crc32-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>crc32</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$string</code></span>): <span class="type">int</span></div>

  <p class="para rdfs-comment">
   Функция вычисляет циклический избыточный код 32-битных
   полиномов (CRC32) для строки <code class="parameter">string</code>.
   Это обычно используется для контроля целостности передаваемых данных.
  </p>
  <div class="warning"><strong class="warning">Внимание</strong>
   <p class="simpara">
    В PHP целые числа имеют знак, поэтому многие контрольные суммы
    могут оказаться отрицательными на 32-битных платформах. На 64-битных
    платформах все результаты <span class="function"><strong>crc32()</strong></span> будут положительными целыми.
   </p>
   <p class="simpara">
    Поэтому вам нужно использовать формат &quot;%u&quot; в функциях <span class="function"><a href="function.sprintf.php.html" class="function">sprintf()</a></span> или
    <span class="function"><a href="function.printf.php.html" class="function">printf()</a></span> для получения строкового представления
    суммы <span class="function"><strong>crc32()</strong></span> без знака.
   </p>
   <p class="simpara">
    Для шестнадцатеричного представления суммы вы можете использовать
    или формат &quot;%x&quot; в функциях <span class="function"><a href="function.sprintf.php.html" class="function">sprintf()</a></span> и <span class="function"><a href="function.printf.php.html" class="function">printf()</a></span>,
    или же функцию конвертации <span class="function"><a href="function.dechex.php.html" class="function">dechex()</a></span>. Оба этих способа также
    позаботятся о конвертации результата <span class="function"><strong>crc32()</strong></span> в беззнаковое целое.
   </p>
   <p class="simpara">
    При использовании 64-битных платформ также рассматривалась возможность
    возвращать отрицательные целые для больших значений, но это ломало
    шестнадцатеричное представление, добавляя дополнительные 0xFFFFFFFF########
    смещения для них. Так как шестнадцатеричное представление является самым востребованным,
    было решено не ломать его, даже если это ломает прямое сравнение десятичных
    значений в 50% случаев при переходе с 32-битных на 64-битные платформы.
   </p>
   <p class="simpara">
    Оглядываясь назад, возможно возвращать целое число было не самой лучшей идеей и лучше было
    возвращать сразу шестнадцатеричное представление (как например делает
    <span class="function"><a href="function.md5.php.html" class="function">md5()</a></span>).
   </p>
   <p class="simpara">
    Можно воспользоваться также более общим решением с использованием функции
    <span class="function"><a href="function.hash.php.html" class="function">hash()</a></span>. <code class="code">hash(&quot;crc32b&quot;, $str)</code> вернёт
    ту же строку, что и <code class="code">str_pad(dechex(crc32($str)), 8, &#039;0&#039;, STR_PAD_LEFT)</code>.
   </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.crc32-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">string</code></dt>

     <dd>

      <p class="para">
       Данные.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.crc32-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает контрольную сумму crc32 строки <code class="parameter">string</code> в виде целого числа.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.crc32-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Вывод контрольной суммы CRC32</strong></p>
    <div class="example-contents"><p>
     Этот пример иллюстрирует вывод вычисленной контрольной суммы
     с помощью функции <span class="function"><a href="function.printf.php.html" class="function">printf()</a></span>:
    </p></div>
    <div class="example-contents">

<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$checksum </span><span style="color: #007700">= </span><span style="color: #0000BB">crc32</span><span style="color: #007700">(</span><span style="color: #DD0000">"The quick brown fox jumped over the lazy dog."</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"%u\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$checksum</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.crc32-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.hash.php.html" class="function" rel="rdfs-seeAlso">hash()</a> - Генерирует хеш-код (подпись сообщения)</span></li>
    <li class="member"><span class="function"><a href="function.md5.php.html" class="function" rel="rdfs-seeAlso">md5()</a> - Возвращает MD5-хеш строки</span></li>
    <li class="member"><span class="function"><a href="function.sha1.php.html" class="function" rel="rdfs-seeAlso">sha1()</a> - Возвращает SHA1-хеш строки</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.crc32&amp;redirect=https://www.php.net/manual/ru/function.crc32.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">23 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="96262">  <div class="votes">
    <div id="Vu96262">
    <a href="https://www.php.net/manual/vote-note.php?id=96262&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd96262">
    <a href="https://www.php.net/manual/vote-note.php?id=96262&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V96262" title="76% like this...">
    22
    </div>
  </div>
  <a href="function.crc32.php.html#96262" class="name">
  <strong class="user"><em>jian at theorchard dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#96262"> &para;</a><div class="date" title="2010-02-17 10:13"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom96262">
<div class="phpcode"><code><span class="html">This function returns an unsigned integer from a 64-bit Linux platform.  It does return the signed integer from other 32-bit platforms even a 64-bit Windows one.<br /><br />The reason is because the two constants PHP_INT_SIZE and PHP_INT_MAX have different values on the 64-bit Linux platform.<br /><br />I've created a work-around function to handle this situation.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">get_signed_int</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">) {<br />    </span><span class="default">$int_max </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">31</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />    if (</span><span class="default">$in </span><span class="keyword">&gt; </span><span class="default">$int_max</span><span class="keyword">){<br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="default">$in </span><span class="keyword">- </span><span class="default">$int_max </span><span class="keyword">* </span><span class="default">2 </span><span class="keyword">- </span><span class="default">2</span><span class="keyword">;<br />    }<br />    else {<br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="default">$in</span><span class="keyword">;<br />    }<br />    return </span><span class="default">$out</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Hope this helps.</span></code></div>
  </div>
 </div>
  <div class="note" id="111699">  <div class="votes">
    <div id="Vu111699">
    <a href="https://www.php.net/manual/vote-note.php?id=111699&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd111699">
    <a href="https://www.php.net/manual/vote-note.php?id=111699&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V111699" title="64% like this...">
    9
    </div>
  </div>
  <a href="function.crc32.php.html#111699" class="name">
  <strong class="user"><em>i at morfi dot ru</em></strong></a><a class="genanchor" href="function.crc32.php.html#111699"> &para;</a><div class="date" title="2013-03-18 01:16"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom111699">
<div class="phpcode"><code><span class="html">Implementation crc64() in php 64bit<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/**<br /> * @return array<br /> */<br /></span><span class="keyword">function </span><span class="default">crc64Table</span><span class="keyword">()<br />{<br />    </span><span class="default">$crc64tab </span><span class="keyword">= [];<br /><br />    </span><span class="comment">// ECMA polynomial<br />    </span><span class="default">$poly64rev </span><span class="keyword">= (</span><span class="default">0xC96C5795 </span><span class="keyword">&lt;&lt; </span><span class="default">32</span><span class="keyword">) | </span><span class="default">0xD7870F42</span><span class="keyword">;<br /><br />    </span><span class="comment">// ISO polynomial<br />    // $poly64rev = (0xD8 &lt;&lt; 56);<br /><br />    </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">256</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />    {<br />        for (</span><span class="default">$part </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">, </span><span class="default">$bit </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$bit </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">; </span><span class="default">$bit</span><span class="keyword">++) {<br />            if (</span><span class="default">$part </span><span class="keyword">&amp; </span><span class="default">1</span><span class="keyword">) {<br />                </span><span class="default">$part </span><span class="keyword">= ((</span><span class="default">$part </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">) &amp; ~(</span><span class="default">0x8 </span><span class="keyword">&lt;&lt; </span><span class="default">60</span><span class="keyword">)) ^ </span><span class="default">$poly64rev</span><span class="keyword">;<br />            } else {<br />                </span><span class="default">$part </span><span class="keyword">= (</span><span class="default">$part </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">) &amp; ~(</span><span class="default">0x8 </span><span class="keyword">&lt;&lt; </span><span class="default">60</span><span class="keyword">);<br />            }<br />        }<br /><br />       </span><span class="default">$crc64tab</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$part</span><span class="keyword">;<br />    }<br /><br />    return </span><span class="default">$crc64tab</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">/**<br /> * @param string $string<br /> * @param string $format<br /> * @return mixed<br /> * <br /> * Formats:<br /> *  crc64('php'); // afe4e823e7cef190<br /> *  crc64('php', '0x%x'); // 0xafe4e823e7cef190<br /> *  crc64('php', '0x%X'); // 0xAFE4E823E7CEF190<br /> *  crc64('php', '%d'); // -5772233581471534704 signed int<br /> *  crc64('php', '%u'); // 12674510492238016912 unsigned int<br /> */<br /></span><span class="keyword">function </span><span class="default">crc64</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$format </span><span class="keyword">= </span><span class="string">'%x'</span><span class="keyword">)<br />{<br />    static </span><span class="default">$crc64tab</span><span class="keyword">;<br /><br />    if (</span><span class="default">$crc64tab </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">) {<br />        </span><span class="default">$crc64tab </span><span class="keyword">= </span><span class="default">crc64Table</span><span class="keyword">();<br />    }<br /><br />    </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br /><br />    for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />        </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">$crc64tab</span><span class="keyword">[(</span><span class="default">$crc </span><span class="keyword">^ </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) &amp; </span><span class="default">0xff</span><span class="keyword">] ^ ((</span><span class="default">$crc </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; ~(</span><span class="default">0xff </span><span class="keyword">&lt;&lt; </span><span class="default">56</span><span class="keyword">));<br />    }<br /><br />    return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="default">$format</span><span class="keyword">, </span><span class="default">$crc</span><span class="keyword">);<br />}</span></span></code></div>
  </div>
 </div>
  <div class="note" id="111931">  <div class="votes">
    <div id="Vu111931">
    <a href="https://www.php.net/manual/vote-note.php?id=111931&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd111931">
    <a href="https://www.php.net/manual/vote-note.php?id=111931&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V111931" title="65% like this...">
    7
    </div>
  </div>
  <a href="function.crc32.php.html#111931" class="name">
  <strong class="user"><em>JS at JavsSys dot Org</em></strong></a><a class="genanchor" href="function.crc32.php.html#111931"> &para;</a><div class="date" title="2013-04-13 04:22"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom111931">
<div class="phpcode"><code><span class="html">The khash() function by sukitsupaluk has two problems, it does not use all 62 characters from the $map set and when corrected it then produces different results on 64-bit compared to 32-bit PHP systems.<br /><br />Here is my modified version :<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/**<br /> * Small sample convert crc32 to character map<br /> * Based upon <a href="http://www.php.net/manual/en/function.crc32.php#105703" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.crc32.php#105703</a><br /> * (Modified to now use all characters from $map)<br /> * (Modified to be 32-bit PHP safe)<br /> */<br /></span><span class="keyword">function </span><span class="default">khash</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)<br />{<br />    static </span><span class="default">$map </span><span class="keyword">= </span><span class="string">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="keyword">;<br />    </span><span class="default">$hash </span><span class="keyword">= </span><span class="default">bcadd</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%u'</span><span class="keyword">,</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)) , </span><span class="default">0x100000000</span><span class="keyword">);<br />    </span><span class="default">$str </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />    do<br />    {<br />        </span><span class="default">$str </span><span class="keyword">= </span><span class="default">$map</span><span class="keyword">[</span><span class="default">bcmod</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">62</span><span class="keyword">) ] . </span><span class="default">$str</span><span class="keyword">;<br />        </span><span class="default">$hash </span><span class="keyword">= </span><span class="default">bcdiv</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">62</span><span class="keyword">);<br />    }<br />    while (</span><span class="default">$hash </span><span class="keyword">&gt;= </span><span class="default">1</span><span class="keyword">);<br />    return </span><span class="default">$str</span><span class="keyword">;<br />}<br /></span><span class="comment">//-----------------------------------------------------------------------------------<br /></span><span class="default">$test </span><span class="keyword">= array(</span><span class="default">null</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">"1"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"3"</span><span class="keyword">, </span><span class="string">"ab"</span><span class="keyword">, </span><span class="string">"abc"</span><span class="keyword">, </span><span class="string">"abcd"</span><span class="keyword">,<br />    </span><span class="string">"abcde"</span><span class="keyword">, </span><span class="string">"abcdefoo"</span><span class="keyword">, </span><span class="string">"248840027"</span><span class="keyword">, </span><span class="string">"1365848013"</span><span class="keyword">, </span><span class="comment">// time()<br />    </span><span class="string">"9223372035488927794"</span><span class="keyword">, </span><span class="comment">// PHP_INT_MAX-time()<br />    </span><span class="string">"901131979"</span><span class="keyword">, </span><span class="comment">// mt_rand()<br />    </span><span class="string">"Sat, 13 Apr 2013 10:13:33 +0000" </span><span class="comment">// gmdate('r') <br /></span><span class="keyword">);<br /></span><span class="default">$out </span><span class="keyword">= array();<br />foreach (</span><span class="default">$test </span><span class="keyword">as </span><span class="default">$s</span><span class="keyword">)<br />{<br />    </span><span class="default">$out</span><span class="keyword">[] = </span><span class="default">khash</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) . </span><span class="string">": " </span><span class="keyword">. </span><span class="default">$s</span><span class="keyword">;<br />}<br />print </span><span class="string">"&lt;h3&gt;khash() -- maps a crc32 result into a (62-character) result&lt;/h3&gt;"</span><span class="keyword">;<br />print </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">;<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">);<br />print </span><span class="string">"\n\n\$GLOBALS['raw_crc32']:\n"</span><span class="keyword">;<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'raw_crc32'</span><span class="keyword">]);<br />print </span><span class="string">'&lt;/pre&gt;&lt;hr&gt;'</span><span class="keyword">;<br /></span><span class="default">flush</span><span class="keyword">();<br /></span><span class="default">$pefile </span><span class="keyword">= </span><span class="default">__FILE__</span><span class="keyword">;<br />print </span><span class="string">"&lt;h3&gt;</span><span class="default">$pefile</span><span class="string">&lt;/h3&gt;"</span><span class="keyword">;<br /></span><span class="default">ob_end_flush</span><span class="keyword">();<br /></span><span class="default">flush</span><span class="keyword">();<br /></span><span class="default">highlight_file</span><span class="keyword">(</span><span class="default">$pefile</span><span class="keyword">);<br />print </span><span class="string">"&lt;hr&gt;"</span><span class="keyword">;<br /></span><span class="comment">//-----------------------------------------------------------------------------------<br />/* CURRENT output<br />array(19) {<br />  [0]=&gt;<br />  string(8) "4GFfc4: "<br />  [1]=&gt;<br />  string(9) "76nO4L: 1"<br />  [2]=&gt;<br />  string(8) "4GFfc4: "<br />  [3]=&gt;<br />  string(9) "9aGcIp: 0"<br />  [4]=&gt;<br />  string(9) "9aGcIp: 0"<br />  [5]=&gt;<br />  string(9) "76nO4L: 1"<br />  [6]=&gt;<br />  string(9) "76nO4L: 1"<br />  [7]=&gt;<br />  string(9) "5b8iNn: 2"<br />  [8]=&gt;<br />  string(9) "6HmfFN: 3"<br />  [9]=&gt;<br />  string(10) "7ADPD7: ab"<br />  [10]=&gt;<br />  string(11) "5F0aUq: abc"<br />  [11]=&gt;<br />  string(12) "92kWw9: abcd"<br />  [12]=&gt;<br />  string(13) "78hcpf: abcde"<br />  [13]=&gt;<br />  string(16) "9eBVPB: abcdefoo"<br />  [14]=&gt;<br />  string(17) "5TjOuZ: 248840027"<br />  [15]=&gt;<br />  string(18) "5eNliI: 1365848013"<br />  [16]=&gt;<br />  string(27) "4Q00e5: 9223372035488927794"<br />  [17]=&gt;<br />  string(17) "6DUX8V: 901131979"<br />  [18]=&gt;<br />  string(39) "5i2aOW: Sat, 13 Apr 2013 10:13:33 +0000"<br />}<br />*/<br />//-----------------------------------------------------------------------------------<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="56215">  <div class="votes">
    <div id="Vu56215">
    <a href="https://www.php.net/manual/vote-note.php?id=56215&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56215">
    <a href="https://www.php.net/manual/vote-note.php?id=56215&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56215" title="61% like this...">
    8
    </div>
  </div>
  <a href="function.crc32.php.html#56215" class="name">
  <strong class="user"><em>Bulk at bulksplace dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#56215"> &para;</a><div class="date" title="2005-08-27 05:46"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56215">
<div class="phpcode"><code><span class="html">A faster way I've found to return CRC values of larger files, is instead of using the file()/implode() method used below, is to us file_get_contents() (PHP 4 &gt;= 4.3.0) which uses memory mapping techniques if supported by your OS to enhance performance. Here's my example function: <br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// $file is the path to the file you want to check.<br /></span><span class="keyword">function </span><span class="default">file_crc</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)<br />{<br />    </span><span class="default">$file_string </span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br /><br />    </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$file_string</span><span class="keyword">);<br />    <br />    return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%u"</span><span class="keyword">, </span><span class="default">$crc</span><span class="keyword">);<br />}<br /><br /></span><span class="default">$file_to_crc </span><span class="keyword">= /</span><span class="default">home</span><span class="keyword">/</span><span class="default">path</span><span class="keyword">/</span><span class="default">to</span><span class="keyword">/</span><span class="default">file</span><span class="keyword">.</span><span class="default">jpg</span><span class="keyword">;<br /><br />echo </span><span class="default">file_crc</span><span class="keyword">(</span><span class="default">$file_to_crc</span><span class="keyword">); </span><span class="comment">// Outputs CRC value for given file.<br /></span><span class="default">?&gt;<br /></span><br />I've found in testing this method is MUCH faster for larger binary files.</span></code></div>
  </div>
 </div>
  <div class="note" id="75884">  <div class="votes">
    <div id="Vu75884">
    <a href="https://www.php.net/manual/vote-note.php?id=75884&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75884">
    <a href="https://www.php.net/manual/vote-note.php?id=75884&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75884" title="61% like this...">
    5
    </div>
  </div>
  <a href="function.crc32.php.html#75884" class="name">
  <strong class="user"><em>slimshady451</em></strong></a><a class="genanchor" href="function.crc32.php.html#75884"> &para;</a><div class="date" title="2007-06-20 02:14"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom75884">
<div class="phpcode"><code><span class="html">I see a lot of function for crc32_file, but for php version &gt;= 5.1.2 don't forget you can use this :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">crc32_file</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">)<br />{<br />    return </span><span class="default">hash_file </span><span class="keyword">(</span><span class="string">'CRC32'</span><span class="keyword">, </span><span class="default">$filename </span><span class="keyword">, </span><span class="default">FALSE </span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />Using crc32(file_get_contents($filename)) will use too many memory on big file so don't use it.</span></code></div>
  </div>
 </div>
  <div class="note" id="39545">  <div class="votes">
    <div id="Vu39545">
    <a href="https://www.php.net/manual/vote-note.php?id=39545&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd39545">
    <a href="https://www.php.net/manual/vote-note.php?id=39545&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V39545" title="58% like this...">
    5
    </div>
  </div>
  <a href="function.crc32.php.html#39545" class="name">
  <strong class="user"><em>same</em></strong></a><a class="genanchor" href="function.crc32.php.html#39545"> &para;</a><div class="date" title="2004-02-01 05:27"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom39545">
<div class="phpcode"><code><span class="html">bit by bit crc32 computation<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">bitbybit_crc32</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$first_call</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">){<br /><br />    </span><span class="comment">//reflection in 32 bits of crc32 polynomial 0x04C11DB7<br />    </span><span class="default">$poly_reflected</span><span class="keyword">=</span><span class="default">0xEDB88320</span><span class="keyword">;<br /><br />    </span><span class="comment">//=0xFFFFFFFF; //keep track of register value after each call<br />    </span><span class="keyword">static </span><span class="default">$reg</span><span class="keyword">=</span><span class="default">0xFFFFFFFF</span><span class="keyword">;<br /><br />    </span><span class="comment">//initialize register on first call<br />    </span><span class="keyword">if(</span><span class="default">$first_call</span><span class="keyword">) </span><span class="default">$reg</span><span class="keyword">=</span><span class="default">0xFFFFFFFF</span><span class="keyword">;<br />    <br />    </span><span class="default">$n</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br />    </span><span class="default">$zeros</span><span class="keyword">=</span><span class="default">$n</span><span class="keyword">&lt;</span><span class="default">4 </span><span class="keyword">? </span><span class="default">$n </span><span class="keyword">: </span><span class="default">4</span><span class="keyword">;<br /><br />    </span><span class="comment">//xor first $zeros=min(4,strlen($str)) bytes into the register<br />    </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$zeros</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />        </span><span class="default">$reg</span><span class="keyword">^=</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">})&lt;&lt;</span><span class="default">$i</span><span class="keyword">*</span><span class="default">8</span><span class="keyword">;<br /><br />    </span><span class="comment">//now for the rest of the string<br />    </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />        </span><span class="default">$next_char</span><span class="keyword">=</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">});<br />        for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">8</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++)<br />            </span><span class="default">$reg</span><span class="keyword">=((</span><span class="default">$reg</span><span class="keyword">&gt;&gt;</span><span class="default">1</span><span class="keyword">&amp;</span><span class="default">0x7FFFFFFF</span><span class="keyword">)|(</span><span class="default">$next_char</span><span class="keyword">&gt;&gt;</span><span class="default">$j</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">)&lt;&lt;</span><span class="default">0x1F</span><span class="keyword">)<br />                ^(</span><span class="default">$reg</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">)*</span><span class="default">$poly_reflected</span><span class="keyword">;<br />    }<br /><br />    </span><span class="comment">//put in enough zeros at the end<br />    </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$zeros</span><span class="keyword">*</span><span class="default">8</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />        </span><span class="default">$reg</span><span class="keyword">=(</span><span class="default">$reg</span><span class="keyword">&gt;&gt;</span><span class="default">1</span><span class="keyword">&amp;</span><span class="default">0x7FFFFFFF</span><span class="keyword">)^(</span><span class="default">$reg</span><span class="keyword">&amp;</span><span class="default">1</span><span class="keyword">)*</span><span class="default">$poly_reflected</span><span class="keyword">;<br /><br />    </span><span class="comment">//xor the register with 0xFFFFFFFF<br />    </span><span class="keyword">return ~</span><span class="default">$reg</span><span class="keyword">;<br />}<br /><br /></span><span class="default">$str</span><span class="keyword">=</span><span class="string">"123456789"</span><span class="keyword">; </span><span class="comment">//whatever<br /></span><span class="default">$blocksize</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">; </span><span class="comment">//whatever<br /><br /></span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">+=</span><span class="default">$blocksize</span><span class="keyword">) </span><span class="default">$crc</span><span class="keyword">=</span><span class="default">bitbybit_crc32</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">$blocksize</span><span class="keyword">),!</span><span class="default">$i</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="79567">  <div class="votes">
    <div id="Vu79567">
    <a href="https://www.php.net/manual/vote-note.php?id=79567&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd79567">
    <a href="https://www.php.net/manual/vote-note.php?id=79567&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V79567" title="58% like this...">
    4
    </div>
  </div>
  <a href="function.crc32.php.html#79567" class="name">
  <strong class="user"><em>dave at jufer dot info</em></strong></a><a class="genanchor" href="function.crc32.php.html#79567"> &para;</a><div class="date" title="2007-12-03 02:15"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom79567">
<div class="phpcode"><code><span class="html">This function returns the same int value on a 64 bit mc. like the crc32() function on a 32 bit mc.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">crcKw</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">){<br />    </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">);<br />    if(</span><span class="default">$crc </span><span class="keyword">&amp; </span><span class="default">0x80000000</span><span class="keyword">){<br />        </span><span class="default">$crc </span><span class="keyword">^= </span><span class="default">0xffffffff</span><span class="keyword">;<br />        </span><span class="default">$crc </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />        </span><span class="default">$crc </span><span class="keyword">= -</span><span class="default">$crc</span><span class="keyword">;<br />    }<br />    return </span><span class="default">$crc</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="109662">  <div class="votes">
    <div id="Vu109662">
    <a href="https://www.php.net/manual/vote-note.php?id=109662&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109662">
    <a href="https://www.php.net/manual/vote-note.php?id=109662&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109662" title="58% like this...">
    2
    </div>
  </div>
  <a href="function.crc32.php.html#109662" class="name">
  <strong class="user"><em>Clifford dot ct at gmail dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#109662"> &para;</a><div class="date" title="2012-08-07 08:54"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109662">
<div class="phpcode"><code><span class="html">The crc32() function can return a signed integer in certain environments.  Assuming that it will always return an unsigned integer is not portable.<br /><br />Depending on your desired behavior, you should probably use sprintf() on the result or the generic hash() instead.  Also note that integer arithmetic operators do not have the precision to work correctly with the integer output.</span></code></div>
  </div>
 </div>
  <div class="note" id="106672">  <div class="votes">
    <div id="Vu106672">
    <a href="https://www.php.net/manual/vote-note.php?id=106672&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106672">
    <a href="https://www.php.net/manual/vote-note.php?id=106672&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106672" title="58% like this...">
    2
    </div>
  </div>
  <a href="function.crc32.php.html#106672" class="name">
  <strong class="user"><em>alban dot lopez+php [ at ] gmail dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#106672"> &para;</a><div class="date" title="2011-11-26 06:02"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106672">
<div class="phpcode"><code><span class="html">I made this code to verify Transmition with Vantage Pro2 ( weather station ) based on CRC16-CCITT standard.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// CRC16-CCITT validator<br /></span><span class="default">$crc_table </span><span class="keyword">= array(<br />    </span><span class="default">0x0</span><span class="keyword">,  </span><span class="default">0x1021</span><span class="keyword">,  </span><span class="default">0x2042</span><span class="keyword">,  </span><span class="default">0x3063</span><span class="keyword">,  </span><span class="default">0x4084</span><span class="keyword">,  </span><span class="default">0x50a5</span><span class="keyword">,  </span><span class="default">0x60c6</span><span class="keyword">,  </span><span class="default">0x70e7</span><span class="keyword">,<br />        </span><span class="default">0x8108</span><span class="keyword">,  </span><span class="default">0x9129</span><span class="keyword">,  </span><span class="default">0xa14a</span><span class="keyword">,  </span><span class="default">0xb16b</span><span class="keyword">,  </span><span class="default">0xc18c</span><span class="keyword">,  </span><span class="default">0xd1ad</span><span class="keyword">,  </span><span class="default">0xe1ce</span><span class="keyword">,  </span><span class="default">0xf1ef</span><span class="keyword">,<br />        </span><span class="default">0x1231</span><span class="keyword">,  </span><span class="default">0x210</span><span class="keyword">,  </span><span class="default">0x3273</span><span class="keyword">,  </span><span class="default">0x2252</span><span class="keyword">,  </span><span class="default">0x52b5</span><span class="keyword">,  </span><span class="default">0x4294</span><span class="keyword">,  </span><span class="default">0x72f7</span><span class="keyword">,  </span><span class="default">0x62d6</span><span class="keyword">,<br />        </span><span class="default">0x9339</span><span class="keyword">,  </span><span class="default">0x8318</span><span class="keyword">,  </span><span class="default">0xb37b</span><span class="keyword">,  </span><span class="default">0xa35a</span><span class="keyword">,  </span><span class="default">0xd3bd</span><span class="keyword">,  </span><span class="default">0xc39c</span><span class="keyword">,  </span><span class="default">0xf3ff</span><span class="keyword">,  </span><span class="default">0xe3de</span><span class="keyword">,<br />        </span><span class="default">0x2462</span><span class="keyword">,  </span><span class="default">0x3443</span><span class="keyword">,  </span><span class="default">0x420</span><span class="keyword">,  </span><span class="default">0x1401</span><span class="keyword">,  </span><span class="default">0x64e6</span><span class="keyword">,  </span><span class="default">0x74c7</span><span class="keyword">,  </span><span class="default">0x44a4</span><span class="keyword">,  </span><span class="default">0x5485</span><span class="keyword">,<br />        </span><span class="default">0xa56a</span><span class="keyword">,  </span><span class="default">0xb54b</span><span class="keyword">,  </span><span class="default">0x8528</span><span class="keyword">,  </span><span class="default">0x9509</span><span class="keyword">,  </span><span class="default">0xe5ee</span><span class="keyword">,  </span><span class="default">0xf5cf</span><span class="keyword">,  </span><span class="default">0xc5ac</span><span class="keyword">,  </span><span class="default">0xd58d</span><span class="keyword">,<br />        </span><span class="default">0x3653</span><span class="keyword">,  </span><span class="default">0x2672</span><span class="keyword">,  </span><span class="default">0x1611</span><span class="keyword">,  </span><span class="default">0x630</span><span class="keyword">,  </span><span class="default">0x76d7</span><span class="keyword">,  </span><span class="default">0x66f6</span><span class="keyword">,  </span><span class="default">0x5695</span><span class="keyword">,  </span><span class="default">0x46b4</span><span class="keyword">,<br />        </span><span class="default">0xb75b</span><span class="keyword">,  </span><span class="default">0xa77a</span><span class="keyword">,  </span><span class="default">0x9719</span><span class="keyword">,  </span><span class="default">0x8738</span><span class="keyword">,  </span><span class="default">0xf7df</span><span class="keyword">,  </span><span class="default">0xe7fe</span><span class="keyword">,  </span><span class="default">0xd79d</span><span class="keyword">,  </span><span class="default">0xc7bc</span><span class="keyword">,<br />        </span><span class="default">0x48c4</span><span class="keyword">,  </span><span class="default">0x58e5</span><span class="keyword">,  </span><span class="default">0x6886</span><span class="keyword">,  </span><span class="default">0x78a7</span><span class="keyword">,  </span><span class="default">0x840</span><span class="keyword">,  </span><span class="default">0x1861</span><span class="keyword">,  </span><span class="default">0x2802</span><span class="keyword">,  </span><span class="default">0x3823</span><span class="keyword">,<br />        </span><span class="default">0xc9cc</span><span class="keyword">,  </span><span class="default">0xd9ed</span><span class="keyword">,  </span><span class="default">0xe98e</span><span class="keyword">,  </span><span class="default">0xf9af</span><span class="keyword">,  </span><span class="default">0x8948</span><span class="keyword">,  </span><span class="default">0x9969</span><span class="keyword">,  </span><span class="default">0xa90a</span><span class="keyword">,  </span><span class="default">0xb92b</span><span class="keyword">,<br />        </span><span class="default">0x5af5</span><span class="keyword">,  </span><span class="default">0x4ad4</span><span class="keyword">,  </span><span class="default">0x7ab7</span><span class="keyword">,  </span><span class="default">0x6a96</span><span class="keyword">,  </span><span class="default">0x1a71</span><span class="keyword">,  </span><span class="default">0xa50</span><span class="keyword">,  </span><span class="default">0x3a33</span><span class="keyword">,  </span><span class="default">0x2a12</span><span class="keyword">,<br />        </span><span class="default">0xdbfd</span><span class="keyword">,  </span><span class="default">0xcbdc</span><span class="keyword">,  </span><span class="default">0xfbbf</span><span class="keyword">,  </span><span class="default">0xeb9e</span><span class="keyword">,  </span><span class="default">0x9b79</span><span class="keyword">,  </span><span class="default">0x8b58</span><span class="keyword">,  </span><span class="default">0xbb3b</span><span class="keyword">,  </span><span class="default">0xab1a</span><span class="keyword">,<br />        </span><span class="default">0x6ca6</span><span class="keyword">,  </span><span class="default">0x7c87</span><span class="keyword">,  </span><span class="default">0x4ce4</span><span class="keyword">,  </span><span class="default">0x5cc5</span><span class="keyword">,  </span><span class="default">0x2c22</span><span class="keyword">,  </span><span class="default">0x3c03</span><span class="keyword">,  </span><span class="default">0xc60</span><span class="keyword">,  </span><span class="default">0x1c41</span><span class="keyword">,<br />        </span><span class="default">0xedae</span><span class="keyword">,  </span><span class="default">0xfd8f</span><span class="keyword">,  </span><span class="default">0xcdec</span><span class="keyword">,  </span><span class="default">0xddcd</span><span class="keyword">,  </span><span class="default">0xad2a</span><span class="keyword">,  </span><span class="default">0xbd0b</span><span class="keyword">,  </span><span class="default">0x8d68</span><span class="keyword">,  </span><span class="default">0x9d49</span><span class="keyword">,<br />        </span><span class="default">0x7e97</span><span class="keyword">,  </span><span class="default">0x6eb6</span><span class="keyword">,  </span><span class="default">0x5ed5</span><span class="keyword">,  </span><span class="default">0x4ef4</span><span class="keyword">,  </span><span class="default">0x3e13</span><span class="keyword">,  </span><span class="default">0x2e32</span><span class="keyword">,  </span><span class="default">0x1e51</span><span class="keyword">,  </span><span class="default">0xe70</span><span class="keyword">,<br />        </span><span class="default">0xff9f</span><span class="keyword">,  </span><span class="default">0xefbe</span><span class="keyword">,  </span><span class="default">0xdfdd</span><span class="keyword">,  </span><span class="default">0xcffc</span><span class="keyword">,  </span><span class="default">0xbf1b</span><span class="keyword">,  </span><span class="default">0xaf3a</span><span class="keyword">,  </span><span class="default">0x9f59</span><span class="keyword">,  </span><span class="default">0x8f78</span><span class="keyword">,<br />        </span><span class="default">0x9188</span><span class="keyword">,  </span><span class="default">0x81a9</span><span class="keyword">,  </span><span class="default">0xb1ca</span><span class="keyword">,  </span><span class="default">0xa1eb</span><span class="keyword">,  </span><span class="default">0xd10c</span><span class="keyword">,  </span><span class="default">0xc12d</span><span class="keyword">,  </span><span class="default">0xf14e</span><span class="keyword">,  </span><span class="default">0xe16f</span><span class="keyword">,<br />        </span><span class="default">0x1080</span><span class="keyword">,  </span><span class="default">0xa1</span><span class="keyword">,  </span><span class="default">0x30c2</span><span class="keyword">,  </span><span class="default">0x20e3</span><span class="keyword">,  </span><span class="default">0x5004</span><span class="keyword">,  </span><span class="default">0x4025</span><span class="keyword">,  </span><span class="default">0x7046</span><span class="keyword">,  </span><span class="default">0x6067</span><span class="keyword">,<br />        </span><span class="default">0x83b9</span><span class="keyword">,  </span><span class="default">0x9398</span><span class="keyword">,  </span><span class="default">0xa3fb</span><span class="keyword">,  </span><span class="default">0xb3da</span><span class="keyword">,  </span><span class="default">0xc33d</span><span class="keyword">,  </span><span class="default">0xd31c</span><span class="keyword">,  </span><span class="default">0xe37f</span><span class="keyword">,  </span><span class="default">0xf35e</span><span class="keyword">,<br />        </span><span class="default">0x2b1</span><span class="keyword">,  </span><span class="default">0x1290</span><span class="keyword">,  </span><span class="default">0x22f3</span><span class="keyword">,  </span><span class="default">0x32d2</span><span class="keyword">,  </span><span class="default">0x4235</span><span class="keyword">,  </span><span class="default">0x5214</span><span class="keyword">,  </span><span class="default">0x6277</span><span class="keyword">,  </span><span class="default">0x7256</span><span class="keyword">,<br />        </span><span class="default">0xb5ea</span><span class="keyword">,  </span><span class="default">0xa5cb</span><span class="keyword">,  </span><span class="default">0x95a8</span><span class="keyword">,  </span><span class="default">0x8589</span><span class="keyword">,  </span><span class="default">0xf56e</span><span class="keyword">,  </span><span class="default">0xe54f</span><span class="keyword">,  </span><span class="default">0xd52c</span><span class="keyword">,  </span><span class="default">0xc50d</span><span class="keyword">,<br />        </span><span class="default">0x34e2</span><span class="keyword">,  </span><span class="default">0x24c3</span><span class="keyword">,  </span><span class="default">0x14a0</span><span class="keyword">,  </span><span class="default">0x481</span><span class="keyword">,  </span><span class="default">0x7466</span><span class="keyword">,  </span><span class="default">0x6447</span><span class="keyword">,  </span><span class="default">0x5424</span><span class="keyword">,  </span><span class="default">0x4405</span><span class="keyword">,<br />        </span><span class="default">0xa7db</span><span class="keyword">,  </span><span class="default">0xb7fa</span><span class="keyword">,  </span><span class="default">0x8799</span><span class="keyword">,  </span><span class="default">0x97b8</span><span class="keyword">,  </span><span class="default">0xe75f</span><span class="keyword">,  </span><span class="default">0xf77e</span><span class="keyword">,  </span><span class="default">0xc71d</span><span class="keyword">,  </span><span class="default">0xd73c</span><span class="keyword">,<br />        </span><span class="default">0x26d3</span><span class="keyword">,  </span><span class="default">0x36f2</span><span class="keyword">,  </span><span class="default">0x691</span><span class="keyword">,  </span><span class="default">0x16b0</span><span class="keyword">,  </span><span class="default">0x6657</span><span class="keyword">,  </span><span class="default">0x7676</span><span class="keyword">,  </span><span class="default">0x4615</span><span class="keyword">,  </span><span class="default">0x5634</span><span class="keyword">,<br />        </span><span class="default">0xd94c</span><span class="keyword">,  </span><span class="default">0xc96d</span><span class="keyword">,  </span><span class="default">0xf90e</span><span class="keyword">,  </span><span class="default">0xe92f</span><span class="keyword">,  </span><span class="default">0x99c8</span><span class="keyword">,  </span><span class="default">0x89e9</span><span class="keyword">,  </span><span class="default">0xb98a</span><span class="keyword">,  </span><span class="default">0xa9ab</span><span class="keyword">,<br />        </span><span class="default">0x5844</span><span class="keyword">,  </span><span class="default">0x4865</span><span class="keyword">,  </span><span class="default">0x7806</span><span class="keyword">,  </span><span class="default">0x6827</span><span class="keyword">,  </span><span class="default">0x18c0</span><span class="keyword">,  </span><span class="default">0x8e1</span><span class="keyword">,  </span><span class="default">0x3882</span><span class="keyword">,  </span><span class="default">0x28a3</span><span class="keyword">,<br />        </span><span class="default">0xcb7d</span><span class="keyword">,  </span><span class="default">0xdb5c</span><span class="keyword">,  </span><span class="default">0xeb3f</span><span class="keyword">,  </span><span class="default">0xfb1e</span><span class="keyword">,  </span><span class="default">0x8bf9</span><span class="keyword">,  </span><span class="default">0x9bd8</span><span class="keyword">,  </span><span class="default">0xabbb</span><span class="keyword">,  </span><span class="default">0xbb9a</span><span class="keyword">,<br />        </span><span class="default">0x4a75</span><span class="keyword">,  </span><span class="default">0x5a54</span><span class="keyword">,  </span><span class="default">0x6a37</span><span class="keyword">,  </span><span class="default">0x7a16</span><span class="keyword">,  </span><span class="default">0xaf1</span><span class="keyword">,  </span><span class="default">0x1ad0</span><span class="keyword">,  </span><span class="default">0x2ab3</span><span class="keyword">,  </span><span class="default">0x3a92</span><span class="keyword">,<br />        </span><span class="default">0xfd2e</span><span class="keyword">,  </span><span class="default">0xed0f</span><span class="keyword">,  </span><span class="default">0xdd6c</span><span class="keyword">,  </span><span class="default">0xcd4d</span><span class="keyword">,  </span><span class="default">0xbdaa</span><span class="keyword">,  </span><span class="default">0xad8b</span><span class="keyword">,  </span><span class="default">0x9de8</span><span class="keyword">,  </span><span class="default">0x8dc9</span><span class="keyword">,<br />        </span><span class="default">0x7c26</span><span class="keyword">,  </span><span class="default">0x6c07</span><span class="keyword">,  </span><span class="default">0x5c64</span><span class="keyword">,  </span><span class="default">0x4c45</span><span class="keyword">,  </span><span class="default">0x3ca2</span><span class="keyword">,  </span><span class="default">0x2c83</span><span class="keyword">,  </span><span class="default">0x1ce0</span><span class="keyword">,  </span><span class="default">0xcc1</span><span class="keyword">,<br />        </span><span class="default">0xef1f</span><span class="keyword">,  </span><span class="default">0xff3e</span><span class="keyword">,  </span><span class="default">0xcf5d</span><span class="keyword">,  </span><span class="default">0xdf7c</span><span class="keyword">,  </span><span class="default">0xaf9b</span><span class="keyword">,  </span><span class="default">0xbfba</span><span class="keyword">,  </span><span class="default">0x8fd9</span><span class="keyword">,  </span><span class="default">0x9ff8</span><span class="keyword">,<br />        </span><span class="default">0x6e17</span><span class="keyword">,  </span><span class="default">0x7e36</span><span class="keyword">,  </span><span class="default">0x4e55</span><span class="keyword">,  </span><span class="default">0x5e74</span><span class="keyword">,  </span><span class="default">0x2e93</span><span class="keyword">,  </span><span class="default">0x3eb2</span><span class="keyword">,  </span><span class="default">0xed1</span><span class="keyword">,  </span><span class="default">0x1ef0</span><span class="keyword">);<br /><br />    </span><span class="default">$test </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xC6</span><span class="keyword">).</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xCE</span><span class="keyword">).</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0xA2</span><span class="keyword">).</span><span class="default">chr</span><span class="keyword">(</span><span class="default">0x03</span><span class="keyword">); </span><span class="comment">// CRC16-CCITT = 0xE2B4<br />    </span><span class="default">genCRC </span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">);<br />       <br />function </span><span class="default">genCRC </span><span class="keyword">(&amp;</span><span class="default">$ptr</span><span class="keyword">)<br />{<br />    </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">0x0000</span><span class="keyword">;<br />    </span><span class="default">$crc_table </span><span class="keyword">= </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'crc_table'</span><span class="keyword">];<br />    for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$ptr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />        </span><span class="default">$crc </span><span class="keyword">=  </span><span class="default">$crc_table</span><span class="keyword">[((</span><span class="default">$crc</span><span class="keyword">&gt;&gt;</span><span class="default">8</span><span class="keyword">) ^ </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$ptr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]))] ^ ((</span><span class="default">$crc</span><span class="keyword">&lt;&lt;</span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0x00FFFF</span><span class="keyword">);<br />    return </span><span class="default">$crc</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="106216">  <div class="votes">
    <div id="Vu106216">
    <a href="https://www.php.net/manual/vote-note.php?id=106216&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106216">
    <a href="https://www.php.net/manual/vote-note.php?id=106216&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106216" title="54% like this...">
    1
    </div>
  </div>
  <a href="function.crc32.php.html#106216" class="name">
  <strong class="user"><em>arris at zsolttech dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#106216"> &para;</a><div class="date" title="2011-10-19 05:17"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106216">
<div class="phpcode"><code><span class="html">not found anywhere crc64 based on <a href="http://bioinfadmin.cs.ucl.ac.uk/downloads/crc64/crc64.c" rel="nofollow" target="_blank">http://bioinfadmin.cs.ucl.ac.uk/downloads/crc64/crc64.c</a> .<br /><br />(use gmp module)<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/* OLDCRC */<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">'POLY64REV'</span><span class="keyword">, </span><span class="string">"d800000000000000"</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">'INITIALCRC'</span><span class="keyword">, </span><span class="string">"0000000000000000"</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">'TABLELEN'</span><span class="keyword">, </span><span class="default">256</span><span class="keyword">);<br /></span><span class="comment">/* NEWCRC */<br />// define('POLY64REV', "95AC9329AC4BC9B5");<br />// define('INITIALCRC', "FFFFFFFFFFFFFFFF");<br /><br /></span><span class="keyword">if(</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'gmp_init'</span><span class="keyword">)){<br />        class </span><span class="default">CRC64</span><span class="keyword">{<br /><br />                private static </span><span class="default">$CRCTable </span><span class="keyword">= array();<br /><br />                public static function </span><span class="default">encode</span><span class="keyword">(</span><span class="default">$seq</span><span class="keyword">){<br /><br />                        </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">gmp_init</span><span class="keyword">(</span><span class="default">INITIALCRC</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />                        </span><span class="default">$init </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />                        </span><span class="default">$poly64rev </span><span class="keyword">= </span><span class="default">gmp_init</span><span class="keyword">(</span><span class="default">POLY64REV</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br /><br />                        if (!</span><span class="default">$init</span><span class="keyword">)<br />                        {<br />                                </span><span class="default">$init </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />                                for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">TABLELEN</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />                                {<br />                                        </span><span class="default">$part </span><span class="keyword">= </span><span class="default">gmp_init</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br />                                        for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++)<br />                                        {<br />                                                if (</span><span class="default">gmp_strval</span><span class="keyword">(</span><span class="default">gmp_and</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">, </span><span class="string">"0x1"</span><span class="keyword">)) != </span><span class="string">"0"</span><span class="keyword">){<br />                                                        </span><span class="comment">// if (gmp_testbit($part, 1)){ /* PHP 5 &gt;= 5.3.0, untested */<br />                                                        </span><span class="default">$part </span><span class="keyword">= </span><span class="default">gmp_xor</span><span class="keyword">(</span><span class="default">gmp_div_q</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">), </span><span class="default">$poly64rev</span><span class="keyword">);<br />                                                } else {<br />                                                        </span><span class="default">$part </span><span class="keyword">= </span><span class="default">gmp_div_q</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">);<br />                                                }<br />                                        }<br />                                        </span><span class="default">self</span><span class="keyword">::</span><span class="default">$CRCTable</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$part</span><span class="keyword">;<br />                                }<br />                        }<br /><br />                        for(</span><span class="default">$k </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$k </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$seq</span><span class="keyword">); </span><span class="default">$k</span><span class="keyword">++){<br />                                </span><span class="default">$tmp_gmp_val </span><span class="keyword">= </span><span class="default">gmp_init</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$seq</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]), </span><span class="default">10</span><span class="keyword">);<br />                                </span><span class="default">$tableindex </span><span class="keyword">= </span><span class="default">gmp_xor</span><span class="keyword">(</span><span class="default">gmp_and</span><span class="keyword">(</span><span class="default">$crc</span><span class="keyword">, </span><span class="string">"0xff"</span><span class="keyword">), </span><span class="default">$tmp_gmp_val</span><span class="keyword">);<br />                                </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">gmp_div_q</span><span class="keyword">(</span><span class="default">$crc</span><span class="keyword">, </span><span class="string">"256"</span><span class="keyword">);<br />                                </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">gmp_xor</span><span class="keyword">(</span><span class="default">$crc</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">$CRCTable</span><span class="keyword">[</span><span class="default">gmp_strval</span><span class="keyword">(</span><span class="default">$tableindex</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">)]);<br />                        }<br /><br />                        </span><span class="default">$res </span><span class="keyword">= </span><span class="default">gmp_strval</span><span class="keyword">(</span><span class="default">$crc</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br /><br />                        return </span><span class="default">$res</span><span class="keyword">;<br />                }<br />        }<br />} else {<br />        die(</span><span class="string">"Please install php-gmp package!!!"</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="31832">  <div class="votes">
    <div id="Vu31832">
    <a href="https://www.php.net/manual/vote-note.php?id=31832&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd31832">
    <a href="https://www.php.net/manual/vote-note.php?id=31832&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V31832" title="55% like this...">
    1
    </div>
  </div>
  <a href="function.crc32.php.html#31832" class="name">
  <strong class="user"><em>quix at free dot fr</em></strong></a><a class="genanchor" href="function.crc32.php.html#31832"> &para;</a><div class="date" title="2003-05-05 01:19"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom31832">
<div class="phpcode"><code><span class="html">I needed the crc32 of a file that was pretty large, so I didn't want to read it into memory.<br />So I made this:<br /><br /><span class="default">&lt;?php<br />    $GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">]=array();        </span><span class="comment">// Lookup table array<br />    </span><span class="default">__crc32_init_table</span><span class="keyword">();<br /><br />    function </span><span class="default">__crc32_init_table</span><span class="keyword">() {            </span><span class="comment">// Builds lookup table array<br />        // This is the official polynomial used by<br />        // CRC-32 in PKZip, WinZip and Ethernet.<br />        </span><span class="default">$polynomial </span><span class="keyword">= </span><span class="default">0x04c11db7</span><span class="keyword">;<br /><br />        </span><span class="comment">// 256 values representing ASCII character codes.<br />        </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">0xFF</span><span class="keyword">;++</span><span class="default">$i</span><span class="keyword">) {<br />            </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]=(</span><span class="default">__crc32_reflect</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">) &lt;&lt; </span><span class="default">24</span><span class="keyword">);<br />            for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">;++</span><span class="default">$j</span><span class="keyword">) {<br />                </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">]=((</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] &lt;&lt; </span><span class="default">1</span><span class="keyword">) ^<br />                    ((</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] &amp; (</span><span class="default">1 </span><span class="keyword">&lt;&lt; </span><span class="default">31</span><span class="keyword">))?</span><span class="default">$polynomial</span><span class="keyword">:</span><span class="default">0</span><span class="keyword">));<br />            }<br />            </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">__crc32_reflect</span><span class="keyword">(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][</span><span class="default">$i</span><span class="keyword">], </span><span class="default">32</span><span class="keyword">);<br />        }<br />    }<br /><br />    function </span><span class="default">__crc32_reflect</span><span class="keyword">(</span><span class="default">$ref</span><span class="keyword">, </span><span class="default">$ch</span><span class="keyword">) {        </span><span class="comment">// Reflects CRC bits in the lookup table<br />        </span><span class="default">$value</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />        <br />        </span><span class="comment">// Swap bit 0 for bit 7, bit 1 for bit 6, etc.<br />        </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;(</span><span class="default">$ch</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);++</span><span class="default">$i</span><span class="keyword">) {<br />            if(</span><span class="default">$ref </span><span class="keyword">&amp; </span><span class="default">1</span><span class="keyword">) </span><span class="default">$value </span><span class="keyword">|= (</span><span class="default">1 </span><span class="keyword">&lt;&lt; (</span><span class="default">$ch</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">));<br />            </span><span class="default">$ref </span><span class="keyword">= ((</span><span class="default">$ref </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">) &amp; </span><span class="default">0x7fffffff</span><span class="keyword">);<br />        }<br />        return </span><span class="default">$value</span><span class="keyword">;<br />    }<br /><br />    function </span><span class="default">__crc32_string</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) {        </span><span class="comment">// Creates a CRC from a text string<br />        // Once the lookup table has been filled in by the two functions above,<br />        // this function creates all CRCs using only the lookup table.<br /><br />        // You need unsigned variables because negative values<br />        // introduce high bits where zero bits are required.<br />        // PHP doesn't have unsigned integers:<br />        // I've solved this problem by doing a '&amp;' after a '&gt;&gt;'.<br /><br />        // Start out with all bits set high.<br />        </span><span class="default">$crc</span><span class="keyword">=</span><span class="default">0xffffffff</span><span class="keyword">;<br />        </span><span class="default">$len</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br /><br />        </span><span class="comment">// Perform the algorithm on each character in the string,<br />        // using the lookup table values.<br />        </span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">;++</span><span class="default">$i</span><span class="keyword">) {<br />            </span><span class="default">$crc</span><span class="keyword">=((</span><span class="default">$crc </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0x00ffffff</span><span class="keyword">) ^ </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][(</span><span class="default">$crc </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">) ^ </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">{</span><span class="default">$i</span><span class="keyword">})];<br />        }<br />        <br />        </span><span class="comment">// Exclusive OR the result with the beginning value.<br />        </span><span class="keyword">return </span><span class="default">$crc </span><span class="keyword">^ </span><span class="default">0xffffffff</span><span class="keyword">;<br />    }<br />    <br />    function </span><span class="default">__crc32_file</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {            </span><span class="comment">// Creates a CRC from a file<br />        // Info: look at __crc32_string<br /><br />        // Start out with all bits set high.<br />        </span><span class="default">$crc</span><span class="keyword">=</span><span class="default">0xffffffff</span><span class="keyword">;<br /><br />        if((</span><span class="default">$fp</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">,</span><span class="string">'rb'</span><span class="keyword">))===</span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br /><br />        </span><span class="comment">// Perform the algorithm on each character in file<br />        </span><span class="keyword">for(;;) {<br />            </span><span class="default">$i</span><span class="keyword">=@</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />            if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">) break;<br />            </span><span class="default">$crc</span><span class="keyword">=((</span><span class="default">$crc </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0x00ffffff</span><span class="keyword">) ^ </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'__crc32_table'</span><span class="keyword">][(</span><span class="default">$crc </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">) ^ </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">)];<br />        }<br />        <br />        @</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />        <br />        </span><span class="comment">// Exclusive OR the result with the beginning value.<br />        </span><span class="keyword">return </span><span class="default">$crc </span><span class="keyword">^ </span><span class="default">0xffffffff</span><span class="keyword">;<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="28012">  <div class="votes">
    <div id="Vu28012">
    <a href="https://www.php.net/manual/vote-note.php?id=28012&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd28012">
    <a href="https://www.php.net/manual/vote-note.php?id=28012&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V28012" title="55% like this...">
    1
    </div>
  </div>
  <a href="function.crc32.php.html#28012" class="name">
  <strong class="user"><em>spectrumizer at cycos dot net</em></strong></a><a class="genanchor" href="function.crc32.php.html#28012"> &para;</a><div class="date" title="2002-12-29 03:30"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom28012">
<div class="phpcode"><code><span class="html">Here is a tested and working CRC16-Algorithm:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">crc16</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">) {<br />  </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">0xFFFF</span><span class="keyword">;<br />  for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">); </span><span class="default">$x</span><span class="keyword">++) {<br />    </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">$crc </span><span class="keyword">^ </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">[</span><span class="default">$x</span><span class="keyword">]);<br />    for (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">; </span><span class="default">$y</span><span class="keyword">++) {<br />      if ((</span><span class="default">$crc </span><span class="keyword">&amp; </span><span class="default">0x0001</span><span class="keyword">) == </span><span class="default">0x0001</span><span class="keyword">) {<br />        </span><span class="default">$crc </span><span class="keyword">= ((</span><span class="default">$crc </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">) ^ </span><span class="default">0xA001</span><span class="keyword">);<br />      } else { </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">$crc </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">; }<br />    }<br />  }<br />  return </span><span class="default">$crc</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Regards,<br />Mario</span></code></div>
  </div>
 </div>
  <div class="note" id="78232">  <div class="votes">
    <div id="Vu78232">
    <a href="https://www.php.net/manual/vote-note.php?id=78232&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78232">
    <a href="https://www.php.net/manual/vote-note.php?id=78232&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78232" title="53% like this...">
    1
    </div>
  </div>
  <a href="function.crc32.php.html#78232" class="name">
  <strong class="user"><em>Ren</em></strong></a><a class="genanchor" href="function.crc32.php.html#78232"> &para;</a><div class="date" title="2007-10-03 11:53"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78232">
<div class="phpcode"><code><span class="html">Dealing with 32 bit unsigned values overflowing 32 bit php signed values can be done by adding 0x10000000 to any unexpected negative result, rather than using sprintf.<br /><br />$i = crc32('1');<br />printf("%u\n", $i);<br />if (0 &gt; $i)<br />{<br />    // Implicitly casts i as float, and corrects this sign.<br />    $i += 0x100000000;<br />}<br />var_dump($i);<br /><br />Outputs:<br /><br />2212294583<br />float(2212294583)</span></code></div>
  </div>
 </div>
  <div class="note" id="41541">  <div class="votes">
    <div id="Vu41541">
    <a href="https://www.php.net/manual/vote-note.php?id=41541&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd41541">
    <a href="https://www.php.net/manual/vote-note.php?id=41541&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V41541" title="54% like this...">
    1
    </div>
  </div>
  <a href="function.crc32.php.html#41541" class="name">
  <strong class="user"><em>arachnid at notdot dot net</em></strong></a><a class="genanchor" href="function.crc32.php.html#41541"> &para;</a><div class="date" title="2004-04-13 08:44"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom41541">
<div class="phpcode"><code><span class="html">Note that the CRC32 algorithm should NOT be used for cryptographic purposes, or in situations where a hostile/untrusted user is involved, as it is far too easy to generate a hash collision for CRC32 (two different binary strings that have the same CRC32 hash). Instead consider SHA-1 or MD5.</span></code></div>
  </div>
 </div>
  <div class="note" id="105703">  <div class="votes">
    <div id="Vu105703">
    <a href="https://www.php.net/manual/vote-note.php?id=105703&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd105703">
    <a href="https://www.php.net/manual/vote-note.php?id=105703&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V105703" title="52% like this...">
    1
    </div>
  </div>
  <a href="function.crc32.php.html#105703" class="name">
  <strong class="user"><em>sukitsupaluk at hotmail dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#105703"> &para;</a><div class="date" title="2011-09-08 03:04"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom105703">
<div class="phpcode"><code><span class="html">small sample convert crc32 to character map<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">khash</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) {<br />    static </span><span class="default">$map</span><span class="keyword">=</span><span class="string">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="keyword">;<br />    </span><span class="default">$hash</span><span class="keyword">=</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)+</span><span class="default">0x100000000</span><span class="keyword">;<br />    </span><span class="default">$str </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />    do {<br />        </span><span class="default">$str </span><span class="keyword">= </span><span class="default">$map</span><span class="keyword">[</span><span class="default">31</span><span class="keyword">+ (</span><span class="default">$hash </span><span class="keyword">% </span><span class="default">31</span><span class="keyword">)] . </span><span class="default">$str</span><span class="keyword">;<br />        </span><span class="default">$hash </span><span class="keyword">/= </span><span class="default">31</span><span class="keyword">;<br />    } while(</span><span class="default">$hash </span><span class="keyword">&gt;= </span><span class="default">1</span><span class="keyword">);     <br />    return </span><span class="default">$str</span><span class="keyword">;<br />}<br /></span><span class="default">$test</span><span class="keyword">= array(</span><span class="default">null</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">,</span><span class="default">FALSE</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="string">"0"</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="string">"1"</span><span class="keyword">,</span><span class="string">"2"</span><span class="keyword">,</span><span class="string">"3"</span><span class="keyword">,</span><span class="string">"ab"</span><span class="keyword">,</span><span class="string">"abc"</span><span class="keyword">,</span><span class="string">"abcd"</span><span class="keyword">,</span><span class="string">"abcde"</span><span class="keyword">,</span><span class="string">"abcdefoo"</span><span class="keyword">);<br /></span><span class="default">$out </span><span class="keyword">= array();<br />foreach(</span><span class="default">$test </span><span class="keyword">as </span><span class="default">$s</span><span class="keyword">)<br />{<br />    </span><span class="default">$out</span><span class="keyword">[]=</span><span class="default">khash</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">).</span><span class="string">": "</span><span class="keyword">. </span><span class="default">$s</span><span class="keyword">;<br />}<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">);<br /><br /></span><span class="comment">/*<br />output:<br />array<br />  0 =&gt; string 'zVvOYTv: ' (length=9)<br />  1 =&gt; string 'xKDKKL8: 1' (length=10)<br />  2 =&gt; string 'zVvOYTv: ' (length=9)<br />  3 =&gt; string 'zOKCQxh: 0' (length=10)<br />  4 =&gt; string 'zOKCQxh: 0' (length=10)<br />  5 =&gt; string 'xKDKKL8: 1' (length=10)<br />  6 =&gt; string 'xKDKKL8: 1' (length=10)<br />  7 =&gt; string 'AFSzIAO: 2' (length=10)<br />  8 =&gt; string 'BXGSvQJ: 3' (length=10)<br />  9 =&gt; string 'xZWOQSu: ab' (length=11)<br />  10 =&gt; string 'AVAwHOR: abc' (length=12)<br />  11 =&gt; string 'zKASNE1: abcd' (length=13)<br />  12 =&gt; string 'xLCTOV7: abcde' (length=14)<br />  13 =&gt; string 'zQLzKMt: abcdefoo' (length=17)<br /><br />*/<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="64127">  <div class="votes">
    <div id="Vu64127">
    <a href="https://www.php.net/manual/vote-note.php?id=64127&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd64127">
    <a href="https://www.php.net/manual/vote-note.php?id=64127&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V64127" title="52% like this...">
    2
    </div>
  </div>
  <a href="function.crc32.php.html#64127" class="name">
  <strong class="user"><em>roberto at spadim dot com dot br</em></strong></a><a class="genanchor" href="function.crc32.php.html#64127"> &para;</a><div class="date" title="2006-04-07 09:52"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom64127">
<div class="phpcode"><code><span class="html">MODBUS RTU, CRC16, <br />input-&gt; modbus rtu string<br />output -&gt; 2bytes string, in correct modbus order<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">crc16</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){<br /><br />    </span><span class="default">$auchCRCHi</span><span class="keyword">=array(    </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">,<br />                </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">,<br />                </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">,<br />                </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">,<br />                </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">,<br />                </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">,<br />                </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">,<br />                </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">,<br />                </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">,<br />                </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">,<br />                </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">,<br />                </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">,<br />                </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">,<br />                </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">,<br />                </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">,<br />                </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">,<br />                </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x40</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">,<br />                </span><span class="default">0x40</span><span class="keyword">);<br />    </span><span class="default">$auchCRCLo</span><span class="keyword">=array(    </span><span class="default">0x00</span><span class="keyword">, </span><span class="default">0xC0</span><span class="keyword">, </span><span class="default">0xC1</span><span class="keyword">, </span><span class="default">0x01</span><span class="keyword">, </span><span class="default">0xC3</span><span class="keyword">, </span><span class="default">0x03</span><span class="keyword">, </span><span class="default">0x02</span><span class="keyword">, </span><span class="default">0xC2</span><span class="keyword">, </span><span class="default">0xC6</span><span class="keyword">, </span><span class="default">0x06</span><span class="keyword">, </span><span class="default">0x07</span><span class="keyword">, </span><span class="default">0xC7</span><span class="keyword">, </span><span class="default">0x05</span><span class="keyword">, </span><span class="default">0xC5</span><span class="keyword">, </span><span class="default">0xC4</span><span class="keyword">,<br />                </span><span class="default">0x04</span><span class="keyword">, </span><span class="default">0xCC</span><span class="keyword">, </span><span class="default">0x0C</span><span class="keyword">, </span><span class="default">0x0D</span><span class="keyword">, </span><span class="default">0xCD</span><span class="keyword">, </span><span class="default">0x0F</span><span class="keyword">, </span><span class="default">0xCF</span><span class="keyword">, </span><span class="default">0xCE</span><span class="keyword">, </span><span class="default">0x0E</span><span class="keyword">, </span><span class="default">0x0A</span><span class="keyword">, </span><span class="default">0xCA</span><span class="keyword">, </span><span class="default">0xCB</span><span class="keyword">, </span><span class="default">0x0B</span><span class="keyword">, </span><span class="default">0xC9</span><span class="keyword">, </span><span class="default">0x09</span><span class="keyword">,<br />                </span><span class="default">0x08</span><span class="keyword">, </span><span class="default">0xC8</span><span class="keyword">, </span><span class="default">0xD8</span><span class="keyword">, </span><span class="default">0x18</span><span class="keyword">, </span><span class="default">0x19</span><span class="keyword">, </span><span class="default">0xD9</span><span class="keyword">, </span><span class="default">0x1B</span><span class="keyword">, </span><span class="default">0xDB</span><span class="keyword">, </span><span class="default">0xDA</span><span class="keyword">, </span><span class="default">0x1A</span><span class="keyword">, </span><span class="default">0x1E</span><span class="keyword">, </span><span class="default">0xDE</span><span class="keyword">, </span><span class="default">0xDF</span><span class="keyword">, </span><span class="default">0x1F</span><span class="keyword">, </span><span class="default">0xDD</span><span class="keyword">,<br />                </span><span class="default">0x1D</span><span class="keyword">, </span><span class="default">0x1C</span><span class="keyword">, </span><span class="default">0xDC</span><span class="keyword">, </span><span class="default">0x14</span><span class="keyword">, </span><span class="default">0xD4</span><span class="keyword">, </span><span class="default">0xD5</span><span class="keyword">, </span><span class="default">0x15</span><span class="keyword">, </span><span class="default">0xD7</span><span class="keyword">, </span><span class="default">0x17</span><span class="keyword">, </span><span class="default">0x16</span><span class="keyword">, </span><span class="default">0xD6</span><span class="keyword">, </span><span class="default">0xD2</span><span class="keyword">, </span><span class="default">0x12</span><span class="keyword">, </span><span class="default">0x13</span><span class="keyword">, </span><span class="default">0xD3</span><span class="keyword">,<br />                </span><span class="default">0x11</span><span class="keyword">, </span><span class="default">0xD1</span><span class="keyword">, </span><span class="default">0xD0</span><span class="keyword">, </span><span class="default">0x10</span><span class="keyword">, </span><span class="default">0xF0</span><span class="keyword">, </span><span class="default">0x30</span><span class="keyword">, </span><span class="default">0x31</span><span class="keyword">, </span><span class="default">0xF1</span><span class="keyword">, </span><span class="default">0x33</span><span class="keyword">, </span><span class="default">0xF3</span><span class="keyword">, </span><span class="default">0xF2</span><span class="keyword">, </span><span class="default">0x32</span><span class="keyword">, </span><span class="default">0x36</span><span class="keyword">, </span><span class="default">0xF6</span><span class="keyword">, </span><span class="default">0xF7</span><span class="keyword">,<br />                </span><span class="default">0x37</span><span class="keyword">, </span><span class="default">0xF5</span><span class="keyword">, </span><span class="default">0x35</span><span class="keyword">, </span><span class="default">0x34</span><span class="keyword">, </span><span class="default">0xF4</span><span class="keyword">, </span><span class="default">0x3C</span><span class="keyword">, </span><span class="default">0xFC</span><span class="keyword">, </span><span class="default">0xFD</span><span class="keyword">, </span><span class="default">0x3D</span><span class="keyword">, </span><span class="default">0xFF</span><span class="keyword">, </span><span class="default">0x3F</span><span class="keyword">, </span><span class="default">0x3E</span><span class="keyword">, </span><span class="default">0xFE</span><span class="keyword">, </span><span class="default">0xFA</span><span class="keyword">, </span><span class="default">0x3A</span><span class="keyword">,<br />                </span><span class="default">0x3B</span><span class="keyword">, </span><span class="default">0xFB</span><span class="keyword">, </span><span class="default">0x39</span><span class="keyword">, </span><span class="default">0xF9</span><span class="keyword">, </span><span class="default">0xF8</span><span class="keyword">, </span><span class="default">0x38</span><span class="keyword">, </span><span class="default">0x28</span><span class="keyword">, </span><span class="default">0xE8</span><span class="keyword">, </span><span class="default">0xE9</span><span class="keyword">, </span><span class="default">0x29</span><span class="keyword">, </span><span class="default">0xEB</span><span class="keyword">, </span><span class="default">0x2B</span><span class="keyword">, </span><span class="default">0x2A</span><span class="keyword">, </span><span class="default">0xEA</span><span class="keyword">, </span><span class="default">0xEE</span><span class="keyword">,<br />                </span><span class="default">0x2E</span><span class="keyword">, </span><span class="default">0x2F</span><span class="keyword">, </span><span class="default">0xEF</span><span class="keyword">, </span><span class="default">0x2D</span><span class="keyword">, </span><span class="default">0xED</span><span class="keyword">, </span><span class="default">0xEC</span><span class="keyword">, </span><span class="default">0x2C</span><span class="keyword">, </span><span class="default">0xE4</span><span class="keyword">, </span><span class="default">0x24</span><span class="keyword">, </span><span class="default">0x25</span><span class="keyword">, </span><span class="default">0xE5</span><span class="keyword">, </span><span class="default">0x27</span><span class="keyword">, </span><span class="default">0xE7</span><span class="keyword">, </span><span class="default">0xE6</span><span class="keyword">, </span><span class="default">0x26</span><span class="keyword">,<br />                </span><span class="default">0x22</span><span class="keyword">, </span><span class="default">0xE2</span><span class="keyword">, </span><span class="default">0xE3</span><span class="keyword">, </span><span class="default">0x23</span><span class="keyword">, </span><span class="default">0xE1</span><span class="keyword">, </span><span class="default">0x21</span><span class="keyword">, </span><span class="default">0x20</span><span class="keyword">, </span><span class="default">0xE0</span><span class="keyword">, </span><span class="default">0xA0</span><span class="keyword">, </span><span class="default">0x60</span><span class="keyword">, </span><span class="default">0x61</span><span class="keyword">, </span><span class="default">0xA1</span><span class="keyword">, </span><span class="default">0x63</span><span class="keyword">, </span><span class="default">0xA3</span><span class="keyword">, </span><span class="default">0xA2</span><span class="keyword">,<br />                </span><span class="default">0x62</span><span class="keyword">, </span><span class="default">0x66</span><span class="keyword">, </span><span class="default">0xA6</span><span class="keyword">, </span><span class="default">0xA7</span><span class="keyword">, </span><span class="default">0x67</span><span class="keyword">, </span><span class="default">0xA5</span><span class="keyword">, </span><span class="default">0x65</span><span class="keyword">, </span><span class="default">0x64</span><span class="keyword">, </span><span class="default">0xA4</span><span class="keyword">, </span><span class="default">0x6C</span><span class="keyword">, </span><span class="default">0xAC</span><span class="keyword">, </span><span class="default">0xAD</span><span class="keyword">, </span><span class="default">0x6D</span><span class="keyword">, </span><span class="default">0xAF</span><span class="keyword">, </span><span class="default">0x6F</span><span class="keyword">,<br />                </span><span class="default">0x6E</span><span class="keyword">, </span><span class="default">0xAE</span><span class="keyword">, </span><span class="default">0xAA</span><span class="keyword">, </span><span class="default">0x6A</span><span class="keyword">, </span><span class="default">0x6B</span><span class="keyword">, </span><span class="default">0xAB</span><span class="keyword">, </span><span class="default">0x69</span><span class="keyword">, </span><span class="default">0xA9</span><span class="keyword">, </span><span class="default">0xA8</span><span class="keyword">, </span><span class="default">0x68</span><span class="keyword">, </span><span class="default">0x78</span><span class="keyword">, </span><span class="default">0xB8</span><span class="keyword">, </span><span class="default">0xB9</span><span class="keyword">, </span><span class="default">0x79</span><span class="keyword">, </span><span class="default">0xBB</span><span class="keyword">,<br />                </span><span class="default">0x7B</span><span class="keyword">, </span><span class="default">0x7A</span><span class="keyword">, </span><span class="default">0xBA</span><span class="keyword">, </span><span class="default">0xBE</span><span class="keyword">, </span><span class="default">0x7E</span><span class="keyword">, </span><span class="default">0x7F</span><span class="keyword">, </span><span class="default">0xBF</span><span class="keyword">, </span><span class="default">0x7D</span><span class="keyword">, </span><span class="default">0xBD</span><span class="keyword">, </span><span class="default">0xBC</span><span class="keyword">, </span><span class="default">0x7C</span><span class="keyword">, </span><span class="default">0xB4</span><span class="keyword">, </span><span class="default">0x74</span><span class="keyword">, </span><span class="default">0x75</span><span class="keyword">, </span><span class="default">0xB5</span><span class="keyword">,<br />                </span><span class="default">0x77</span><span class="keyword">, </span><span class="default">0xB7</span><span class="keyword">, </span><span class="default">0xB6</span><span class="keyword">, </span><span class="default">0x76</span><span class="keyword">, </span><span class="default">0x72</span><span class="keyword">, </span><span class="default">0xB2</span><span class="keyword">, </span><span class="default">0xB3</span><span class="keyword">, </span><span class="default">0x73</span><span class="keyword">, </span><span class="default">0xB1</span><span class="keyword">, </span><span class="default">0x71</span><span class="keyword">, </span><span class="default">0x70</span><span class="keyword">, </span><span class="default">0xB0</span><span class="keyword">, </span><span class="default">0x50</span><span class="keyword">, </span><span class="default">0x90</span><span class="keyword">, </span><span class="default">0x91</span><span class="keyword">,<br />                </span><span class="default">0x51</span><span class="keyword">, </span><span class="default">0x93</span><span class="keyword">, </span><span class="default">0x53</span><span class="keyword">, </span><span class="default">0x52</span><span class="keyword">, </span><span class="default">0x92</span><span class="keyword">, </span><span class="default">0x96</span><span class="keyword">, </span><span class="default">0x56</span><span class="keyword">, </span><span class="default">0x57</span><span class="keyword">, </span><span class="default">0x97</span><span class="keyword">, </span><span class="default">0x55</span><span class="keyword">, </span><span class="default">0x95</span><span class="keyword">, </span><span class="default">0x94</span><span class="keyword">, </span><span class="default">0x54</span><span class="keyword">, </span><span class="default">0x9C</span><span class="keyword">, </span><span class="default">0x5C</span><span class="keyword">,<br />                </span><span class="default">0x5D</span><span class="keyword">, </span><span class="default">0x9D</span><span class="keyword">, </span><span class="default">0x5F</span><span class="keyword">, </span><span class="default">0x9F</span><span class="keyword">, </span><span class="default">0x9E</span><span class="keyword">, </span><span class="default">0x5E</span><span class="keyword">, </span><span class="default">0x5A</span><span class="keyword">, </span><span class="default">0x9A</span><span class="keyword">, </span><span class="default">0x9B</span><span class="keyword">, </span><span class="default">0x5B</span><span class="keyword">, </span><span class="default">0x99</span><span class="keyword">, </span><span class="default">0x59</span><span class="keyword">, </span><span class="default">0x58</span><span class="keyword">, </span><span class="default">0x98</span><span class="keyword">, </span><span class="default">0x88</span><span class="keyword">,<br />                </span><span class="default">0x48</span><span class="keyword">, </span><span class="default">0x49</span><span class="keyword">, </span><span class="default">0x89</span><span class="keyword">, </span><span class="default">0x4B</span><span class="keyword">, </span><span class="default">0x8B</span><span class="keyword">, </span><span class="default">0x8A</span><span class="keyword">, </span><span class="default">0x4A</span><span class="keyword">, </span><span class="default">0x4E</span><span class="keyword">, </span><span class="default">0x8E</span><span class="keyword">, </span><span class="default">0x8F</span><span class="keyword">, </span><span class="default">0x4F</span><span class="keyword">, </span><span class="default">0x8D</span><span class="keyword">, </span><span class="default">0x4D</span><span class="keyword">, </span><span class="default">0x4C</span><span class="keyword">, </span><span class="default">0x8C</span><span class="keyword">,<br />                </span><span class="default">0x44</span><span class="keyword">, </span><span class="default">0x84</span><span class="keyword">, </span><span class="default">0x85</span><span class="keyword">, </span><span class="default">0x45</span><span class="keyword">, </span><span class="default">0x87</span><span class="keyword">, </span><span class="default">0x47</span><span class="keyword">, </span><span class="default">0x46</span><span class="keyword">, </span><span class="default">0x86</span><span class="keyword">, </span><span class="default">0x82</span><span class="keyword">, </span><span class="default">0x42</span><span class="keyword">, </span><span class="default">0x43</span><span class="keyword">, </span><span class="default">0x83</span><span class="keyword">, </span><span class="default">0x41</span><span class="keyword">, </span><span class="default">0x81</span><span class="keyword">, </span><span class="default">0x80</span><span class="keyword">,<br />                </span><span class="default">0x40</span><span class="keyword">);<br />    </span><span class="default">$length        </span><span class="keyword">=(</span><span class="default">$length</span><span class="keyword">&lt;=</span><span class="default">0</span><span class="keyword">?</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">):</span><span class="default">$length</span><span class="keyword">);<br />    </span><span class="default">$uchCRCHi    </span><span class="keyword">=</span><span class="default">0xFF</span><span class="keyword">;<br />    </span><span class="default">$uchCRCLo    </span><span class="keyword">=</span><span class="default">0xFF</span><span class="keyword">;<br />    </span><span class="default">$uIndex        </span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />    for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />        </span><span class="default">$uIndex        </span><span class="keyword">=</span><span class="default">$uchCRCLo </span><span class="keyword">^ </span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />        </span><span class="default">$uchCRCLo    </span><span class="keyword">=</span><span class="default">$uchCRCHi </span><span class="keyword">^ </span><span class="default">$auchCRCHi</span><span class="keyword">[</span><span class="default">$uIndex</span><span class="keyword">];<br />        </span><span class="default">$uchCRCHi    </span><span class="keyword">=</span><span class="default">$auchCRCLo</span><span class="keyword">[</span><span class="default">$uIndex</span><span class="keyword">] ;<br />    }<br />    return(</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$uchCRCLo</span><span class="keyword">).</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$uchCRCHi</span><span class="keyword">));<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="100060">  <div class="votes">
    <div id="Vu100060">
    <a href="https://www.php.net/manual/vote-note.php?id=100060&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd100060">
    <a href="https://www.php.net/manual/vote-note.php?id=100060&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V100060" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.crc32.php.html#100060" class="name">
  <strong class="user"><em>chernyshevsky at hotmail dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#100060"> &para;</a><div class="date" title="2010-09-22 03:54"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom100060">
<div class="phpcode"><code><span class="html">The crc32_combine() function provided by petteri at qred dot fi has a bug that causes an infinite loop, a shift operation on a 32-bit signed int might never reach zero. Replacing the function gf2_matrix_times() with the following seems to fix it:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">gf2_matrix_times</span><span class="keyword">(</span><span class="default">$mat</span><span class="keyword">, </span><span class="default">$vec</span><span class="keyword">)<br />{<br />    </span><span class="default">$sum</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />    </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br /><br />    while (</span><span class="default">$vec</span><span class="keyword">) {<br />        if (</span><span class="default">$vec </span><span class="keyword">&amp; </span><span class="default">1</span><span class="keyword">) {<br />            </span><span class="default">$sum </span><span class="keyword">^= </span><span class="default">$mat</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />        }<br />        </span><span class="default">$vec </span><span class="keyword">= (</span><span class="default">$vec </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">) &amp; </span><span class="default">0x7FFFFFFF</span><span class="keyword">;<br />        </span><span class="default">$i</span><span class="keyword">++;       <br />    }<br />    return </span><span class="default">$sum</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Otherwise, it's probably the best solution if you can't use hash_file(). Using a 1meg read buffer, the function only takes twice as long to process a 300meg files than hash_file() in my test.</span></code></div>
  </div>
 </div>
  <div class="note" id="93797">  <div class="votes">
    <div id="Vu93797">
    <a href="https://www.php.net/manual/vote-note.php?id=93797&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93797">
    <a href="https://www.php.net/manual/vote-note.php?id=93797&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93797" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.crc32.php.html#93797" class="name">
  <strong class="user"><em>berna (at) gensis (dot) com (dot) br</em></strong></a><a class="genanchor" href="function.crc32.php.html#93797"> &para;</a><div class="date" title="2009-09-29 08:16"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93797">
<div class="phpcode"><code><span class="html">For those who want a more familiar return value for the function:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">strcrc32</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) {<br />  </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br />  if (</span><span class="default">$crc </span><span class="keyword">&amp; </span><span class="default">0x80000000</span><span class="keyword">) {<br />    </span><span class="default">$crc </span><span class="keyword">^= </span><span class="default">0xffffffff</span><span class="keyword">;<br />    </span><span class="default">$crc </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />    </span><span class="default">$crc </span><span class="keyword">= -</span><span class="default">$crc</span><span class="keyword">;<br />  }<br />  return </span><span class="default">$crc</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />And to show the result in Hex string:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">int32_to_hex</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {<br />  </span><span class="default">$value </span><span class="keyword">&amp;= </span><span class="default">0xffffffff</span><span class="keyword">;<br />  return </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)), </span><span class="default">8</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="75440">  <div class="votes">
    <div id="Vu75440">
    <a href="https://www.php.net/manual/vote-note.php?id=75440&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75440">
    <a href="https://www.php.net/manual/vote-note.php?id=75440&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75440" title="46% like this...">
    -1
    </div>
  </div>
  <a href="function.crc32.php.html#75440" class="name">
  <strong class="user"><em>mail at tristansmis dot nl</em></strong></a><a class="genanchor" href="function.crc32.php.html#75440"> &para;</a><div class="date" title="2007-05-30 01:36"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom75440">
<div class="phpcode"><code><span class="html">I used the abs value of this function on a 32-bit system. When porting the code to a 64-bit system I’ve found that the value is different. The following code has the same outcome on both systems.<br /><span class="default">&lt;?php<br /><br />   $crc </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">));<br />   if( </span><span class="default">$crc </span><span class="keyword">&amp; </span><span class="default">0x80000000</span><span class="keyword">){<br />      </span><span class="default">$crc </span><span class="keyword">^= </span><span class="default">0xffffffff</span><span class="keyword">;<br />      </span><span class="default">$crc </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br />   }<br /><br />   </span><span class="comment">/* Old solution<br />    * $crc = abs(crc32($string))<br />    */<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="118752">  <div class="votes">
    <div id="Vu118752">
    <a href="https://www.php.net/manual/vote-note.php?id=118752&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118752">
    <a href="https://www.php.net/manual/vote-note.php?id=118752&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118752" title="42% like this...">
    -1
    </div>
  </div>
  <a href="function.crc32.php.html#118752" class="name">
  <strong class="user"><em>toggio at writeme dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#118752"> &para;</a><div class="date" title="2016-01-30 05:15"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118752">
<div class="phpcode"><code><span class="html">A faster implementation of modbus CRC16<br /><br />function crc16($data)<br /> {<br />   $crc = 0xFFFF;<br />   for ($i = 0; $i &lt; strlen($data); $i++)<br />   {<br />     $crc ^=ord($data[$i]);<br />     <br />        for ($j = 8; $j !=0; $j--)<br />        {<br />            if (($crc &amp; 0x0001) !=0)<br />            {<br />                $crc &gt;&gt;= 1;<br />                $crc ^= 0xA001;<br />            }<br />            else<br />                $crc &gt;&gt;= 1;<br />        }<br />    }    <br />   return $crc;<br /> }</span></code></div>
  </div>
 </div>
  <div class="note" id="99939">  <div class="votes">
    <div id="Vu99939">
    <a href="https://www.php.net/manual/vote-note.php?id=99939&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd99939">
    <a href="https://www.php.net/manual/vote-note.php?id=99939&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V99939" title="33% like this...">
    -3
    </div>
  </div>
  <a href="function.crc32.php.html#99939" class="name">
  <strong class="user"><em>gabri dot ns at gmail dot com</em></strong></a><a class="genanchor" href="function.crc32.php.html#99939"> &para;</a><div class="date" title="2010-09-15 10:05"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom99939">
<div class="phpcode"><code><span class="html">if you are looking for a fast function to hash a file, take a look at<br /><a href="http://www.php.net/manual/en/function.hash-file.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/function.hash-file.php</a><br />this is crc32 file checker based on a CRC32 guide<br />it have performance at ~ 625 KB/s on my 2.2GHz Turion<br />far slower than hash_file('crc32b','filename.ext')<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">crc32_file </span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">)<br />{<br />   </span><span class="default">$f </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">,</span><span class="string">'rb'</span><span class="keyword">);<br />   if (!</span><span class="default">$f</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />   <br />   static </span><span class="default">$CRC32Table</span><span class="keyword">, </span><span class="default">$Reflect8Table</span><span class="keyword">;<br />   if (!isset(</span><span class="default">$CRC32Table</span><span class="keyword">))<br />   {<br />      </span><span class="default">$Polynomial </span><span class="keyword">= </span><span class="default">0x04c11db7</span><span class="keyword">;<br />      </span><span class="default">$topBit </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">&lt;&lt; </span><span class="default">31</span><span class="keyword">;<br />       <br />      for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">256</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) <br />      { <br />         </span><span class="default">$remainder </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">&lt;&lt; </span><span class="default">24</span><span class="keyword">;<br />         for (</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++)<br />         {<br />            if (</span><span class="default">$remainder </span><span class="keyword">&amp; </span><span class="default">$topBit</span><span class="keyword">)<br />               </span><span class="default">$remainder </span><span class="keyword">= (</span><span class="default">$remainder </span><span class="keyword">&lt;&lt; </span><span class="default">1</span><span class="keyword">) ^ </span><span class="default">$Polynomial</span><span class="keyword">;<br />            else </span><span class="default">$remainder </span><span class="keyword">= </span><span class="default">$remainder </span><span class="keyword">&lt;&lt; </span><span class="default">1</span><span class="keyword">;<br />         }<br />         <br />         </span><span class="default">$CRC32Table</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$remainder</span><span class="keyword">;<br />         <br />         if (isset(</span><span class="default">$Reflect8Table</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])) continue;<br />         </span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">decbin</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">), </span><span class="default">8</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />         </span><span class="default">$num </span><span class="keyword">= </span><span class="default">bindec</span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">));<br />         </span><span class="default">$Reflect8Table</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$num</span><span class="keyword">;<br />         </span><span class="default">$Reflect8Table</span><span class="keyword">[</span><span class="default">$num</span><span class="keyword">] = </span><span class="default">$i</span><span class="keyword">;<br />      }<br />   }<br />   <br />   </span><span class="default">$remainder </span><span class="keyword">= </span><span class="default">0xffffffff</span><span class="keyword">;<br />   while (</span><span class="default">$data </span><span class="keyword">= </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">,</span><span class="default">1024</span><span class="keyword">))<br />   {<br />      </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />      for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />      {<br />         </span><span class="default">$byte </span><span class="keyword">= </span><span class="default">$Reflect8Table</span><span class="keyword">[</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])];<br />         </span><span class="default">$index </span><span class="keyword">= ((</span><span class="default">$remainder </span><span class="keyword">&gt;&gt; </span><span class="default">24</span><span class="keyword">) &amp; </span><span class="default">0xff</span><span class="keyword">) ^ </span><span class="default">$byte</span><span class="keyword">;<br />         </span><span class="default">$crc </span><span class="keyword">= </span><span class="default">$CRC32Table</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">];<br />         </span><span class="default">$remainder </span><span class="keyword">= (</span><span class="default">$remainder </span><span class="keyword">&lt;&lt; </span><span class="default">8</span><span class="keyword">) ^ </span><span class="default">$crc</span><span class="keyword">;<br />      }<br />   }<br />   <br />   </span><span class="default">$str </span><span class="keyword">= </span><span class="default">decbin</span><span class="keyword">(</span><span class="default">$remainder</span><span class="keyword">);<br />   </span><span class="default">$str </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />   </span><span class="default">$remainder </span><span class="keyword">= </span><span class="default">bindec</span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">));<br />   return </span><span class="default">$remainder </span><span class="keyword">^ </span><span class="default">0xffffffff</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br /><span class="default">&lt;?php<br />$a </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(); <br />echo </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">crc32_file</span><span class="keyword">(</span><span class="string">'filename.ext'</span><span class="keyword">)).</span><span class="string">"\n"</span><span class="keyword">; <br /></span><span class="default">$b </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(); <br />echo </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">)) - </span><span class="default">array_sum</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">)).</span><span class="string">"\n"</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span>Output:<br />ec7369fe<br />2.384134054184 (or similiar)</span></code></div>
  </div>
 </div>
  <div class="note" id="120387">  <div class="votes">
    <div id="Vu120387">
    <a href="https://www.php.net/manual/vote-note.php?id=120387&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120387">
    <a href="https://www.php.net/manual/vote-note.php?id=120387&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120387" title="20% like this...">
    -3
    </div>
  </div>
  <a href="function.crc32.php.html#120387" class="name">
  <strong class="user"><em>dotg at mail dot ru</em></strong></a><a class="genanchor" href="function.crc32.php.html#120387"> &para;</a><div class="date" title="2016-12-29 09:33"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120387">
<div class="phpcode"><code><span class="html">crc32() on php 32bit and 64 bit not equal in some values<br /><br />i use abs for result in positive for 32 bit<br /><br />not equal<br /><span class="default">&lt;?=abs</span><span class="keyword">(</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">));</span><span class="default">?&gt;<br /></span>64 bit<br />2212294583<br />32 bit<br />2082672713<br /><br />equal<br /><span class="default">&lt;?=abs</span><span class="keyword">(</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">));</span><span class="default">?&gt;<br /></span>64 bit<br />1842515611<br />32 bit<br />1842515611</span></code></div>
  </div>
 </div>
  <div class="note" id="41840">  <div class="votes">
    <div id="Vu41840">
    <a href="https://www.php.net/manual/vote-note.php?id=41840&amp;page=function.crc32&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd41840">
    <a href="https://www.php.net/manual/vote-note.php?id=41840&amp;page=function.crc32&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V41840" title="21% like this...">
    -13
    </div>
  </div>
  <a href="function.crc32.php.html#41840" class="name">
  <strong class="user"><em>waldomonster at netjukebox dot demon dot nl</em></strong></a><a class="genanchor" href="function.crc32.php.html#41840"> &para;</a><div class="date" title="2004-04-23 08:48"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom41840">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br />$data </span><span class="keyword">= </span><span class="string">'dot'</span><span class="keyword">;<br />echo </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />Returns 59278a3<br />Witch is missing a leading zero.<br /><br /><span class="default">&lt;?php<br />$data </span><span class="keyword">= </span><span class="string">'dot'</span><span class="keyword">;<br />echo </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">crc32</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)), </span><span class="default">8</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Returns the correct string: 059278a3</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.crc32&amp;redirect=https://www.php.net/manual/ru/function.crc32.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.strings.php.html">Функции для работы со строками</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.addcslashes.php.html" title="addcslashes">addcslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.addslashes.php.html" title="addslashes">addslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.bin2hex.php.html" title="bin2hex">bin2hex</a>
                        </li>
                                                <li class="">
                            <a href="function.chop.php.html" title="chop">chop</a>
                        </li>
                                                <li class="">
                            <a href="function.chr.php.html" title="chr">chr</a>
                        </li>
                                                <li class="">
                            <a href="function.chunk-split.php.html" title="chunk_&#8203;split">chunk_&#8203;split</a>
                        </li>
                                                <li class="">
                            <a href="function.convert-uudecode.php.html" title="convert_&#8203;uudecode">convert_&#8203;uudecode</a>
                        </li>
                                                <li class="">
                            <a href="function.convert-uuencode.php.html" title="convert_&#8203;uuencode">convert_&#8203;uuencode</a>
                        </li>
                                                <li class="">
                            <a href="function.count-chars.php.html" title="count_&#8203;chars">count_&#8203;chars</a>
                        </li>
                                                <li class="current">
                            <a href="function.crc32.php.html" title="crc32">crc32</a>
                        </li>
                                                <li class="">
                            <a href="function.crypt.php.html" title="crypt">crypt</a>
                        </li>
                                                <li class="">
                            <a href="function.echo.php.html" title="echo">echo</a>
                        </li>
                                                <li class="">
                            <a href="function.explode.php.html" title="explode">explode</a>
                        </li>
                                                <li class="">
                            <a href="function.fprintf.php.html" title="fprintf">fprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.get-html-translation-table.php.html" title="get_&#8203;html_&#8203;translation_&#8203;table">get_&#8203;html_&#8203;translation_&#8203;table</a>
                        </li>
                                                <li class="">
                            <a href="function.hebrev.php.html" title="hebrev">hebrev</a>
                        </li>
                                                <li class="">
                            <a href="function.hex2bin.php.html" title="hex2bin">hex2bin</a>
                        </li>
                                                <li class="">
                            <a href="function.html-entity-decode.php.html" title="html_&#8203;entity_&#8203;decode">html_&#8203;entity_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.htmlentities.php.html" title="htmlentities">htmlentities</a>
                        </li>
                                                <li class="">
                            <a href="function.htmlspecialchars-decode.php.html" title="htmlspecialchars_&#8203;decode">htmlspecialchars_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.htmlspecialchars.php.html" title="htmlspecialchars">htmlspecialchars</a>
                        </li>
                                                <li class="">
                            <a href="function.implode.php.html" title="implode">implode</a>
                        </li>
                                                <li class="">
                            <a href="function.join.php.html" title="join">join</a>
                        </li>
                                                <li class="">
                            <a href="function.lcfirst.php.html" title="lcfirst">lcfirst</a>
                        </li>
                                                <li class="">
                            <a href="function.levenshtein.php.html" title="levenshtein">levenshtein</a>
                        </li>
                                                <li class="">
                            <a href="function.localeconv.php.html" title="localeconv">localeconv</a>
                        </li>
                                                <li class="">
                            <a href="function.ltrim.php.html" title="ltrim">ltrim</a>
                        </li>
                                                <li class="">
                            <a href="function.md5-file.php.html" title="md5_&#8203;file">md5_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.md5.php.html" title="md5">md5</a>
                        </li>
                                                <li class="">
                            <a href="function.metaphone.php.html" title="metaphone">metaphone</a>
                        </li>
                                                <li class="">
                            <a href="function.money-format.php.html" title="money_&#8203;format">money_&#8203;format</a>
                        </li>
                                                <li class="">
                            <a href="function.nl-langinfo.php.html" title="nl_&#8203;langinfo">nl_&#8203;langinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.nl2br.php.html" title="nl2br">nl2br</a>
                        </li>
                                                <li class="">
                            <a href="function.number-format.php.html" title="number_&#8203;format">number_&#8203;format</a>
                        </li>
                                                <li class="">
                            <a href="function.ord.php.html" title="ord">ord</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-str.php.html" title="parse_&#8203;str">parse_&#8203;str</a>
                        </li>
                                                <li class="">
                            <a href="function.print.php.html" title="print">print</a>
                        </li>
                                                <li class="">
                            <a href="function.printf.php.html" title="printf">printf</a>
                        </li>
                                                <li class="">
                            <a href="function.quoted-printable-decode.php.html" title="quoted_&#8203;printable_&#8203;decode">quoted_&#8203;printable_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.quoted-printable-encode.php.html" title="quoted_&#8203;printable_&#8203;encode">quoted_&#8203;printable_&#8203;encode</a>
                        </li>
                                                <li class="">
                            <a href="function.quotemeta.php.html" title="quotemeta">quotemeta</a>
                        </li>
                                                <li class="">
                            <a href="function.rtrim.php.html" title="rtrim">rtrim</a>
                        </li>
                                                <li class="">
                            <a href="function.setlocale.php.html" title="setlocale">setlocale</a>
                        </li>
                                                <li class="">
                            <a href="function.sha1-file.php.html" title="sha1_&#8203;file">sha1_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.sha1.php.html" title="sha1">sha1</a>
                        </li>
                                                <li class="">
                            <a href="function.similar-text.php.html" title="similar_&#8203;text">similar_&#8203;text</a>
                        </li>
                                                <li class="">
                            <a href="function.soundex.php.html" title="soundex">soundex</a>
                        </li>
                                                <li class="">
                            <a href="function.sprintf.php.html" title="sprintf">sprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.sscanf.php.html" title="sscanf">sscanf</a>
                        </li>
                                                <li class="">
                            <a href="function.str-contains.php.html" title="str_&#8203;contains">str_&#8203;contains</a>
                        </li>
                                                <li class="">
                            <a href="function.str-decrement.php.html" title="str_&#8203;decrement">str_&#8203;decrement</a>
                        </li>
                                                <li class="">
                            <a href="function.str-ends-with.php.html" title="str_&#8203;ends_&#8203;with">str_&#8203;ends_&#8203;with</a>
                        </li>
                                                <li class="">
                            <a href="function.str-getcsv.php.html" title="str_&#8203;getcsv">str_&#8203;getcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.str-increment.php.html" title="str_&#8203;increment">str_&#8203;increment</a>
                        </li>
                                                <li class="">
                            <a href="function.str-ireplace.php.html" title="str_&#8203;ireplace">str_&#8203;ireplace</a>
                        </li>
                                                <li class="">
                            <a href="function.str-pad.php.html" title="str_&#8203;pad">str_&#8203;pad</a>
                        </li>
                                                <li class="">
                            <a href="function.str-repeat.php.html" title="str_&#8203;repeat">str_&#8203;repeat</a>
                        </li>
                                                <li class="">
                            <a href="function.str-replace.php.html" title="str_&#8203;replace">str_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.str-rot13.php.html" title="str_&#8203;rot13">str_&#8203;rot13</a>
                        </li>
                                                <li class="">
                            <a href="function.str-shuffle.php.html" title="str_&#8203;shuffle">str_&#8203;shuffle</a>
                        </li>
                                                <li class="">
                            <a href="function.str-split.php.html" title="str_&#8203;split">str_&#8203;split</a>
                        </li>
                                                <li class="">
                            <a href="function.str-starts-with.php.html" title="str_&#8203;starts_&#8203;with">str_&#8203;starts_&#8203;with</a>
                        </li>
                                                <li class="">
                            <a href="function.str-word-count.php.html" title="str_&#8203;word_&#8203;count">str_&#8203;word_&#8203;count</a>
                        </li>
                                                <li class="">
                            <a href="function.strcasecmp.php.html" title="strcasecmp">strcasecmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strchr.php.html" title="strchr">strchr</a>
                        </li>
                                                <li class="">
                            <a href="function.strcmp.php.html" title="strcmp">strcmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strcoll.php.html" title="strcoll">strcoll</a>
                        </li>
                                                <li class="">
                            <a href="function.strcspn.php.html" title="strcspn">strcspn</a>
                        </li>
                                                <li class="">
                            <a href="function.strip-tags.php.html" title="strip_&#8203;tags">strip_&#8203;tags</a>
                        </li>
                                                <li class="">
                            <a href="function.stripcslashes.php.html" title="stripcslashes">stripcslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.stripos.php.html" title="stripos">stripos</a>
                        </li>
                                                <li class="">
                            <a href="function.stripslashes.php.html" title="stripslashes">stripslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.stristr.php.html" title="stristr">stristr</a>
                        </li>
                                                <li class="">
                            <a href="function.strlen.php.html" title="strlen">strlen</a>
                        </li>
                                                <li class="">
                            <a href="function.strnatcasecmp.php.html" title="strnatcasecmp">strnatcasecmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strnatcmp.php.html" title="strnatcmp">strnatcmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strncasecmp.php.html" title="strncasecmp">strncasecmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strncmp.php.html" title="strncmp">strncmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strpbrk.php.html" title="strpbrk">strpbrk</a>
                        </li>
                                                <li class="">
                            <a href="function.strpos.php.html" title="strpos">strpos</a>
                        </li>
                                                <li class="">
                            <a href="function.strrchr.php.html" title="strrchr">strrchr</a>
                        </li>
                                                <li class="">
                            <a href="function.strrev.php.html" title="strrev">strrev</a>
                        </li>
                                                <li class="">
                            <a href="function.strripos.php.html" title="strripos">strripos</a>
                        </li>
                                                <li class="">
                            <a href="function.strrpos.php.html" title="strrpos">strrpos</a>
                        </li>
                                                <li class="">
                            <a href="function.strspn.php.html" title="strspn">strspn</a>
                        </li>
                                                <li class="">
                            <a href="function.strstr.php.html" title="strstr">strstr</a>
                        </li>
                                                <li class="">
                            <a href="function.strtok.php.html" title="strtok">strtok</a>
                        </li>
                                                <li class="">
                            <a href="function.strtolower.php.html" title="strtolower">strtolower</a>
                        </li>
                                                <li class="">
                            <a href="function.strtoupper.php.html" title="strtoupper">strtoupper</a>
                        </li>
                                                <li class="">
                            <a href="function.strtr.php.html" title="strtr">strtr</a>
                        </li>
                                                <li class="">
                            <a href="function.substr-compare.php.html" title="substr_&#8203;compare">substr_&#8203;compare</a>
                        </li>
                                                <li class="">
                            <a href="function.substr-count.php.html" title="substr_&#8203;count">substr_&#8203;count</a>
                        </li>
                                                <li class="">
                            <a href="function.substr-replace.php.html" title="substr_&#8203;replace">substr_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.substr.php.html" title="substr">substr</a>
                        </li>
                                                <li class="">
                            <a href="function.trim.php.html" title="trim">trim</a>
                        </li>
                                                <li class="">
                            <a href="function.ucfirst.php.html" title="ucfirst">ucfirst</a>
                        </li>
                                                <li class="">
                            <a href="function.ucwords.php.html" title="ucwords">ucwords</a>
                        </li>
                                                <li class="">
                            <a href="function.vfprintf.php.html" title="vfprintf">vfprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.vprintf.php.html" title="vprintf">vprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.vsprintf.php.html" title="vsprintf">vsprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.wordwrap.php.html" title="wordwrap">wordwrap</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                        <li>
                <span class="header">Deprecated</span>
                <ul class="child-menu-list">
                                    <li class="">
                        <a href="function.convert-cyr-string.php.html" title="convert_&#8203;cyr_&#8203;string">convert_&#8203;cyr_&#8203;string</a>
                    </li>
                                    <li class="">
                        <a href="function.hebrevc.php.html" title="hebrevc">hebrevc</a>
                    </li>
                                    <li class="">
                        <a href="function.utf8-decode.php.html" title="utf8_&#8203;decode">utf8_&#8203;decode</a>
                    </li>
                                    <li class="">
                        <a href="function.utf8-encode.php.html" title="utf8_&#8203;encode">utf8_&#8203;encode</a>
                    </li>
                                </ul>
            </li>
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
