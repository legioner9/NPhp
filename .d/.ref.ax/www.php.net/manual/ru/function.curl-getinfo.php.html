<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: curl_getinfo - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.curl-getinfo.php.html">
 <link rel="shorturl" href="https://www.php.net/curl-getinfo">
 <link rel="alternate" href="https://www.php.net/curl-getinfo" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.curl.php.html">
 <link rel="prev" href="function.curl-exec.php.html">
 <link rel="next" href="function.curl-init.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.curl-getinfo.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.curl-getinfo.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.curl-getinfo.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.curl-getinfo.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.curl-getinfo.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.curl-getinfo.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.curl-getinfo.php" hreflang="pt_BR">
 <link rel="alternate" href="function.curl-getinfo.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.curl-getinfo.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.curl-getinfo.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.curl-init.php.html">
          curl_init &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.curl-exec.php.html">
          &laquo; curl_exec        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.remote.other.php.html'>Другие службы</a></li>      <li><a href='book.curl.php.html'>cURL</a></li>      <li><a href='ref.curl.php.html'>Функции cURL</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.curl-getinfo.php'>English</option>
            <option value='de/function.curl-getinfo.php'>German</option>
            <option value='es/function.curl-getinfo.php'>Spanish</option>
            <option value='fr/function.curl-getinfo.php'>French</option>
            <option value='it/function.curl-getinfo.php'>Italian</option>
            <option value='ja/function.curl-getinfo.php'>Japanese</option>
            <option value='pt_BR/function.curl-getinfo.php'>Brazilian Portuguese</option>
            <option value='ru/function.curl-getinfo.php' selected="selected">Russian</option>
            <option value='tr/function.curl-getinfo.php'>Turkish</option>
            <option value='zh/function.curl-getinfo.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/curl/functions/curl-getinfo.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.curl-getinfo%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.curl-getinfo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">curl_getinfo</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">curl_getinfo</span> &mdash; <span class="dc-title">Получает информацию о конкретной передаче</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.curl-getinfo-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>curl_getinfo</strong></span>(<span class="methodparam"><span class="type"><a href="class.curlhandle.php.html" class="type CurlHandle">CurlHandle</a></span> <code class="parameter">$handle</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">int</span><span class="type"></span></span> <code class="parameter">$option</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><a href="language.types.declarations.php.html#language.types.declarations.mixed" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Получает информацию о последней передаче.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.curl-getinfo-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    <dt>
<code class="parameter">handle</code>
</dt>
<dd>
<p class="para">Дескриптор cURL, полученный из <span class="function"><a href="function.curl-init.php.html" class="function">curl_init()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">option</code></dt>

     <dd>

      <p class="para">
       Константа из списка:
       <table class="doctable informaltable">
        
         <thead>
          <tr>
           <th>Опция</th>
           <th>Описание</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CAINFO</code></strong>
           </td>
           <td style="vertical-align: top;">
            Путь к встроенному сертификату удостоверяющего центра по умолчанию
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CAPATH</code></strong>
           </td>
           <td style="vertical-align: top;">
            Строка пути к встроенному сертификату удостоверяющего центра по умолчанию
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_EFFECTIVE_URL</code></strong>
           </td>
           <td style="vertical-align: top;">
            Последний эффективный URL
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_HTTP_CODE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Последний код ответа.
            Начиная с cURL 7.10.8 это устаревший псевдоним
            опции <strong><code>CURLINFO_RESPONSE_CODE</code></strong>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_FILETIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время получения документа по часам удалённого сервера,
            если параметр <strong><code>CURLOPT_FILETIME</code></strong> включён для дескриптора cURL;
            если возвращается значение -1, то время получения документа неизвестно
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_TOTAL_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее время транзакции в секундах для последней передачи
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_NAMELOOKUP_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в секундах, затраченное на разрешение имени
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONNECT_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в секундах, затраченное на установку соединения
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PRETRANSFER_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в секундах от запуска до момента начала передачи файла
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_STARTTRANSFER_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в секундах от запуска передачи до получения первого байта
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_REDIRECT_COUNT</code></strong>
           </td>
           <td style="vertical-align: top;">
            Число перенаправлений,
            если параметр <strong><code>CURLOPT_FOLLOWLOCATION</code></strong> включён для дескриптора cURL
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_REDIRECT_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее время в секундах, которое потребовалось
            для всех шагов перенаправления
            до запуска последней транзакции,
            если параметр <strong><code>CURLOPT_FOLLOWLOCATION</code></strong>
            включён для дескриптора cURL
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_REDIRECT_URL</code></strong>
           </td>
           <td style="vertical-align: top;">
            Если параметр дескриптора <strong><code>CURLOPT_FOLLOWLOCATION</code></strong> отключён:
            URL-адрес перенаправления, найденный в последней транзакции,
            который в следующий раз надо запросить вручную.
            Если параметр <strong><code>CURLOPT_FOLLOWLOCATION</code></strong> включён:
            пустое значение. Тогда URL-адрес перенаправления
            доступен в опции <strong><code>CURLINFO_EFFECTIVE_URL</code></strong>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PRIMARY_IP</code></strong>
           </td>
           <td style="vertical-align: top;">
            IP-адрес последнего соединения
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PRIMARY_PORT</code></strong>
           </td>
           <td style="vertical-align: top;">
            Порт назначения последнего соединения
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_LOCAL_IP</code></strong>
           </td>
           <td style="vertical-align: top;">
            Локальный (исходящий) IP-адрес последнего соединения
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_LOCAL_PORT</code></strong>
           </td>
           <td style="vertical-align: top;">
            Локальный (исходящий) порт последнего соединения
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SIZE_UPLOAD</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее количество переданных байтов
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SIZE_DOWNLOAD</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее количество полученных байтов
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SPEED_DOWNLOAD</code></strong>
           </td>
           <td style="vertical-align: top;">
            Средняя скорость получения данных
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SPEED_UPLOAD</code></strong>
           </td>
           <td style="vertical-align: top;">
            Средняя скорость передачи данных
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_HEADER_SIZE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Суммарный размер полученных заголовков
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_HEADER_OUT</code></strong>
           </td>
           <td style="vertical-align: top;">
            Отправленная строка запроса. Чтобы этот параметр работал,
            нужно добавить опцию <strong><code>CURLINFO_HEADER_OUT</code></strong>
            в дескриптор через вызов функции <span class="function"><a href="function.curl-setopt.php.html" class="function">curl_setopt()</a></span>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_REFERER</code></strong>
           </td>
           <td style="vertical-align: top;">
            Заголовок реферера
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_REQUEST_SIZE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Суммарный размер отправленных запросов,
            работает пока только для HTTP-запросов
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_RETRY_AFTER</code></strong>
           </td>
           <td style="vertical-align: top;">
            Информация из заголовка <code class="literal">Retry-After:</code> или ноль,
            если допустимого заголовка не было
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SSL_VERIFYRESULT</code></strong>
           </td>
           <td style="vertical-align: top;">
            Результат проверки SSL-сертификации,
            запрошенный с параметром <strong><code>CURLOPT_SSL_VERIFYPEER</code></strong>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONTENT_LENGTH_DOWNLOAD</code></strong>
           </td>
           <td style="vertical-align: top;">
            Размер полученных данных,
            прочитанный из заголовка <code class="literal">Content-Length:</code>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONTENT_LENGTH_UPLOAD</code></strong>
           </td>
           <td style="vertical-align: top;">
            Размер переданных данных
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONTENT_TYPE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Значение заголовка <code class="literal">Content-Type:</code> запрошенного документа.
            Значение NULL указывает, что сервер не отправил
            допустимый заголовок <code class="literal">Content-Type:</code>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PRIVATE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Закрытые данные, связанные с текущим дескриптором cURL,
            которые до этого были установлены
            функцией <span class="function"><a href="function.curl-setopt.php.html" class="function">curl_setopt()</a></span>
            с параметром <strong><code>CURLOPT_PRIVATE</code></strong>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PROXY_ERROR</code></strong>
           </td>
           <td style="vertical-align: top;">
            Подробный код ошибки прокси-сервера (SOCKS),
            когда последняя передача вернула ошибку <strong><code>CURLE_PROXY</code></strong>.
            Возвращаемое значение будет равно значению константы
            из семейства <strong><code>CURLPX_<span class="replaceable">*</span></code></strong>.
            Код ошибки будет равен значению константы <strong><code>CURLPX_OK</code></strong>,
            если код ответа не был доступен
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_RESPONSE_CODE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Последний код ответа
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_HTTP_CONNECTCODE</code></strong>
           </td>
           <td style="vertical-align: top;">
            Код ответа на запрос CONNECT
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_HTTPAUTH_AVAIL</code></strong>
           </td>
           <td style="vertical-align: top;">
            Битовая маска доступного метода или методов
            аутентификации на основе данных предыдущего ответа
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PROXYAUTH_AVAIL</code></strong>
           </td>
           <td style="vertical-align: top;">
            Битовая маска доступного метода или методов
            аутентификации прокси-сервера на основе данных предыдущего ответа
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_OS_ERRNO</code></strong>
           </td>
           <td style="vertical-align: top;">
            Значение переменной Errno в случае сбоя соединения.
            Номер ошибки зависит от ОС и особенностей системы
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_NUM_CONNECTS</code></strong>
           </td>
           <td style="vertical-align: top;">
            Количество соединений, которые curl пришлось создать,
            что успешно выполнить предыдущую передачу
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SSL_ENGINES</code></strong>
           </td>
           <td style="vertical-align: top;">
            Список поддерживаемых криптодвижков библиотеки OpenSSL
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_COOKIELIST</code></strong>
           </td>
           <td style="vertical-align: top;">
            Известные куки
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_FTP_ENTRY_PATH</code></strong>
           </td>
           <td style="vertical-align: top;">
            Путь входа на FTP-сервер
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_APPCONNECT_TIME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в секундах от запуска до установления SSL- или SSH-
            подключения или рукопожатия с удалённым хостом
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CERTINFO</code></strong>
           </td>
           <td style="vertical-align: top;">
            Цепочка сертификатов TLS
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONDITION_UNMET</code></strong>
           </td>
           <td style="vertical-align: top;">
            Информация о невыполненных за отведённое время условиях
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_RTSP_CLIENT_CSEQ</code></strong>
           </td>
           <td style="vertical-align: top;">
            Следующий CSeq-заголовок RTSP-клиента
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_RTSP_CSEQ_RECV</code></strong>
           </td>
           <td style="vertical-align: top;">
            Последний полученный заголовок CSeq
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_RTSP_SERVER_CSEQ</code></strong>
           </td>
           <td style="vertical-align: top;">
            Следующий CSeq-заголовок RTSP-сервера
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_RTSP_SESSION_ID</code></strong>
           </td>
           <td style="vertical-align: top;">
            Идентификатор RTSP-сессии
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONTENT_LENGTH_DOWNLOAD_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Размер полученных данных. Это значение
            считывается из поля <code class="literal">Content-Length:</code>.
            Значение будет равно -1, если размер неизвестен
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONTENT_LENGTH_UPLOAD_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Размер отправленных данных. Значение будет равно -1,
            если размер неизвестен
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_HTTP_VERSION</code></strong>
           </td>
           <td style="vertical-align: top;">
            Версия HTTP-протокола последнего соединении.
            Возвращаемое значение будет равно значению константы
            из семейства <strong><code>CURL_HTTP_VERSION_*</code></strong>
            или 0, если версию невозможно определить
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PROTOCOL</code></strong>
           </td>
           <td style="vertical-align: top;">
            Протокол последнего HTTP-соединения.
            Возвращаемое значение будет равно значению константы
            из семейства <strong><code>CURLPROTO_*</code></strong>
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PROXY_SSL_VERIFYRESULT</code></strong>
           </td>
           <td style="vertical-align: top;">
            Результат запрошенной проверки сертификата
            (с параметром <strong><code>CURLOPT_PROXY_SSL_VERIFYPEER</code></strong>).
            Работает только для серверов HTTPS-прокси
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SCHEME</code></strong>
           </td>
           <td style="vertical-align: top;">
            Схема URL последнего соединения
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SIZE_DOWNLOAD_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее количество байтов, которые были получены.
            Число будет указано только для последней передачи
            и будет сбрасываться при каждой новой передаче
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SIZE_UPLOAD_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее количество байтов, которые были переданы
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SPEED_DOWNLOAD_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Средняя скорость получения данных в байтах в секунду,
            которую curl измерил в конце передачи
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_SPEED_UPLOAD_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Средняя скорость передачи данных в байтах в секунду,
            которую curl измерил в конце передачи
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_APPCONNECT_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в микросекундах, прошедшее от запуска
            до завершения SSL- или SSH- подключения или рукопожатия
            с удалённым хостом
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_CONNECT_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее время в микросекундах, прошедшее от запуска
            до завершения подключения к удалённому хосту или прокси-серверу
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_FILETIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время получения документа в виде метки времени Unix
            по часам удалённого сервера,
            альтернатива опции <strong><code>CURLINFO_FILETIME</code></strong>,
            чтобы разрешить системам с 32-битными long-переменными
            извлекать даты за пределами диапазона 32-битных меток времени
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_NAMELOOKUP_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в микросекундах от запуска до разрешения имени
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_PRETRANSFER_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в микросекундах от запуска до момента начала передачи файла
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_REDIRECT_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее время в микросекундах, которое потребовалось
            для всех шагов перенаправления, включая поиск имени,
            подключение, предварительную о основную передачу
            до запуска окончательной транзакции
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_STARTTRANSFER_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Время в микросекундах от запуска передачи до получения первого байта
           </td>
          </tr>

          <tr>
           <td style="vertical-align: top;">
            <strong><code>CURLINFO_TOTAL_TIME_T</code></strong>
           </td>
           <td style="vertical-align: top;">
            Общее время предыдущей передачи в микросекундах,
            включая разрешение имени, TCP-соединение и т. д.
           </td>
          </tr>

         </tbody>
        
       </table>

      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.curl-getinfo-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Если параметр <code class="parameter">option</code> задан, возвращается
   его значение. В остальных случаях возвращается ассоциативный массив
   со следующими элементами (которые соответствуют значениям параметра
   <code class="parameter">option</code>) или <strong><code>false</code></strong> в случае ошибки:
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      «url»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «content_type»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «http_code»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «header_size»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «request_size»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «filetime»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «ssl_verify_result»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «redirect_count»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «total_time»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «namelookup_time»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «connect_time»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «pretransfer_time»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «size_upload»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «size_download»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «speed_download»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «speed_upload»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «download_content_length»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «upload_content_length»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «starttransfer_time»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «redirect_time»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «certinfo»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «primary_ip»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «primary_port»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «local_ip»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «local_port»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «redirect_url»
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      «request_header» (Значение будет заполнено,
      только если функцией <span class="function"><a href="function.curl-setopt.php.html" class="function">curl_setopt()</a></span>
      для дескриптора включён параметр
      <strong><code>CURLINFO_HEADER_OUT</code></strong>.)
     </span>
    </li>
   </ul>
   Учтите, что закрытые данные не добавляются в ассоциативный массив
   и извлекаются отдельно через опцию <strong><code>CURLINFO_PRIVATE</code></strong>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.curl-getinfo-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.3.0</td>
       <td>
        Добавлены опции <strong><code>CURLINFO_CAINFO</code></strong>
        и <strong><code>CURLINFO_CAPATH</code></strong>.
       </td>
      </tr>

      <tr>
       <td>8.2.0</td>
       <td>
        Добавлены опции <strong><code>CURLINFO_PROXY_ERROR</code></strong>,
        <strong><code>CURLINFO_REFERER</code></strong>,
        <strong><code>CURLINFO_RETRY_AFTER</code></strong>.
       </td>
      </tr>

      <tr>
 <td>8.0.0</td>
 <td>
  <code class="parameter">handle</code> теперь ожидает экземпляр <span class="classname"><a href="class.curlhandle.php.html" class="classname">CurlHandle</a></span>;
  раньше, ожидался ресурс (<span class="type">resource</span>).
 </td>
</tr>

      <tr>
       <td>8.0.0</td>
       <td>
        Теперь параметр <code class="parameter">option</code> принимает значение <strong><code>null</code></strong>.
        ранее значением по умолчанию был <code class="literal">0</code>.
       </td>
      </tr>

      <tr>
       <td>7.3.0</td>
       <td>
        Добавлены опции <strong><code>CURLINFO_CONTENT_LENGTH_DOWNLOAD_T</code></strong>,
        <strong><code>CURLINFO_CONTENT_LENGTH_UPLOAD_T</code></strong>,
        <strong><code>CURLINFO_HTTP_VERSION</code></strong>,
        <strong><code>CURLINFO_PROTOCOL</code></strong>,
        <strong><code>CURLINFO_PROXY_SSL_VERIFYRESULT</code></strong>,
        <strong><code>CURLINFO_SCHEME</code></strong>,
        <strong><code>CURLINFO_SIZE_DOWNLOAD_T</code></strong>,
        <strong><code>CURLINFO_SIZE_UPLOAD_T</code></strong>,
        <strong><code>CURLINFO_SPEED_DOWNLOAD_T</code></strong>,
        <strong><code>CURLINFO_SPEED_UPLOAD_T</code></strong>,
        <strong><code>CURLINFO_APPCONNECT_TIME_T</code></strong>,
        <strong><code>CURLINFO_CONNECT_TIME_T</code></strong>,
        <strong><code>CURLINFO_FILETIME_T</code></strong>,
        <strong><code>CURLINFO_NAMELOOKUP_TIME_T</code></strong>,
        <strong><code>CURLINFO_PRETRANSFER_TIME_T</code></strong>,
        <strong><code>CURLINFO_REDIRECT_TIME_T</code></strong>,
        <strong><code>CURLINFO_STARTTRANSFER_TIME_T</code></strong>,
        <strong><code>CURLINFO_TOTAL_TIME_T</code></strong>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.curl-getinfo-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования функции <span class="function"><strong>curl_getinfo()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">// Создаём дескриптор cURL<br /></span><span style="color: #0000BB">$ch </span><span style="color: #007700">= </span><span style="color: #0000BB">curl_init</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.example.com/'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Запускаем<br /></span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Проверяем наличие ошибок<br /></span><span style="color: #007700">if (!</span><span style="color: #0000BB">curl_errno</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">)) {<br />  </span><span style="color: #0000BB">$info </span><span style="color: #007700">= </span><span style="color: #0000BB">curl_getinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br />  echo </span><span style="color: #DD0000">'Прошло '</span><span style="color: #007700">, </span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'total_time'</span><span style="color: #007700">], </span><span style="color: #DD0000">' секунд во время запроса к '</span><span style="color: #007700">, </span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'url'</span><span style="color: #007700">], </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">// Закрываем дескриптор<br /></span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #2 
     Пример использования функции <span class="function"><strong>curl_getinfo()</strong></span>
     с параметром <code class="parameter">option</code>
    </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">// Создаём дескриптор cURL<br /></span><span style="color: #0000BB">$ch </span><span style="color: #007700">= </span><span style="color: #0000BB">curl_init</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.example.com/'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Запускаем<br /></span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Проверяем наличие ошибок<br /></span><span style="color: #007700">if (!</span><span style="color: #0000BB">curl_errno</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">)) {<br />  switch (</span><span style="color: #0000BB">$http_code </span><span style="color: #007700">= </span><span style="color: #0000BB">curl_getinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">, </span><span style="color: #0000BB">CURLINFO_HTTP_CODE</span><span style="color: #007700">)) {<br />    case </span><span style="color: #0000BB">200</span><span style="color: #007700">:  </span><span style="color: #FF8000"># OK<br />      </span><span style="color: #007700">break;<br />    default:<br />      echo </span><span style="color: #DD0000">'Неожиданный код HTTP: '</span><span style="color: #007700">, </span><span style="color: #0000BB">$http_code</span><span style="color: #007700">, </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />  }<br />}<br /><br /></span><span style="color: #FF8000">// Закрываем дескриптор<br /></span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.curl-getinfo-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Информация, которую собирает эта функция,
    хранится в дескрипторе
    и доступна для запуска повторной передачи.
    То есть, пока статистика не переопределена внутренне,
    эта функция возвращает предыдущую информацию.
   </p>
  </p></blockquote>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.curl-getinfo&amp;redirect=https://www.php.net/manual/ru/function.curl-getinfo.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">13 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="41332">  <div class="votes">
    <div id="Vu41332">
    <a href="https://www.php.net/manual/vote-note.php?id=41332&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd41332">
    <a href="https://www.php.net/manual/vote-note.php?id=41332&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V41332" title="72% like this...">
    56
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#41332" class="name">
  <strong class="user"><em>ssttoo at hotmail dot com</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#41332"> &para;</a><div class="date" title="2004-04-06 12:13"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom41332">
<div class="phpcode"><code><span class="html">Here are the response codes ready for pasting in an ini-style file. Can be used to provide more descriptive message, corresponding to 'http_code' index of the arrray returned by curl_getinfo(). <br />These are taken from the W3 consortium HTTP/1.1: Status Code Definitions, found at<br /><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" rel="nofollow" target="_blank">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a><br /><br />[Informational 1xx]<br />100="Continue"<br />101="Switching Protocols"<br /><br />[Successful 2xx]<br />200="OK"<br />201="Created"<br />202="Accepted"<br />203="Non-Authoritative Information"<br />204="No Content"<br />205="Reset Content"<br />206="Partial Content"<br /><br />[Redirection 3xx]<br />300="Multiple Choices"<br />301="Moved Permanently"<br />302="Found"<br />303="See Other"<br />304="Not Modified"<br />305="Use Proxy"<br />306="(Unused)"<br />307="Temporary Redirect"<br /><br />[Client Error 4xx]<br />400="Bad Request"<br />401="Unauthorized"<br />402="Payment Required"<br />403="Forbidden"<br />404="Not Found"<br />405="Method Not Allowed"<br />406="Not Acceptable"<br />407="Proxy Authentication Required"<br />408="Request Timeout"<br />409="Conflict"<br />410="Gone"<br />411="Length Required"<br />412="Precondition Failed"<br />413="Request Entity Too Large"<br />414="Request-URI Too Long"<br />415="Unsupported Media Type"<br />416="Requested Range Not Satisfiable"<br />417="Expectation Failed"<br /><br />[Server Error 5xx]<br />500="Internal Server Error"<br />501="Not Implemented"<br />502="Bad Gateway"<br />503="Service Unavailable"<br />504="Gateway Timeout"<br />505="HTTP Version Not Supported"<br /><br />And an example usage:<br /><span class="default">&lt;?php<br />$ch </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">(); </span><span class="comment">// create cURL handle (ch)<br /></span><span class="keyword">if (!</span><span class="default">$ch</span><span class="keyword">) {<br />    die(</span><span class="string">"Couldn't initialize a cURL handle"</span><span class="keyword">);<br />}<br /></span><span class="comment">// set some cURL options<br /></span><span class="default">$ret </span><span class="keyword">= </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_URL</span><span class="keyword">,            </span><span class="string">"<a href="http://mail.yahoo.com" rel="nofollow" target="_blank">http://mail.yahoo.com</a>"</span><span class="keyword">);<br /></span><span class="default">$ret </span><span class="keyword">= </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_HEADER</span><span class="keyword">,         </span><span class="default">1</span><span class="keyword">);<br /></span><span class="default">$ret </span><span class="keyword">= </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_FOLLOWLOCATION</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br /></span><span class="default">$ret </span><span class="keyword">= </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br /></span><span class="default">$ret </span><span class="keyword">= </span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_TIMEOUT</span><span class="keyword">,        </span><span class="default">30</span><span class="keyword">);<br /><br /></span><span class="comment">// execute<br /></span><span class="default">$ret </span><span class="keyword">= </span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">);<br /><br />if (empty(</span><span class="default">$ret</span><span class="keyword">)) {<br />    </span><span class="comment">// some kind of an error happened<br />    </span><span class="keyword">die(</span><span class="default">curl_error</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">));<br />    </span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">); </span><span class="comment">// close cURL handler<br /></span><span class="keyword">} else {<br />    </span><span class="default">$info </span><span class="keyword">= </span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">);<br />    </span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">); </span><span class="comment">// close cURL handler<br /><br />    </span><span class="keyword">if (empty(</span><span class="default">$info</span><span class="keyword">[</span><span class="string">'http_code'</span><span class="keyword">])) {<br />            die(</span><span class="string">"No HTTP code was returned"</span><span class="keyword">); <br />    } else {<br />        </span><span class="comment">// load the HTTP codes<br />        </span><span class="default">$http_codes </span><span class="keyword">= </span><span class="default">parse_ini_file</span><span class="keyword">(</span><span class="string">"path/to/the/ini/file/I/pasted/above"</span><span class="keyword">);<br />        <br />        </span><span class="comment">// echo results<br />        </span><span class="keyword">echo </span><span class="string">"The server responded: &lt;br /&gt;"</span><span class="keyword">;<br />        echo </span><span class="default">$info</span><span class="keyword">[</span><span class="string">'http_code'</span><span class="keyword">] . </span><span class="string">" " </span><span class="keyword">. </span><span class="default">$http_codes</span><span class="keyword">[</span><span class="default">$info</span><span class="keyword">[</span><span class="string">'http_code'</span><span class="keyword">]];<br />    }<br /><br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="100556">  <div class="votes">
    <div id="Vu100556">
    <a href="https://www.php.net/manual/vote-note.php?id=100556&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd100556">
    <a href="https://www.php.net/manual/vote-note.php?id=100556&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V100556" title="65% like this...">
    20
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#100556" class="name">
  <strong class="user"><em>vince</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#100556"> &para;</a><div class="date" title="2010-10-22 04:56"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom100556">
<div class="phpcode"><code><span class="html">CURLINFO_HTTP_CODE does not return a string, as the docs say, but rather an integer.<br /><br /><span class="default">&lt;?php<br />    $c </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">(</span><span class="string">'<a href="http://www.example.com/" rel="nofollow" target="_blank">http://www.example.com/</a>'</span><span class="keyword">);<br />    if(</span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">CURLINFO_HTTP_CODE</span><span class="keyword">) === </span><span class="string">'200'</span><span class="keyword">) echo </span><span class="string">"CURLINFO_HTTP_CODE returns a string."</span><span class="keyword">;<br />    if(</span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">, </span><span class="default">CURLINFO_HTTP_CODE</span><span class="keyword">) === </span><span class="default">200</span><span class="keyword">) echo </span><span class="string">"CURLINFO_HTTP_CODE returns an integer."</span><span class="keyword">;<br />    </span><span class="default">curl_close</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />returns<br /><br />"CURLINFO_HTTP_CODE returns an integer."</span></code></div>
  </div>
 </div>
  <div class="note" id="118328">  <div class="votes">
    <div id="Vu118328">
    <a href="https://www.php.net/manual/vote-note.php?id=118328&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118328">
    <a href="https://www.php.net/manual/vote-note.php?id=118328&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118328" title="68% like this...">
    7
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#118328" class="name">
  <strong class="user"><em>public-mail at alekciy dot ru</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#118328"> &para;</a><div class="date" title="2015-11-18 09:35"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118328">
<div class="phpcode"><code><span class="html">Note, header_size include "\r\n\r\n". So if you use CURLOPT_FOLLOWLOCATION&gt;0, CURLOPT_HEADER=true, CURLOPT_RETURNTRANSFER=true right way splite header/body:<br /><br />$response = curl_exec($ch);<br />$curl_info = curl_getinfo($ch);<br />curl_close($ch);<br />$header_size = $curl_info['header_size'];<br />$header = substr($response, 0, $header_size);<br />$body = substr($response, $header_size);</span></code></div>
  </div>
 </div>
  <div class="note" id="111678">  <div class="votes">
    <div id="Vu111678">
    <a href="https://www.php.net/manual/vote-note.php?id=111678&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd111678">
    <a href="https://www.php.net/manual/vote-note.php?id=111678&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V111678" title="62% like this...">
    16
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#111678" class="name">
  <strong class="user"><em>nikita dot bulatenko at gmail dot com</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#111678"> &para;</a><div class="date" title="2013-03-15 02:11"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom111678">
<div class="phpcode"><code><span class="html">CURLINFO_SSL_VERIFYRESULT error codes:<br />0: ok the operation was successful. <br />2 : unable to get issuer certificate<br />3: unable to get certificate CRL<br />4: unable to decrypt certificate's signature<br />5: unable to decrypt CRL's signature<br />6: unable to decode issuer public key<br />7: certificate signature failure<br />8: CRL signature failure<br />9: certificate is not yet valid<br />10: certificate has expired<br />11: CRL is not yet valid<br />12:CRL has expired<br />13: format error in certificate's notBefore field<br />14: format error in certificate's notAfter field<br />15: format error in CRL's lastUpdate field<br />16: format error in CRL's nextUpdate field<br />17: out of memory<br />18: self signed certificate<br />19: self signed certificate in certificate chain<br />20: unable to get local issuer certificate<br />21:unable to verify the first certificate<br />22: certificate chain too long<br />23: certificate revoked<br />24: invalid CA certificate<br />25: path length constraint exceeded<br />26: unsupported certificate purpose<br />27: certificate not trusted<br />28: certificate rejected<br />29: subject issuer mismatch<br />30: authority and subject key identifier mismatch<br />31: authority and issuer serial number mismatch<br />32: key usage does not include certificate signing<br />50: application verification failure<br />details at <a href="http://www.openssl.org/docs/apps/verify.html#VERIFY_OPERATION" rel="nofollow" target="_blank">http://www.openssl.org/docs/apps/verify.html#VERIFY_OPERATION</a></span></code></div>
  </div>
 </div>
  <div class="note" id="116123">  <div class="votes">
    <div id="Vu116123">
    <a href="https://www.php.net/manual/vote-note.php?id=116123&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116123">
    <a href="https://www.php.net/manual/vote-note.php?id=116123&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116123" title="63% like this...">
    5
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#116123" class="name">
  <strong class="user"><em>qrworld.net</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#116123"> &para;</a><div class="date" title="2014-11-11 04:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116123">
<div class="phpcode"><code><span class="html">Here you have a function that I use to get the content of a URL using cURL. This uses curl_getinfo to know if it is a regular URL or maybe a redirection.<br /><br />I hope it would be useful for you:<br /><br />function getUrlContent($url){<br /> $ch = curl_init();<br /> curl_setopt($ch, CURLOPT_URL, $url);<br /> curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; .NET CLR 1.1.4322)');<br /> curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);<br /> curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5);<br /> curl_setopt($ch, CURLOPT_TIMEOUT, 5);<br /> $data = curl_exec($ch);<br /> $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);<br /> curl_close($ch);<br /> return ($httpcode&gt;=200 &amp;&amp; $httpcode&lt;300) ? $data : false;<br />}<br /><br />The source comes from this website:<br /><br /><a href="http://softontherocks.blogspot.com/2014/11/descargar-el-contenido-de-una-url.html" rel="nofollow" target="_blank">http://softontherocks.blogspot.com/2014/11/descargar-el-contenido-de-una-url.html</a></span></code></div>
  </div>
 </div>
  <div class="note" id="83898">  <div class="votes">
    <div id="Vu83898">
    <a href="https://www.php.net/manual/vote-note.php?id=83898&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd83898">
    <a href="https://www.php.net/manual/vote-note.php?id=83898&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V83898" title="57% like this...">
    6
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#83898" class="name">
  <strong class="user"><em>nemetral</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#83898"> &para;</a><div class="date" title="2008-06-17 07:57"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom83898">
<div class="phpcode"><code><span class="html">Just a quick note: if you want to use curl_getinfo() with option CURLINFO_HEADER_OUT in order to debug your cURL request, you must add curl_setopt($handle, CURLINFO_HEADER_OUT, true); first while specifying the options.</span></code></div>
  </div>
 </div>
  <div class="note" id="114653">  <div class="votes">
    <div id="Vu114653">
    <a href="https://www.php.net/manual/vote-note.php?id=114653&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114653">
    <a href="https://www.php.net/manual/vote-note.php?id=114653&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114653" title="54% like this...">
    3
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#114653" class="name">
  <strong class="user"><em>bg at enativ dot com</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#114653"> &para;</a><div class="date" title="2014-03-18 09:53"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114653">
<div class="phpcode"><code><span class="html">curl_getinfo($ch) will also return 'redirect_url' if there is one (even if CURLOPT_FOLLOWLOCATION set to false).<br />I don't know why it's not in the doc..</span></code></div>
  </div>
 </div>
  <div class="note" id="80457">  <div class="votes">
    <div id="Vu80457">
    <a href="https://www.php.net/manual/vote-note.php?id=80457&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80457">
    <a href="https://www.php.net/manual/vote-note.php?id=80457&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80457" title="55% like this...">
    3
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#80457" class="name">
  <strong class="user"><em>Mark Evers</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#80457"> &para;</a><div class="date" title="2008-01-16 10:14"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80457">
<div class="phpcode"><code><span class="html">There is a constant missing from that list.  CURLINFO_REDIRECT_COUNT will give you the number of redirects it went through if CURLOPT_FOLLOWLOCATION was set.</span></code></div>
  </div>
 </div>
  <div class="note" id="98990">  <div class="votes">
    <div id="Vu98990">
    <a href="https://www.php.net/manual/vote-note.php?id=98990&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98990">
    <a href="https://www.php.net/manual/vote-note.php?id=98990&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98990" title="52% like this...">
    1
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#98990" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#98990"> &para;</a><div class="date" title="2010-07-20 02:53"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98990">
<div class="phpcode"><code><span class="html">The main doc neglects to mention that when the CURLINFO_HEADER_OUT option is set the array returned by this function will included a new property, request_header, that is a string of the headers sent in the request.</span></code></div>
  </div>
 </div>
  <div class="note" id="128622">  <div class="votes">
    <div id="Vu128622">
    <a href="https://www.php.net/manual/vote-note.php?id=128622&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128622">
    <a href="https://www.php.net/manual/vote-note.php?id=128622&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128622" title="no votes...">
    0
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#128622" class="name">
  <strong class="user"><em>c dot ball1729 at gmail dot com</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#128622"> &para;</a><div class="date" title="2023-06-19 12:46"><strong>7 months ago</strong></div>
  <div class="text" id="Hcom128622">
<div class="phpcode"><code><span class="html">A note about $curl_info['header_size'] (in response to the example above). <br /><br />Note that the total includes the size of any received headers suppressed by CURLOPT_SUPPRESS_CONNECT_HEADERS (see: <a href="https://curl.se/libcurl/c/CURLINFO_HEADER_SIZE.html" rel="nofollow" target="_blank">https://curl.se/libcurl/c/CURLINFO_HEADER_SIZE.html</a>) so if you are using a proxy which adds additional headers along with this option, $curl_info['header_size'] will give you the wrong string index based on the headers available in PHP. i.e., it will eat in to the start of the response instead of being the index of the beginning of the response.</span></code></div>
  </div>
 </div>
  <div class="note" id="116987">  <div class="votes">
    <div id="Vu116987">
    <a href="https://www.php.net/manual/vote-note.php?id=116987&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116987">
    <a href="https://www.php.net/manual/vote-note.php?id=116987&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116987" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#116987" class="name">
  <strong class="user"><em>Curly</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#116987"> &para;</a><div class="date" title="2015-03-30 09:55"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom116987">
<div class="phpcode"><code><span class="html">If you call curl_reset() on a handle that has already been passed to curl_exec(), and then perform a curl_getinfo() on the same handle, you may expect that you get the same result as if you called curl_getinfo() immediately after curl_init(). This is not the case, however. cURL will return the data from the previous execution. If you want to completely reset you actually need to unset the cURL handle and recreate a new one.</span></code></div>
  </div>
 </div>
  <div class="note" id="117740">  <div class="votes">
    <div id="Vu117740">
    <a href="https://www.php.net/manual/vote-note.php?id=117740&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117740">
    <a href="https://www.php.net/manual/vote-note.php?id=117740&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117740" title="46% like this...">
    -1
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#117740" class="name">
  <strong class="user"><em>torres dot krys at gmail dot com</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#117740"> &para;</a><div class="date" title="2015-07-31 07:07"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117740">
<div class="phpcode"><code><span class="html">If you use curl option CURLOPT_NOBODY = true to test if distant url is available, any sites can send you an http code 400 like Cdiscount Wsdl : <br /><br />$ch = @curl_init($wsdl);<br /><br />if($ch === false)<br />    return false;<br />        <br />@curl_setopt($ch, CURLOPT_HEADER         ,true);    // we want headers<br />@curl_setopt($ch, CURLOPT_NOBODY         ,true);    // dont need body<br />@curl_setopt($ch, CURLOPT_RETURNTRANSFER ,true);    // catch output (do NOT print!)<br /><br />@curl_exec($ch);<br /><br />if(@curl_errno($ch)){   // should be 0<br />    @curl_close($ch);<br />    return false;<br />}<br /><br />$code = @curl_getinfo($ch, CURLINFO_HTTP_CODE); <br /><br />Modifying CURLOPT_NOBODY to false, http code sent is 200 otherwise http code is 400 !!!</span></code></div>
  </div>
 </div>
  <div class="note" id="80864">  <div class="votes">
    <div id="Vu80864">
    <a href="https://www.php.net/manual/vote-note.php?id=80864&amp;page=function.curl-getinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80864">
    <a href="https://www.php.net/manual/vote-note.php?id=80864&amp;page=function.curl-getinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80864" title="35% like this...">
    -14
    </div>
  </div>
  <a href="function.curl-getinfo.php.html#80864" class="name">
  <strong class="user"><em>luiheidsgoeroe at hotmail dot com</em></strong></a><a class="genanchor" href="function.curl-getinfo.php.html#80864"> &para;</a><div class="date" title="2008-02-04 03:02"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80864">
<div class="phpcode"><code><span class="html">Keep in mind that for CURLOPT_RETURNTRANSFER it has to be set with curl_setopt() before execution:<br /><br />This doesn't work:<br /><span class="default">&lt;?php<br />$ch </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">();<br /></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_URL</span><span class="keyword">, </span><span class="string">"<a href="http://www.example.com/" rel="nofollow" target="_blank">http://www.example.com/</a>"</span><span class="keyword">);<br /></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br /></span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">,</span><span class="default">CURLINFO_HEADER_OUT</span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />This works:<br /><span class="default">&lt;?php<br />$ch </span><span class="keyword">= </span><span class="default">curl_init</span><span class="keyword">();<br /></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_URL</span><span class="keyword">, </span><span class="string">"<a href="http://www.example.com/" rel="nofollow" target="_blank">http://www.example.com/</a>"</span><span class="keyword">);<br /></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLOPT_RETURNTRANSFER</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br /></span><span class="default">curl_setopt</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">, </span><span class="default">CURLINFO_HEADER_OUT</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br /></span><span class="default">curl_exec</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">curl_getinfo</span><span class="keyword">(</span><span class="default">$ch</span><span class="keyword">,</span><span class="default">CURLINFO_HEADER_OUT</span><span class="keyword">));<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.curl-getinfo&amp;redirect=https://www.php.net/manual/ru/function.curl-getinfo.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.curl.php.html">Функции cURL</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.curl-close.php.html" title="curl_&#8203;close">curl_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-copy-handle.php.html" title="curl_&#8203;copy_&#8203;handle">curl_&#8203;copy_&#8203;handle</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-errno.php.html" title="curl_&#8203;errno">curl_&#8203;errno</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-error.php.html" title="curl_&#8203;error">curl_&#8203;error</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-escape.php.html" title="curl_&#8203;escape">curl_&#8203;escape</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-exec.php.html" title="curl_&#8203;exec">curl_&#8203;exec</a>
                        </li>
                                                <li class="current">
                            <a href="function.curl-getinfo.php.html" title="curl_&#8203;getinfo">curl_&#8203;getinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-init.php.html" title="curl_&#8203;init">curl_&#8203;init</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-add-handle.php.html" title="curl_&#8203;multi_&#8203;add_&#8203;handle">curl_&#8203;multi_&#8203;add_&#8203;handle</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-close.php.html" title="curl_&#8203;multi_&#8203;close">curl_&#8203;multi_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-errno.php.html" title="curl_&#8203;multi_&#8203;errno">curl_&#8203;multi_&#8203;errno</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-exec.php.html" title="curl_&#8203;multi_&#8203;exec">curl_&#8203;multi_&#8203;exec</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-getcontent.php.html" title="curl_&#8203;multi_&#8203;getcontent">curl_&#8203;multi_&#8203;getcontent</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-info-read.php.html" title="curl_&#8203;multi_&#8203;info_&#8203;read">curl_&#8203;multi_&#8203;info_&#8203;read</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-init.php.html" title="curl_&#8203;multi_&#8203;init">curl_&#8203;multi_&#8203;init</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-remove-handle.php.html" title="curl_&#8203;multi_&#8203;remove_&#8203;handle">curl_&#8203;multi_&#8203;remove_&#8203;handle</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-select.php.html" title="curl_&#8203;multi_&#8203;select">curl_&#8203;multi_&#8203;select</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-setopt.php.html" title="curl_&#8203;multi_&#8203;setopt">curl_&#8203;multi_&#8203;setopt</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-multi-strerror.php.html" title="curl_&#8203;multi_&#8203;strerror">curl_&#8203;multi_&#8203;strerror</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-pause.php.html" title="curl_&#8203;pause">curl_&#8203;pause</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-reset.php.html" title="curl_&#8203;reset">curl_&#8203;reset</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-setopt-array.php.html" title="curl_&#8203;setopt_&#8203;array">curl_&#8203;setopt_&#8203;array</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-setopt.php.html" title="curl_&#8203;setopt">curl_&#8203;setopt</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-share-close.php.html" title="curl_&#8203;share_&#8203;close">curl_&#8203;share_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-share-errno.php.html" title="curl_&#8203;share_&#8203;errno">curl_&#8203;share_&#8203;errno</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-share-init.php.html" title="curl_&#8203;share_&#8203;init">curl_&#8203;share_&#8203;init</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-share-setopt.php.html" title="curl_&#8203;share_&#8203;setopt">curl_&#8203;share_&#8203;setopt</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-share-strerror.php.html" title="curl_&#8203;share_&#8203;strerror">curl_&#8203;share_&#8203;strerror</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-strerror.php.html" title="curl_&#8203;strerror">curl_&#8203;strerror</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-unescape.php.html" title="curl_&#8203;unescape">curl_&#8203;unescape</a>
                        </li>
                                                <li class="">
                            <a href="function.curl_upkeep.php.html" title="curl_&#8203;upkeep">curl_&#8203;upkeep</a>
                        </li>
                                                <li class="">
                            <a href="function.curl-version.php.html" title="curl_&#8203;version">curl_&#8203;version</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
