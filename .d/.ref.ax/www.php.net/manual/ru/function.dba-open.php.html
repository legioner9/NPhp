<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: dba_open - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.dba-open.php.html">
 <link rel="shorturl" href="https://www.php.net/dba-open">
 <link rel="alternate" href="https://www.php.net/dba-open" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.dba.php.html">
 <link rel="prev" href="function.dba-nextkey.php.html">
 <link rel="next" href="function.dba-optimize.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.dba-open.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.dba-open.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.dba-open.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.dba-open.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.dba-open.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.dba-open.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.dba-open.php" hreflang="pt_BR">
 <link rel="alternate" href="function.dba-open.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.dba-open.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.dba-open.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.dba-optimize.php.html">
          dba_optimize &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.dba-nextkey.php.html">
          &laquo; dba_nextkey        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.database.php.html'>Модули для работы с базами данных</a></li>      <li><a href='refs.database.abstract.php.html'>Уровни абстракции</a></li>      <li><a href='book.dba.php.html'>DBA</a></li>      <li><a href='ref.dba.php.html'>Функции DBA</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.dba-open.php'>English</option>
            <option value='de/function.dba-open.php'>German</option>
            <option value='es/function.dba-open.php'>Spanish</option>
            <option value='fr/function.dba-open.php'>French</option>
            <option value='it/function.dba-open.php'>Italian</option>
            <option value='ja/function.dba-open.php'>Japanese</option>
            <option value='pt_BR/function.dba-open.php'>Brazilian Portuguese</option>
            <option value='ru/function.dba-open.php' selected="selected">Russian</option>
            <option value='tr/function.dba-open.php'>Turkish</option>
            <option value='zh/function.dba-open.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/dba/functions/dba-open.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.dba-open%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.dba-open" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">dba_open</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">dba_open</span> &mdash; <span class="dc-title">Открывает базу данных</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.dba-open-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>dba_open</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$mode</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$handler</code><span class="initializer"> = <strong><code>null</code></strong></span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$permission</code><span class="initializer"> = 0644</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$map_size</code><span class="initializer"> = 0</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">?</span><span class="type"><span class="type">int</span><span class="type"></span></span> <code class="parameter">$flags</code><span class="initializer"> = <strong><code>null</code></strong></span></span><br>): <span class="type"><span class="type">resource</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>dba_open()</strong></span> устанавливает экземпляр базы данных по пути
   <code class="parameter">path</code> в режиме <code class="parameter">mode</code> используя
   обработчик <code class="parameter">handler</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.dba-open-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">path</code></dt>

     <dd>

      <p class="para">
       Путь до файлов базы данных.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       <code class="literal">r</code> для режима чтения, <code class="literal">w</code> для
       режима чтения/записи с уже существующей базой данных. <code class="literal">c</code>
       для режима чтения/записи и создания базы данных, если она ещё не была создана,
       и <code class="literal">n</code> для создания, обрезания и доступа для чтения/записи.
       База данных создаётся с архитектурой BTree, другие архитектуры (вроде Hash или Queue)
       не поддерживаются.
      </p>
      <p class="para">
       Дополнительно, с помощью следующего символа, вы можете задать режим блокировки
       базы данных. <code class="literal">l</code> для блокировки базы данных с помощью файла
       <var class="filename">.lck</var>, или <code class="literal">d</code> для самостоятельной блокировки
       средствами самой базы. Важно, чтобы все ваши приложения делали это согласованно.
      </p>
      <p class="para">
       Если вы хотите просто проверить доступ и не хотите ждать освобождения блокировки,
       вы можете добавить третий символ <code class="literal">t</code>.  Если вы абсолютно уверены,
       что вам не нужно использовать блокировку базы данных, вы можете использовать
       символ <code class="literal">-</code> вместо <code class="literal">l</code> или <code class="literal">d</code>.
       Если ни один из символов: <code class="literal">d</code>, <code class="literal">l</code> или
       <code class="literal">-</code> не задан, база данных будет использовать режим <code class="literal">d</code>.
      </p>
      <blockquote class="note"><p><strong class="note">Замечание</strong>: 
       <p class="para">
        В один момент времени может быть только один процесс, пишущий в базу данных.
        Когда вы используете dba на веб-сервере, и более чем один запрос требует
        записи в базу данных, они могут это делать только строго по очереди.
        Также, в момент чтения, запись не доступна. Модуль dba использует
        блокировки для предотвращения нежелательного поведения.
        Изучите следующую таблицу:
        <table class="doctable table">
         <caption><strong>Блокировки DBA</strong></caption>
         
          <thead>
           <tr>
            <th>уже открыта</th>
            <th><code class="parameter">mode</code> = &quot;rl&quot;</th>
            <th><code class="parameter">mode</code> = &quot;rlt&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wl&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wlt&quot;</th>
            <th><code class="parameter">mode</code> = &quot;rd&quot;</th>
            <th><code class="parameter">mode</code> = &quot;rdt&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wd&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wdt&quot;</th>
           </tr>

          </thead>

          <tbody class="tbody">
           <tr>
            <td>не открыта</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;rl&quot;</td>
            <td>ok</td>
            <td>ok</td>
            <td>wait</td>
            <td>false</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;wl&quot;</td>
            <td>wait</td>
            <td>false</td>
            <td>wait</td>
            <td>false</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;rd&quot;</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>ok</td>
            <td>ok</td>
            <td>wait</td>
            <td>false</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;wd&quot;</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>wait</td>
            <td>false</td>
            <td>wait</td>
            <td>false</td>
           </tr>

          </tbody>
         
        </table>

        <ul class="simplelist">
         <li class="member">ok: второй вызов будет успешным.</li>
         <li class="member">wait: второй вызов будет ждать, пока первый не вызовет
          <span class="function"><a href="function.dba-close.php.html" class="function">dba_close()</a></span>.</li>
         <li class="member">false: второй вызов вернёт <strong><code>false</code></strong>.</li>
         <li class="member">illegal: вы не можете смешивать модификаторы <code class="literal">&quot;l&quot;</code> и <code class="literal">&quot;d&quot;</code> в параметре <code class="parameter">mode</code>.</li>
        </ul>
       </p>
      </p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">handler</code></dt>

     <dd>

      <p class="para">
       Имя <a href="dba.requirements.php.html" class="link">обработчика</a>, который будет
       использоваться для доступа по пути <code class="parameter">path</code>. Ему передаются
       все необязательные параметры, заданные в <span class="function"><strong>dba_open()</strong></span>.
       Если параметр <code class="parameter">handler</code> равен <strong><code>null</code></strong>,
       то вызывается обработчик по умолчанию.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">permission</code></dt>

     <dd>

      <p class="para">
       Необязательный параметр, заданный целым числом (<span class="type">int</span>), который передаётся драйверу.
       У него то же значение, что и у параметра <code class="parameter">permissions</code> функции <span class="function"><a href="function.chmod.php.html" class="function">chmod()</a></span>,
       значение по умолчанию - <code class="literal">0644</code>.
      </p>
      <p class="para">
       Драйверы <code class="literal">db1</code>, <code class="literal">db2</code>, <code class="literal">db3</code>,
       <code class="literal">db4</code>, <code class="literal">dbm</code>, <code class="literal">gdbm</code>,
       <code class="literal">ndbm</code> и <code class="literal">lmdb</code> поддерживают
       параметр <code class="parameter">permission</code>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">map_size</code></dt>

     <dd>

      <p class="para">
       Необязательный параметр, заданный целым числом (<span class="type">int</span>), который передаётся драйверу.
       Его значение должно быть кратно размеру страницы ОС или равно нулю,
       чтобы использовать размер карты по умолчанию.
      </p>
      <p class="para">
       Только драйвер <code class="literal">lmdb</code> допускает параметр <code class="parameter">map_size</code>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">flags</code></dt>

     <dd>

      <p class="para">
       Флаги для передачи драйверам базы данных. Если указано значение <strong><code>null</code></strong>,
       будут переданы флаги по умолчанию.
       В настоящее время только драйвер LMDB поддерживает следующие флаги:
       <strong><code>DBA_LMDB_USE_SUB_DIR</code></strong> и
       <strong><code>DBA_LMDB_NO_SUB_DIR</code></strong>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.dba-open-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает обработчик в случае успешного выполнения или <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.dba-open-errors">
  <h3 class="title">Ошибки</h3>
  <p class="para">
   Функция возвращает значение <strong><code>false</code></strong> и выдаёт ошибку уровня <strong><code>E_WARNING</code></strong>,
   если параметр <code class="parameter">handler</code> равен <strong><code>null</code></strong>, но нет обработчика по умолчанию.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.dba-open-changelog">
  <h3 class="title">Список изменений</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Версия</th>
      <th>Описание</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.2.0</td>
      <td>
       Добавлен параметр <code class="parameter">flags</code>.
      </td>
     </tr>

     <tr>
      <td>8.2.0</td>
      <td>
       Параметр <code class="parameter">handler</code> теперь допускает значение <strong><code>null</code></strong>.
      </td>
     </tr>

     <tr>
      <td>7.3.14, 7.4.2</td>
      <td>
       Драйвер <code class="literal">lmdb</code> теперь поддерживает дополнительный
       параметр <code class="parameter">map_size</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.dba-open-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.dba-popen.php.html" class="function" rel="rdfs-seeAlso">dba_popen()</a> - Установить постоянный экземпляр базы данных</span></li>
    <li class="member"><span class="function"><a href="function.dba-close.php.html" class="function" rel="rdfs-seeAlso">dba_close()</a> - Закрывает базу данных DBA</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.dba-open&amp;redirect=https://www.php.net/manual/ru/function.dba-open.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">6 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="70566">  <div class="votes">
    <div id="Vu70566">
    <a href="https://www.php.net/manual/vote-note.php?id=70566&amp;page=function.dba-open&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd70566">
    <a href="https://www.php.net/manual/vote-note.php?id=70566&amp;page=function.dba-open&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V70566" title="57% like this...">
    1
    </div>
  </div>
  <a href="function.dba-open.php.html#70566" class="name">
  <strong class="user"><em>doppelbauer at gmail dot com</em></strong></a><a class="genanchor" href="function.dba-open.php.html#70566"> &para;</a><div class="date" title="2006-10-20 07:36"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom70566">
<div class="phpcode"><code><span class="html">Windows does not support locking the database. You may use $_ENV to determine the OS:<br /><br />$locking = (stripos($_ENV['OS'],'windows') === false ? 'd' : 'l');</span></code></div>
  </div>
 </div>
  <div class="note" id="97696">  <div class="votes">
    <div id="Vu97696">
    <a href="https://www.php.net/manual/vote-note.php?id=97696&amp;page=function.dba-open&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97696">
    <a href="https://www.php.net/manual/vote-note.php?id=97696&amp;page=function.dba-open&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97696" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.dba-open.php.html#97696" class="name">
  <strong class="user"><em>dracoirs at gmail dot com</em></strong></a><a class="genanchor" href="function.dba-open.php.html#97696"> &para;</a><div class="date" title="2010-05-03 03:10"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom97696">
<div class="phpcode"><code><span class="html">Apache doesn't support Berkeley DB Btree, so you can't manipulate use db4 as the type of database if you want to do DBM authentication with Apache.<br /><br />gdbm seemed to work fine though, even though it supposedly using Btree instead of hash.  It makes you wonder why Apache would use hash for one dbmtype versus btree for another.<br /><br />So since Apache and PHP don't have options to choose the method for the Berkeley DBs, you are out of luck.</span></code></div>
  </div>
 </div>
  <div class="note" id="83254">  <div class="votes">
    <div id="Vu83254">
    <a href="https://www.php.net/manual/vote-note.php?id=83254&amp;page=function.dba-open&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd83254">
    <a href="https://www.php.net/manual/vote-note.php?id=83254&amp;page=function.dba-open&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V83254" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.dba-open.php.html#83254" class="name">
  <strong class="user"><em>mskala at ansuz dot sooke dot bc dot ca</em></strong></a><a class="genanchor" href="function.dba-open.php.html#83254"> &para;</a><div class="date" title="2008-05-16 02:15"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom83254">
<div class="phpcode"><code><span class="html">As of GDBM version 1.8.3, GDBM's underlying open call uses non-blocking calls to flock() on systems that have flock().  As a result, calls with "rd" or "wd" locking modes will return error ("Can't be reader" or "Can't be writer") instead of waiting.  Use "rl" or "wl" instead, to make PHP do its own locking external to GDBM.</span></code></div>
  </div>
 </div>
  <div class="note" id="79370">  <div class="votes">
    <div id="Vu79370">
    <a href="https://www.php.net/manual/vote-note.php?id=79370&amp;page=function.dba-open&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd79370">
    <a href="https://www.php.net/manual/vote-note.php?id=79370&amp;page=function.dba-open&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V79370" title="33% like this...">
    -2
    </div>
  </div>
  <a href="function.dba-open.php.html#79370" class="name">
  <strong class="user"><em>trohit at blue bottle dot com</em></strong></a><a class="genanchor" href="function.dba-open.php.html#79370"> &para;</a><div class="date" title="2007-11-23 03:34"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom79370">
<div class="phpcode"><code><span class="html">Here's a simple example to use the dba_open function<br /><br /><span class="default">&lt;?php<br /><br />$id </span><span class="keyword">= </span><span class="default">dba_open</span><span class="keyword">(</span><span class="string">"/tmp/test.db"</span><span class="keyword">, </span><span class="string">"n"</span><span class="keyword">, </span><span class="string">"gdbm"</span><span class="keyword">);<br /><br />if (!</span><span class="default">$id</span><span class="keyword">) {<br />        echo </span><span class="string">"dba_open failed\n"</span><span class="keyword">;<br />        exit;<br />}<br /><br /></span><span class="default">dba_replace</span><span class="keyword">(</span><span class="string">"key"</span><span class="keyword">, </span><span class="string">"This is an example!"</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">);<br /><br />if (</span><span class="default">dba_exists</span><span class="keyword">(</span><span class="string">"key"</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">)) {<br />        echo </span><span class="default">dba_fetch</span><span class="keyword">(</span><span class="string">"key"</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">);<br />        </span><span class="default">dba_delete</span><span class="keyword">(</span><span class="string">"key"</span><span class="keyword">, </span><span class="default">$id</span><span class="keyword">);<br />}<br /><br /></span><span class="default">dba_close</span><span class="keyword">(</span><span class="default">$id</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="93369">  <div class="votes">
    <div id="Vu93369">
    <a href="https://www.php.net/manual/vote-note.php?id=93369&amp;page=function.dba-open&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93369">
    <a href="https://www.php.net/manual/vote-note.php?id=93369&amp;page=function.dba-open&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93369" title="33% like this...">
    -3
    </div>
  </div>
  <a href="function.dba-open.php.html#93369" class="name">
  <strong class="user"><em>cbemerine at gmail dot com</em></strong></a><a class="genanchor" href="function.dba-open.php.html#93369"> &para;</a><div class="date" title="2009-09-06 04:59"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93369">
<div class="phpcode"><code><span class="html">Note the “c” create flag does not work if MySQL was built with the “cdb” DBA handler compile option which is common for many distros.  By definition the cdb DBA handler is optimized for reading/writing and “no updates are allowed.”  <br /><br /><span class="default">&lt;?php<br />$dbh </span><span class="keyword">= </span><span class="default">dba_open</span><span class="keyword">( </span><span class="string">"./data2/productz"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">, </span><span class="string">"cdb"</span><span class="keyword">) or die( </span><span class="string">"Couldn't open Database" </span><span class="keyword">); <br /></span><span class="default">?&gt;<br /></span><br />instead use<br /><br /><span class="default">&lt;?php<br />$dbh </span><span class="keyword">= </span><span class="default">dba_open</span><span class="keyword">( </span><span class="string">"./data2/productz"</span><span class="keyword">, </span><span class="string">"n"</span><span class="keyword">, </span><span class="string">"cdb" </span><span class="keyword">) or die( </span><span class="string">"Couldnt open Database" </span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />generates this error message in the /var/log/apache2/error.log: <br />[Sun Sep 06 04:18:15 2009] [error] [client 192.168.1.125] PHP Warning:  dba_open(./data2/productz,c) [&lt;a href='function.dba-open'&gt;function.dba-open&lt;/a&gt;]: Driver initialization failed for handler: cdb: Update operations are not supported in /var/www/projects/testcdb-c.php on line 43<br /><br />see user contributed comment under dba_handlers() to see which DBA handlers are supported by your build of MySQL and note about using “cdb” compiled DBA systems: <br /><br />also see user contributed comment under dba_replace() about incompatibilities with cdb DBA handler compiled MySQL systems.</span></code></div>
  </div>
 </div>
  <div class="note" id="63777">  <div class="votes">
    <div id="Vu63777">
    <a href="https://www.php.net/manual/vote-note.php?id=63777&amp;page=function.dba-open&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd63777">
    <a href="https://www.php.net/manual/vote-note.php?id=63777&amp;page=function.dba-open&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V63777" title="25% like this...">
    -2
    </div>
  </div>
  <a href="function.dba-open.php.html#63777" class="name">
  <strong class="user"><em>xy ät affenkrieger.de</em></strong></a><a class="genanchor" href="function.dba-open.php.html#63777"> &para;</a><div class="date" title="2006-03-30 06:13"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom63777">
<div class="phpcode"><code><span class="html">If you get some strange errors like<br />dba_open(): myDbFilename.db : Permission denied<br />than you are propably using PHP on a Windoze machine. You have to make sure that the following conditions are met:<br /><br />1) Use an absolute path to your db file. Relative paths will cause problems with locking<br />2) Specify a locking mode - that's the second character of the mode-argument, or else opening a dba-file will cause several notices/warnings etc.<br /><br />And a final, general note:<br />3) Always use the english PHP doc on this site - the translations are often old as hell and miss important informations<br /><br />HTH, Nils.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.dba-open&amp;redirect=https://www.php.net/manual/ru/function.dba-open.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.dba.php.html">Функции DBA</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.dba-close.php.html" title="dba_&#8203;close">dba_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-delete.php.html" title="dba_&#8203;delete">dba_&#8203;delete</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-exists.php.html" title="dba_&#8203;exists">dba_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-fetch.php.html" title="dba_&#8203;fetch">dba_&#8203;fetch</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-firstkey.php.html" title="dba_&#8203;firstkey">dba_&#8203;firstkey</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-handlers.php.html" title="dba_&#8203;handlers">dba_&#8203;handlers</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-insert.php.html" title="dba_&#8203;insert">dba_&#8203;insert</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-key-split.php.html" title="dba_&#8203;key_&#8203;split">dba_&#8203;key_&#8203;split</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-list.php.html" title="dba_&#8203;list">dba_&#8203;list</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-nextkey.php.html" title="dba_&#8203;nextkey">dba_&#8203;nextkey</a>
                        </li>
                                                <li class="current">
                            <a href="function.dba-open.php.html" title="dba_&#8203;open">dba_&#8203;open</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-optimize.php.html" title="dba_&#8203;optimize">dba_&#8203;optimize</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-popen.php.html" title="dba_&#8203;popen">dba_&#8203;popen</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-replace.php.html" title="dba_&#8203;replace">dba_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.dba-sync.php.html" title="dba_&#8203;sync">dba_&#8203;sync</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
