<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: dirname - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.dirname.php.html">
 <link rel="shorturl" href="https://www.php.net/dirname">
 <link rel="alternate" href="https://www.php.net/dirname" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.filesystem.php.html">
 <link rel="prev" href="function.delete.php.html">
 <link rel="next" href="function.disk-free-space.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.dirname.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.dirname.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.dirname.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.dirname.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.dirname.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.dirname.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.dirname.php" hreflang="pt_BR">
 <link rel="alternate" href="function.dirname.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.dirname.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.dirname.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.disk-free-space.php.html">
          disk_free_space &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.delete.php.html">
          &laquo; delete        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.fileprocess.file.php.html'>Модули для работы с файловой системой</a></li>      <li><a href='book.filesystem.php.html'>Файловая система</a></li>      <li><a href='ref.filesystem.php.html'>Функции файловой системы</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.dirname.php'>English</option>
            <option value='de/function.dirname.php'>German</option>
            <option value='es/function.dirname.php'>Spanish</option>
            <option value='fr/function.dirname.php'>French</option>
            <option value='it/function.dirname.php'>Italian</option>
            <option value='ja/function.dirname.php'>Japanese</option>
            <option value='pt_BR/function.dirname.php'>Brazilian Portuguese</option>
            <option value='ru/function.dirname.php' selected="selected">Russian</option>
            <option value='tr/function.dirname.php'>Turkish</option>
            <option value='zh/function.dirname.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/filesystem/functions/dirname.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.dirname%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.dirname" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">dirname</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">dirname</span> &mdash; <span class="dc-title">Возвращает имя родительского каталога из указанного пути</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.dirname-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>dirname</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$path</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$levels</code><span class="initializer"> = 1</span></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Получив строку, содержащую путь к файлу или каталогу, данная
   функция возвратит родительский каталог данного пути на <code class="parameter">levels</code>
   уровней вверх.
  </p>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Функция <span class="function"><strong>dirname()</strong></span> наивно оперирует исключительно
    исходной строкой и не учитывает реальную файловую систему
    или компоненты пути типа &quot;<code class="literal">..</code>&quot;.
   </p>
  </p></blockquote>
  <div class="caution"><strong class="caution">Предостережение</strong>
   <p class="para">
    В Windows <span class="function"><strong>dirname()</strong></span> предполагает текущую установленную
    кодовую страницу, поэтому для того, чтобы видеть правильное имя каталога
    с путями многобайтовых символов, необходимо установить соответствующую кодовую страницу.
    Если <code class="parameter">path</code> содержит символы, недопустимые для текущей
    кодовой страницы, поведение <span class="function"><strong>dirname()</strong></span> не определено.
   </p>
   <p class="para">
    В других системах <span class="function"><strong>dirname()</strong></span> предполагает, что <code class="parameter">path</code>
    закодирован в кодировке, совместимой с ASCII. В противном случае поведение функции не определено.
   </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.dirname-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">path</code></dt>

     <dd>

      <p class="para">
       Путь.
      </p>
      <p class="para">
       На платформах Windows в качестве разделителей имён директорий
       используются оба слеша (прямой <code class="literal">/</code> и обратный
       <code class="literal">\</code>). В других операционных системах разделителем
       служит прямой слеш (<code class="literal">/</code>).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">levels</code></dt>

     <dd>

      <p class="para">
       На сколько уровней вложенности вверх необходимо пройти.
      </p>
      <p class="para">
       Должно быть целым числом больше 0.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.dirname-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает путь к родительской директории. Если в параметре
   <code class="parameter">path</code> не содержится слешей, будет возвращена
   точка (&#039;<code class="literal">.</code>&#039;), обозначающая текущую директорию.
   В другом случае будет возвращён <code class="parameter">path</code>
   без последнего компонента <code class="literal">/component</code>.
  </p>

  <div class="caution"><strong class="caution">Предостережение</strong>
   <p class="para">
    Будьте осторожны при использовании этой функции в цикле,
    который может достичь каталога верхнего уровня, так как это может привести к бесконечному циклу.
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">);    </span><span style="color: #FF8000">// Вернёт '.'.<br /></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'/'</span><span style="color: #007700">);    </span><span style="color: #FF8000">// Вернёт `\` в Windows и '/' в *nix системах.<br /></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'\\'</span><span style="color: #007700">);   </span><span style="color: #FF8000">// Вернёт `\` в Windows и '.' в *nix системах.<br /></span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">'C:\\'</span><span style="color: #007700">); </span><span style="color: #FF8000">// Вернёт 'C:\' в Windows и '.' в *nix системах.<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   </p>
  </div>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.dirname-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.0</td>
       <td>
        Добавлен необязательный параметр <code class="parameter">levels</code>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.dirname-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования функции <span class="function"><strong>dirname()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"/etc/passwd"</span><span style="color: #007700">) . </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"/etc/"</span><span style="color: #007700">) . </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"."</span><span style="color: #007700">) . </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"C:\\"</span><span style="color: #007700">) . </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">dirname</span><span style="color: #007700">(</span><span style="color: #DD0000">"/usr/local/lib"</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">);.</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Вывод приведённого примера будет похож на:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
/etc
/ (или \ в Windows)
.
C:\
/usr
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.dirname-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.basename.php.html" class="function" rel="rdfs-seeAlso">basename()</a> - Возвращает последний компонент имени из указанного пути</span></li>
    <li class="member"><span class="function"><a href="function.pathinfo.php.html" class="function" rel="rdfs-seeAlso">pathinfo()</a> - Возвращает информацию о пути к файлу</span></li>
    <li class="member"><span class="function"><a href="function.realpath.php.html" class="function" rel="rdfs-seeAlso">realpath()</a> - Возвращает канонизированный абсолютный путь к файлу</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.dirname&amp;redirect=https://www.php.net/manual/ru/function.dirname.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">29 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="115982">  <div class="votes">
    <div id="Vu115982">
    <a href="https://www.php.net/manual/vote-note.php?id=115982&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115982">
    <a href="https://www.php.net/manual/vote-note.php?id=115982&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115982" title="63% like this...">
    54
    </div>
  </div>
  <a href="function.dirname.php.html#115982" class="name">
  <strong class="user"><em>y dot a dot dejong at singular dot of dot alumni dot utwente dot nl</em></strong></a><a class="genanchor" href="function.dirname.php.html#115982"> &para;</a><div class="date" title="2014-10-22 07:51"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115982">
<div class="phpcode"><code><span class="html">As of PHP 5.3.0, you can use __DIR__ as a replacement for dirname(__FILE__)</span></code></div>
  </div>
 </div>
  <div class="note" id="54130">  <div class="votes">
    <div id="Vu54130">
    <a href="https://www.php.net/manual/vote-note.php?id=54130&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54130">
    <a href="https://www.php.net/manual/vote-note.php?id=54130&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54130" title="69% like this...">
    28
    </div>
  </div>
  <a href="function.dirname.php.html#54130" class="name">
  <strong class="user"><em>tobylewis at mac dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#54130"> &para;</a><div class="date" title="2005-06-24 06:52"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54130">
<div class="phpcode"><code><span class="html">Since the paths in the examples given only have two parts (e.g. "/etc/passwd") it is not obvious whether dirname returns the single path element of the parent directory or whether it returns the whole path up to and including the parent directory.  From experimentation it appears to be the latter.<br /><br />e.g. <br /><br />dirname('/usr/local/magic/bin');<br /><br />returns '/usr/local/magic'  and not just 'magic'<br /><br />Also it is not immediately obvious that dirname effectively returns the parent directory of the last item of the path regardless of whether the last item is a directory or a file.  (i.e. one might think that if the path given was a directory then dirname would return the entire original path since that is a directory name.)<br /><br />Further the presense of a directory separator at the end of the path does not necessarily indicate that last item of the path is a directory, and so <br /><br />dirname('/usr/local/magic/bin/');  #note final '/'<br /><br />would return the same result as in my example above.<br /><br />In short this seems to be more of a string manipulation function that strips off the last non-null file or directory element off of a path string.</span></code></div>
  </div>
 </div>
  <div class="note" id="21138">  <div class="votes">
    <div id="Vu21138">
    <a href="https://www.php.net/manual/vote-note.php?id=21138&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd21138">
    <a href="https://www.php.net/manual/vote-note.php?id=21138&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V21138" title="59% like this...">
    44
    </div>
  </div>
  <a href="function.dirname.php.html#21138" class="name">
  <strong class="user"><em>tapken at engter dot de</em></strong></a><a class="genanchor" href="function.dirname.php.html#21138"> &para;</a><div class="date" title="2002-04-30 12:09"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom21138">
<div class="phpcode"><code><span class="html">To get the directory of current included file:<br /><br /><span class="default">&lt;?php<br />dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />For example, if a script called 'database.init.php' which is included from anywhere on the filesystem wants to include the script 'database.class.php', which lays in the same directory, you can use:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">include_once(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) . </span><span class="string">'/database.class.php'</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="87637">  <div class="votes">
    <div id="Vu87637">
    <a href="https://www.php.net/manual/vote-note.php?id=87637&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87637">
    <a href="https://www.php.net/manual/vote-note.php?id=87637&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87637" title="61% like this...">
    10
    </div>
  </div>
  <a href="function.dirname.php.html#87637" class="name">
  <strong class="user"><em>joe dot naylor at gmail dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#87637"> &para;</a><div class="date" title="2008-12-13 10:07"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87637">
<div class="phpcode"><code><span class="html">The dirname function does not usually return a slash on the end, which might encourage you to create links using code like this:<br />$url = dirname($_SERVER['PHP_SELF']) . '/somepage.php';<br /><br />However dirname returns a slash if the path you specify is the root, so $url in that case would become '//somepage.php'.  If you put that URL as the action on a form, for example, submitting the form will try to go to <a href="http://somepage.php." rel="nofollow" target="_blank">http://somepage.php.</a><br /><br />I ran into this when I wrote a site on a url with a path, www.somehost.com/client/somepage.php, where the code above works great, but then wanted to put it on a subdomain, client.somehost.com/somepage.php, where things started breaking.<br /><br />The best solution would be to create a function that generates absolute URLs and use that throughout the site, but creating a safe_dirname function (and an htaccess rewrite to fix double-slashes just in case) fixed the issue for me:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">safe_dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />{<br />   </span><span class="default">$dirname </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />   return </span><span class="default">$dirname </span><span class="keyword">== </span><span class="string">'/' </span><span class="keyword">? </span><span class="string">'' </span><span class="keyword">: </span><span class="default">$dirname</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="54868">  <div class="votes">
    <div id="Vu54868">
    <a href="https://www.php.net/manual/vote-note.php?id=54868&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54868">
    <a href="https://www.php.net/manual/vote-note.php?id=54868&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54868" title="56% like this...">
    8
    </div>
  </div>
  <a href="function.dirname.php.html#54868" class="name">
  <strong class="user"><em>klugg this-is-junk at tlen dot pl</em></strong></a><a class="genanchor" href="function.dirname.php.html#54868"> &para;</a><div class="date" title="2005-07-18 07:14"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54868">
<div class="phpcode"><code><span class="html">Attention with this. Dirname likes to mess with the slashes.<br />On Windows, Apache: <br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">echo </span><span class="string">'$_SERVER[PHP_SELF]: ' </span><span class="keyword">. </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">] . </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />echo </span><span class="string">'Dirname($_SERVER[PHP_SELF]: ' </span><span class="keyword">. </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]) . </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />prints out<br /><br />$_SERVER[PHP_SELF]: /index.php<br />Dirname($_SERVER[PHP_SELF]: \</span></code></div>
  </div>
 </div>
  <div class="note" id="82002">  <div class="votes">
    <div id="Vu82002">
    <a href="https://www.php.net/manual/vote-note.php?id=82002&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82002">
    <a href="https://www.php.net/manual/vote-note.php?id=82002&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82002" title="54% like this...">
    3
    </div>
  </div>
  <a href="function.dirname.php.html#82002" class="name">
  <strong class="user"><em>ts at dev dot websafe dot pl</em></strong></a><a class="genanchor" href="function.dirname.php.html#82002"> &para;</a><div class="date" title="2008-03-23 03:55"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom82002">
<div class="phpcode"><code><span class="html">Inside of script.php I needed to know the name of the containing directory. For example, if my script was in '/var/www/htdocs/website/somedir/script.php' i needed to know 'somedir' in a unified way.<br /><br />The solution is:<br /><span class="default">&lt;?php<br />$containing_dir </span><span class="keyword">= </span><span class="default">basename</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">));<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="84586">  <div class="votes">
    <div id="Vu84586">
    <a href="https://www.php.net/manual/vote-note.php?id=84586&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd84586">
    <a href="https://www.php.net/manual/vote-note.php?id=84586&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V84586" title="54% like this...">
    2
    </div>
  </div>
  <a href="function.dirname.php.html#84586" class="name">
  <strong class="user"><em>Tom</em></strong></a><a class="genanchor" href="function.dirname.php.html#84586"> &para;</a><div class="date" title="2008-07-20 11:13"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom84586">
<div class="phpcode"><code><span class="html">Expanding on Anonymous' comment, this is not necessarily correct. If the user is using a secure protocol, this URL is inaccurate. This will work properly:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">// Is the user using HTTPS?<br /></span><span class="default">$url </span><span class="keyword">= (isset(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTPS'</span><span class="keyword">]) &amp;&amp; </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTPS'</span><span class="keyword">] == </span><span class="string">'on'</span><span class="keyword">)) ? </span><span class="string">'<a href="https://" rel="nofollow" target="_blank">https://</a>' </span><span class="keyword">: </span><span class="string">'<a href="http://" rel="nofollow" target="_blank">http://</a>'</span><span class="keyword">;<br /><br /></span><span class="comment">// Complete the URL<br /></span><span class="default">$url </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_HOST'</span><span class="keyword">] . </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]);<br /><br /></span><span class="comment">// echo the URL<br /></span><span class="keyword">echo </span><span class="default">$url</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="104624">  <div class="votes">
    <div id="Vu104624">
    <a href="https://www.php.net/manual/vote-note.php?id=104624&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104624">
    <a href="https://www.php.net/manual/vote-note.php?id=104624&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104624" title="51% like this...">
    1
    </div>
  </div>
  <a href="function.dirname.php.html#104624" class="name">
  <strong class="user"><em>nhl261 at yahoo dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#104624"> &para;</a><div class="date" title="2011-06-26 08:54"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104624">
<div class="phpcode"><code><span class="html">As usual, to include or require a file, we use this<br /><span class="default">&lt;?php<br /></span><span class="keyword">require </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) . </span><span class="default">DIRECTORY_SEPARATOR </span><span class="keyword">. </span><span class="string">'my_file.php'</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />in rare case, we have current file existing at the root directory, dirname would return C:\ or / , then the line above contains 2 slashes \\ or // <br />To handle this this case, we use rtrim to clear slashes.<br /><span class="default">&lt;?php<br /></span><span class="keyword">require </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">), </span><span class="string">'/\\'</span><span class="keyword">) . </span><span class="default">DIRECTORY_SEPARATOR </span><span class="keyword">. </span><span class="string">'my_file.php'</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />Also, another use of dirname is to get virtual directory (url path), the issue is the same as above, we have to check and process before concatenating strings</span></code></div>
  </div>
 </div>
  <div class="note" id="123472">  <div class="votes">
    <div id="Vu123472">
    <a href="https://www.php.net/manual/vote-note.php?id=123472&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123472">
    <a href="https://www.php.net/manual/vote-note.php?id=123472&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123472" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.dirname.php.html#123472" class="name">
  <strong class="user"><em>bobray at softville dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#123472"> &para;</a><div class="date" title="2018-12-28 05:04"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom123472">
<div class="phpcode"><code><span class="html">Be aware that if you call dirname(__FILE__) on Windows, you may get backslashes. If you then try to use str_replace() or preg_replace() to replace part of the path using forward slashes in your search pattern, there will be no match. You can normalize paths with $path = str_replace('\\',  '/' ,$path) before doing any transformations</span></code></div>
  </div>
 </div>
  <div class="note" id="114600">  <div class="votes">
    <div id="Vu114600">
    <a href="https://www.php.net/manual/vote-note.php?id=114600&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114600">
    <a href="https://www.php.net/manual/vote-note.php?id=114600&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114600" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.dirname.php.html#114600" class="name">
  <strong class="user"><em>iam at shaz3e dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#114600"> &para;</a><div class="date" title="2014-03-11 01:34"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114600">
<div class="phpcode"><code><span class="html">File located locally in: F:\localhost\www\Shaz3e-ResponsiveFramework\S3-CMS\_source<br /><br />Localhost Path: <a href="http://s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source/" rel="nofollow" target="_blank">http://s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source/</a><br /><br />Example 1: dirname($_SERVER['PHP_SELF']); //output:  /Shaz3e-ResponsiveFramework/S3-CMS/_source<br /><br />Example 2: "<a href="http://" rel="nofollow" target="_blank">http://</a>".$_SERVER['HTTP_HOST'].dirname($_SERVER['PHP_SELF']); //output:  <a href="http://s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source" rel="nofollow" target="_blank">http://s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source</a><br /><br />Example 3: $_SERVER['HTTP_HOST'] . dirname($_SERVER['PHP_SELF']); //output:  s3lab.com/Shaz3e-ResponsiveFramework/S3-CMS/_source</span></code></div>
  </div>
 </div>
  <div class="note" id="72633">  <div class="votes">
    <div id="Vu72633">
    <a href="https://www.php.net/manual/vote-note.php?id=72633&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd72633">
    <a href="https://www.php.net/manual/vote-note.php?id=72633&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V72633" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.dirname.php.html#72633" class="name">
  <strong class="user"><em>hans111 at yahoo dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#72633"> &para;</a><div class="date" title="2007-01-26 04:25"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom72633">
<div class="phpcode"><code><span class="html">The same function but a bit improved, will use REQUEST_URI, if not available, will use PHP_SELF and if not available will use __FILE__, in this case, the function MUST be in the same file. It should work, both under Windows and *NIX.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">my_dir</span><span class="keyword">(){<br />    return </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(!empty(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_URI'</span><span class="keyword">]) ? </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_URI'</span><span class="keyword">] : !empty(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]) ? </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">] : </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">__FILE__</span><span class="keyword">))));<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="38662">  <div class="votes">
    <div id="Vu38662">
    <a href="https://www.php.net/manual/vote-note.php?id=38662&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd38662">
    <a href="https://www.php.net/manual/vote-note.php?id=38662&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V38662" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.dirname.php.html#38662" class="name">
  <strong class="user"><em>soywiz at hotmail dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#38662"> &para;</a><div class="date" title="2004-01-01 06:41"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom38662">
<div class="phpcode"><code><span class="html">You can use it to get parent directory:<br /><br />dirname(dirname(__FILE__))<br /><br />...include a file relative to file path:<br /><br />include(dirname(__FILE__) . '/path/relative/file_to_include.php');<br /><br />..etc.</span></code></div>
  </div>
 </div>
  <div class="note" id="113193">  <div class="votes">
    <div id="Vu113193">
    <a href="https://www.php.net/manual/vote-note.php?id=113193&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113193">
    <a href="https://www.php.net/manual/vote-note.php?id=113193&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113193" title="46% like this...">
    -2
    </div>
  </div>
  <a href="function.dirname.php.html#113193" class="name">
  <strong class="user"><em>frederikreiss at gmx dot de</em></strong></a><a class="genanchor" href="function.dirname.php.html#113193"> &para;</a><div class="date" title="2013-09-11 09:55"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113193">
<div class="phpcode"><code><span class="html">what about a recursive dirname. To get $count levels up in a directory.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">r_dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$count</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">){<br />    if (</span><span class="default">$count </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">){<br />       return </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">r_dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, --</span><span class="default">$count</span><span class="keyword">));<br />    }else{<br />       return </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />    }<br />}</span></span></code></div>
  </div>
 </div>
  <div class="note" id="70709">  <div class="votes">
    <div id="Vu70709">
    <a href="https://www.php.net/manual/vote-note.php?id=70709&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd70709">
    <a href="https://www.php.net/manual/vote-note.php?id=70709&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V70709" title="45% like this...">
    -2
    </div>
  </div>
  <a href="function.dirname.php.html#70709" class="name">
  <strong class="user"><em>Xedecimal at gmail dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#70709"> &para;</a><div class="date" title="2006-10-24 11:35"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom70709">
<div class="phpcode"><code><span class="html">Getting absolute path of the current script: <br /><br /><span class="default">&lt;?php<br />dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)<br /></span><span class="default">?&gt;<br /></span><br />Getting webserver relative path of the current script...<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">GetRelativePath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />{<br />    </span><span class="default">$npath </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">);<br />    return </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">GetVar</span><span class="keyword">(</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">), </span><span class="string">''</span><span class="keyword">, </span><span class="default">$npath</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />later on<br /><br /><span class="default">&lt;?php<br />GetRelativePath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />If anyone has a better way, get to the constructive critisism!</span></code></div>
  </div>
 </div>
  <div class="note" id="83618">  <div class="votes">
    <div id="Vu83618">
    <a href="https://www.php.net/manual/vote-note.php?id=83618&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd83618">
    <a href="https://www.php.net/manual/vote-note.php?id=83618&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V83618" title="45% like this...">
    -2
    </div>
  </div>
  <a href="function.dirname.php.html#83618" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.dirname.php.html#83618"> &para;</a><div class="date" title="2008-06-04 01:01"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom83618">
<div class="phpcode"><code><span class="html">A simple way to show the www path to a folder containing a file...<br /><br />echo "<a href="http://" rel="nofollow" target="_blank">http://</a>".$_SERVER['HTTP_HOST'].dirname($_SERVER['PHP_SELF']);</span></code></div>
  </div>
 </div>
  <div class="note" id="68017">  <div class="votes">
    <div id="Vu68017">
    <a href="https://www.php.net/manual/vote-note.php?id=68017&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68017">
    <a href="https://www.php.net/manual/vote-note.php?id=68017&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68017" title="45% like this...">
    -2
    </div>
  </div>
  <a href="function.dirname.php.html#68017" class="name">
  <strong class="user"><em>legolas558 dot sourceforge comma net</em></strong></a><a class="genanchor" href="function.dirname.php.html#68017"> &para;</a><div class="date" title="2006-07-10 06:52"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom68017">
<div class="phpcode"><code><span class="html">The best way to get the absolute path of the folder of the currently parsed PHP script is:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">if (</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">==</span><span class="string">'/'</span><span class="keyword">)<br />  </span><span class="default">$absolute_path </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">;<br />else<br />  </span><span class="default">$absolute_path </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)).</span><span class="string">'/'</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;<br /></span><br />This will result in an absolute unix-style path which works ok also on PHP5 under Windows, where mixing '\' and '/' may give troubles.<br /><br />[EDIT by danbrown AT php DOT net: Applied author-supplied fix from follow-up note.]</span></code></div>
  </div>
 </div>
  <div class="note" id="28397">  <div class="votes">
    <div id="Vu28397">
    <a href="https://www.php.net/manual/vote-note.php?id=28397&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd28397">
    <a href="https://www.php.net/manual/vote-note.php?id=28397&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V28397" title="43% like this...">
    -4
    </div>
  </div>
  <a href="function.dirname.php.html#28397" class="name">
  <strong class="user"><em>rudecoder at yahoo dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#28397"> &para;</a><div class="date" title="2003-01-11 12:43"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom28397">
<div class="phpcode"><code><span class="html">dirname can be used to create self referencing web scripts with the following one liner.<br /><br /><span class="default">&lt;?php<br />$base_url </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$DOCUMENT_ROOT</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$PHP_SELF</span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />Using this method on a file such as:<br /><br />/home/mysite/public_html/wherever/whatever.php<br /><br />will return:<br /><br />/wherever<br /><br />Now $base_url can be used in your HTML to reference other scripts in the same directory.<br /><br />Example:<br /><br />href='<span class="default">&lt;?=$base_url?&gt;</span>/myscript.php'</span></code></div>
  </div>
 </div>
  <div class="note" id="107860">  <div class="votes">
    <div id="Vu107860">
    <a href="https://www.php.net/manual/vote-note.php?id=107860&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd107860">
    <a href="https://www.php.net/manual/vote-note.php?id=107860&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V107860" title="40% like this...">
    -5
    </div>
  </div>
  <a href="function.dirname.php.html#107860" class="name">
  <strong class="user"><em>minimalist at intelligence dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#107860"> &para;</a><div class="date" title="2012-03-10 05:33"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom107860">
<div class="phpcode"><code><span class="html">If you want to get the parent parent directory of your script, you can use this:<br /><br /><span class="default">&lt;?php<br /> </span><span class="comment">//Example script path: home/content/en/script.php<br /> </span><span class="default">$parentparentdir</span><span class="keyword">=</span><span class="default">basename</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)));<br /> echo </span><span class="default">$parentparentdir</span><span class="keyword">; </span><span class="comment">//will output 'content'<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="94797">  <div class="votes">
    <div id="Vu94797">
    <a href="https://www.php.net/manual/vote-note.php?id=94797&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd94797">
    <a href="https://www.php.net/manual/vote-note.php?id=94797&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V94797" title="38% like this...">
    -3
    </div>
  </div>
  <a href="function.dirname.php.html#94797" class="name">
  <strong class="user"><em>webyazilimci84 at gmail dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#94797"> &para;</a><div class="date" title="2009-11-25 06:06"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom94797">
<div class="phpcode"><code><span class="html">In my mvc based framework i make BASE_PATH and BASE_URL definitions like the following and both work well in the framework without problem.<br /><br />index.php :<br /><br />define('BASE_PATH',realpath('.'));<br />define('BASE_URL', dirname($_SERVER["SCRIPT_NAME"]));<br /><br />BASE_PATH is for server side inclusions.<br />BASE_URL is for client side inclusions (scripts, css files, images etc.)</span></code></div>
  </div>
 </div>
  <div class="note" id="99797">  <div class="votes">
    <div id="Vu99797">
    <a href="https://www.php.net/manual/vote-note.php?id=99797&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd99797">
    <a href="https://www.php.net/manual/vote-note.php?id=99797&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V99797" title="38% like this...">
    -4
    </div>
  </div>
  <a href="function.dirname.php.html#99797" class="name">
  <strong class="user"><em>subzey at immelman dot ru</em></strong></a><a class="genanchor" href="function.dirname.php.html#99797"> &para;</a><div class="date" title="2010-09-07 09:51"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom99797">
<div class="phpcode"><code><span class="html">In some situations (I can't locate the dependencies) basename and dirname may return incorrect values if parsed string is in UTF-8.<br /><br />Like, dirname("glossary/задний-фокус") will return "glossary" and basename("glossary/задний-фокус") will return "-фокус".<br /><br />Quickfix is <br />str_replace("!$!", "", dirname(str_replace("/", "!$!/!$!", $q)))</span></code></div>
  </div>
 </div>
  <div class="note" id="77721">  <div class="votes">
    <div id="Vu77721">
    <a href="https://www.php.net/manual/vote-note.php?id=77721&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77721">
    <a href="https://www.php.net/manual/vote-note.php?id=77721&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77721" title="38% like this...">
    -4
    </div>
  </div>
  <a href="function.dirname.php.html#77721" class="name">
  <strong class="user"><em>Zingus J. Rinkle</em></strong></a><a class="genanchor" href="function.dirname.php.html#77721"> &para;</a><div class="date" title="2007-09-10 10:55"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77721">
<div class="phpcode"><code><span class="html">Most mkpath() function I saw listed here seem long and convoluted.<br />Here's mine:<br /><br /><span class="default">&lt;?php<br />  </span><span class="keyword">function </span><span class="default">mkpath</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />  {<br />    if(@</span><span class="default">mkdir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) or </span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) return </span><span class="default">true</span><span class="keyword">;<br />    return (</span><span class="default">mkpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) and </span><span class="default">mkdir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">));<br />  }<br /></span><span class="default">?&gt;<br /></span><br />Untested on windows, but dirname() manual says it should work.</span></code></div>
  </div>
 </div>
  <div class="note" id="91208">  <div class="votes">
    <div id="Vu91208">
    <a href="https://www.php.net/manual/vote-note.php?id=91208&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91208">
    <a href="https://www.php.net/manual/vote-note.php?id=91208&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91208" title="39% like this...">
    -6
    </div>
  </div>
  <a href="function.dirname.php.html#91208" class="name">
  <strong class="user"><em>ken dot forslund at hp dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#91208"> &para;</a><div class="date" title="2009-05-29 01:33"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom91208">
<div class="phpcode"><code><span class="html">A key problem to hierarchical include trees is that PHP processes include paths relative to the original file, not the current including file.<br /><br />A solution to that, is to prefix all include paths with:<br /><span class="default">&lt;?php str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)); </span><span class="default">?&gt;<br /></span><br />this will generate a base path relative to the current file, which will then allow an include behavior similar to C/C++.<br /><br />thus, to include a file that is 1 in the parent directory:<br /><span class="default">&lt;?php </span><span class="keyword">require_once( </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">) .</span><span class="string">'../parent.php'</span><span class="keyword">); </span><span class="default">?&gt;<br /></span><br />to include a file that is in the same directory:<br /><span class="default">&lt;?php </span><span class="keyword">require_once( </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">) .</span><span class="string">'neighbor.php'</span><span class="keyword">); </span><span class="default">?&gt;<br /></span><br />to include a file that is in a subdirectory:<br /><span class="default">&lt;?php </span><span class="keyword">require_once( </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="string">'/'</span><span class="keyword">,</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">).</span><span class="string">'/'</span><span class="keyword">) .</span><span class="string">'folder/sub.php'</span><span class="keyword">); </span><span class="default">?&gt;<br /></span><br />Notice that all paths we reference must NOT begin with a /, and must be relative to the current file, in order to concatenate correctly.</span></code></div>
  </div>
 </div>
  <div class="note" id="83130">  <div class="votes">
    <div id="Vu83130">
    <a href="https://www.php.net/manual/vote-note.php?id=83130&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd83130">
    <a href="https://www.php.net/manual/vote-note.php?id=83130&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V83130" title="36% like this...">
    -5
    </div>
  </div>
  <a href="function.dirname.php.html#83130" class="name">
  <strong class="user"><em>rmahase at gmail dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#83130"> &para;</a><div class="date" title="2008-05-11 11:31"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom83130">
<div class="phpcode"><code><span class="html">this little function gets the top level public directory <br /><br />eg. <a href="http://www.mysite.com/directory1/file.php" rel="nofollow" target="_blank">http://www.mysite.com/directory1/file.php</a> <br /><br />or <a href="http://www.mysite.com/directory1/directory2/directory3/file.php" rel="nofollow" target="_blank">http://www.mysite.com/directory1/directory2/directory3/file.php</a><br /><br />will both return "directory1" ...which is the top level directory<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">public_base_directory</span><span class="keyword">()<br />{<br />    </span><span class="comment">//get public directory structure eg "/top/second/third"<br />    </span><span class="default">$public_directory </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]);<br />    </span><span class="comment">//place each directory into array<br />    </span><span class="default">$directory_array </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$public_directory</span><span class="keyword">);<br />    </span><span class="comment">//get highest or top level in array of directory strings<br />    </span><span class="default">$public_base </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">$directory_array</span><span class="keyword">);<br />    <br />    return </span><span class="default">$public_base</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="111415">  <div class="votes">
    <div id="Vu111415">
    <a href="https://www.php.net/manual/vote-note.php?id=111415&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd111415">
    <a href="https://www.php.net/manual/vote-note.php?id=111415&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V111415" title="31% like this...">
    -8
    </div>
  </div>
  <a href="function.dirname.php.html#111415" class="name">
  <strong class="user"><em>Yousef Ismaeil Cliprz</em></strong></a><a class="genanchor" href="function.dirname.php.html#111415"> &para;</a><div class="date" title="2013-02-18 02:39"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom111415">
<div class="phpcode"><code><span class="html">You can get best root path if you want to call a file from you project paths.<br /><br />Make sure this define in your www/index.php<br /><br />or the core file that inside www/ root.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/**<br /> * @def (string) DS - Directory separator.<br /> */<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"DS"</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br /><br /></span><span class="comment">/**<br /> * @def (resource) BASE_PATH - get a base path.<br /> */<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">'BASE_PATH'</span><span class="keyword">,</span><span class="default">realpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">)).</span><span class="default">DS</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />You can call any file any time without any problems<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">include </span><span class="default">BASE_PATH</span><span class="keyword">.</span><span class="string">'inc/class.php'</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="52326">  <div class="votes">
    <div id="Vu52326">
    <a href="https://www.php.net/manual/vote-note.php?id=52326&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd52326">
    <a href="https://www.php.net/manual/vote-note.php?id=52326&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V52326" title="31% like this...">
    -7
    </div>
  </div>
  <a href="function.dirname.php.html#52326" class="name">
  <strong class="user"><em>Holger Th?lking</em></strong></a><a class="genanchor" href="function.dirname.php.html#52326"> &para;</a><div class="date" title="2005-04-27 03:31"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom52326">
<div class="phpcode"><code><span class="html">If you merely want to find out wether a certain file is located within or underneath a certain directory or not, e.g. for White List validation, the following function might be useful to you:<br /><br /><span class="default">&lt;?php<br />  </span><span class="keyword">function </span><span class="default">in_dir </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$in_dir</span><span class="keyword">)<br />  {<br />      </span><span class="default">$dir    </span><span class="keyword">= </span><span class="default">realpath </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />      </span><span class="default">$in_dir </span><span class="keyword">= </span><span class="default">realpath </span><span class="keyword">(</span><span class="default">$in_dir</span><span class="keyword">);<br /><br />      if (!</span><span class="default">is_dir </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)) {<br />          </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">dirname </span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />      }<br /><br />      do {<br />          if (</span><span class="default">$dir </span><span class="keyword">=== </span><span class="default">$in_dir</span><span class="keyword">) {<br />              </span><span class="default">$is_in_dir </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />              break;<br />          }<br />      } while (</span><span class="default">$dir </span><span class="keyword">!== (</span><span class="default">$dir </span><span class="keyword">= </span><span class="default">dirname </span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)));<br /><br />      return (bool) @</span><span class="default">$is_in_dir</span><span class="keyword">;<br />  }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="28292">  <div class="votes">
    <div id="Vu28292">
    <a href="https://www.php.net/manual/vote-note.php?id=28292&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd28292">
    <a href="https://www.php.net/manual/vote-note.php?id=28292&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V28292" title="30% like this...">
    -5
    </div>
  </div>
  <a href="function.dirname.php.html#28292" class="name">
  <strong class="user"><em>dave at corecomm dot us</em></strong></a><a class="genanchor" href="function.dirname.php.html#28292"> &para;</a><div class="date" title="2003-01-08 10:20"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom28292">
<div class="phpcode"><code><span class="html">I very much appreciated Fredrich Echol's suggestion (rwf at gpcom dot net) of how to find a base path, but found that it failed when the initial script was already in the root folder -- dirname('/rootscript.php')=='/' and dirname('/include/includescript.php')=='/include' which have the same number of slashes. This variation is what I'm now using:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">if (!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">"BASE_PATH"</span><span class="keyword">)) </span><span class="default">define</span><span class="keyword">(</span><span class="string">'BASE_PATH'</span><span class="keyword">, </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SCRIPT_NAME'</span><span class="keyword">])==</span><span class="string">'/' </span><span class="keyword">? </span><span class="string">'./' </span><span class="keyword">: </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">"../"</span><span class="keyword">,  </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_NAME"</span><span class="keyword">]), </span><span class="string">"/"</span><span class="keyword">)));<br /></span><span class="default">?&gt;<br /></span><br />This explicitly checks for the root path (/) and uses './' as the base path if we're in the root folder.<br />I put this at/near the top of any file that calls another. (I used define for my own convenience; should work just fine with variables and without testing to see if you already did it.)<br /><br />Note that in both cases (root-folder script and non-root-folder script), BASE_PATH will include a trailing slash. At least with Apache on Darwin (Mac OS X), you can include(BASE_PATH.'/myfile.php'); and the doubled slash won't cause any problems, giving the same result as include(BASE_PATH.'myfile.php'); .</span></code></div>
  </div>
 </div>
  <div class="note" id="28473">  <div class="votes">
    <div id="Vu28473">
    <a href="https://www.php.net/manual/vote-note.php?id=28473&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd28473">
    <a href="https://www.php.net/manual/vote-note.php?id=28473&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V28473" title="31% like this...">
    -6
    </div>
  </div>
  <a href="function.dirname.php.html#28473" class="name">
  <strong class="user"><em>andrey at php dot net</em></strong></a><a class="genanchor" href="function.dirname.php.html#28473"> &para;</a><div class="date" title="2003-01-14 07:02"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom28473">
<div class="phpcode"><code><span class="html">Code for write permissions check:<br /><br /><span class="default">&lt;?php<br />error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br /></span><span class="default">$dir_name </span><span class="keyword">= </span><span class="string">'/var/www/virtual/phpintra/htdocs/php/'</span><span class="keyword">;<br />do {<br />    </span><span class="default">$b_is_writable </span><span class="keyword">= </span><span class="default">is_writable</span><span class="keyword">(</span><span class="default">$dir_name</span><span class="keyword">);<br />    echo </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"Dir[%s]Writable[%s]\n"</span><span class="keyword">, </span><span class="default">$dir_name</span><span class="keyword">, </span><span class="default">$b_is_writable</span><span class="keyword">? </span><span class="string">'YES'</span><span class="keyword">:</span><span class="string">'NO'</span><span class="keyword">);<br />}while ((</span><span class="default">$dir_name </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$dir_name</span><span class="keyword">)) !=</span><span class="string">'/'</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="118477">  <div class="votes">
    <div id="Vu118477">
    <a href="https://www.php.net/manual/vote-note.php?id=118477&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118477">
    <a href="https://www.php.net/manual/vote-note.php?id=118477&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118477" title="23% like this...">
    -7
    </div>
  </div>
  <a href="function.dirname.php.html#118477" class="name">
  <strong class="user"><em>qeremy (!) gmail</em></strong></a><a class="genanchor" href="function.dirname.php.html#118477"> &para;</a><div class="date" title="2015-12-13 01:01"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118477">
<div class="phpcode"><code><span class="html">After PHP 7;<br /><span class="default">&lt;?php<br /></span><span class="keyword">print </span><span class="default">dirname</span><span class="keyword">(</span><span class="string">"/usr/local/lib"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="comment"># /usr<br /></span><span class="default">?&gt;<br /></span><br />Before PHP 7;<br /><span class="default">&lt;?php<br /></span><span class="keyword">print </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="string">"/usr/local/lib"</span><span class="keyword">)); </span><span class="comment"># /usr<br /><br /># or<br /></span><span class="keyword">function </span><span class="default">dirname_with_levels</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">$levels </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />    while (</span><span class="default">$levels</span><span class="keyword">--) {<br />        </span><span class="default">$path </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />    }<br />    return </span><span class="default">$path</span><span class="keyword">;<br />}<br />print </span><span class="default">dirname_with_levels</span><span class="keyword">(</span><span class="string">"/usr/local/lib"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="comment"># /usr<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="55691">  <div class="votes">
    <div id="Vu55691">
    <a href="https://www.php.net/manual/vote-note.php?id=55691&amp;page=function.dirname&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd55691">
    <a href="https://www.php.net/manual/vote-note.php?id=55691&amp;page=function.dirname&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V55691" title="19% like this...">
    -16
    </div>
  </div>
  <a href="function.dirname.php.html#55691" class="name">
  <strong class="user"><em>renich at woralelandia dot com</em></strong></a><a class="genanchor" href="function.dirname.php.html#55691"> &para;</a><div class="date" title="2005-08-10 10:15"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom55691">
<div class="phpcode"><code><span class="html">--- Edited by tularis@php.net ---<br />You could also have a look at the getcwd() function<br />--- End Edit ---<br /><br />A nice "current directory" function.<br /><br />function current_dir()<br />{<br />$path = dirname($_SERVER[PHP_SELF]);<br />$position = strrpos($path,'/') + 1;<br />print substr($path,$position);<br />}<br /><br />current_dir();<br /><br />I find this usefull for a lot of stuff! You can maintain a modular site with dir names as modules names. At least I would like PHP guys to add this to the function list!<br /><br />If there is anything out there like it, please tell me.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.dirname&amp;redirect=https://www.php.net/manual/ru/function.dirname.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.filesystem.php.html">Функции файловой системы</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.basename.php.html" title="basename">basename</a>
                        </li>
                                                <li class="">
                            <a href="function.chgrp.php.html" title="chgrp">chgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.chmod.php.html" title="chmod">chmod</a>
                        </li>
                                                <li class="">
                            <a href="function.chown.php.html" title="chown">chown</a>
                        </li>
                                                <li class="">
                            <a href="function.clearstatcache.php.html" title="clearstatcache">clearstatcache</a>
                        </li>
                                                <li class="">
                            <a href="function.copy.php.html" title="copy">copy</a>
                        </li>
                                                <li class="">
                            <a href="function.delete.php.html" title="delete">delete</a>
                        </li>
                                                <li class="current">
                            <a href="function.dirname.php.html" title="dirname">dirname</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-free-space.php.html" title="disk_&#8203;free_&#8203;space">disk_&#8203;free_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-total-space.php.html" title="disk_&#8203;total_&#8203;space">disk_&#8203;total_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.diskfreespace.php.html" title="diskfreespace">diskfreespace</a>
                        </li>
                                                <li class="">
                            <a href="function.fclose.php.html" title="fclose">fclose</a>
                        </li>
                                                <li class="">
                            <a href="function.fdatasync.php.html" title="fdatasync">fdatasync</a>
                        </li>
                                                <li class="">
                            <a href="function.feof.php.html" title="feof">feof</a>
                        </li>
                                                <li class="">
                            <a href="function.fflush.php.html" title="fflush">fflush</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetc.php.html" title="fgetc">fgetc</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetcsv.php.html" title="fgetcsv">fgetcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fgets.php.html" title="fgets">fgets</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetss.php.html" title="fgetss">fgetss</a>
                        </li>
                                                <li class="">
                            <a href="function.file-exists.php.html" title="file_&#8203;exists">file_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.file-get-contents.php.html" title="file_&#8203;get_&#8203;contents">file_&#8203;get_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file-put-contents.php.html" title="file_&#8203;put_&#8203;contents">file_&#8203;put_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file.php.html" title="file">file</a>
                        </li>
                                                <li class="">
                            <a href="function.fileatime.php.html" title="fileatime">fileatime</a>
                        </li>
                                                <li class="">
                            <a href="function.filectime.php.html" title="filectime">filectime</a>
                        </li>
                                                <li class="">
                            <a href="function.filegroup.php.html" title="filegroup">filegroup</a>
                        </li>
                                                <li class="">
                            <a href="function.fileinode.php.html" title="fileinode">fileinode</a>
                        </li>
                                                <li class="">
                            <a href="function.filemtime.php.html" title="filemtime">filemtime</a>
                        </li>
                                                <li class="">
                            <a href="function.fileowner.php.html" title="fileowner">fileowner</a>
                        </li>
                                                <li class="">
                            <a href="function.fileperms.php.html" title="fileperms">fileperms</a>
                        </li>
                                                <li class="">
                            <a href="function.filesize.php.html" title="filesize">filesize</a>
                        </li>
                                                <li class="">
                            <a href="function.filetype.php.html" title="filetype">filetype</a>
                        </li>
                                                <li class="">
                            <a href="function.flock.php.html" title="flock">flock</a>
                        </li>
                                                <li class="">
                            <a href="function.fnmatch.php.html" title="fnmatch">fnmatch</a>
                        </li>
                                                <li class="">
                            <a href="function.fopen.php.html" title="fopen">fopen</a>
                        </li>
                                                <li class="">
                            <a href="function.fpassthru.php.html" title="fpassthru">fpassthru</a>
                        </li>
                                                <li class="">
                            <a href="function.fputcsv.php.html" title="fputcsv">fputcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fputs.php.html" title="fputs">fputs</a>
                        </li>
                                                <li class="">
                            <a href="function.fread.php.html" title="fread">fread</a>
                        </li>
                                                <li class="">
                            <a href="function.fscanf.php.html" title="fscanf">fscanf</a>
                        </li>
                                                <li class="">
                            <a href="function.fseek.php.html" title="fseek">fseek</a>
                        </li>
                                                <li class="">
                            <a href="function.fstat.php.html" title="fstat">fstat</a>
                        </li>
                                                <li class="">
                            <a href="function.fsync.php.html" title="fsync">fsync</a>
                        </li>
                                                <li class="">
                            <a href="function.ftell.php.html" title="ftell">ftell</a>
                        </li>
                                                <li class="">
                            <a href="function.ftruncate.php.html" title="ftruncate">ftruncate</a>
                        </li>
                                                <li class="">
                            <a href="function.fwrite.php.html" title="fwrite">fwrite</a>
                        </li>
                                                <li class="">
                            <a href="function.glob.php.html" title="glob">glob</a>
                        </li>
                                                <li class="">
                            <a href="function.is-dir.php.html" title="is_&#8203;dir">is_&#8203;dir</a>
                        </li>
                                                <li class="">
                            <a href="function.is-executable.php.html" title="is_&#8203;executable">is_&#8203;executable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-file.php.html" title="is_&#8203;file">is_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-link.php.html" title="is_&#8203;link">is_&#8203;link</a>
                        </li>
                                                <li class="">
                            <a href="function.is-readable.php.html" title="is_&#8203;readable">is_&#8203;readable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-uploaded-file.php.html" title="is_&#8203;uploaded_&#8203;file">is_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writable.php.html" title="is_&#8203;writable">is_&#8203;writable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writeable.php.html" title="is_&#8203;writeable">is_&#8203;writeable</a>
                        </li>
                                                <li class="">
                            <a href="function.lchgrp.php.html" title="lchgrp">lchgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.lchown.php.html" title="lchown">lchown</a>
                        </li>
                                                <li class="">
                            <a href="function.link.php.html" title="link">link</a>
                        </li>
                                                <li class="">
                            <a href="function.linkinfo.php.html" title="linkinfo">linkinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.lstat.php.html" title="lstat">lstat</a>
                        </li>
                                                <li class="">
                            <a href="function.mkdir.php.html" title="mkdir">mkdir</a>
                        </li>
                                                <li class="">
                            <a href="function.move-uploaded-file.php.html" title="move_&#8203;uploaded_&#8203;file">move_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-file.php.html" title="parse_&#8203;ini_&#8203;file">parse_&#8203;ini_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-string.php.html" title="parse_&#8203;ini_&#8203;string">parse_&#8203;ini_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.pathinfo.php.html" title="pathinfo">pathinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.pclose.php.html" title="pclose">pclose</a>
                        </li>
                                                <li class="">
                            <a href="function.popen.php.html" title="popen">popen</a>
                        </li>
                                                <li class="">
                            <a href="function.readfile.php.html" title="readfile">readfile</a>
                        </li>
                                                <li class="">
                            <a href="function.readlink.php.html" title="readlink">readlink</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-get.php.html" title="realpath_&#8203;cache_&#8203;get">realpath_&#8203;cache_&#8203;get</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-size.php.html" title="realpath_&#8203;cache_&#8203;size">realpath_&#8203;cache_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath.php.html" title="realpath">realpath</a>
                        </li>
                                                <li class="">
                            <a href="function.rename.php.html" title="rename">rename</a>
                        </li>
                                                <li class="">
                            <a href="function.rewind.php.html" title="rewind">rewind</a>
                        </li>
                                                <li class="">
                            <a href="function.rmdir.php.html" title="rmdir">rmdir</a>
                        </li>
                                                <li class="">
                            <a href="function.set-file-buffer.php.html" title="set_&#8203;file_&#8203;buffer">set_&#8203;file_&#8203;buffer</a>
                        </li>
                                                <li class="">
                            <a href="function.stat.php.html" title="stat">stat</a>
                        </li>
                                                <li class="">
                            <a href="function.symlink.php.html" title="symlink">symlink</a>
                        </li>
                                                <li class="">
                            <a href="function.tempnam.php.html" title="tempnam">tempnam</a>
                        </li>
                                                <li class="">
                            <a href="function.tmpfile.php.html" title="tmpfile">tmpfile</a>
                        </li>
                                                <li class="">
                            <a href="function.touch.php.html" title="touch">touch</a>
                        </li>
                                                <li class="">
                            <a href="function.umask.php.html" title="umask">umask</a>
                        </li>
                                                <li class="">
                            <a href="function.unlink.php.html" title="unlink">unlink</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
