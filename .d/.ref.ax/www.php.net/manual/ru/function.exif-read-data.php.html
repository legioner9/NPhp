<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: exif_read_data - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.exif-read-data.php.html">
 <link rel="shorturl" href="https://www.php.net/exif-read-data">
 <link rel="alternate" href="https://www.php.net/exif-read-data" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.exif.php.html">
 <link rel="prev" href="function.exif-imagetype.php.html">
 <link rel="next" href="function.exif-tagname.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.exif-read-data.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.exif-read-data.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.exif-read-data.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.exif-read-data.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.exif-read-data.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.exif-read-data.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.exif-read-data.php" hreflang="pt_BR">
 <link rel="alternate" href="function.exif-read-data.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.exif-read-data.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.exif-read-data.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.exif-tagname.php.html">
          exif_tagname &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.exif-imagetype.php.html">
          &laquo; exif_imagetype        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.utilspec.image.php.html'>Обработка и генерация изображений</a></li>      <li><a href='book.exif.php.html'>Exif</a></li>      <li><a href='ref.exif.php.html'>Exif Функции</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.exif-read-data.php'>English</option>
            <option value='de/function.exif-read-data.php'>German</option>
            <option value='es/function.exif-read-data.php'>Spanish</option>
            <option value='fr/function.exif-read-data.php'>French</option>
            <option value='it/function.exif-read-data.php'>Italian</option>
            <option value='ja/function.exif-read-data.php'>Japanese</option>
            <option value='pt_BR/function.exif-read-data.php'>Brazilian Portuguese</option>
            <option value='ru/function.exif-read-data.php' selected="selected">Russian</option>
            <option value='tr/function.exif-read-data.php'>Turkish</option>
            <option value='zh/function.exif-read-data.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/exif/functions/exif-read-data.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.exif-read-data%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.exif-read-data" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">exif_read_data</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">exif_read_data</span> &mdash; <span class="dc-title">
   Читает заголовки <abbr title="Exchangeable Image File ">EXIF</abbr> из файлов изображений
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.exif-read-data-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>exif_read_data</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><span class="type">resource</span>|<span class="type">string</span></span> <code class="parameter">$file</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$required_sections</code><span class="initializer"> = <strong><code>null</code></strong></span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">bool</span> <code class="parameter">$as_arrays</code><span class="initializer"> = <strong><code>false</code></strong></span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">bool</span> <code class="parameter">$read_thumbnail</code><span class="initializer"> = <strong><code>false</code></strong></span></span><br>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>exif_read_data()</strong></span> читает заголовки <abbr title="Exchangeable Image File ">EXIF</abbr>
   из файлов изображений. Таким образом можно
   читать метаданные, генерируемые цифровыми фотоаппаратами.
  </p>
  <p class="para">
   По идее, <abbr title="Exchangeable Image File ">EXIF</abbr>-заголовки должны идти первыми в JPEG/TIFF
   файлах, генерируемых фотоаппаратами. Но, к сожалению, каждый производитель имеет
   своё представление того, каким образом компоновать метаданные изображения.
   Поэтому будьте готовы к ситуации, когда перед Exif-заголовком есть ещё что-то.
  </p>
  <p class="para">
   <code class="literal">Height</code> и <code class="literal">Width</code> вычисляются аналогично
   вычислениям <span class="function"><a href="function.getimagesize.php.html" class="function">getimagesize()</a></span>, так что эти параметры не обязаны
   присутствовать в заголовке. <code class="literal">html</code> - текстовая строка, задающая
   высоту/ширину, которую можно использовать в обычном <abbr title="Hyper Text Markup Language">HTML</abbr>.
  </p>
  <p class="para">
   Если Exif-заголовок содержит сообщение об авторских правах (Copyright), само
   сообщение может содержать 2 значения. Эта ситуация не описана в стандарте
   Exif 2.10, поэтому раздел <code class="literal">COMPUTED</code> будет содержать оба
   этих значения в полях <code class="literal">Copyright.Photographer</code> и
   <code class="literal">Copyright.Editor</code>. В то же время разделы
   <code class="literal">IFD0</code> будут содержать массив байт с NULL-символом в качестве
   разделителя этих двух значений либо только первое значение, если тип файла
   определён неверно (нормальная ситуация для Exif). Раздел
   <code class="literal">COMPUTED</code> будет также содержать <code class="literal">Copyright</code>,
   это может быть либо исходная строка, либо список из владельца
   фотографии и редактора через запятую.
  </p>
  <p class="para">
   Тег <code class="literal">UserComment</code> имеет те же проблемы, что и Copyright.
   Он может хранить 2 значения. Первое - использованную кодировку, второе -
   само значение. В этом случае раздел <code class="literal">IFD</code> содержит либо
   кодировку, либо массив байт. Раздел <code class="literal">COMPUTED</code> будет хранить
   оба этих значения в полях <code class="literal">UserCommentEncoding</code> и
   <code class="literal">UserComment</code>. Содержимое <code class="literal">UserComment</code>
   будет доступно в любом случае, поэтому предпочтительней использовать его вместо
   раздела <code class="literal">IFD0</code>.
  </p>
  <p class="para">
   Также <span class="function"><strong>exif_read_data()</strong></span> проверяет EXIF теги на соответствие
   спецификации EXIF (<a href="http://exif.org/Exif2-2.PDF" class="link external">&raquo;&nbsp;http://exif.org/Exif2-2.PDF</a>, стр. 20).
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.exif-read-data-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">file</code></dt>

     <dd>

      <p class="para">
       Местоположение файла с изображением. Может быть как путём к файлу,
       так и потоковым ресурсом (можно использовать обёртки).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">required_sections</code></dt>

     <dd>

      <p class="para">
       Список разделённых запятой разделов, которые должны быть представлены
       в результирующем массиве (<span class="type">array</span>). Если ни один из разделов найти
       не удастся, функция вернёт <strong><code>false</code></strong>.
       <table class="doctable informaltable">
        
         <tbody class="tbody">
          <tr>
           <td>FILE</td>
           <td>FileName, FileSize, FileDateTime, SectionsFound</td>
          </tr>

          <tr>
           <td>COMPUTED</td>
           <td>
            html, Width, Height, IsColor, и другие. Height и
            Width вычисляются аналогично <span class="function"><a href="function.getimagesize.php.html" class="function">getimagesize()</a></span>,
            поэтому их не обязательно включать в заголовок.
            <code class="literal">html</code> - текстовая строка, задающая
            высоту/ширину, которую можно использовать в обычном
            <abbr title="Hyper Text Markup Language">HTML</abbr>.
           </td>
          </tr>

          <tr>
           <td>ANY_TAG</td>
           <td>Любая информация заключённая в тег, например,
            <code class="literal">IFD0</code>, <code class="literal">EXIF</code>, ...</td>
          </tr>

          <tr>
           <td>IFD0</td>
           <td>
            Все данные тега IFD0. В обычных изображениях в нем хранится размер
            изображения.
           </td>
          </tr>

          <tr>
           <td>THUMBNAIL</td>
           <td>
            Если файл содержит второй раздел <code class="literal">IFD</code>, то считается,
            что у изображения есть эскиз. Вся информация об эскизе хранится в этом
            разделе.
           </td>
          </tr>

          <tr>
           <td>COMMENT</td>
           <td>Заголовки комментариев JPEG изображений.</td>
          </tr>

          <tr>
           <td>EXIF</td>
           <td>
            Раздел EXIF является подразделом <code class="literal">IFD0</code>. Он содержит
            более детальную информацию об изображении. Большинство его записей
            зависят от фотоаппарата.
           </td>
          </tr>

         </tbody>
        
       </table>

      </p>
     </dd>

    
    
     <dt>
<code class="parameter">as_arrays</code></dt>

     <dd>

      <p class="para">
       Определяет, формировать ли разделы в виде массивов. Разделы
       <code class="parameter">required_sections</code>, <code class="literal">COMPUTED</code>,
       <code class="literal">THUMBNAIL</code> и <code class="literal">COMMENT</code> всегда
       делаются массивами, так как они могут содержать значения, имена которых
       будут конфликтовать с именами в других разделах.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">read_thumbnail</code></dt>

     <dd>

      <p class="para">
       Если <strong><code>true</code></strong>, будет прочитан сам эскиз. В противном случае будет прочитана
       только информация в тегах.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.exif-read-data-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает ассоциативный массив (<span class="type">array</span>), в котором ключами будут
   имена заголовков, а значениями - значения соответствующие этим заголовкам.
   Если никаких данных вернуть нельзя, <span class="function"><strong>exif_read_data()</strong></span>
   вернёт <strong><code>false</code></strong>.
  </p>
 </div>


  <div class="refsect1 errors" id="refsect1-function.exif-read-data-errors">
  <h3 class="title">Ошибки</h3>
  <p class="para">
   Ошибки уровня <strong><code>E_WARNING</code></strong> и/или <strong><code>E_NOTICE</code></strong>
   могут возникать для неподдерживаемых тегов или других потенциальных условий ошибки, но функция
   всё равно пытается прочитать всю понятную информацию.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.exif-read-data-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.0.0</td>
       <td>
        <code class="parameter">required_sections</code> теперь допускает значение null.
       </td>
      </tr>

      <tr>
       <td>7.2.0</td>
       <td>
        Параметр <code class="parameter">file</code> переименован в
        <code class="parameter">stream</code> и может принимать как локальный путь
        к файлу, так и потоковый ресурс.
       </td>
      </tr>

      <tr>
       <td>7.2.0</td>
       <td>
        Добавлена поддержка следующих форматов EXIF:
        <ul class="itemizedlist">
         <li class="listitem">
          <span class="simpara">
           Samsung
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           DJI
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Panasonic
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Sony
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Pentax
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Minolta
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Sigma/Foveon
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           AGFA
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Kyocera
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Ricoh
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           Epson
          </span>
         </li>
        </ul>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.exif-read-data-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>exif_read_data()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"test1.jpg:&lt;br /&gt;\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$exif </span><span style="color: #007700">= </span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #DD0000">'tests/test1.jpg'</span><span style="color: #007700">, </span><span style="color: #DD0000">'IFD0'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$exif</span><span style="color: #007700">===</span><span style="color: #0000BB">false </span><span style="color: #007700">? </span><span style="color: #DD0000">"Не найдено данных заголовка.&lt;br /&gt;\n" </span><span style="color: #007700">: </span><span style="color: #DD0000">"Изображение содержит заголовки&lt;br /&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$exif </span><span style="color: #007700">= </span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #DD0000">'tests/test2.jpg'</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"test2.jpg:&lt;br /&gt;\n"</span><span style="color: #007700">;<br />foreach (</span><span style="color: #0000BB">$exif </span><span style="color: #007700">as </span><span style="color: #0000BB">$key </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$section</span><span style="color: #007700">) {<br />    foreach (</span><span style="color: #0000BB">$section </span><span style="color: #007700">as </span><span style="color: #0000BB">$name </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$key</span><span style="color: #DD0000">.</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">: </span><span style="color: #0000BB">$val</span><span style="color: #DD0000">&lt;br /&gt;\n"</span><span style="color: #007700">;<br />    }<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>
     Первый вызов завершается неудачей, так как в заголовках
     изображения нет информации.
    </p></div>
    
<div class="example-contents"><p>
 Вывод приведённого примера будет похож на:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
test1.jpg:
No header data found.
test2.jpg:
FILE.FileName: test2.jpg
FILE.FileDateTime: 1017666176
FILE.FileSize: 1240
FILE.FileType: 2
FILE.SectionsFound: ANY_TAG, IFD0, THUMBNAIL, COMMENT
COMPUTED.html: width=&quot;1&quot; height=&quot;1&quot;
COMPUTED.Height: 1
COMPUTED.Width: 1
COMPUTED.IsColor: 1
COMPUTED.ByteOrderMotorola: 1
COMPUTED.UserComment: Exif test image.
COMPUTED.UserCommentEncoding: ASCII
COMPUTED.Copyright: Photo (c) M.Boerger, Edited by M.Boerger.
COMPUTED.Copyright.Photographer: Photo (c) M.Boerger
COMPUTED.Copyright.Editor: Edited by M.Boerger.
IFD0.Copyright: Photo (c) M.Boerger
IFD0.UserComment: ASCII
THUMBNAIL.JPEGInterchangeFormat: 134
THUMBNAIL.JPEGInterchangeFormatLength: 523
COMMENT.0: Comment #1.
COMMENT.1: Comment #2.
COMMENT.2: Comment #3end
THUMBNAIL.JPEGInterchangeFormat: 134
THUMBNAIL.Thumbnail.Height: 1
THUMBNAIL.Thumbnail.Height: 1
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #2 Использование <span class="function"><strong>exif_read_data()</strong></span> с потоковым ресурсом (доступно с PHP 7.2.0)</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// Открываем файл в бинарном режиме<br /></span><span style="color: #0000BB">$fp </span><span style="color: #007700">= </span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/to/image.jpg'</span><span style="color: #007700">, </span><span style="color: #DD0000">'rb'</span><span style="color: #007700">);<br /><br />if (!</span><span style="color: #0000BB">$fp</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'Ошибка: Невозможно открыть файл для чтения'</span><span style="color: #007700">;<br />    exit;<br />}<br /><br /></span><span style="color: #FF8000">// Попытка прочитать заголовки exif<br /></span><span style="color: #0000BB">$headers </span><span style="color: #007700">= </span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /><br />if (!</span><span style="color: #0000BB">$headers</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'Ошибка: невозможно прочитать заголовки exif'</span><span style="color: #007700">;<br />    exit;<br />}<br /><br /></span><span style="color: #FF8000">// Напечатать заголовки 'COMPUTED'<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">'Заголовки EXIF:' </span><span style="color: #007700">. </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />foreach (</span><span style="color: #0000BB">$headers</span><span style="color: #007700">[</span><span style="color: #DD0000">'COMPUTED'</span><span style="color: #007700">] as </span><span style="color: #0000BB">$header </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$value</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">' %s =&gt; %s%s'</span><span style="color: #007700">, </span><span style="color: #0000BB">$header</span><span style="color: #007700">, </span><span style="color: #0000BB">$value</span><span style="color: #007700">, </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Вывод приведённого примера будет похож на:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
EXIF Headers:
 Height =&gt; 576
 Width =&gt; 1024
 IsColor =&gt; 1
 ByteOrderMotorola =&gt; 0
 ApertureFNumber =&gt; f/5.6
 UserComment =&gt;
 UserCommentEncoding =&gt; UNDEFINED
 Copyright =&gt; Denis
 Thumbnail.FileType =&gt; 2
 Thumbnail.MimeType =&gt; image/jpeg
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.exif-read-data-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Если разрешён <a href="ref.mbstring.php.html" class="link">mbstring</a>, то exif будет пытаться
    обрабатывать юникод и брать кодировку как указано в
    <a href="exif.configuration.php.html#ini.exif.decode-unicode-motorola" class="link">exif.decode_unicode_motorola</a> и
    <a href="exif.configuration.php.html#ini.exif.decode-unicode-intel" class="link">exif.decode_unicode_intel</a>.
    Модуль exif не будет пытаться самостоятельно определить кодировку и указание
    правильной кодировки остаётся на совести пользователя путём установки одной из
    двух INI-директив перед вызовом <span class="function"><strong>exif_read_data()</strong></span>.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Если параметр <code class="parameter">file</code> использован для передачи в функцию
    потока, то этот поток должен быть перематываемым. Обратите внимание, что файловый
    позиционный указатель не будет изменён после завершения работы этой функции.
   </p>
  </p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.exif-read-data-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.exif-thumbnail.php.html" class="function" rel="rdfs-seeAlso">exif_thumbnail()</a> - Получает встроенное превью изображения</span></li>
    <li class="member"><span class="function"><a href="function.getimagesize.php.html" class="function" rel="rdfs-seeAlso">getimagesize()</a> - Получение размера изображения</span></li>
    <li class="member"><a href="wrappers.php.html" class="xref">Поддерживаемые протоколы и обёртки</a></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.exif-read-data&amp;redirect=https://www.php.net/manual/ru/function.exif-read-data.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">18 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="110894">  <div class="votes">
    <div id="Vu110894">
    <a href="https://www.php.net/manual/vote-note.php?id=110894&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd110894">
    <a href="https://www.php.net/manual/vote-note.php?id=110894&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V110894" title="73% like this...">
    84
    </div>
  </div>
  <a href="function.exif-read-data.php.html#110894" class="name">
  <strong class="user"><em>chadsmith729 at gmail dot com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#110894"> &para;</a><div class="date" title="2012-12-20 01:34"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom110894">
<div class="phpcode"><code><span class="html">When the new update came out from Apple for iOS6 it provided the ability for iPad, iPod, and iPhones to be able to upload files from the device through Safari. Obviously this will open up an array of implementations where at one point it was just not possible.<br /><br />The issue comes when a photo is uploaded it will be dependent on the location of the "button" when the photo was taken. Imagine if you will that you have your iPhone turned with the button at the top and you take a photo. The photo when uploaded to your server might be "upside down".<br /><br />The following code will ensure that all uploaded photos will be oriented correctly upon upload:<br /><span class="default">&lt;?php<br />$image </span><span class="keyword">= </span><span class="default">imagecreatefromstring</span><span class="keyword">(</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'image_upload'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">]));<br /></span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'image_upload'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">]);<br />if(!empty(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">])) {<br />    switch(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">]) {<br />        case </span><span class="default">8</span><span class="keyword">:<br />            </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />            break;<br />        case </span><span class="default">3</span><span class="keyword">:<br />            </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">180</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />            break;<br />        case </span><span class="default">6</span><span class="keyword">:<br />            </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,-</span><span class="default">90</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />            break;<br />    }<br />}<br /></span><span class="comment">// $image now contains a resource with the image oriented correctly<br /></span><span class="default">?&gt;<br /></span><br />What you do with the image resource from there is entirely up to you.<br /><br />I hope that this helps you identify and orient any image that's uploaded from an iPad, iPhone, or iPod. Orientation for the photo is the key to knowing how to rotate it correctly.</span></code></div>
  </div>
 </div>
  <div class="note" id="124264">  <div class="votes">
    <div id="Vu124264">
    <a href="https://www.php.net/manual/vote-note.php?id=124264&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124264">
    <a href="https://www.php.net/manual/vote-note.php?id=124264&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124264" title="75% like this...">
    2
    </div>
  </div>
  <a href="function.exif-read-data.php.html#124264" class="name">
  <strong class="user"><em>Tim</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#124264"> &para;</a><div class="date" title="2019-10-05 08:44"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124264">
<div class="phpcode"><code><span class="html">The following code:<br /><span class="default">&lt;?php<br />$data </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="string">'foo.jpg'</span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">[</span><span class="string">'Keywords'</span><span class="keyword">]);<br /></span><span class="default">?&gt;<br /></span>produces string(15) "???????????????"<br /><br />Adding<br /><span class="default">&lt;?php<br />ini_set</span><span class="keyword">(</span><span class="string">'exif.decode_unicode_motorola'</span><span class="keyword">, </span><span class="string">'UCS-2LE'</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span>before the call to exif_red_data produces<br />string(15) "landscape;;field"</span></code></div>
  </div>
 </div>
  <div class="note" id="84762">  <div class="votes">
    <div id="Vu84762">
    <a href="https://www.php.net/manual/vote-note.php?id=84762&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd84762">
    <a href="https://www.php.net/manual/vote-note.php?id=84762&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V84762" title="73% like this...">
    7
    </div>
  </div>
  <a href="function.exif-read-data.php.html#84762" class="name">
  <strong class="user"><em>darkain at darkain dot com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#84762"> &para;</a><div class="date" title="2008-07-28 11:33"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom84762">
<div class="phpcode"><code><span class="html">I wanted some quick and easy functions for computing the shutter speed and f-stop.  I couldn't find any anywhere, so I made some.  It took some research :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">exif_get_float</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {<br />  </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br />  if (</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) return (float) </span><span class="default">$value</span><span class="keyword">;<br />  </span><span class="default">$a </span><span class="keyword">= (float) </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">);<br />  </span><span class="default">$b </span><span class="keyword">= (float) </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />  return (</span><span class="default">$b </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) ? (</span><span class="default">$a</span><span class="keyword">) : (</span><span class="default">$a </span><span class="keyword">/ </span><span class="default">$b</span><span class="keyword">);<br />}<br /><br />function </span><span class="default">exif_get_shutter</span><span class="keyword">(&amp;</span><span class="default">$exif</span><span class="keyword">) {<br />  if (!isset(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'ShutterSpeedValue'</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;<br />  </span><span class="default">$apex    </span><span class="keyword">= </span><span class="default">exif_get_float</span><span class="keyword">(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'ShutterSpeedValue'</span><span class="keyword">]);<br />  </span><span class="default">$shutter </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, -</span><span class="default">$apex</span><span class="keyword">);<br />  if (</span><span class="default">$shutter </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />  if (</span><span class="default">$shutter </span><span class="keyword">&gt;= </span><span class="default">1</span><span class="keyword">) return </span><span class="default">round</span><span class="keyword">(</span><span class="default">$shutter</span><span class="keyword">) . </span><span class="string">'s'</span><span class="keyword">;<br />  return </span><span class="string">'1/' </span><span class="keyword">. </span><span class="default">round</span><span class="keyword">(</span><span class="default">1 </span><span class="keyword">/ </span><span class="default">$shutter</span><span class="keyword">) . </span><span class="string">'s'</span><span class="keyword">;<br />}<br /><br />function </span><span class="default">exif_get_fstop</span><span class="keyword">(&amp;</span><span class="default">$exif</span><span class="keyword">) {<br />  if (!isset(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'ApertureValue'</span><span class="keyword">])) return </span><span class="default">false</span><span class="keyword">;<br />  </span><span class="default">$apex  </span><span class="keyword">= </span><span class="default">exif_get_float</span><span class="keyword">(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'ApertureValue'</span><span class="keyword">]);<br />  </span><span class="default">$fstop </span><span class="keyword">= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$apex</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">);<br />  if (</span><span class="default">$fstop </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />  return </span><span class="string">'f/' </span><span class="keyword">. </span><span class="default">round</span><span class="keyword">(</span><span class="default">$fstop</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="123595">  <div class="votes">
    <div id="Vu123595">
    <a href="https://www.php.net/manual/vote-note.php?id=123595&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123595">
    <a href="https://www.php.net/manual/vote-note.php?id=123595&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123595" title="66% like this...">
    2
    </div>
  </div>
  <a href="function.exif-read-data.php.html#123595" class="name">
  <strong class="user"><em>omerg at lucidcode dot com dot tr</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#123595"> &para;</a><div class="date" title="2019-02-09 12:12"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom123595">
<div class="phpcode"><code><span class="html">The example provided for displaying exif array content is not working in recent version because not all entry values are of array type. <br /><br />This is an alternative echo loop:<br /><br /> <span class="default">&lt;?php<br /></span><span class="keyword">echo </span><span class="string">"test1.jpg:&lt;br /&gt;\n"</span><span class="keyword">;<br /></span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="string">'tests/test1.jpg'</span><span class="keyword">, </span><span class="string">'IFD0'</span><span class="keyword">);<br />echo </span><span class="default">$exif</span><span class="keyword">===</span><span class="default">false </span><span class="keyword">? </span><span class="string">"No header data found.&lt;br /&gt;\n" </span><span class="keyword">: </span><span class="string">"Image contains headers&lt;br /&gt;\n"</span><span class="keyword">;<br /><br /></span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="string">'tests/test2.jpg'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />echo </span><span class="string">"test2.jpg:&lt;br /&gt;\n"</span><span class="keyword">;<br />foreach (</span><span class="default">$exif </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$section</span><span class="keyword">) {<br />   <br />    if (!</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$section</span><span class="keyword">)) {<br />        echo </span><span class="string">"</span><span class="default">$key</span><span class="string">: </span><span class="default">$section</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />    } else {<br />        foreach (</span><span class="default">$section </span><span class="keyword">as </span><span class="default">$name </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />            echo </span><span class="string">"</span><span class="default">$key</span><span class="string">.</span><span class="default">$name</span><span class="string">: </span><span class="default">$val</span><span class="string">&lt;br /&gt;\n"</span><span class="keyword">;<br />        }<br />    }<br /><br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="107888">  <div class="votes">
    <div id="Vu107888">
    <a href="https://www.php.net/manual/vote-note.php?id=107888&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd107888">
    <a href="https://www.php.net/manual/vote-note.php?id=107888&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V107888" title="63% like this...">
    8
    </div>
  </div>
  <a href="function.exif-read-data.php.html#107888" class="name">
  <strong class="user"><em>drpain at webster dot org dot za</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#107888"> &para;</a><div class="date" title="2012-03-13 11:40"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom107888">
<div class="phpcode"><code><span class="html">Please note that when resizing images with GD and most image processing scripts or applications you will loose the EXIF information. What I did as a workaround is book this information into MySQL before I re-size images. <br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">// This function is used to determine the camera details for a specific image. It returns an array with the parameters.<br /></span><span class="keyword">function </span><span class="default">cameraUsed</span><span class="keyword">(</span><span class="default">$imagePath</span><span class="keyword">) {<br /><br />    </span><span class="comment">// Check if the variable is set and if the file itself exists before continuing<br />    </span><span class="keyword">if ((isset(</span><span class="default">$imagePath</span><span class="keyword">)) and (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$imagePath</span><span class="keyword">))) {<br />    <br />      </span><span class="comment">// There are 2 arrays which contains the information we are after, so it's easier to state them both<br />      </span><span class="default">$exif_ifd0 </span><span class="keyword">= </span><span class="default">read_exif_data</span><span class="keyword">(</span><span class="default">$imagePath </span><span class="keyword">,</span><span class="string">'IFD0' </span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);       <br />      </span><span class="default">$exif_exif </span><span class="keyword">= </span><span class="default">read_exif_data</span><span class="keyword">(</span><span class="default">$imagePath </span><span class="keyword">,</span><span class="string">'EXIF' </span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />      <br />      </span><span class="comment">//error control<br />      </span><span class="default">$notFound </span><span class="keyword">= </span><span class="string">"Unavailable"</span><span class="keyword">;<br />      <br />      </span><span class="comment">// Make <br />      </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'Make'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">)) {<br />        </span><span class="default">$camMake </span><span class="keyword">= </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'Make'</span><span class="keyword">];<br />      } else { </span><span class="default">$camMake </span><span class="keyword">= </span><span class="default">$notFound</span><span class="keyword">; }<br />      <br />      </span><span class="comment">// Model<br />      </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'Model'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">)) {<br />        </span><span class="default">$camModel </span><span class="keyword">= </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'Model'</span><span class="keyword">];<br />      } else { </span><span class="default">$camModel </span><span class="keyword">= </span><span class="default">$notFound</span><span class="keyword">; }<br />      <br />      </span><span class="comment">// Exposure<br />      </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'ExposureTime'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">)) {<br />        </span><span class="default">$camExposure </span><span class="keyword">= </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'ExposureTime'</span><span class="keyword">];<br />      } else { </span><span class="default">$camExposure </span><span class="keyword">= </span><span class="default">$notFound</span><span class="keyword">; }<br /><br />      </span><span class="comment">// Aperture<br />      </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'ApertureFNumber'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'COMPUTED'</span><span class="keyword">])) {<br />        </span><span class="default">$camAperture </span><span class="keyword">= </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'COMPUTED'</span><span class="keyword">][</span><span class="string">'ApertureFNumber'</span><span class="keyword">];<br />      } else { </span><span class="default">$camAperture </span><span class="keyword">= </span><span class="default">$notFound</span><span class="keyword">; }<br />      <br />      </span><span class="comment">// Date<br />      </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'DateTime'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">)) {<br />        </span><span class="default">$camDate </span><span class="keyword">= </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'DateTime'</span><span class="keyword">];<br />      } else { </span><span class="default">$camDate </span><span class="keyword">= </span><span class="default">$notFound</span><span class="keyword">; }<br />      <br />      </span><span class="comment">// ISO<br />      </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'ISOSpeedRatings'</span><span class="keyword">,</span><span class="default">$exif_exif</span><span class="keyword">)) {<br />        </span><span class="default">$camIso </span><span class="keyword">= </span><span class="default">$exif_exif</span><span class="keyword">[</span><span class="string">'ISOSpeedRatings'</span><span class="keyword">];<br />      } else { </span><span class="default">$camIso </span><span class="keyword">= </span><span class="default">$notFound</span><span class="keyword">; }<br />      <br />      </span><span class="default">$return </span><span class="keyword">= array();<br />      </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'make'</span><span class="keyword">] = </span><span class="default">$camMake</span><span class="keyword">;<br />      </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'model'</span><span class="keyword">] = </span><span class="default">$camModel</span><span class="keyword">;<br />      </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'exposure'</span><span class="keyword">] = </span><span class="default">$camExposure</span><span class="keyword">;<br />      </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'aperture'</span><span class="keyword">] = </span><span class="default">$camAperture</span><span class="keyword">;<br />      </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'date'</span><span class="keyword">] = </span><span class="default">$camDate</span><span class="keyword">;<br />      </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'iso'</span><span class="keyword">] = </span><span class="default">$camIso</span><span class="keyword">;<br />      return </span><span class="default">$return</span><span class="keyword">;<br />    <br />    } else {<br />      return </span><span class="default">false</span><span class="keyword">; <br />    } <br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />An example of it's use follows:<br /><br /><span class="default">&lt;?php<br /><br />$camera </span><span class="keyword">= </span><span class="default">cameraUsed</span><span class="keyword">(</span><span class="string">"/img/myphoto.jpg"</span><span class="keyword">);<br />echo </span><span class="string">"Camera Used: " </span><span class="keyword">. </span><span class="default">$camera</span><span class="keyword">[</span><span class="string">'make'</span><span class="keyword">] . </span><span class="string">" " </span><span class="keyword">. </span><span class="default">$camera</span><span class="keyword">[</span><span class="string">'model'</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"Exposure Time: " </span><span class="keyword">. </span><span class="default">$camera</span><span class="keyword">[</span><span class="string">'exposure'</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"Aperture: " </span><span class="keyword">. </span><span class="default">$camera</span><span class="keyword">[</span><span class="string">'aperture'</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"ISO: " </span><span class="keyword">. </span><span class="default">$camera</span><span class="keyword">[</span><span class="string">'iso'</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"Date Taken: " </span><span class="keyword">. </span><span class="default">$camera</span><span class="keyword">[</span><span class="string">'date'</span><span class="keyword">] . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;<br /></span><br />Will display the following, depending on the data:<br /><br />Camera Used: SONY DSC-S930<br />Exposure Time: 1/400<br />Aperture: f/4.3<br />ISO: 100<br />Date Taken: 2010:12:10 18:18:45<br /><br />If the image has been re-sized and the information is no longer available then you should receive the following when echoing the same:<br /><br />Camera Used: Unavailable<br />Exposure Time: Unavailable<br />Aperture: Unavailable<br />ISO: Unavailable<br />Date Taken: Unavailable<br /><br />Some cameras do not capture all the information, for instance Blackberry phones do not record an aperture, or iso and you will get Unavailable for those fields.  <br /><br />I hope you find this helpful.</span></code></div>
  </div>
 </div>
  <div class="note" id="76964">  <div class="votes">
    <div id="Vu76964">
    <a href="https://www.php.net/manual/vote-note.php?id=76964&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76964">
    <a href="https://www.php.net/manual/vote-note.php?id=76964&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76964" title="54% like this...">
    2
    </div>
  </div>
  <a href="function.exif-read-data.php.html#76964" class="name">
  <strong class="user"><em>mafo at mafo removethis dot sk</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#76964"> &para;</a><div class="date" title="2007-08-08 01:57"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom76964">
<div class="phpcode"><code><span class="html">some cameras (most higher models) have position senzor (gyroskope?) and taking-position is wrote in EXIF, here is simple script for automatic rotating images<br /><br /><span class="default">&lt;?php<br />$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">);<br /></span><span class="default">$ort </span><span class="keyword">= </span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'IFD0'</span><span class="keyword">][</span><span class="string">'Orientation'</span><span class="keyword">];<br />    switch(</span><span class="default">$ort</span><span class="keyword">)<br />    {<br />        case </span><span class="default">1</span><span class="keyword">: </span><span class="comment">// nothing<br />        </span><span class="keyword">break;<br /><br />        case </span><span class="default">2</span><span class="keyword">: </span><span class="comment">// horizontal flip<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">flipImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />        break;<br />                                <br />        case </span><span class="default">3</span><span class="keyword">: </span><span class="comment">// 180 rotate left<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">rotateImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">,</span><span class="default">180</span><span class="keyword">);<br />        break;<br />                    <br />        case </span><span class="default">4</span><span class="keyword">: </span><span class="comment">// vertical flip<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">flipImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br />        break;<br />                <br />        case </span><span class="default">5</span><span class="keyword">: </span><span class="comment">// vertical flip + 90 rotate right<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">flipImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />                </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">rotateImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">, -</span><span class="default">90</span><span class="keyword">);<br />        break;<br />                <br />        case </span><span class="default">6</span><span class="keyword">: </span><span class="comment">// 90 rotate right<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">rotateImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">, -</span><span class="default">90</span><span class="keyword">);<br />        break;<br />                <br />        case </span><span class="default">7</span><span class="keyword">: </span><span class="comment">// horizontal flip + 90 rotate right<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">flipImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);    <br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">rotateImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">, -</span><span class="default">90</span><span class="keyword">);<br />        break;<br />                <br />        case </span><span class="default">8</span><span class="keyword">:    </span><span class="comment">// 90 rotate left<br />            </span><span class="default">$image</span><span class="keyword">-&gt;</span><span class="default">rotateImage</span><span class="keyword">(</span><span class="default">$public</span><span class="keyword">, </span><span class="default">90</span><span class="keyword">);<br />        break;<br />    }<br /><br /></span><span class="default">?&gt;<br /></span><br />$image-&gt;rotateImage() is inspired by example of <a href="http://php.net/manual/en/function.imagerotate.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.imagerotate.php</a><br />$image-&gt;flipImage() is inspired by <a href="http://php.net/manual/en/function.imagecopy.php#42803" rel="nofollow" target="_blank">http://php.net/manual/en/function.imagecopy.php#42803</a> (thank you)</span></code></div>
  </div>
 </div>
  <div class="note" id="129121">  <div class="votes">
    <div id="Vu129121">
    <a href="https://www.php.net/manual/vote-note.php?id=129121&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd129121">
    <a href="https://www.php.net/manual/vote-note.php?id=129121&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V129121" title="no votes...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#129121" class="name">
  <strong class="user"><em>service at tianex dot com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#129121"> &para;</a><div class="date" title="2023-12-23 12:19"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom129121">
<div class="phpcode"><code><span class="html">this error happens when get jpeg file exif information<br /><br />exif_read_data(): Error reading from file: got=x3FFA(=16378) != itemlen-2=x4325(=17189)</span></code></div>
  </div>
 </div>
  <div class="note" id="121742">  <div class="votes">
    <div id="Vu121742">
    <a href="https://www.php.net/manual/vote-note.php?id=121742&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121742">
    <a href="https://www.php.net/manual/vote-note.php?id=121742&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121742" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#121742" class="name">
  <strong class="user"><em>TNTcode</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#121742"> &para;</a><div class="date" title="2017-10-09 12:34"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121742">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /><br /></span><span class="comment">// auto rotates an image file based on exif data from camera<br />// if destination file is specified then it saves file there, otherwise it will display it to user<br />// note that images already at normal orientation are skipped (when exif data Orientation = 1)<br /><br /></span><span class="keyword">if(!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"gd_auto_rotate"</span><span class="keyword">)){<br />    function </span><span class="default">gd_auto_rotate</span><span class="keyword">(</span><span class="default">$original_file</span><span class="keyword">, </span><span class="default">$destination_file</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">){<br />        <br />        </span><span class="default">$original_extension </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$original_file</span><span class="keyword">, </span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">));<br />        if(isset(</span><span class="default">$destination_file</span><span class="keyword">) and </span><span class="default">$destination_file</span><span class="keyword">!=</span><span class="string">''</span><span class="keyword">){<br />            </span><span class="default">$destination_extension </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$destination_file</span><span class="keyword">, </span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">));<br />        }<br />        <br />        </span><span class="comment">// try to auto-rotate image by gd if needed (before editing it)<br />        // by imagemagik it has an easy option<br />        </span><span class="keyword">if(</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"exif_read_data"</span><span class="keyword">)){<br />            <br />            </span><span class="default">$exif_data </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="default">$original_file</span><span class="keyword">);<br />            </span><span class="default">$exif_orientation </span><span class="keyword">= </span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">];<br />            <br />            </span><span class="comment">// value 1 = normal ?! skip it ?!<br />            <br />            </span><span class="keyword">if(</span><span class="default">$exif_orientation</span><span class="keyword">==</span><span class="string">'3'  </span><span class="keyword">or </span><span class="default">$exif_orientation</span><span class="keyword">==</span><span class="string">'6' </span><span class="keyword">or </span><span class="default">$exif_orientation</span><span class="keyword">==</span><span class="string">'8'</span><span class="keyword">){<br />                <br />                </span><span class="default">$new_angle</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">] = </span><span class="default">180</span><span class="keyword">;<br />                </span><span class="default">$new_angle</span><span class="keyword">[</span><span class="default">6</span><span class="keyword">] = -</span><span class="default">90</span><span class="keyword">;<br />                </span><span class="default">$new_angle</span><span class="keyword">[</span><span class="default">8</span><span class="keyword">] = </span><span class="default">90</span><span class="keyword">;<br />                <br />                </span><span class="comment">// load the image<br />                </span><span class="keyword">if(</span><span class="default">$original_extension </span><span class="keyword">== </span><span class="string">"jpg" </span><span class="keyword">or </span><span class="default">$original_extension </span><span class="keyword">== </span><span class="string">"jpeg"</span><span class="keyword">){<br />                    </span><span class="default">$original_image </span><span class="keyword">= </span><span class="default">imagecreatefromjpeg</span><span class="keyword">(</span><span class="default">$original_file</span><span class="keyword">);<br />                }<br />                if(</span><span class="default">$original_extension </span><span class="keyword">== </span><span class="string">"gif"</span><span class="keyword">){<br />                    </span><span class="default">$original_image </span><span class="keyword">= </span><span class="default">imagecreatefromgif</span><span class="keyword">(</span><span class="default">$original_file</span><span class="keyword">);<br />                }<br />                if(</span><span class="default">$original_extension </span><span class="keyword">== </span><span class="string">"png"</span><span class="keyword">){<br />                    </span><span class="default">$original_image </span><span class="keyword">= </span><span class="default">imagecreatefrompng</span><span class="keyword">(</span><span class="default">$original_file</span><span class="keyword">);<br />                }<br />                <br />                </span><span class="default">$rotated_image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$original_image</span><span class="keyword">, </span><span class="default">$new_angle</span><span class="keyword">[</span><span class="default">$exif_orientation</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">);<br />                <br />                </span><span class="comment">// if no destination file is set, then show the image<br />                </span><span class="keyword">if(!</span><span class="default">$destination_file</span><span class="keyword">){<br />                    </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-type: image/jpeg'</span><span class="keyword">);<br />                    </span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$rotated_image</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">);<br />                }<br />                        <br />                </span><span class="comment">// save the smaller image FILE if destination file given<br />                </span><span class="keyword">if(</span><span class="default">$destination_extension </span><span class="keyword">== </span><span class="string">"jpg" </span><span class="keyword">or </span><span class="default">$destination_extension</span><span class="keyword">==</span><span class="string">"jpeg"</span><span class="keyword">){<br />                    </span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$rotated_image</span><span class="keyword">, </span><span class="default">$destination_file</span><span class="keyword">,</span><span class="default">100</span><span class="keyword">);<br />                }<br />                if(</span><span class="default">$destination_extension </span><span class="keyword">== </span><span class="string">"gif"</span><span class="keyword">){<br />                    </span><span class="default">imagegif</span><span class="keyword">(</span><span class="default">$rotated_image</span><span class="keyword">, </span><span class="default">$destination_file</span><span class="keyword">);<br />                }<br />                if(</span><span class="default">$destination_extension </span><span class="keyword">== </span><span class="string">"png"</span><span class="keyword">){<br />                    </span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$rotated_image</span><span class="keyword">, </span><span class="default">$destination_file</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);<br />                }<br />                <br />                </span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$original_image</span><span class="keyword">);<br />                </span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$rotated_image</span><span class="keyword">);<br />            <br />            }<br />        }<br />    }<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="118162">  <div class="votes">
    <div id="Vu118162">
    <a href="https://www.php.net/manual/vote-note.php?id=118162&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118162">
    <a href="https://www.php.net/manual/vote-note.php?id=118162&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118162" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#118162" class="name">
  <strong class="user"><em>b at asdflolinternet dot de</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#118162"> &para;</a><div class="date" title="2015-10-18 12:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118162">
<div class="phpcode"><code><span class="html">Problem with "S�o�m�e� �T�e�x�t��" on value(s), exif[IFD0][Title] for example, when they were edited trough windows right click properties and then got read with the read_exif_data() function. <br />try:<br /><br />$exif_['IFD0']['Title']=mb_convert_encoding($exif_['IFD0']['Title'],"auto","byte2le");<br /><br />works on UTF-8 and so.<br /><br />//<br />// outputs all available character encodings and prints on screen<br />// foreach(mb_list_encodings() as $chr)<br />//  {$test[$chr]=mb_convert_encoding($image[IFD0][Title],'auto',$chr);}<br />//  exit(print_r($test));<br />//</span></code></div>
  </div>
 </div>
  <div class="note" id="117355">  <div class="votes">
    <div id="Vu117355">
    <a href="https://www.php.net/manual/vote-note.php?id=117355&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117355">
    <a href="https://www.php.net/manual/vote-note.php?id=117355&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117355" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#117355" class="name">
  <strong class="user"><em>Eion Robb</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#117355"> &para;</a><div class="date" title="2015-05-26 08:56"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117355">
<div class="phpcode"><code><span class="html">I was needing to use exif_read_data() to read out the orientation flag, only to find that the webhost didn't have the exif extension available for use.  Instead, I hacked up a regex that worked fairly well as a replacement<br /><br /><span class="default">&lt;?php<br />$orientation </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />if (</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'exif_read_data'</span><span class="keyword">)) {<br />    </span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">);<br />    if (isset(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">]))<br />        </span><span class="default">$orientation </span><span class="keyword">= </span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">];<br />} else if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'@\x12\x01\x03\x00\x01\x00\x00\x00(.)\x00\x00\x00@'</span><span class="keyword">, </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">), </span><span class="default">$matches</span><span class="keyword">)) {<br />    </span><span class="default">$orientation </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="113834">  <div class="votes">
    <div id="Vu113834">
    <a href="https://www.php.net/manual/vote-note.php?id=113834&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113834">
    <a href="https://www.php.net/manual/vote-note.php?id=113834&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113834" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#113834" class="name">
  <strong class="user"><em>Clive dot Moore at ma-design dot com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#113834"> &para;</a><div class="date" title="2013-12-06 09:19"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113834">
<div class="phpcode"><code><span class="html">Following up on darkain at darkain dot com  script for grabbing the ShutterSpeedValue from exif data...<br />@<a href="http://php.net/manual/en/function.exif-read-data.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.exif-read-data.php</a><br /><br />I have found that the option shown for ShutterSppedValue, can also be ExposureTime in the exif data. <br /><br />Also the code as written provides a WRONG return, as the return is always 1 so you get 1/1sec.<br /><br />Here is corrected code, or a version that corrects what is obviously not working after 5 years since it was originally developed::<br /><br />Here is the updated version for:: $exif[ExposureTime]<br /><br />    function exif_get_float($value) { <br />        $pos = strpos($value, '/'); <br />        if ($pos === false) return (float) $value; <br />        $a = (float) substr($value, 0, $pos); <br />        $b = (float) substr($value, $pos+1); <br />    return ($b == 0) ? ($a) : ($a / $b); <br />    };<br /><br />    function exif_get_exposureTime(&amp;$exif) { <br />        if (!isset($exif['ExposureTime'])) return false; <br />        $apex    = exif_get_float($exif['ExposureTime']);            <br />        $shutter = 1/$apex; <br />        // above 1 sec exposure time::<br />        if ($shutter &lt;= 1) return round($apex) . ' seconds'; <br /><br />    return '1/' . round(1 / $apex) . 'sec';<br />    };</span></code></div>
  </div>
 </div>
  <div class="note" id="112274">  <div class="votes">
    <div id="Vu112274">
    <a href="https://www.php.net/manual/vote-note.php?id=112274&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112274">
    <a href="https://www.php.net/manual/vote-note.php?id=112274&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112274" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#112274" class="name">
  <strong class="user"><em>hoangvu4000 at gmail dot com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#112274"> &para;</a><div class="date" title="2013-05-26 05:47"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112274">
<div class="phpcode"><code><span class="html">This is function, resize image and don't rotates images have exif info<br /><br />PHP must be enabled: <br />extension=php_mbstring.dll <br />extension=php_exif.dll<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">CreateThumbnail</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">$thumb</span><span class="keyword">,</span><span class="default">$thumbwidth</span><span class="keyword">, </span><span class="default">$quality </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">)<br />{<br /><br />        </span><span class="default">$im1</span><span class="keyword">=</span><span class="default">ImageCreateFromJPEG</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">);<br /><br />        </span><span class="comment">//if(function_exists("exif_read_data")){<br />                </span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">);<br />                if(!empty(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">])) {<br />                switch(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'Orientation'</span><span class="keyword">]) {<br />                case </span><span class="default">8</span><span class="keyword">:<br />                    </span><span class="default">$im1 </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$im1</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />                    break;<br />                case </span><span class="default">3</span><span class="keyword">:<br />                    </span><span class="default">$im1 </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$im1</span><span class="keyword">,</span><span class="default">180</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />                    break;<br />                case </span><span class="default">6</span><span class="keyword">:<br />                    </span><span class="default">$im1 </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$im1</span><span class="keyword">,-</span><span class="default">90</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />                    break;<br />                } <br />                }<br />        </span><span class="comment">//}<br />        </span><span class="default">$info </span><span class="keyword">= @</span><span class="default">getimagesize</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">);<br /><br />        </span><span class="default">$width </span><span class="keyword">= </span><span class="default">$info</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br /><br />        </span><span class="default">$w2</span><span class="keyword">=</span><span class="default">ImageSx</span><span class="keyword">(</span><span class="default">$im1</span><span class="keyword">);<br />        </span><span class="default">$h2</span><span class="keyword">=</span><span class="default">ImageSy</span><span class="keyword">(</span><span class="default">$im1</span><span class="keyword">);<br />        </span><span class="default">$w1 </span><span class="keyword">= (</span><span class="default">$thumbwidth </span><span class="keyword">&lt;= </span><span class="default">$info</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) ? </span><span class="default">$thumbwidth </span><span class="keyword">: </span><span class="default">$info</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]  ;<br /><br />        </span><span class="default">$h1</span><span class="keyword">=</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$h2</span><span class="keyword">*(</span><span class="default">$w1</span><span class="keyword">/</span><span class="default">$w2</span><span class="keyword">));<br />        </span><span class="default">$im2</span><span class="keyword">=</span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$w1</span><span class="keyword">,</span><span class="default">$h1</span><span class="keyword">);<br /><br />        </span><span class="default">imagecopyresampled </span><span class="keyword">(</span><span class="default">$im2</span><span class="keyword">,</span><span class="default">$im1</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$w1</span><span class="keyword">,</span><span class="default">$h1</span><span class="keyword">,</span><span class="default">$w2</span><span class="keyword">,</span><span class="default">$h2</span><span class="keyword">); <br />        </span><span class="default">$path</span><span class="keyword">=</span><span class="default">addslashes</span><span class="keyword">(</span><span class="default">$thumb</span><span class="keyword">);<br />        </span><span class="default">ImageJPEG</span><span class="keyword">(</span><span class="default">$im2</span><span class="keyword">,</span><span class="default">$path</span><span class="keyword">,</span><span class="default">$quality</span><span class="keyword">);<br />        </span><span class="default">ImageDestroy</span><span class="keyword">(</span><span class="default">$im1</span><span class="keyword">);<br />        </span><span class="default">ImageDestroy</span><span class="keyword">(</span><span class="default">$im2</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="87143">  <div class="votes">
    <div id="Vu87143">
    <a href="https://www.php.net/manual/vote-note.php?id=87143&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87143">
    <a href="https://www.php.net/manual/vote-note.php?id=87143&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87143" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#87143" class="name">
  <strong class="user"><em>michael [at[ thisiswilson [dot[ com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#87143"> &para;</a><div class="date" title="2008-11-20 09:01"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87143">
<div class="phpcode"><code><span class="html">From - darkain at darkain dot com 's example.<br /><br />If all the data is from the same image - simply<br /><br /><span class="default">&lt;?php<br />        $exif_data </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">]<br /><br />        </span><span class="default">$emake </span><span class="keyword">=</span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'Make'</span><span class="keyword">];<br />        </span><span class="default">$emodel </span><span class="keyword">= </span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'Model'</span><span class="keyword">];<br />        </span><span class="default">$eexposuretime </span><span class="keyword">= </span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'ExposureTime'</span><span class="keyword">];<br />        </span><span class="default">$efnumber </span><span class="keyword">= </span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'FNumber'</span><span class="keyword">];<br />        </span><span class="default">$eiso </span><span class="keyword">= </span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'ISOSpeedRatings'</span><span class="keyword">];<br />        </span><span class="default">$edate </span><span class="keyword">= </span><span class="default">$exif_data</span><span class="keyword">[</span><span class="string">'DateTime'</span><span class="keyword">];<br /></span><span class="default">?&gt;<br /></span><br />will work, I tried using the PEL library, and while pretty cool, I can't for the life understand how to call some things, this is simpler if your system is pretty basic or if you're in a rush.  If you have time, try playing with PEL.  It's not maintained at the moment though..<br /><br /><a href="http://pel.sourceforge.net/" rel="nofollow" target="_blank">http://pel.sourceforge.net/</a></span></code></div>
  </div>
 </div>
  <div class="note" id="73645">  <div class="votes">
    <div id="Vu73645">
    <a href="https://www.php.net/manual/vote-note.php?id=73645&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73645">
    <a href="https://www.php.net/manual/vote-note.php?id=73645&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73645" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.exif-read-data.php.html#73645" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#73645"> &para;</a><div class="date" title="2007-03-05 11:50"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73645">
<div class="phpcode"><code><span class="html">When reading EXIF information from the 'WINXP' group, you may need to change used encoding from the default "ISO-8859-15" to "UTF-8". This can be done in php.ini or in your code:<br /><br /><span class="default">&lt;?php<br />    ini_set</span><span class="keyword">(</span><span class="string">'exif.encode_unicode'</span><span class="keyword">, </span><span class="string">'UTF-8'</span><span class="keyword">);<br /><br />    </span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="string">'TEST.JPG'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />    echo </span><span class="default">$exif</span><span class="keyword">[</span><span class="string">'WINXP'</span><span class="keyword">][</span><span class="string">'Title'</span><span class="keyword">];<br /></span><span class="default">?&gt;<br /></span><br />Useful documentation about EXIF:<br /><a href="http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/EXIF.html" rel="nofollow" target="_blank">http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/EXIF.html</a><br />See also comments next to XPTitle and XPAuthor.</span></code></div>
  </div>
 </div>
  <div class="note" id="113944">  <div class="votes">
    <div id="Vu113944">
    <a href="https://www.php.net/manual/vote-note.php?id=113944&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113944">
    <a href="https://www.php.net/manual/vote-note.php?id=113944&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113944" title="44% like this...">
    -1
    </div>
  </div>
  <a href="function.exif-read-data.php.html#113944" class="name">
  <strong class="user"><em>iam at thatguy dot co dot za</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#113944"> &para;</a><div class="date" title="2013-12-20 08:15"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113944">
<div class="phpcode"><code><span class="html">I posted the original version of the function, but after using it for a while I discovered I didn't do enough error checking. <br /><br />I have re-factored it somewhat, and it now returns an empty array should it not be able to read the image's exif. If it is able to, it will return the details it was able to retrieve. And this should be without error. <br /><br />I am suppressing errors, because if you pass it images which cannot parse, you will get a warning. <br /><br /><span class="default">&lt;?php <br /><br /></span><span class="comment"># Modified Version of cameraUsed, no longer returns date. <br /></span><span class="keyword">public function </span><span class="default">cameraUsed</span><span class="keyword">(</span><span class="default">$imagePath</span><span class="keyword">)<br />{<br />    </span><span class="comment"># The default empty return<br />    </span><span class="default">$return </span><span class="keyword">= array(<br />        </span><span class="string">'make'      </span><span class="keyword">=&gt; </span><span class="string">""</span><span class="keyword">,<br />        </span><span class="string">'model'     </span><span class="keyword">=&gt; </span><span class="string">""</span><span class="keyword">,<br />        </span><span class="string">'exposure'  </span><span class="keyword">=&gt; </span><span class="string">""</span><span class="keyword">,<br />        </span><span class="string">'aperture'  </span><span class="keyword">=&gt; </span><span class="string">""</span><span class="keyword">,<br />        </span><span class="string">'iso'       </span><span class="keyword">=&gt; </span><span class="string">""<br />    </span><span class="keyword">);<br /><br />    </span><span class="comment">// Check if the variable is set and if the file itself exists before continuing<br />    </span><span class="keyword">if ((isset(</span><span class="default">$imagePath</span><span class="keyword">)) AND (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$imagePath</span><span class="keyword">)))<br />    {<br />        </span><span class="comment">// There are 2 arrays which contains the information we are after, so it's easier to state them both<br />        </span><span class="default">$exif_ifd0 </span><span class="keyword">= @</span><span class="default">read_exif_data</span><span class="keyword">(</span><span class="default">$imagePath </span><span class="keyword">,</span><span class="string">'IFD0' </span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />        </span><span class="default">$exif_exif </span><span class="keyword">= @</span><span class="default">read_exif_data</span><span class="keyword">(</span><span class="default">$imagePath </span><span class="keyword">,</span><span class="string">'EXIF' </span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br /><br />        </span><span class="comment"># Ensure that we actually got some information<br />        </span><span class="keyword">if ((</span><span class="default">$exif_ifd0 </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) AND (</span><span class="default">$exif_exif </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">))<br />        {<br />            </span><span class="comment">// Make<br />            </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'Make'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">))<br />            {<br />                </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'make'</span><span class="keyword">]     = </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'Make'</span><span class="keyword">];<br />            }<br /><br />            </span><span class="comment">// Model<br />            </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'Model'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">))<br />            {<br />                </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'model'</span><span class="keyword">]    = </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'Model'</span><span class="keyword">];<br />            }<br /><br />            </span><span class="comment">// Exposure<br />            </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'ExposureTime'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">))<br />            {<br />                </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'exposure'</span><span class="keyword">] = </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'ExposureTime'</span><span class="keyword">];<br />            }<br /><br />            </span><span class="comment">// Aperture<br />            </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'ApertureFNumber'</span><span class="keyword">, </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'COMPUTED'</span><span class="keyword">]))<br />            {<br />                </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'aperture'</span><span class="keyword">] = </span><span class="default">$exif_ifd0</span><span class="keyword">[</span><span class="string">'COMPUTED'</span><span class="keyword">][</span><span class="string">'ApertureFNumber'</span><span class="keyword">];<br />            }<br /><br />            </span><span class="comment">// ISO<br />            </span><span class="keyword">if (@</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="string">'ISOSpeedRatings'</span><span class="keyword">,</span><span class="default">$exif_exif</span><span class="keyword">))<br />            {<br />                </span><span class="default">$return</span><span class="keyword">[</span><span class="string">'iso'</span><span class="keyword">]     = </span><span class="default">$exif_exif</span><span class="keyword">[</span><span class="string">'ISOSpeedRatings'</span><span class="keyword">];<br />            }<br />        }<br />    }<br /><br />    </span><span class="comment"># Return either an empty array, or the details which we were able to extrapolate.<br />    </span><span class="keyword">return </span><span class="default">$return</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="85984">  <div class="votes">
    <div id="Vu85984">
    <a href="https://www.php.net/manual/vote-note.php?id=85984&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85984">
    <a href="https://www.php.net/manual/vote-note.php?id=85984&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85984" title="41% like this...">
    -2
    </div>
  </div>
  <a href="function.exif-read-data.php.html#85984" class="name">
  <strong class="user"><em>lincolnzsilva at gmail dot com</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#85984"> &para;</a><div class="date" title="2008-09-26 04:57"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85984">
<div class="phpcode"><code><span class="html">Get some EXIFs fields (easy way):<br /><br /><span class="default">&lt;?php<br />        $exif_make </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">] ,</span><span class="string">'IFD0' </span><span class="keyword">,</span><span class="default">0 </span><span class="keyword">);<br />        </span><span class="default">$emake </span><span class="keyword">= </span><span class="default">$exif_make</span><span class="keyword">[</span><span class="string">'Make'</span><span class="keyword">];<br />        <br />        </span><span class="default">$exif_model </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">] ,</span><span class="string">'IFD0' </span><span class="keyword">,</span><span class="default">0 </span><span class="keyword">);<br />        </span><span class="default">$emodel </span><span class="keyword">= </span><span class="default">$exif_model</span><span class="keyword">[</span><span class="string">'Model'</span><span class="keyword">];<br />        <br />        </span><span class="default">$exif_exposuretime </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">] ,</span><span class="string">'EXIF' </span><span class="keyword">,</span><span class="default">0 </span><span class="keyword">);<br />        </span><span class="default">$eexposuretime </span><span class="keyword">= </span><span class="default">$exif_exposuretime</span><span class="keyword">[</span><span class="string">'ExposureTime'</span><span class="keyword">];<br />        <br />        </span><span class="default">$exif_fnumber </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">] ,</span><span class="string">'EXIF' </span><span class="keyword">,</span><span class="default">0 </span><span class="keyword">);<br />        </span><span class="default">$efnumber </span><span class="keyword">= </span><span class="default">$exif_fnumber</span><span class="keyword">[</span><span class="string">'FNumber'</span><span class="keyword">];<br /><br />        </span><span class="default">$exif_iso </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">] ,</span><span class="string">'EXIF' </span><span class="keyword">,</span><span class="default">0 </span><span class="keyword">);<br />        </span><span class="default">$eiso </span><span class="keyword">= </span><span class="default">$exif_iso</span><span class="keyword">[</span><span class="string">'ISOSpeedRatings'</span><span class="keyword">];<br />                <br />        </span><span class="default">$exif_date </span><span class="keyword">= </span><span class="default">exif_read_data </span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'photo'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">] ,</span><span class="string">'IFD0' </span><span class="keyword">,</span><span class="default">0 </span><span class="keyword">);<br />        </span><span class="default">$edate </span><span class="keyword">= </span><span class="default">$exif_date</span><span class="keyword">[</span><span class="string">'DateTime'</span><span class="keyword">];<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="77586">  <div class="votes">
    <div id="Vu77586">
    <a href="https://www.php.net/manual/vote-note.php?id=77586&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77586">
    <a href="https://www.php.net/manual/vote-note.php?id=77586&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77586" title="37% like this...">
    -2
    </div>
  </div>
  <a href="function.exif-read-data.php.html#77586" class="name">
  <strong class="user"><em>wdierkes at 5dollarwhitebox dot org</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#77586"> &para;</a><div class="date" title="2007-09-04 06:20"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77586">
<div class="phpcode"><code><span class="html">Using the exif methods to read WINXP data returns unexpected results unless both exif and mbstring are compiled statically.  Please reference the following bug reports:<br /><br />Bug #31980<br />Bug #23105<br /><br /> <br />Specifically, the last comment on #23105:<br /><br />"[8 Apr 2003 4:26pm UTC] edink@php.net<br /><br />This cannot be fixed due to the fact that mbstring has been removed from PHP core (it has been 'unbundled') and the rest of core files and other extensions cannot use mbstring functionality when it is compiled as a shared library (dll).<br />"<br /><br />If exif is compiled statically (--enable-exif) and mbstring compiled as a DSO module (--enable-mbstring=shared) then exif_read_data may only return a single character rather than the entire string.<br /><br />Compiling both exif and mbstring statically (--enable-exif --enable-mbstring) resolves the issue.</span></code></div>
  </div>
 </div>
  <div class="note" id="112034">  <div class="votes">
    <div id="Vu112034">
    <a href="https://www.php.net/manual/vote-note.php?id=112034&amp;page=function.exif-read-data&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112034">
    <a href="https://www.php.net/manual/vote-note.php?id=112034&amp;page=function.exif-read-data&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112034" title="27% like this...">
    -5
    </div>
  </div>
  <a href="function.exif-read-data.php.html#112034" class="name">
  <strong class="user"><em>kurt at mandella dot biz</em></strong></a><a class="genanchor" href="function.exif-read-data.php.html#112034"> &para;</a><div class="date" title="2013-04-25 06:34"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112034">
<div class="phpcode"><code><span class="html">Photos processed in Picasa often contain garbage data in the "MAKERNOTE" section and under EXIF.MakerNote, (UTF8) like:<br /><br />[MakerNote] =&gt; r0~Þæ"î2OÔy     e §…b!    )    ) EI "ÐÓ<br />#s&amp;0{'Û(å-Ð`ÿÿ@ÿÿÿìEè€Ýÿÿ  ÿÿÿÿÿÿx "ú»Dóÿ H ?.}BúIMG:DIGITAL IXUS 100 IS JPEGFirmware Version 1.00s›xÇØÿÿÿ–l¥ÿÿÿ ØÌÌxŒ ÿÿÌÌŸãÿÿÿ¼Ž(½(½T‹U’‹d–~Ø“¥ÿÿÿ    ÀÿœªãjáÀpgaXfaWb[Te«<br />8ú5:Áð-3åÿÿ5»ÿ ‹;ßÊ Š €à€`         ¸ddîÿîÿîÿîÿîÿîÿ<br />ÿÿŠ1—ÏàôÉæ×¬gªiï<br /><br />This can't be written to Blob in MySql. The following code removes the garbage tags.<br /><br />$exif = exif_read_data($process_photo, 0, 'EXIF');<br /><br />if($exif['IFD0']['Software'] == "Picasa"){<br /><br />foreach ($exif as $key =&gt; $section){<br /><br /> if($key != "MAKERNOTE"){<br />  foreach ($section as $name =&gt; $val){<br />   if($name != 'MakerNote'){<br />    $exifA[$key][$name] = $val;<br />   }<br />  }<br />  $exifB[$key] = $exifA[$key];<br /> }<br />}<br />$serialized_exif = serialize ($exifB);<br />}else{<br />$serialized_exif = serialize ($exif);<br />}</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.exif-read-data&amp;redirect=https://www.php.net/manual/ru/function.exif-read-data.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.exif.php.html">Exif Функции</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.exif-imagetype.php.html" title="exif_&#8203;imagetype">exif_&#8203;imagetype</a>
                        </li>
                                                <li class="current">
                            <a href="function.exif-read-data.php.html" title="exif_&#8203;read_&#8203;data">exif_&#8203;read_&#8203;data</a>
                        </li>
                                                <li class="">
                            <a href="function.exif-tagname.php.html" title="exif_&#8203;tagname">exif_&#8203;tagname</a>
                        </li>
                                                <li class="">
                            <a href="function.exif-thumbnail.php.html" title="exif_&#8203;thumbnail">exif_&#8203;thumbnail</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                        <li>
                <span class="header">Deprecated</span>
                <ul class="child-menu-list">
                                    <li class="">
                        <a href="function.read-exif-data.php.html" title="read_&#8203;exif_&#8203;data">read_&#8203;exif_&#8203;data</a>
                    </li>
                                </ul>
            </li>
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
