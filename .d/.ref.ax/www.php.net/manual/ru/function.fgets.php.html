<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: fgets - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.fgets.php.html">
 <link rel="shorturl" href="https://www.php.net/fgets">
 <link rel="alternate" href="https://www.php.net/fgets" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.filesystem.php.html">
 <link rel="prev" href="function.fgetcsv.php.html">
 <link rel="next" href="function.fgetss.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.fgets.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.fgets.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.fgets.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.fgets.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.fgets.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.fgets.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.fgets.php" hreflang="pt_BR">
 <link rel="alternate" href="function.fgets.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.fgets.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.fgets.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.fgetss.php.html">
          fgetss &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.fgetcsv.php.html">
          &laquo; fgetcsv        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.fileprocess.file.php.html'>Модули для работы с файловой системой</a></li>      <li><a href='book.filesystem.php.html'>Файловая система</a></li>      <li><a href='ref.filesystem.php.html'>Функции файловой системы</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.fgets.php'>English</option>
            <option value='de/function.fgets.php'>German</option>
            <option value='es/function.fgets.php'>Spanish</option>
            <option value='fr/function.fgets.php'>French</option>
            <option value='it/function.fgets.php'>Italian</option>
            <option value='ja/function.fgets.php'>Japanese</option>
            <option value='pt_BR/function.fgets.php'>Brazilian Portuguese</option>
            <option value='ru/function.fgets.php' selected="selected">Russian</option>
            <option value='tr/function.fgets.php'>Turkish</option>
            <option value='zh/function.fgets.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/filesystem/functions/fgets.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.fgets%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.fgets" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fgets</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">fgets</span> &mdash; <span class="dc-title">Читает строку из файла</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.fgets-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>fgets</strong></span>(<span class="methodparam"><span class="type">resource</span> <code class="parameter">$stream</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">int</span><span class="type"></span></span> <code class="parameter">$length</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Читает строку из файлового указателя.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.fgets-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">stream</code></dt>

     <dd>

      <p class="para">Указатель на файл должен быть корректным и указывать
на файл, успешно открытый функциями <span class="function"><a href="function.fopen.php.html" class="function">fopen()</a></span> или
<span class="function"><a href="function.fsockopen.php.html" class="function">fsockopen()</a></span> (и всё ещё не закрытый функцией <span class="function"><a href="function.fclose.php.html" class="function">fclose()</a></span>).</p>
     </dd>

    
    
     <dt>
<code class="parameter">length</code></dt>

     <dd>

      <p class="para">
       Чтение заканчивается при достижении <code class="parameter">length</code> - 1 байт,
       либо если встретилась новая строка (которая включается в возвращаемый результат)
       или конец файла (в зависимости от того, что наступит раньше).
       Если длина не указана, чтение из потока будет продолжаться до тех пор,
       пока не достигнет конца строки.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.fgets-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает строку размером в <code class="parameter">length</code> - 1 байт, прочитанную
   из дескриптора файла, на который указывает параметр <code class="parameter">stream</code>.
   Если данных для чтения больше нет, то возвращает <strong><code>false</code></strong>.
  </p>
  <p class="para">
   В случае возникновения ошибки возвращает <strong><code>false</code></strong>.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.fgets-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Построчное чтение файла</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$fp </span><span style="color: #007700">= @</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"/tmp/inputfile.txt"</span><span style="color: #007700">, </span><span style="color: #DD0000">"r"</span><span style="color: #007700">);<br />if (</span><span style="color: #0000BB">$fp</span><span style="color: #007700">) {<br />    while ((</span><span style="color: #0000BB">$buffer </span><span style="color: #007700">= </span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">, </span><span style="color: #0000BB">4096</span><span style="color: #007700">)) !== </span><span style="color: #0000BB">false</span><span style="color: #007700">) {<br />        echo </span><span style="color: #0000BB">$buffer</span><span style="color: #007700">;<br />    }<br />    if (!</span><span style="color: #0000BB">feof</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">)) {<br />        echo </span><span style="color: #DD0000">"Ошибка: fgets() неожиданно потерпел неудачу\n"</span><span style="color: #007700">;<br />    }<br />    </span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.fgets-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: <span class="simpara">Если возникают проблемы
с распознаванием PHP концов строк при чтении или создании файлов на Macintosh-совместимом компьютере,
включение опции <a href="filesystem.configuration.php.html#ini.auto-detect-line-endings" class="link">auto_detect_line_endings</a>
может помочь решить проблему. </span></p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Программисты, привыкшие к семантике &#039;C&#039; функции <span class="function"><strong>fgets()</strong></span>,
    должны принимать во внимание разницу в том, каким образом возвращается
    признак достижения конца файла (<code class="literal">EOF</code>).
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.fgets-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.fgetss.php.html" class="function" rel="rdfs-seeAlso">fgetss()</a> - Читает строку из файла и удаляет HTML-теги</span></li>
    <li class="member"><span class="function"><a href="function.fread.php.html" class="function" rel="rdfs-seeAlso">fread()</a> - Бинарно-безопасное чтение файла</span></li>
    <li class="member"><span class="function"><a href="function.fgetc.php.html" class="function" rel="rdfs-seeAlso">fgetc()</a> - Считывает символ из файла</span></li>
    <li class="member"><span class="function"><a href="function.stream-get-line.php.html" class="function" rel="rdfs-seeAlso">stream_get_line()</a> - Получает строку из потокового ресурса до указанного разделителя</span></li>
    <li class="member"><span class="function"><a href="function.fopen.php.html" class="function" rel="rdfs-seeAlso">fopen()</a> - Открывает файл или URL</span></li>
    <li class="member"><span class="function"><a href="function.popen.php.html" class="function" rel="rdfs-seeAlso">popen()</a> - Открывает файловый указатель процесса</span></li>
    <li class="member"><span class="function"><a href="function.fsockopen.php.html" class="function" rel="rdfs-seeAlso">fsockopen()</a> - Открывает соединение с интернет-сокетом или доменным сокетом Unix</span></li>
    <li class="member"><span class="function"><a href="function.stream-set-timeout.php.html" class="function" rel="rdfs-seeAlso">stream_set_timeout()</a> - Установить значение времени ожидания для потока</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.fgets&amp;redirect=https://www.php.net/manual/ru/function.fgets.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">38 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="117050">  <div class="votes">
    <div id="Vu117050">
    <a href="https://www.php.net/manual/vote-note.php?id=117050&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117050">
    <a href="https://www.php.net/manual/vote-note.php?id=117050&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117050" title="61% like this...">
    22
    </div>
  </div>
  <a href="function.fgets.php.html#117050" class="name">
  <strong class="user"><em>Leigh Purdie</em></strong></a><a class="genanchor" href="function.fgets.php.html#117050"> &para;</a><div class="date" title="2015-04-08 03:03"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117050">
<div class="phpcode"><code><span class="html">A better example, to illustrate the differences in speed for large files, between fgets and stream_get_line.<br /><br />This example simulates situations where you are reading potentially very long lines, of an uncertain length (but with a maximum buffer size), from an input source.<br /><br />As Dade pointed out, the previous example I provided was much to easy to pick apart, and did not adequately highlight the issue I was trying to address.<br /><br />Note that specifying a definitive end-character for fgets (ie: newline), generally decreases the speed difference reasonably significantly. <br /><br />#!/usr/bin/php<br /><span class="default">&lt;?php<br />        $plaintext</span><span class="keyword">=</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="string">'<a href="http://loripsum.net/api/60/verylong/plaintext" rel="nofollow" target="_blank">http://loripsum.net/api/60/verylong/plaintext</a>'</span><span class="keyword">);  </span><span class="comment"># Should be around 90k characters<br />        </span><span class="default">$plaintext</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">,</span><span class="default">$plaintext</span><span class="keyword">); </span><span class="comment"># Get rid of newlines<br /><br />        </span><span class="default">$fp</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"/tmp/SourceFile.txt"</span><span class="keyword">,</span><span class="string">"w"</span><span class="keyword">);<br />        for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">100000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />                </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$plaintext</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">rand</span><span class="keyword">(</span><span class="default">4096</span><span class="keyword">,</span><span class="default">65534</span><span class="keyword">)) . </span><span class="string">"\n"</span><span class="keyword">);<br />        }<br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br /><br />        </span><span class="default">$fp</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"/tmp/SourceFile.txt"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">);<br />        </span><span class="default">$start</span><span class="keyword">=</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />        while(</span><span class="default">$line</span><span class="keyword">=</span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">65535</span><span class="keyword">)) {<br />                </span><span class="default">1</span><span class="keyword">;<br />        }<br />        </span><span class="default">$end</span><span class="keyword">=</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />        </span><span class="default">$delta1</span><span class="keyword">=(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">);<br /><br />        </span><span class="default">$fp</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"/tmp/SourceFile.txt"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">);<br />        </span><span class="default">$start</span><span class="keyword">=</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />        while(</span><span class="default">$line</span><span class="keyword">=</span><span class="default">stream_get_line</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">65535</span><span class="keyword">)) {<br />                </span><span class="default">1</span><span class="keyword">;<br />        }<br />        </span><span class="default">$end</span><span class="keyword">=</span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />        </span><span class="default">$delta2</span><span class="keyword">=(</span><span class="default">$end </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">);<br /><br />        </span><span class="default">$pdiff</span><span class="keyword">=</span><span class="default">$delta1</span><span class="keyword">/</span><span class="default">$delta2</span><span class="keyword">;<br />        print </span><span class="string">"stream_get_line is " </span><span class="keyword">. (</span><span class="default">$pdiff</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">?</span><span class="string">"faster"</span><span class="keyword">:</span><span class="string">"slower"</span><span class="keyword">) . </span><span class="string">" than fgets - pdiff is </span><span class="default">$pdiff</span><span class="string">\n"</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />$ ./testcase.php <br />stream_get_line is faster than fgets - pdiff is 1.760398041785<br /><br />Note that, in a vast majority of situations in which php is employed, tiny differences in speed between system calls are of negligible importance.</span></code></div>
  </div>
 </div>
  <div class="note" id="76329">  <div class="votes">
    <div id="Vu76329">
    <a href="https://www.php.net/manual/vote-note.php?id=76329&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76329">
    <a href="https://www.php.net/manual/vote-note.php?id=76329&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76329" title="59% like this...">
    4
    </div>
  </div>
  <a href="function.fgets.php.html#76329" class="name">
  <strong class="user"><em>David at Weintraub.name</em></strong></a><a class="genanchor" href="function.fgets.php.html#76329"> &para;</a><div class="date" title="2007-07-10 02:23"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom76329">
<div class="phpcode"><code><span class="html">There's an error in the documentation:<br /><br />The file pointer must be valid, and must point to a file successfully opened by fopen() or fsockopen() (and not yet closed by fclose()).<br /><br />You should also add "popen" and "pclose" to the documentation. I'm a new PHP developer and went to verify that I could use "fgets" on commands that I used with "popen".</span></code></div>
  </div>
 </div>
  <div class="note" id="124837">  <div class="votes">
    <div id="Vu124837">
    <a href="https://www.php.net/manual/vote-note.php?id=124837&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124837">
    <a href="https://www.php.net/manual/vote-note.php?id=124837&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124837" title="53% like this...">
    1
    </div>
  </div>
  <a href="function.fgets.php.html#124837" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.fgets.php.html#124837"> &para;</a><div class="date" title="2020-03-21 03:34"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom124837">
<div class="phpcode"><code><span class="html">if you for some reason need to get lines from a string instead of a file pointer, try<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">string_gets</span><span class="keyword">(</span><span class="default">string $source</span><span class="keyword">, </span><span class="default">int $offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">string $delimiter </span><span class="keyword">= </span><span class="string">"\n"</span><span class="keyword">): ?</span><span class="default">string<br /></span><span class="keyword">{<br />    </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">);<br />    if (</span><span class="default">$len </span><span class="keyword">&lt; </span><span class="default">$offset</span><span class="keyword">) {<br />        </span><span class="comment">// out of bounds.. maybe i should throw an exception<br />        </span><span class="keyword">return </span><span class="default">null</span><span class="keyword">;<br />    }<br />    if (</span><span class="default">$len </span><span class="keyword">=== </span><span class="default">$offset</span><span class="keyword">) {<br />        </span><span class="comment">// end of string..<br />        </span><span class="keyword">return </span><span class="default">null</span><span class="keyword">;<br />    }<br />    </span><span class="default">$delimiter_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">);<br />    if (</span><span class="default">$delimiter_pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />        </span><span class="comment">// last line.<br />        </span><span class="keyword">return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">);<br />    }<br />    return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, (</span><span class="default">$delimiter_pos </span><span class="keyword">- </span><span class="default">$offset</span><span class="keyword">) + </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">));<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />(i had a ~16GB string in-memory i needed to process line-by-line, but i would get memory-allocation-crash (on a 32GB ram system) if i tried explode("\n",$str); , so came up with this.. interestingly, fgets() seems to be faster than doing it in-ram-in-php, though. php 7.3.7)</span></code></div>
  </div>
 </div>
  <div class="note" id="62774">  <div class="votes">
    <div id="Vu62774">
    <a href="https://www.php.net/manual/vote-note.php?id=62774&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd62774">
    <a href="https://www.php.net/manual/vote-note.php?id=62774&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V62774" title="55% like this...">
    1
    </div>
  </div>
  <a href="function.fgets.php.html#62774" class="name">
  <strong class="user"><em>tavernadelleidee[italy]</em></strong></a><a class="genanchor" href="function.fgets.php.html#62774"> &para;</a><div class="date" title="2006-03-09 03:44"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom62774">
<div class="phpcode"><code><span class="html">I think that the quickest way of read a (long) file with the rows in  reverse order is<br /><br /><span class="default">&lt;?php<br />$myfile </span><span class="keyword">= </span><span class="string">'myfile.txt'</span><span class="keyword">;<br /></span><span class="default">$command </span><span class="keyword">= </span><span class="string">"tac </span><span class="default">$myfile</span><span class="string"> &gt; /tmp/myfilereversed.txt"</span><span class="keyword">;<br /></span><span class="default">passthru</span><span class="keyword">(</span><span class="default">$command</span><span class="keyword">);<br /></span><span class="default">$ic </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br /></span><span class="default">$ic_max </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">;  </span><span class="comment">// stops after this number of rows<br /></span><span class="default">$handle </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"/tmp/myfilereversed.txt"</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">);<br />while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">) &amp;&amp; ++</span><span class="default">$ic</span><span class="keyword">&lt;=</span><span class="default">$ic_max</span><span class="keyword">) {<br />   </span><span class="default">$buffer </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">4096</span><span class="keyword">);<br />   echo </span><span class="default">$buffer</span><span class="keyword">.</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />}<br /></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />It echos the rows while it is reading the file so it is good for long files like logs.<br /><br />Borgonovo</span></code></div>
  </div>
 </div>
  <div class="note" id="92397">  <div class="votes">
    <div id="Vu92397">
    <a href="https://www.php.net/manual/vote-note.php?id=92397&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92397">
    <a href="https://www.php.net/manual/vote-note.php?id=92397&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92397" title="51% like this...">
    2
    </div>
  </div>
  <a href="function.fgets.php.html#92397" class="name">
  <strong class="user"><em>afwxkat at gmail dot com</em></strong></a><a class="genanchor" href="function.fgets.php.html#92397"> &para;</a><div class="date" title="2009-07-22 05:07"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92397">
<div class="phpcode"><code><span class="html">One thing I discovered with fgets, at least with PHP 5.1.6, is that you may have to use an IF statement to avoid your code running rampant (and possibly hanging the server).  This can cause problems if you do not have root access on the server on which you are working.<br /><br />This is the code I have implemented ($F1 is an array):<br /><br /><span class="default">&lt;?php<br />   </span><span class="keyword">if(</span><span class="default">$fh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"filename"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">)){<br />      while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">)){<br />         </span><span class="default">$F1</span><span class="keyword">[] = </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">,</span><span class="default">9999</span><span class="keyword">);<br />      }<br />      </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">);<br />    }<br /></span><span class="default">?&gt;<br /></span><br />I have noticed that without the IF statement, fgets seems to ignore when $fh is undefined (i.e., "filename" does not exist).  If that happens, it will keep attempting to read from a nonexistent filehandle until the process can be administratively killed or the server hangs, whichever comes first.</span></code></div>
  </div>
 </div>
  <div class="note" id="77893">  <div class="votes">
    <div id="Vu77893">
    <a href="https://www.php.net/manual/vote-note.php?id=77893&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77893">
    <a href="https://www.php.net/manual/vote-note.php?id=77893&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77893" title="53% like this...">
    1
    </div>
  </div>
  <a href="function.fgets.php.html#77893" class="name">
  <strong class="user"><em>anacreo has gmail</em></strong></a><a class="genanchor" href="function.fgets.php.html#77893"> &para;</a><div class="date" title="2007-09-18 02:15"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77893">
<div class="phpcode"><code><span class="html">I'm using this function to modify the header of a large postscript document on copy...  Works extremely quickly so far...<br /><br />function write($filename) {<br />     $fh = fopen($this-&gt;sourceps,'r');<br />     $fw = fopen($filename,'w');<br /><br />     while (!feof($fh)) {<br />       $buffer = fgets($fh);<br />       fwrite($fw,$buffer);<br />       if (!$setupfound &amp;&amp; ereg("^%%BeginSetup",$buffer)) {<br />         $setupfound++;<br />         if (array_key_exists("$filename",$this-&gt;output)) {<br />           foreach ($this-&gt;output[$filename] as $function =&gt; $value) {<br />             fwrite($fw,$value);<br />           }<br />         }<br />         stream_copy_to_stream($fh,$fw);<br />       }<br />     }<br />     fclose($fw);<br />     fclose($fh);<br />   }</span></code></div>
  </div>
 </div>
  <div class="note" id="122439">  <div class="votes">
    <div id="Vu122439">
    <a href="https://www.php.net/manual/vote-note.php?id=122439&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122439">
    <a href="https://www.php.net/manual/vote-note.php?id=122439&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122439" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fgets.php.html#122439" class="name">
  <strong class="user"><em>Carlo</em></strong></a><a class="genanchor" href="function.fgets.php.html#122439"> &para;</a><div class="date" title="2018-02-25 10:16"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122439">
<div class="phpcode"><code><span class="html">Error in the example number 1 of this page.<br /><br />change this line:<br />    $buffer = fgets($fd, 4096);<br />into:<br />    $buffer = fgets($handle, 4096);</span></code></div>
  </div>
 </div>
  <div class="note" id="77252">  <div class="votes">
    <div id="Vu77252">
    <a href="https://www.php.net/manual/vote-note.php?id=77252&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77252">
    <a href="https://www.php.net/manual/vote-note.php?id=77252&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77252" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fgets.php.html#77252" class="name">
  <strong class="user"><em>Peter Schlaile</em></strong></a><a class="genanchor" href="function.fgets.php.html#77252"> &para;</a><div class="date" title="2007-08-21 11:36"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77252">
<div class="phpcode"><code><span class="html">fscanf($file, "%s\n") isn't really a good substitution for fgets(), since it will stop parsing at the first whitespace and not at the end of line!<br /><br />(See the fscanf page for details on this)</span></code></div>
  </div>
 </div>
  <div class="note" id="68849">  <div class="votes">
    <div id="Vu68849">
    <a href="https://www.php.net/manual/vote-note.php?id=68849&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68849">
    <a href="https://www.php.net/manual/vote-note.php?id=68849&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68849" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fgets.php.html#68849" class="name">
  <strong class="user"><em>d at foo.com</em></strong></a><a class="genanchor" href="function.fgets.php.html#68849"> &para;</a><div class="date" title="2006-08-13 01:03"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom68849">
<div class="phpcode"><code><span class="html">For sockets, If you dont want fgets, fgetc etc... to block if theres no data there. set socket_set_blocking(handle,false); and socket_set_blocking(handle,true); to set it back again.</span></code></div>
  </div>
 </div>
  <div class="note" id="47536">  <div class="votes">
    <div id="Vu47536">
    <a href="https://www.php.net/manual/vote-note.php?id=47536&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd47536">
    <a href="https://www.php.net/manual/vote-note.php?id=47536&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V47536" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fgets.php.html#47536" class="name">
  <strong class="user"><em>angelo [at] mandato &lt;dot&gt; com</em></strong></a><a class="genanchor" href="function.fgets.php.html#47536"> &para;</a><div class="date" title="2004-11-19 06:43"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom47536">
<div class="phpcode"><code><span class="html">Sometimes the strings you want to read from a file are not separated by an end of line character.  the C style getline() function solves this.  Here is my version:<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">getline</span><span class="keyword">( </span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$delim </span><span class="keyword">)<br />{<br />    </span><span class="default">$result </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />    while( !</span><span class="default">feof</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">) )<br />    {<br />        </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">fgetc</span><span class="keyword">( </span><span class="default">$fp </span><span class="keyword">);<br />        if( </span><span class="default">$tmp </span><span class="keyword">== </span><span class="default">$delim </span><span class="keyword">)<br />            return </span><span class="default">$result</span><span class="keyword">;<br />        </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">$tmp</span><span class="keyword">;<br />    }<br />    return </span><span class="default">$result</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">// Example:<br /></span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"/path/to/file.ext"</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br />while( !</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">) )<br />{<br />    </span><span class="default">$str </span><span class="keyword">= </span><span class="default">getline</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">'|'</span><span class="keyword">);<br />    </span><span class="comment">// Do something with $str<br /></span><span class="keyword">}<br /></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="59277">  <div class="votes">
    <div id="Vu59277">
    <a href="https://www.php.net/manual/vote-note.php?id=59277&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59277">
    <a href="https://www.php.net/manual/vote-note.php?id=59277&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59277" title="47% like this...">
    -1
    </div>
  </div>
  <a href="function.fgets.php.html#59277" class="name">
  <strong class="user"><em>kpeters AT-AT monolithss DEE OH TEE com</em></strong></a><a class="genanchor" href="function.fgets.php.html#59277"> &para;</a><div class="date" title="2005-12-01 05:51"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59277">
<div class="phpcode"><code><span class="html">It appears that fgets() will return FALSE on EOF (before feof has a chance to read it), so this code will throw an exception:<br /><br />while (!feof($fh)) {<br />  $line = fgets($fh);<br />  if ($line === false) {<br />    throw new Exception("File read error");<br />  }<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="80626">  <div class="votes">
    <div id="Vu80626">
    <a href="https://www.php.net/manual/vote-note.php?id=80626&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80626">
    <a href="https://www.php.net/manual/vote-note.php?id=80626&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80626" title="46% like this...">
    -1
    </div>
  </div>
  <a href="function.fgets.php.html#80626" class="name">
  <strong class="user"><em>Daniel Klein</em></strong></a><a class="genanchor" href="function.fgets.php.html#80626"> &para;</a><div class="date" title="2008-01-25 08:47"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80626">
<div class="phpcode"><code><span class="html">The file pointer that fgets() uses can also be created with the proc_open() function and used with the stdout pipe created from the executed process.</span></code></div>
  </div>
 </div>
  <div class="note" id="60363">  <div class="votes">
    <div id="Vu60363">
    <a href="https://www.php.net/manual/vote-note.php?id=60363&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd60363">
    <a href="https://www.php.net/manual/vote-note.php?id=60363&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V60363" title="46% like this...">
    -1
    </div>
  </div>
  <a href="function.fgets.php.html#60363" class="name">
  <strong class="user"><em>ecvej</em></strong></a><a class="genanchor" href="function.fgets.php.html#60363"> &para;</a><div class="date" title="2006-01-04 01:20"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom60363">
<div class="phpcode"><code><span class="html">I would have expected the same behaviour from these bits of code:-<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">/*This times out correctly*/<br /></span><span class="keyword">while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">)) {<br />    echo </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />}<br /><br /></span><span class="comment">/*This times out before eof*/<br /></span><span class="keyword">while (</span><span class="default">$line</span><span class="keyword">=</span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">)) {<br />    echo </span><span class="default">$line</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">/*A reasonable fix is to set a long timeout*/<br /></span><span class="default">stream_set_timeout</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">180</span><span class="keyword">);<br />while (</span><span class="default">$line</span><span class="keyword">=</span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">)) {<br />    echo </span><span class="default">$line</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="118733">  <div class="votes">
    <div id="Vu118733">
    <a href="https://www.php.net/manual/vote-note.php?id=118733&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118733">
    <a href="https://www.php.net/manual/vote-note.php?id=118733&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118733" title="44% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#118733" class="name">
  <strong class="user"><em>bfb1985 at yahoo dot es</em></strong></a><a class="genanchor" href="function.fgets.php.html#118733"> &para;</a><div class="date" title="2016-01-28 11:59"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118733">
<div class="phpcode"><code><span class="html">I had loads of trouble while reading with fgets on a WAMP (Windows server). On local the file went unto a &lt;pre&gt; tag without a hitch, but when I moved the code to a LAMP production server, every \r\n created two fgets and I got free empty lines.<br /><br />I tried deleting with $string=str_replace("\r\n","\n",$string); but it had no effect whatsoever. The solution was to do an fread() and explode the contents by PHP_EOL and do a foreach($lines as $line) so every line did not get duplicated.<br /><br />Here is the example code:<br /><br />$file=fopen("test.txt,"r");<br />$text=fread($file,filesize("test.txt"));<br />$lines=explode(PHP_EOL,$text);<br />foreach($lines as $line)<br />  {<br />  // Do something<br />  }</span></code></div>
  </div>
 </div>
  <div class="note" id="122517">  <div class="votes">
    <div id="Vu122517">
    <a href="https://www.php.net/manual/vote-note.php?id=122517&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122517">
    <a href="https://www.php.net/manual/vote-note.php?id=122517&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122517" title="43% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#122517" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.fgets.php.html#122517"> &para;</a><div class="date" title="2018-03-16 04:57"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122517">
<div class="phpcode"><code><span class="html">&lt;form&gt;<br />&lt;input type='text' name='filepath' value='<span class="default">&lt;?php </span><span class="keyword">echo ((isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"filepath"</span><span class="keyword">])) ? </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"filepath"</span><span class="keyword">] : </span><span class="string">""</span><span class="keyword">);</span><span class="default">?&gt;</span>'&gt;<br />&lt;br&gt;<br />&lt;select name='sel'&gt;<br />    &lt;option value='var1' <span class="default">&lt;?php </span><span class="keyword">echo ((isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">]) &amp;&amp; </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">] == </span><span class="string">"var1"</span><span class="keyword">) ? </span><span class="string">"selected=true" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">);</span><span class="default">?&gt;</span>&gt; For Year&lt;/option&gt; <br />    &lt;option value='var2' <span class="default">&lt;?php </span><span class="keyword">echo ((isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">]) &amp;&amp; </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">] == </span><span class="string">"var2"</span><span class="keyword">) ? </span><span class="string">"selected=true" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">);</span><span class="default">?&gt;</span>&gt;Name&lt;/option&gt;<br />    &lt;option value='var3' <span class="default">&lt;?php </span><span class="keyword">echo ((isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">]) &amp;&amp; </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">] == </span><span class="string">"var3"</span><span class="keyword">) ? </span><span class="string">"selected=true" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">);</span><span class="default">?&gt;</span>&gt;Name&amp;Year&lt;/option&gt;<br />&lt;/select&gt;<br />&lt;br&gt;<br />&lt;input type='submit' value='Button'&gt;<br /><br />&lt;/form&gt;<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">if((!isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'filepath'</span><span class="keyword">]) || !</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'filepath'</span><span class="keyword">])) || !isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'sel'</span><span class="keyword">]))<br />    exit(</span><span class="string">""</span><span class="keyword">);<br /><br />echo </span><span class="string">"List&lt;br&gt;"</span><span class="keyword">;<br /></span><span class="default">$fullPath </span><span class="keyword">= </span><span class="string">"D:\\OSPanel\\domains\\" </span><span class="keyword">. </span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"filepath"</span><span class="keyword">];<br /></span><span class="default">$f </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">);<br /></span><span class="default">$arr</span><span class="keyword">;<br />for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br />    </span><span class="default">$tempArr0 </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br />    </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$tempArr0</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />    </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$tempArr0</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />}<br /><br />if(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">] == </span><span class="string">"var1"</span><span class="keyword">){<br />    </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />    echo </span><span class="string">"&lt;p&gt;"</span><span class="keyword">;<br />    for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />        echo </span><span class="string">"&lt;i&gt;</span><span class="keyword">{</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]}</span><span class="string">&lt;/i&gt;; "</span><span class="keyword">;<br />    echo </span><span class="string">"&lt;/p&gt;"</span><span class="keyword">;<br />}<br />else if(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">] == </span><span class="string">"var2"</span><span class="keyword">){<br />    for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />        echo </span><span class="string">"&lt;p&gt;&lt;b&gt;</span><span class="keyword">{</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]}</span><span class="string">&lt;/b&gt;&lt;/p&gt;"</span><span class="keyword">; <br />}<br />else if(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"sel"</span><span class="keyword">] == </span><span class="string">"var3"</span><span class="keyword">){<br />    for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++)<br />        echo </span><span class="string">"&lt;p&gt;&lt;b&gt;</span><span class="keyword">{</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">]}</span><span class="string">&lt;/b&gt;: &lt;i&gt;</span><span class="keyword">{</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]}</span><span class="string">&lt;/i&gt;&lt;/p&gt;"</span><span class="keyword">; <br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98262">  <div class="votes">
    <div id="Vu98262">
    <a href="https://www.php.net/manual/vote-note.php?id=98262&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98262">
    <a href="https://www.php.net/manual/vote-note.php?id=98262&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98262" title="45% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#98262" class="name">
  <strong class="user"><em>lzsiga at freemail.c3.hu</em></strong></a><a class="genanchor" href="function.fgets.php.html#98262"> &para;</a><div class="date" title="2010-06-04 11:32"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98262">
<div class="phpcode"><code><span class="html">Some people try to call feof before fgets, and then ignoring the return value of fgets. This method leads to processing value FALSE when reaching the end of file.<br /><br />Bad example:<br /><span class="default">&lt;?php<br />    $f </span><span class="keyword">= </span><span class="default">fopen </span><span class="keyword">(</span><span class="string">"fgetstest.php"</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">);<br />    </span><span class="default">$ln</span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />    while (! </span><span class="default">feof </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">)) {<br />        </span><span class="default">$line</span><span class="keyword">= </span><span class="default">fgets </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />        ++</span><span class="default">$ln</span><span class="keyword">;<br />        </span><span class="default">printf </span><span class="keyword">(</span><span class="string">"%2d: "</span><span class="keyword">, </span><span class="default">$ln</span><span class="keyword">);<br />        if (</span><span class="default">$line</span><span class="keyword">===</span><span class="default">FALSE</span><span class="keyword">) print (</span><span class="string">"FALSE\n"</span><span class="keyword">);<br />        else print (</span><span class="default">$line</span><span class="keyword">);<br />    }<br />    </span><span class="default">fclose </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Good example:<br /><span class="default">&lt;?php<br />    $f </span><span class="keyword">= </span><span class="default">fopen </span><span class="keyword">(</span><span class="string">"fgetstest.php"</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">);<br />    </span><span class="default">$ln</span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />    while (</span><span class="default">$line</span><span class="keyword">= </span><span class="default">fgets </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">)) {<br />        ++</span><span class="default">$ln</span><span class="keyword">;<br />        </span><span class="default">printf </span><span class="keyword">(</span><span class="string">"%2d: "</span><span class="keyword">, </span><span class="default">$ln</span><span class="keyword">);<br />        if (</span><span class="default">$line</span><span class="keyword">===</span><span class="default">FALSE</span><span class="keyword">) print (</span><span class="string">"FALSE\n"</span><span class="keyword">);<br />        else print (</span><span class="default">$line</span><span class="keyword">);<br />    }<br />    </span><span class="default">fclose </span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="86319">  <div class="votes">
    <div id="Vu86319">
    <a href="https://www.php.net/manual/vote-note.php?id=86319&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd86319">
    <a href="https://www.php.net/manual/vote-note.php?id=86319&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V86319" title="46% like this...">
    -3
    </div>
  </div>
  <a href="function.fgets.php.html#86319" class="name">
  <strong class="user"><em>Leigh Purdie</em></strong></a><a class="genanchor" href="function.fgets.php.html#86319"> &para;</a><div class="date" title="2008-10-12 11:14"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom86319">
<div class="phpcode"><code><span class="html">For large files, consider using stream_get_line rather than fgets - it can make a significant difference.<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,65535,"\n")) { 1; } fclose($fp);'<br /><br />real    0m1.482s<br />user    0m1.616s<br />sys    0m0.152s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,65535)) { 1; } fclose($fp);'<br /><br />real    0m7.281s<br />user    0m7.392s<br />sys    0m0.136s</span></code></div>
  </div>
 </div>
  <div class="note" id="48820">  <div class="votes">
    <div id="Vu48820">
    <a href="https://www.php.net/manual/vote-note.php?id=48820&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd48820">
    <a href="https://www.php.net/manual/vote-note.php?id=48820&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V48820" title="42% like this...">
    -1
    </div>
  </div>
  <a href="function.fgets.php.html#48820" class="name">
  <strong class="user"><em>dandrews OVER AT 3dohio DOT com</em></strong></a><a class="genanchor" href="function.fgets.php.html#48820"> &para;</a><div class="date" title="2005-01-07 11:11"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom48820">
<div class="phpcode"><code><span class="html">Saku's example may also be used like this:<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">@ </span><span class="default">$pointer </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"</span><span class="default">$DOCUMENT_ROOT</span><span class="string">/foo.txt"</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">); </span><span class="comment">// the @ suppresses errors so you have to test the pointer for existence<br />   </span><span class="keyword">if (</span><span class="default">$pointer</span><span class="keyword">) {<br />     while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">)) {<br />         </span><span class="default">$preTEXT </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">, </span><span class="default">999</span><span class="keyword">);<br />         </span><span class="comment">// $TEXT .= $preTEXT;  this is better for a string<br />        </span><span class="default">$ATEXT</span><span class="keyword">[</span><span class="default">$I</span><span class="keyword">] = </span><span class="default">$preTEXT</span><span class="keyword">;  </span><span class="comment">// maybe better as an array<br />        </span><span class="default">$I</span><span class="keyword">++;<br />     }<br />     </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">);<br />   }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="113113">  <div class="votes">
    <div id="Vu113113">
    <a href="https://www.php.net/manual/vote-note.php?id=113113&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113113">
    <a href="https://www.php.net/manual/vote-note.php?id=113113&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113113" title="44% like this...">
    -4
    </div>
  </div>
  <a href="function.fgets.php.html#113113" class="name">
  <strong class="user"><em>Dade Brandon</em></strong></a><a class="genanchor" href="function.fgets.php.html#113113"> &para;</a><div class="date" title="2013-08-31 12:33"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113113">
<div class="phpcode"><code><span class="html">Regarding Leigh Purdie's comment (from 4 years ago) about stream_get_line being better for large files, I decided to test this in case it was optimized since then and I found out that Leigh's comment is just completely incorrect<br /><br />fgets actually has a small amount of better performance, but the test Leigh did was not set up to produce good results<br /><br />The suggested test was:<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,65535,"\n")) { 1; } fclose($fp);'<br /><br />0m1.616s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,65535)) { 1; } fclose($fp);'<br /><br />0m7.392s<br /><br />The reason this is invalid is because the buffer size of 65535 is completely unnecessary<br /><br />piping the output of "yes 'this is a test line'" in to PHP makes each line 19 characters plus the delimiter<br /><br />so while I don't know why stream_get_line performs better with an oversize buffer, if both buffer sizes are correct, or default, they have a negligable performance difference - although notably, stream_get_line is consistent - however if you're thinking of switching, make sure to be aware of the difference between the two functions, that stream_get_line does NOT append the delimiter, and fgets DOES append the delimiter<br /><br />Here are the results on one of my servers:<br /><br />Buffer size 65535<br />stream_get_line:    0.340s<br />fgets:   2.392s<br /><br />Buffer size of 1024<br />stream_get_line:  0m0.348s<br />fgets: 0.404s<br /><br />Buffer size of 8192 (the default for both)<br />stream_get_line: 0.348s<br />fgets:  0.552s<br /><br />Buffer size of 100:<br />stream_get_line: 0.332s<br />fgets: 0.368s</span></code></div>
  </div>
 </div>
  <div class="note" id="63589">  <div class="votes">
    <div id="Vu63589">
    <a href="https://www.php.net/manual/vote-note.php?id=63589&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd63589">
    <a href="https://www.php.net/manual/vote-note.php?id=63589&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V63589" title="42% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#63589" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.fgets.php.html#63589"> &para;</a><div class="date" title="2006-03-24 09:36"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom63589">
<div class="phpcode"><code><span class="html">Macintosh line endings mentioned in docs refer to Mac OS Classic. You don't need this setting for interoperability with unixish OS X.</span></code></div>
  </div>
 </div>
  <div class="note" id="43293">  <div class="votes">
    <div id="Vu43293">
    <a href="https://www.php.net/manual/vote-note.php?id=43293&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd43293">
    <a href="https://www.php.net/manual/vote-note.php?id=43293&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V43293" title="42% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#43293" class="name">
  <strong class="user"><em>timr</em></strong></a><a class="genanchor" href="function.fgets.php.html#43293"> &para;</a><div class="date" title="2004-06-16 07:13"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom43293">
<div class="phpcode"><code><span class="html">If you need to read an entire file into a string, use file_get_contents().  fgets() is most useful when you need to process the lines of a file separately.</span></code></div>
  </div>
 </div>
  <div class="note" id="66455">  <div class="votes">
    <div id="Vu66455">
    <a href="https://www.php.net/manual/vote-note.php?id=66455&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd66455">
    <a href="https://www.php.net/manual/vote-note.php?id=66455&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V66455" title="40% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#66455" class="name">
  <strong class="user"><em>sam dot bryan at montal dot com</em></strong></a><a class="genanchor" href="function.fgets.php.html#66455"> &para;</a><div class="date" title="2006-05-23 02:09"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom66455">
<div class="phpcode"><code><span class="html">An easy way to authenticate Windows Domain users from scripts running on a non-Windows or non-Domain box - pass the submitted username and password to an IMAP service on a Windows machine.<br /><br /><span class="default">&lt;?php<br />$server </span><span class="keyword">= </span><span class="string">'imapserver'</span><span class="keyword">;<br /></span><span class="default">$user </span><span class="keyword">= </span><span class="string">'user'</span><span class="keyword">;<br /></span><span class="default">$pass </span><span class="keyword">= </span><span class="string">'pass'</span><span class="keyword">;<br /><br />if (</span><span class="default">authIMAP</span><span class="keyword">(</span><span class="default">$user</span><span class="keyword">, </span><span class="default">$pass</span><span class="keyword">, </span><span class="default">$server</span><span class="keyword">)) {<br />    echo </span><span class="string">"yay"</span><span class="keyword">;<br />} else {<br />    echo </span><span class="string">"nay"</span><span class="keyword">;<br />}<br /><br />function </span><span class="default">authIMAP</span><span class="keyword">(</span><span class="default">$user</span><span class="keyword">, </span><span class="default">$pass</span><span class="keyword">, </span><span class="default">$server</span><span class="keyword">) {<br />    </span><span class="default">$connection </span><span class="keyword">= </span><span class="default">fsockopen</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">, </span><span class="default">143</span><span class="keyword">, </span><span class="default">$errno</span><span class="keyword">, </span><span class="default">$errstr</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">);<br /><br />    if(!</span><span class="default">$connection</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br /><br />    </span><span class="default">$output </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$connection</span><span class="keyword">, </span><span class="default">128</span><span class="keyword">); </span><span class="comment">// banner<br />    </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$connection</span><span class="keyword">, </span><span class="string">"1 login </span><span class="default">$user</span><span class="string"> </span><span class="default">$pass</span><span class="string">\r\n"</span><span class="keyword">);<br />    </span><span class="default">$output </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$connection</span><span class="keyword">, </span><span class="default">128</span><span class="keyword">);<br />    </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$connection</span><span class="keyword">, </span><span class="string">"2 logout\r\n"</span><span class="keyword">);<br />    </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$connection</span><span class="keyword">);<br /><br />    if (</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">) == </span><span class="string">'1 OK'</span><span class="keyword">) return </span><span class="default">true</span><span class="keyword">;<br /><br />    return </span><span class="default">false</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="47137">  <div class="votes">
    <div id="Vu47137">
    <a href="https://www.php.net/manual/vote-note.php?id=47137&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd47137">
    <a href="https://www.php.net/manual/vote-note.php?id=47137&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V47137" title="40% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#47137" class="name">
  <strong class="user"><em>lelkesa</em></strong></a><a class="genanchor" href="function.fgets.php.html#47137"> &para;</a><div class="date" title="2004-11-04 02:54"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom47137">
<div class="phpcode"><code><span class="html">Note that - afaik - fgets reads a line until it reaches a line feed (\\n). Carriage returns (\\r) aren't processed as line endings.<br />However, nl2br insterts a &lt;br /&gt; tag before carriage returns as well.<br />This is useful (but not nice - I must admit) when you want to store a more lines in one.<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">write_lines</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">) {<br />  </span><span class="default">$file </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'data.txt'</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">);<br />  </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">);<br />  </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />}<br /><br />function </span><span class="default">read_all</span><span class="keyword">() {<br />  </span><span class="default">$file </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'data.txt'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br />  while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)) {<br />    </span><span class="default">$line </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />    echo </span><span class="string">'&lt;u&gt;Section&lt;/u&gt;&lt;p&gt;nl2br'</span><span class="keyword">.(</span><span class="default">$line</span><span class="keyword">).</span><span class="string">'&lt;/p&gt;'</span><span class="keyword">;<br />  }<br />  </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />Try it.</span></code></div>
  </div>
 </div>
  <div class="note" id="45406">  <div class="votes">
    <div id="Vu45406">
    <a href="https://www.php.net/manual/vote-note.php?id=45406&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd45406">
    <a href="https://www.php.net/manual/vote-note.php?id=45406&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V45406" title="40% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#45406" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.fgets.php.html#45406"> &para;</a><div class="date" title="2004-09-05 03:05"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom45406">
<div class="phpcode"><code><span class="html">If you need to simulate an un-buffered fgets so that stdin doesnt hang there waiting for some input (i.e. it reads only if there is data available) use this :<br /><span class="default">&lt;?php<br /><br />    </span><span class="keyword">function </span><span class="default">fgets_u</span><span class="keyword">(</span><span class="default">$pStdn</span><span class="keyword">) {<br /><br />            </span><span class="default">$pArr </span><span class="keyword">= array(</span><span class="default">$pStdn</span><span class="keyword">);<br /><br />        if (</span><span class="default">false </span><span class="keyword">=== (</span><span class="default">$num_changed_streams </span><span class="keyword">= </span><span class="default">stream_select</span><span class="keyword">(</span><span class="default">$pArr</span><span class="keyword">, </span><span class="default">$write </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$except </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">))) {<br />            print(</span><span class="string">"\$ 001 Socket Error : UNABLE TO WATCH STDIN.\n"</span><span class="keyword">);<br />            return </span><span class="default">FALSE</span><span class="keyword">;<br />        } elseif (</span><span class="default">$num_changed_streams </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />                return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$pStdn</span><span class="keyword">, </span><span class="default">1024</span><span class="keyword">));<br />        }<br />            <br />    }<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="68144">  <div class="votes">
    <div id="Vu68144">
    <a href="https://www.php.net/manual/vote-note.php?id=68144&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68144">
    <a href="https://www.php.net/manual/vote-note.php?id=68144&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68144" title="40% like this...">
    -3
    </div>
  </div>
  <a href="function.fgets.php.html#68144" class="name">
  <strong class="user"><em>svayn at yahoo dot com</em></strong></a><a class="genanchor" href="function.fgets.php.html#68144"> &para;</a><div class="date" title="2006-07-14 02:21"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom68144">
<div class="phpcode"><code><span class="html">fgets is SLOW for scanning through large files. If you don't have PHP 5, use fscanf($file, "%s\n") instead.</span></code></div>
  </div>
 </div>
  <div class="note" id="59393">  <div class="votes">
    <div id="Vu59393">
    <a href="https://www.php.net/manual/vote-note.php?id=59393&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59393">
    <a href="https://www.php.net/manual/vote-note.php?id=59393&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59393" title="38% like this...">
    -3
    </div>
  </div>
  <a href="function.fgets.php.html#59393" class="name">
  <strong class="user"><em>hackajar &lt;matt&gt; yahoo &lt;trot&gt; com</em></strong></a><a class="genanchor" href="function.fgets.php.html#59393"> &para;</a><div class="date" title="2005-12-05 12:17"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59393">
<div class="phpcode"><code><span class="html">When working with VERY large files, php tends to fall over sideways and die.  <br /><br />Here is a neat way to pull chunks out of a file very fast and won't stop in mid line, but rater at end of last known line.  It pulled a 30+ million line 900meg file through in ~ 24 seconds.<br /><br />NOTE: <br />$buf just hold current chunk of data to work with.  If you try "$buf .=" (note 'dot' in from of '=') to append $buff, script will come to grinding crawl around 100megs of data, so work with current data then move on!<br /><br />//File to be opened<br />$file = "huge.file";<br />//Open file (DON'T USE a+ pointer will be wrong!)<br />$fp = fopen($file, 'r');<br />//Read 16meg chunks<br />$read = 16777216;<br />//\n Marker<br />$part = 0;<br /><br />while(!feof($fp)) {<br />    $rbuf = fread($fp, $read);<br />    for($i=$read;$i &gt; 0 || $n == chr(10);$i--) {<br />        $n=substr($rbuf, $i, 1);<br />        if($n == chr(10))break;<br />        //If we are at the end of the file, just grab the rest and stop loop<br />        elseif(feof($fp)) {<br />            $i = $read;<br />            $buf = substr($rbuf, 0, $i+1);<br />            break;<br />        }<br />    }<br />    //This is the buffer we want to do stuff with, maybe thow to a function?<br />    $buf = substr($rbuf, 0, $i+1);<br />    //Point marker back to last \n point<br />    $part = ftell($fp)-($read-($i+1));<br />    fseek($fp, $part);<br />}<br />fclose($fp);</span></code></div>
  </div>
 </div>
  <div class="note" id="108419">  <div class="votes">
    <div id="Vu108419">
    <a href="https://www.php.net/manual/vote-note.php?id=108419&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108419">
    <a href="https://www.php.net/manual/vote-note.php?id=108419&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108419" title="36% like this...">
    -3
    </div>
  </div>
  <a href="function.fgets.php.html#108419" class="name">
  <strong class="user"><em>dan at censornet dot com</em></strong></a><a class="genanchor" href="function.fgets.php.html#108419"> &para;</a><div class="date" title="2012-04-25 12:42"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108419">
<div class="phpcode"><code><span class="html">WARNING! fgets() and I presume any read() call to a file handle, e.g.<br /><br />  while(!feof(STDIN)) {<br />    $line = fgets(STDIN);<br /><br />    ...do something useful with $line...<br />  }<br /><br />...will result in a timeout after a default time of 60 seconds on my install. This behavior is non standard (not POSIX like) and seems to me to be a bug, or if not a major caveat which should be documented more clearly.<br /><br />After the timeout fgets() will return FALSE (=== FALSE), however, you can check to see if the stream (file handle) has really closed by checking feof($stream), e.g.<br /><br />  while(!feof(STDIN)) {<br />    $line = fgets(STDIN);<br /><br />    if($line === FALSE) {<br />      if(feof(STDIN)) {<br />        break;<br />      }<br />      continue;<br />    }<br />  <br />    ...do something useful with $line...<br />  }</span></code></div>
  </div>
 </div>
  <div class="note" id="120282">  <div class="votes">
    <div id="Vu120282">
    <a href="https://www.php.net/manual/vote-note.php?id=120282&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120282">
    <a href="https://www.php.net/manual/vote-note.php?id=120282&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120282" title="33% like this...">
    -3
    </div>
  </div>
  <a href="function.fgets.php.html#120282" class="name">
  <strong class="user"><em>bobo</em></strong></a><a class="genanchor" href="function.fgets.php.html#120282"> &para;</a><div class="date" title="2016-12-06 05:56"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120282">
<div class="phpcode"><code><span class="html">One easy sample, how to use "fgets":<br />This sample shows how to read the Information from an .txt file:<br /><br /><span class="default">&lt;?php<br />$z</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"protocol.txt"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">);                       </span><span class="comment">//r = read<br /></span><span class="keyword">if(</span><span class="default">$pointer</span><span class="keyword">!=</span><span class="default">false</span><span class="keyword">)                                    </span><span class="comment">//Is it possible to open the File?!<br /></span><span class="keyword">{<br />  </span><span class="comment">//Repeats all Information from protocol.txt<br />  </span><span class="keyword">while(!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">))                              </span><span class="comment">//the loop runs till the Pointer is at the End of the File <br />  </span><span class="keyword">{<br />    </span><span class="default">$row </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">);                            </span><span class="comment">// $row reads the Information from the row of the File<br />    </span><span class="keyword">echo </span><span class="string">"&lt;p&gt;"</span><span class="keyword">.</span><span class="default">$row</span><span class="keyword">.</span><span class="string">"&lt;/p&gt;"</span><span class="keyword">;<br />  }<br />  </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pointer</span><span class="keyword">);                                    </span><span class="comment">//File must be closed<br /></span><span class="keyword">}<br />else    <br />{<br />  echo</span><span class="string">"&lt;p&gt; It was not possible to open the File!&lt;/p&gt;"</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="119538">  <div class="votes">
    <div id="Vu119538">
    <a href="https://www.php.net/manual/vote-note.php?id=119538&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119538">
    <a href="https://www.php.net/manual/vote-note.php?id=119538&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119538" title="28% like this...">
    -3
    </div>
  </div>
  <a href="function.fgets.php.html#119538" class="name">
  <strong class="user"><em>bogdan at insightmed dot eu</em></strong></a><a class="genanchor" href="function.fgets.php.html#119538"> &para;</a><div class="date" title="2016-07-01 09:11"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119538">
<div class="phpcode"><code><span class="html">Even if  this is not really related to PHP and its internals take care when using fgets for reading input from CLI on Linux systems as it may behave unexpected because of the limitations of arguments length on these systems. For example doing rtrim(fgets(STDIN), "\n") on a user input larger than 4095 characters will cut the the input string to 4095 characters. This shortcoming can be solved using "stty -icanon" before the script run, followed by a "stty icanon" after the script is run.</span></code></div>
  </div>
 </div>
  <div class="note" id="124166">  <div class="votes">
    <div id="Vu124166">
    <a href="https://www.php.net/manual/vote-note.php?id=124166&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124166">
    <a href="https://www.php.net/manual/vote-note.php?id=124166&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124166" title="25% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#124166" class="name">
  <strong class="user"><em>zsjpxah</em></strong></a><a class="genanchor" href="function.fgets.php.html#124166"> &para;</a><div class="date" title="2019-09-03 11:29"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124166">
<div class="phpcode"><code><span class="html">It's strange no one mentions "0" in this context.<br /><br />Since "0" is considered to be false, a line with a single "0" can be treated as EOF if using the while assign idiom.<br /><br />while ($line = fgets(STDIN, 2)) {<br />}<br /><br />This may surprisingly break if a line starts with ")"</span></code></div>
  </div>
 </div>
  <div class="note" id="118250">  <div class="votes">
    <div id="Vu118250">
    <a href="https://www.php.net/manual/vote-note.php?id=118250&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118250">
    <a href="https://www.php.net/manual/vote-note.php?id=118250&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118250" title="25% like this...">
    -2
    </div>
  </div>
  <a href="function.fgets.php.html#118250" class="name">
  <strong class="user"><em>alex at alex-at dot ru</em></strong></a><a class="genanchor" href="function.fgets.php.html#118250"> &para;</a><div class="date" title="2015-11-03 10:28"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118250">
<div class="phpcode"><code><span class="html">For anyone who wants a proper non-blocking fgets for sockets, there is a tiny snippet that does just that (performance should be horrible compared to fgets though):<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">read_line_nb</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">)<br />{<br />    static </span><span class="default">$buffer </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    static </span><span class="default">$lastOffset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br /><br />    </span><span class="default">$buffer </span><span class="keyword">.= </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">0x1000</span><span class="keyword">);<br />    if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'#\\R#'</span><span class="keyword">, </span><span class="default">$buffer</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">PREG_OFFSET_CAPTURE</span><span class="keyword">, </span><span class="default">$lastOffset</span><span class="keyword">)) {<br />        </span><span class="default">$line </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$buffer</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] + </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]));<br />        </span><span class="default">$buffer </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$buffer</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">] + </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">]));<br />        return </span><span class="default">$line</span><span class="keyword">;<br />    }<br />    </span><span class="default">$lastOffset </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$buffer</span><span class="keyword">);<br />    return </span><span class="default">false</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="114247">  <div class="votes">
    <div id="Vu114247">
    <a href="https://www.php.net/manual/vote-note.php?id=114247&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114247">
    <a href="https://www.php.net/manual/vote-note.php?id=114247&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114247" title="26% like this...">
    -7
    </div>
  </div>
  <a href="function.fgets.php.html#114247" class="name">
  <strong class="user"><em>wojons</em></strong></a><a class="genanchor" href="function.fgets.php.html#114247"> &para;</a><div class="date" title="2014-01-29 11:32"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom114247">
<div class="phpcode"><code><span class="html">This goes out to Leigh Purdie (5 years ago) and also Dade Brandon (4 months ago)<br /><br />So i say Leigh posting and though omg i need to change all my fgets to stream_get_line. Then i ran the tests as shown in Leigh Purdie comment His results:<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,65535,"\n")) { 1; } fclose($fp);'<br /><br />real    0m1.482s<br />user    0m1.616s<br />sys    0m0.152s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,65535)) { 1; } fclose($fp);'<br /><br />real    0m7.281s<br />user    0m7.392s<br />sys    0m0.136s<br /><br />My Results:<br /><br />$  time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,65535,"\n")) { 1; } fclose($fp);'<br /><br />real    0m0.341s<br />user    0m0.352s<br />sys    0m0.148s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,65535)) { 1; } fclose($fp);'<br /><br />real    0m4.283s<br />user    0m4.128s<br />sys    0m0.448s<br /><br />My results do show the same issue his results show. But first off PHP has at least gotten about 2-5 times faster then when the tests were first run (or better hardware).<br /><br />Now to relate to Dade Brandon who states if you use a correct buffer size the perfomance is neck and neck. <br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,21,"\n")) { 1; } fclose($fp);'<br /><br />real    0m0.336s<br />user    0m0.412s<br />sys    0m0.076s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,21)) { 1; } fclose($fp);'<br /><br />real    0m0.312s<br />user    0m0.364s<br />sys    0m0.192s<br /><br />As you can see very close and fgets just coming just a little bit ahead. I suspect that fgets is reading backwards on the buffer or loads everything into its self then trys to figure it out where as a correct set buffer does the trick. Dade Brandon states that fgets lets you know how the line was delimited. stream_get_line lets you choose what you wanna call the delimiter using its 3rd option.<br /><br />fgets has one more option that is important, you dont have to set the length of the line. So in a case where you may not know the length of the line maybe in handling Http protocol or something else like log lines you can simply leave it off and still get great performance.<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp)) { 1; } fclose($fp);'<br /><br />real    0m0.261s<br />user    0m0.260s<br />sys    0m0.232s<br /><br />This is better then with a buffer set.</span></code></div>
  </div>
 </div>
  <div class="note" id="108685">  <div class="votes">
    <div id="Vu108685">
    <a href="https://www.php.net/manual/vote-note.php?id=108685&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108685">
    <a href="https://www.php.net/manual/vote-note.php?id=108685&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108685" title="27% like this...">
    -8
    </div>
  </div>
  <a href="function.fgets.php.html#108685" class="name">
  <strong class="user"><em>apardo at NOSPAM dot gmail dot com</em></strong></a><a class="genanchor" href="function.fgets.php.html#108685"> &para;</a><div class="date" title="2012-05-17 04:03"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108685">
<div class="phpcode"><code><span class="html">This is a a simple function to detect end of line type for any file.<br /><br /><span class="default">&lt;?php <br /></span><span class="keyword">function </span><span class="default">detectEndOfLine</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">)<br />{<br />    </span><span class="default">$handle </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="string">"r"</span><span class="keyword">);<br />    if (</span><span class="default">$handle</span><span class="keyword">)<br />    {<br />        </span><span class="default">$char</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />        while (!</span><span class="default">$eol </span><span class="keyword">|| </span><span class="default">feof</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">))<br />        {<br />            </span><span class="default">$char</span><span class="keyword">++;<br />            </span><span class="default">$line </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$char</span><span class="keyword">);<br />            </span><span class="default">$eol </span><span class="keyword">= </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/(\r)+/"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">)? </span><span class="string">"W" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">;<br />            if(!</span><span class="default">$eol</span><span class="keyword">) </span><span class="default">$eol </span><span class="keyword">= </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/(\n)+/"</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">)? </span><span class="string">"L" </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">;<br />        }<br />        return </span><span class="default">$eol</span><span class="keyword">;<br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">);<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="78730">  <div class="votes">
    <div id="Vu78730">
    <a href="https://www.php.net/manual/vote-note.php?id=78730&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78730">
    <a href="https://www.php.net/manual/vote-note.php?id=78730&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78730" title="20% like this...">
    -6
    </div>
  </div>
  <a href="function.fgets.php.html#78730" class="name">
  <strong class="user"><em>david_sitller at blackbit dot de</em></strong></a><a class="genanchor" href="function.fgets.php.html#78730"> &para;</a><div class="date" title="2007-10-24 05:32"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78730">
<div class="phpcode"><code><span class="html">If you use the example from the command-description, i recommend to trim the $buffer for further use. The line feed ist still at the end of the line. I saw this when using PHP CLI.<br /><br />Like this, checking a file-list for existing entries:<br /><br />$handle = fopen ("/tmp/files.txt", "r");<br />while (!feof($handle)) {<br />    $buffer = fgets($handle, 4096);<br />    if (file_exists(rtrim($filename,"\n"))) {<br />        echo $buffer;<br />    } else {<br />        echo $buffer." has been removed."<br />}<br />fclose ($handle);</span></code></div>
  </div>
 </div>
  <div class="note" id="101963">  <div class="votes">
    <div id="Vu101963">
    <a href="https://www.php.net/manual/vote-note.php?id=101963&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd101963">
    <a href="https://www.php.net/manual/vote-note.php?id=101963&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V101963" title="16% like this...">
    -4
    </div>
  </div>
  <a href="function.fgets.php.html#101963" class="name">
  <strong class="user"><em>hgs at cs dot columbia dot edu</em></strong></a><a class="genanchor" href="function.fgets.php.html#101963"> &para;</a><div class="date" title="2011-01-20 04:42"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom101963">
<div class="phpcode"><code><span class="html">There seems to be an interaction between sockets and the auto_detect_line_endings setting that can cause rather peculiar behavior. Apparently, if the first line read from a socket is split across two TCP packets, the detector will look at the first TCP packet and determine that the system uses MacOS (\r) line endings, even though the LF is contained in the next packet. For example, this affected the PEAR Net_SMTP package, which would fail mysteriously for only some email servers.</span></code></div>
  </div>
 </div>
  <div class="note" id="82607">  <div class="votes">
    <div id="Vu82607">
    <a href="https://www.php.net/manual/vote-note.php?id=82607&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82607">
    <a href="https://www.php.net/manual/vote-note.php?id=82607&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82607" title="16% like this...">
    -8
    </div>
  </div>
  <a href="function.fgets.php.html#82607" class="name">
  <strong class="user"><em>jerem-NoSpam-ified at live dot com</em></strong></a><a class="genanchor" href="function.fgets.php.html#82607"> &para;</a><div class="date" title="2008-04-17 08:22"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom82607">
<div class="phpcode"><code><span class="html">It's worth noting that this function only assumes chr(10) as a line break, but not chr(13). Personally, I prefer using chr(13) as a line break.</span></code></div>
  </div>
 </div>
  <div class="note" id="114246">  <div class="votes">
    <div id="Vu114246">
    <a href="https://www.php.net/manual/vote-note.php?id=114246&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114246">
    <a href="https://www.php.net/manual/vote-note.php?id=114246&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114246" title="17% like this...">
    -11
    </div>
  </div>
  <a href="function.fgets.php.html#114246" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.fgets.php.html#114246"> &para;</a><div class="date" title="2014-01-29 11:31"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom114246">
<div class="phpcode"><code><span class="html">This goes out to Leigh Purdie (5 years ago) and also Dade Brandon (4 months ago)<br /><br />So i say Leigh posting and though omg i need to change all my fgets to stream_get_line. Then i ran the tests as shown in Leigh Purdie comment His results:<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,65535,"\n")) { 1; } fclose($fp);'<br /><br />real    0m1.482s<br />user    0m1.616s<br />sys    0m0.152s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,65535)) { 1; } fclose($fp);'<br /><br />real    0m7.281s<br />user    0m7.392s<br />sys    0m0.136s<br /><br />My Results:<br /><br />$  time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,65535,"\n")) { 1; } fclose($fp);'<br /><br />real    0m0.341s<br />user    0m0.352s<br />sys    0m0.148s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,65535)) { 1; } fclose($fp);'<br /><br />real    0m4.283s<br />user    0m4.128s<br />sys    0m0.448s<br /><br />My results do show the same issue his results show. But first off PHP has at least gotten about 2-5 times faster then when the tests were first run (or better hardware).<br /><br />Now to relate to Dade Brandon who states if you use a correct buffer size the perfomance is neck and neck. <br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=stream_get_line($fp,21,"\n")) { 1; } fclose($fp);'<br /><br />real    0m0.336s<br />user    0m0.412s<br />sys    0m0.076s<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp,21)) { 1; } fclose($fp);'<br /><br />real    0m0.312s<br />user    0m0.364s<br />sys    0m0.192s<br /><br />As you can see very close and fgets just coming just a little bit ahead. I suspect that fgets is reading backwards on the buffer or loads everything into its self then trys to figure it out where as a correct set buffer does the trick. Dade Brandon states that fgets lets you know how the line was delimited. stream_get_line lets you choose what you wanna call the delimiter using its 3rd option.<br /><br />fgets has one more option that is important, you dont have to set the length of the line. So in a case where you may not know the length of the line maybe in handling Http protocol or something else like log lines you can simply leave it off and still get great performance.<br /><br />$ time yes "This is a test line" | head -1000000 | php -r '$fp=fopen("php://stdin","r"); while($line=fgets($fp)) { 1; } fclose($fp);'<br /><br />real    0m0.261s<br />user    0m0.260s<br />sys    0m0.232s<br /><br />This is better then with a buffer set.</span></code></div>
  </div>
 </div>
  <div class="note" id="40127">  <div class="votes">
    <div id="Vu40127">
    <a href="https://www.php.net/manual/vote-note.php?id=40127&amp;page=function.fgets&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd40127">
    <a href="https://www.php.net/manual/vote-note.php?id=40127&amp;page=function.fgets&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V40127" title="18% like this...">
    -14
    </div>
  </div>
  <a href="function.fgets.php.html#40127" class="name">
  <strong class="user"><em>Pete</em></strong></a><a class="genanchor" href="function.fgets.php.html#40127"> &para;</a><div class="date" title="2004-02-22 04:35"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom40127">
<div class="phpcode"><code><span class="html">If you have troubles reading binary data with versions &lt;= 4.3.2 then upgrade to 4.3.3<br />The binary safe implementation seems to have had bugs which were fixed in 4.3.3</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.fgets&amp;redirect=https://www.php.net/manual/ru/function.fgets.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.filesystem.php.html">Функции файловой системы</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.basename.php.html" title="basename">basename</a>
                        </li>
                                                <li class="">
                            <a href="function.chgrp.php.html" title="chgrp">chgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.chmod.php.html" title="chmod">chmod</a>
                        </li>
                                                <li class="">
                            <a href="function.chown.php.html" title="chown">chown</a>
                        </li>
                                                <li class="">
                            <a href="function.clearstatcache.php.html" title="clearstatcache">clearstatcache</a>
                        </li>
                                                <li class="">
                            <a href="function.copy.php.html" title="copy">copy</a>
                        </li>
                                                <li class="">
                            <a href="function.delete.php.html" title="delete">delete</a>
                        </li>
                                                <li class="">
                            <a href="function.dirname.php.html" title="dirname">dirname</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-free-space.php.html" title="disk_&#8203;free_&#8203;space">disk_&#8203;free_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-total-space.php.html" title="disk_&#8203;total_&#8203;space">disk_&#8203;total_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.diskfreespace.php.html" title="diskfreespace">diskfreespace</a>
                        </li>
                                                <li class="">
                            <a href="function.fclose.php.html" title="fclose">fclose</a>
                        </li>
                                                <li class="">
                            <a href="function.fdatasync.php.html" title="fdatasync">fdatasync</a>
                        </li>
                                                <li class="">
                            <a href="function.feof.php.html" title="feof">feof</a>
                        </li>
                                                <li class="">
                            <a href="function.fflush.php.html" title="fflush">fflush</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetc.php.html" title="fgetc">fgetc</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetcsv.php.html" title="fgetcsv">fgetcsv</a>
                        </li>
                                                <li class="current">
                            <a href="function.fgets.php.html" title="fgets">fgets</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetss.php.html" title="fgetss">fgetss</a>
                        </li>
                                                <li class="">
                            <a href="function.file-exists.php.html" title="file_&#8203;exists">file_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.file-get-contents.php.html" title="file_&#8203;get_&#8203;contents">file_&#8203;get_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file-put-contents.php.html" title="file_&#8203;put_&#8203;contents">file_&#8203;put_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file.php.html" title="file">file</a>
                        </li>
                                                <li class="">
                            <a href="function.fileatime.php.html" title="fileatime">fileatime</a>
                        </li>
                                                <li class="">
                            <a href="function.filectime.php.html" title="filectime">filectime</a>
                        </li>
                                                <li class="">
                            <a href="function.filegroup.php.html" title="filegroup">filegroup</a>
                        </li>
                                                <li class="">
                            <a href="function.fileinode.php.html" title="fileinode">fileinode</a>
                        </li>
                                                <li class="">
                            <a href="function.filemtime.php.html" title="filemtime">filemtime</a>
                        </li>
                                                <li class="">
                            <a href="function.fileowner.php.html" title="fileowner">fileowner</a>
                        </li>
                                                <li class="">
                            <a href="function.fileperms.php.html" title="fileperms">fileperms</a>
                        </li>
                                                <li class="">
                            <a href="function.filesize.php.html" title="filesize">filesize</a>
                        </li>
                                                <li class="">
                            <a href="function.filetype.php.html" title="filetype">filetype</a>
                        </li>
                                                <li class="">
                            <a href="function.flock.php.html" title="flock">flock</a>
                        </li>
                                                <li class="">
                            <a href="function.fnmatch.php.html" title="fnmatch">fnmatch</a>
                        </li>
                                                <li class="">
                            <a href="function.fopen.php.html" title="fopen">fopen</a>
                        </li>
                                                <li class="">
                            <a href="function.fpassthru.php.html" title="fpassthru">fpassthru</a>
                        </li>
                                                <li class="">
                            <a href="function.fputcsv.php.html" title="fputcsv">fputcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fputs.php.html" title="fputs">fputs</a>
                        </li>
                                                <li class="">
                            <a href="function.fread.php.html" title="fread">fread</a>
                        </li>
                                                <li class="">
                            <a href="function.fscanf.php.html" title="fscanf">fscanf</a>
                        </li>
                                                <li class="">
                            <a href="function.fseek.php.html" title="fseek">fseek</a>
                        </li>
                                                <li class="">
                            <a href="function.fstat.php.html" title="fstat">fstat</a>
                        </li>
                                                <li class="">
                            <a href="function.fsync.php.html" title="fsync">fsync</a>
                        </li>
                                                <li class="">
                            <a href="function.ftell.php.html" title="ftell">ftell</a>
                        </li>
                                                <li class="">
                            <a href="function.ftruncate.php.html" title="ftruncate">ftruncate</a>
                        </li>
                                                <li class="">
                            <a href="function.fwrite.php.html" title="fwrite">fwrite</a>
                        </li>
                                                <li class="">
                            <a href="function.glob.php.html" title="glob">glob</a>
                        </li>
                                                <li class="">
                            <a href="function.is-dir.php.html" title="is_&#8203;dir">is_&#8203;dir</a>
                        </li>
                                                <li class="">
                            <a href="function.is-executable.php.html" title="is_&#8203;executable">is_&#8203;executable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-file.php.html" title="is_&#8203;file">is_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-link.php.html" title="is_&#8203;link">is_&#8203;link</a>
                        </li>
                                                <li class="">
                            <a href="function.is-readable.php.html" title="is_&#8203;readable">is_&#8203;readable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-uploaded-file.php.html" title="is_&#8203;uploaded_&#8203;file">is_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writable.php.html" title="is_&#8203;writable">is_&#8203;writable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writeable.php.html" title="is_&#8203;writeable">is_&#8203;writeable</a>
                        </li>
                                                <li class="">
                            <a href="function.lchgrp.php.html" title="lchgrp">lchgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.lchown.php.html" title="lchown">lchown</a>
                        </li>
                                                <li class="">
                            <a href="function.link.php.html" title="link">link</a>
                        </li>
                                                <li class="">
                            <a href="function.linkinfo.php.html" title="linkinfo">linkinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.lstat.php.html" title="lstat">lstat</a>
                        </li>
                                                <li class="">
                            <a href="function.mkdir.php.html" title="mkdir">mkdir</a>
                        </li>
                                                <li class="">
                            <a href="function.move-uploaded-file.php.html" title="move_&#8203;uploaded_&#8203;file">move_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-file.php.html" title="parse_&#8203;ini_&#8203;file">parse_&#8203;ini_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-string.php.html" title="parse_&#8203;ini_&#8203;string">parse_&#8203;ini_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.pathinfo.php.html" title="pathinfo">pathinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.pclose.php.html" title="pclose">pclose</a>
                        </li>
                                                <li class="">
                            <a href="function.popen.php.html" title="popen">popen</a>
                        </li>
                                                <li class="">
                            <a href="function.readfile.php.html" title="readfile">readfile</a>
                        </li>
                                                <li class="">
                            <a href="function.readlink.php.html" title="readlink">readlink</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-get.php.html" title="realpath_&#8203;cache_&#8203;get">realpath_&#8203;cache_&#8203;get</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-size.php.html" title="realpath_&#8203;cache_&#8203;size">realpath_&#8203;cache_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath.php.html" title="realpath">realpath</a>
                        </li>
                                                <li class="">
                            <a href="function.rename.php.html" title="rename">rename</a>
                        </li>
                                                <li class="">
                            <a href="function.rewind.php.html" title="rewind">rewind</a>
                        </li>
                                                <li class="">
                            <a href="function.rmdir.php.html" title="rmdir">rmdir</a>
                        </li>
                                                <li class="">
                            <a href="function.set-file-buffer.php.html" title="set_&#8203;file_&#8203;buffer">set_&#8203;file_&#8203;buffer</a>
                        </li>
                                                <li class="">
                            <a href="function.stat.php.html" title="stat">stat</a>
                        </li>
                                                <li class="">
                            <a href="function.symlink.php.html" title="symlink">symlink</a>
                        </li>
                                                <li class="">
                            <a href="function.tempnam.php.html" title="tempnam">tempnam</a>
                        </li>
                                                <li class="">
                            <a href="function.tmpfile.php.html" title="tmpfile">tmpfile</a>
                        </li>
                                                <li class="">
                            <a href="function.touch.php.html" title="touch">touch</a>
                        </li>
                                                <li class="">
                            <a href="function.umask.php.html" title="umask">umask</a>
                        </li>
                                                <li class="">
                            <a href="function.unlink.php.html" title="unlink">unlink</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
