<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: fmod - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.fmod.php.html">
 <link rel="shorturl" href="https://www.php.net/fmod">
 <link rel="alternate" href="https://www.php.net/fmod" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.math.php.html">
 <link rel="prev" href="function.floor.php.html">
 <link rel="next" href="function.hexdec.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.fmod.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.fmod.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.fmod.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.fmod.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.fmod.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.fmod.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.fmod.php" hreflang="pt_BR">
 <link rel="alternate" href="function.fmod.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.fmod.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.fmod.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.hexdec.php.html">
          hexdec &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.floor.php.html">
          &laquo; floor        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.math.php.html'>Математические модули</a></li>      <li><a href='book.math.php.html'>Math</a></li>      <li><a href='ref.math.php.html'>Математические функции</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.fmod.php'>English</option>
            <option value='de/function.fmod.php'>German</option>
            <option value='es/function.fmod.php'>Spanish</option>
            <option value='fr/function.fmod.php'>French</option>
            <option value='it/function.fmod.php'>Italian</option>
            <option value='ja/function.fmod.php'>Japanese</option>
            <option value='pt_BR/function.fmod.php'>Brazilian Portuguese</option>
            <option value='ru/function.fmod.php' selected="selected">Russian</option>
            <option value='tr/function.fmod.php'>Turkish</option>
            <option value='zh/function.fmod.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/math/functions/fmod.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.fmod%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.fmod" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fmod</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">fmod</span> &mdash; <span class="dc-title">Возвращает дробный остаток от деления по модулю</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.fmod-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>fmod</strong></span>(<span class="methodparam"><span class="type">float</span> <code class="parameter">$num1</code></span>, <span class="methodparam"><span class="type">float</span> <code class="parameter">$num2</code></span>): <span class="type">float</span></div>

  <p class="para rdfs-comment">
   Возвращает в виде числа с плавающей точкой дробный остаток от деления делимого <code class="parameter">num1</code> на делитель
   <code class="parameter">num2</code>. Остаток (<var class="varname">r</var>) будет определён так:
   num1 = i * num2 + r, где <var class="varname">i</var> — целое число. Если
   <code class="parameter">num2</code> не равен нулю, то у переменной <var class="varname">r</var> будет тот же знак,
   что и у числа <code class="parameter">num1</code> и величину, меньшую или равную величине
   числа <code class="parameter">num2</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.fmod-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">num1</code></dt>

     <dd>

      <p class="para">
       Делимое.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">num2</code></dt>

     <dd>

      <p class="para">
       Делитель.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.fmod-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает в виде числа с плавающей точкой остаток деления
   <code class="parameter">num1</code>/<code class="parameter">num2</code>.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.fmod-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования функции <span class="function"><strong>fmod()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$x </span><span style="color: #007700">= </span><span style="color: #0000BB">5.7</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$y </span><span style="color: #007700">= </span><span style="color: #0000BB">1.3</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$r </span><span style="color: #007700">= </span><span style="color: #0000BB">fmod</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">, </span><span style="color: #0000BB">$y</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// Значение переменной $r равно 0.5, потому что 4 * 1.3 + 0.5 = 5.7<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.fmod-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="language.operators.arithmetic.php.html" class="link"><code class="literal">/</code></a> — Деление с плавающей точкой</li>
    <li class="member"><a href="language.operators.arithmetic.php.html" class="link"><code class="literal">%</code></a> — Целочисленный модуль</li>
    <li class="member"><span class="function"><a href="function.intdiv.php.html" class="function">intdiv()</a></span> — Целочисленное деление</li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.fmod&amp;redirect=https://www.php.net/manual/ru/function.fmod.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">20 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="120410">  <div class="votes">
    <div id="Vu120410">
    <a href="https://www.php.net/manual/vote-note.php?id=120410&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120410">
    <a href="https://www.php.net/manual/vote-note.php?id=120410&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120410" title="100% like this...">
    3
    </div>
  </div>
  <a href="function.fmod.php.html#120410" class="name">
  <strong class="user"><em>nospam at neonit dot de</em></strong></a><a class="genanchor" href="function.fmod.php.html#120410"> &para;</a><div class="date" title="2017-01-04 10:11"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120410">
<div class="phpcode"><code><span class="html">Note that fmod does not behave like a similar function written in PHP itself does due to the lack of fixing floating point representation errors.<br /><br />Have a look at this:<br /><span class="default">&lt;?php<br />var_dump</span><span class="keyword">(</span><span class="default">10 </span><span class="keyword">/ (</span><span class="default">10 </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">) === </span><span class="default">3.0</span><span class="keyword">); </span><span class="comment">// bool(true)<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">10 </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">)); </span><span class="comment">// float(3.3333333333333)<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">10 </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">) &lt; </span><span class="default">10 </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">); </span><span class="comment">// bool(true)<br /></span><span class="default">?&gt;<br /></span><br />Internally there is no way of exactly representing the result of 10 / 3, so it will always be a bit above or below the actual result. In this case, the example proves it being a bit above the actual result.<br /><br />PHP seems quite good at auto-fixing floating point representation errors so they behave like the user would expect it. That's why the first line yields true, although the result is slightly below 3 (like 2.9999999999[something]). I failed to trick PHP into rounding or cropping the result to 2.<br /><br />However, fmod seems to not apply these fixes during calculations. From 10 / 3 it gets a value slightly below 3, floors it to 2 and returns 10 - 2 * 10 / 3, which is slightly less than the actual result of 10 / 3, but looks like 10 / 3 (third line).<br /><br />Unfortunately, this is not the expected result. See other notes for high quality fixes.</span></code></div>
  </div>
 </div>
  <div class="note" id="116003">  <div class="votes">
    <div id="Vu116003">
    <a href="https://www.php.net/manual/vote-note.php?id=116003&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116003">
    <a href="https://www.php.net/manual/vote-note.php?id=116003&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116003" title="100% like this...">
    3
    </div>
  </div>
  <a href="function.fmod.php.html#116003" class="name">
  <strong class="user"><em>timo underscore teichert at yahoo dot de</em></strong></a><a class="genanchor" href="function.fmod.php.html#116003"> &para;</a><div class="date" title="2014-10-27 01:40"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116003">
<div class="phpcode"><code><span class="html">The behaviour of this function seems to have changed over time.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">echo </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); <br /></span><span class="comment">// php 5.3.2 outputs -2<br />// php 5.3.8 outputs 3<br /><br /></span><span class="keyword">echo </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">); <br /></span><span class="comment">// php 5.3.2 outputs 2<br />// php 5.3.8 outputs 2<br /><br /></span><span class="default">?&gt;<br /></span><br />- Timo</span></code></div>
  </div>
 </div>
  <div class="note" id="48881">  <div class="votes">
    <div id="Vu48881">
    <a href="https://www.php.net/manual/vote-note.php?id=48881&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd48881">
    <a href="https://www.php.net/manual/vote-note.php?id=48881&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V48881" title="65% like this...">
    12
    </div>
  </div>
  <a href="function.fmod.php.html#48881" class="name">
  <strong class="user"><em>jphansen at uga dot edu</em></strong></a><a class="genanchor" href="function.fmod.php.html#48881"> &para;</a><div class="date" title="2005-01-10 11:44"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom48881">
<div class="phpcode"><code><span class="html">fmod() does not mirror a calculator's mod function. For example, fmod(.25, .05) will return .05 instead of 0 due to floor(). Using the aforementioned example, you may get 0 by replacing floor() with round() in a custom fmod().<br /><br />&lt;?<br />function fmod_round($x, $y) {<br />    $i = round($x / $y);<br />    return $x - $i * $y;<br />}<br /><br />var_dump(fmod(.25, .05)); // float(0.05)<br />var_dump(fmod_round(.25, .05)); // float(0)<br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="59530">  <div class="votes">
    <div id="Vu59530">
    <a href="https://www.php.net/manual/vote-note.php?id=59530&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59530">
    <a href="https://www.php.net/manual/vote-note.php?id=59530&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59530" title="57% like this...">
    7
    </div>
  </div>
  <a href="function.fmod.php.html#59530" class="name">
  <strong class="user"><em>cory at lavacube dot net</em></strong></a><a class="genanchor" href="function.fmod.php.html#59530"> &para;</a><div class="date" title="2005-12-08 10:13"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59530">
<div class="phpcode"><code><span class="html">I don't believe that is correct.<br /><br />Try this out using your patch:<br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">echo </span><span class="default">duration</span><span class="keyword">( </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2006</span><span class="keyword">)-</span><span class="default">time</span><span class="keyword">() );<br /><br /></span><span class="default">?&gt;<br /></span><br />As of right now, this will read:<br />1 month, 22 days, 24 hours, 49 minutes, 15 seconds<br /><br />Which is completely incorrect. Seeing as how it is the 9th of December.<br /><br />The real real flaw here is how the 'year' and 'month' periods are calculated. As most months vary in length...<br /><br />Thank you very much SnakeEater251 for pointing this out.<br /><br />The quickest way to get slightly more accurate results, is to use averages based on one "true" year, which is 365.25 days.<br /><br />Change the year and month to:<br />      'year'       =&gt; 31557600, // one 'true year' (365.25 days)<br />      'month'    =&gt; 2629800, // one 'true year' divided by 12 :-)<br /><br />I will work on developing a true fix, for pin-point accuracy. ;-)<br /><br /> - Cory Christison</span></code></div>
  </div>
 </div>
  <div class="note" id="114237">  <div class="votes">
    <div id="Vu114237">
    <a href="https://www.php.net/manual/vote-note.php?id=114237&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114237">
    <a href="https://www.php.net/manual/vote-note.php?id=114237&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114237" title="71% like this...">
    3
    </div>
  </div>
  <a href="function.fmod.php.html#114237" class="name">
  <strong class="user"><em>KRAER</em></strong></a><a class="genanchor" href="function.fmod.php.html#114237"> &para;</a><div class="date" title="2014-01-28 11:23"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom114237">
<div class="phpcode"><code><span class="html">To create a list of primes in a bash based on php wich can be resumed after breaking I did use fmod() and some snippets offered by two more users here on php comments.<br /><br />This will output :<br />"prime;difference-between-last-and-current-prime"<br /><br />So credit goes to them. I only did the logfile output.<br /><br />This will function up to whatever fmod supports as highest value. Just enter the $end value. And do a touch to the logfile followed by chmod 666 so php can access it.<br /><br /><span class="default">&lt;?php <br /></span><span class="keyword">function </span><span class="default">tailCustom</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">, </span><span class="default">$lines </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">, </span><span class="default">$adaptive </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">) {<br /> <br />        </span><span class="comment">// Open file<br />        </span><span class="default">$f </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">, </span><span class="string">"rb"</span><span class="keyword">);<br />        if (</span><span class="default">$f </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br /> <br />        </span><span class="comment">// Sets buffer size<br />        </span><span class="keyword">if (!</span><span class="default">$adaptive</span><span class="keyword">) </span><span class="default">$buffer </span><span class="keyword">= </span><span class="default">4096</span><span class="keyword">;<br />        else </span><span class="default">$buffer </span><span class="keyword">= (</span><span class="default">$lines </span><span class="keyword">&lt; </span><span class="default">2 </span><span class="keyword">? </span><span class="default">64 </span><span class="keyword">: (</span><span class="default">$lines </span><span class="keyword">&lt; </span><span class="default">10 </span><span class="keyword">? </span><span class="default">512 </span><span class="keyword">: </span><span class="default">4096</span><span class="keyword">));<br /> <br />        </span><span class="comment">// Jump to last character<br />        </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">SEEK_END</span><span class="keyword">);<br /> <br />        </span><span class="comment">// Read it and adjust line number if necessary<br />        // (Otherwise the result would be wrong if file doesn't end with a blank line)<br />        </span><span class="keyword">if (</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) != </span><span class="string">"\n"</span><span class="keyword">) </span><span class="default">$lines </span><span class="keyword">-= </span><span class="default">1</span><span class="keyword">;<br />        <br />        </span><span class="comment">// Start reading<br />        </span><span class="default">$output </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />        </span><span class="default">$chunk </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br /> <br />        </span><span class="comment">// While we would like more<br />        </span><span class="keyword">while (</span><span class="default">ftell</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">) &gt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$lines </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">) {<br /> <br />            </span><span class="comment">// Figure out how far back we should jump<br />            </span><span class="default">$seek </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">(</span><span class="default">ftell</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">), </span><span class="default">$buffer</span><span class="keyword">);<br /> <br />            </span><span class="comment">// Do the jump (backwards, relative to where we are)<br />            </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, -</span><span class="default">$seek</span><span class="keyword">, </span><span class="default">SEEK_CUR</span><span class="keyword">);<br /> <br />            </span><span class="comment">// Read a chunk and prepend it to our output<br />            </span><span class="default">$output </span><span class="keyword">= (</span><span class="default">$chunk </span><span class="keyword">= </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">$seek</span><span class="keyword">)) . </span><span class="default">$output</span><span class="keyword">;<br /> <br />            </span><span class="comment">// Jump back to where we started reading<br />            </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, -</span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$chunk</span><span class="keyword">, </span><span class="string">'8bit'</span><span class="keyword">), </span><span class="default">SEEK_CUR</span><span class="keyword">);<br /> <br />            </span><span class="comment">// Decrease our line counter<br />            </span><span class="default">$lines </span><span class="keyword">-= </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$chunk</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">);<br /> <br />        }<br /> <br />        </span><span class="comment">// While we have too many lines<br />        // (Because of buffer size we might have read too many)<br />        </span><span class="keyword">while (</span><span class="default">$lines</span><span class="keyword">++ &lt; </span><span class="default">0</span><span class="keyword">) {<br /> <br />            </span><span class="comment">// Find first newline and remove all text before that<br />            </span><span class="default">$output </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">);<br /> <br />        }<br /> <br />        </span><span class="comment">// Close file and return<br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />        return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">);<br /> <br />    }<br /><br />function </span><span class="default">isPrime</span><span class="keyword">( </span><span class="default">$num </span><span class="keyword">) <br />{ <br />    for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$num</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ ) <br />        if( !</span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">) ) <br />            return </span><span class="default">FALSE</span><span class="keyword">; <br /><br />    return </span><span class="default">TRUE</span><span class="keyword">; <br />} <br /><br /></span><span class="default">$logfile </span><span class="keyword">= </span><span class="string">'prim_save.log'</span><span class="keyword">;<br /><br /></span><span class="default">$lastline </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">";"</span><span class="keyword">, </span><span class="default">tailCustom</span><span class="keyword">(</span><span class="default">$logfile</span><span class="keyword">));<br /></span><span class="default">$begin </span><span class="keyword">= (</span><span class="default">$lastline</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] +</span><span class="default">1</span><span class="keyword">);<br /></span><span class="default">$lastprime </span><span class="keyword">= </span><span class="default">$lastline</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br /><br /></span><span class="default">$end </span><span class="keyword">= </span><span class="default">999999999999999999999999999999999999</span><span class="keyword">; <br /><br /></span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$logfile</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">);<br /></span><span class="comment">//Lineformat    $i.';'.$difference.';'."\n"<br /><br /></span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">$begin</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$end</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) <br />{ <br />    if(</span><span class="default">isPrime</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">) == </span><span class="default">TRUE</span><span class="keyword">) <br />    { <br />        </span><span class="default">$difference </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">- </span><span class="default">$lastprime</span><span class="keyword">;<br />        </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">.</span><span class="string">';'</span><span class="keyword">.</span><span class="default">$difference</span><span class="keyword">.</span><span class="string">';'</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">);<br />        </span><span class="default">$lastprime </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />    } <br />}<br /><br /></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="96131">  <div class="votes">
    <div id="Vu96131">
    <a href="https://www.php.net/manual/vote-note.php?id=96131&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd96131">
    <a href="https://www.php.net/manual/vote-note.php?id=96131&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V96131" title="66% like this...">
    4
    </div>
  </div>
  <a href="function.fmod.php.html#96131" class="name">
  <strong class="user"><em>dePijd</em></strong></a><a class="genanchor" href="function.fmod.php.html#96131"> &para;</a><div class="date" title="2010-02-10 06:37"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom96131">
<div class="phpcode"><code><span class="html">This class ran through several unit tests and fixes all failures found in bugs.php.net<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">MyNumber </span><span class="keyword">{<br />    public static function </span><span class="default">isZero</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">, </span><span class="default">$precision </span><span class="keyword">= </span><span class="default">0.0000000001</span><span class="keyword">)<br />    {<br />        </span><span class="default">$precision </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$precision</span><span class="keyword">);<br />        return -</span><span class="default">$precision </span><span class="keyword">&lt; (float)</span><span class="default">$number </span><span class="keyword">&amp;&amp; (float)</span><span class="default">$number </span><span class="keyword">&lt; </span><span class="default">$precision</span><span class="keyword">;<br />    }<br />    public static function </span><span class="default">isEqual</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">)<br />    {<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">isZero</span><span class="keyword">(</span><span class="default">$number1 </span><span class="keyword">- </span><span class="default">$number2</span><span class="keyword">);<br />    }<br />    public static function </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">)<br />    {<br />        </span><span class="default">$rest </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">);<br />        if (</span><span class="default">self</span><span class="keyword">::</span><span class="default">isEqual</span><span class="keyword">(</span><span class="default">$rest</span><span class="keyword">, </span><span class="default">$number2</span><span class="keyword">)) {<br />            return </span><span class="default">0.0</span><span class="keyword">;<br />        }<br />        if (</span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br />            </span><span class="default">$decimals1 </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />        } else {<br />            </span><span class="default">$decimals1 </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">) - </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number1</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />        }<br />        if (</span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br />            </span><span class="default">$decimals2 </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />        } else {<br />            </span><span class="default">$decimals2 </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$number2</span><span class="keyword">) - </span><span class="default">mb_strpos</span><span class="keyword">(</span><span class="default">$number2</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />        }<br />        return (float)</span><span class="default">round</span><span class="keyword">(</span><span class="default">$rest</span><span class="keyword">, </span><span class="default">max</span><span class="keyword">(</span><span class="default">$decimals1</span><span class="keyword">, </span><span class="default">$decimals2</span><span class="keyword">));<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="122782">  <div class="votes">
    <div id="Vu122782">
    <a href="https://www.php.net/manual/vote-note.php?id=122782&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122782">
    <a href="https://www.php.net/manual/vote-note.php?id=122782&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122782" title="63% like this...">
    3
    </div>
  </div>
  <a href="function.fmod.php.html#122782" class="name">
  <strong class="user"><em>dan  danschafer  net</em></strong></a><a class="genanchor" href="function.fmod.php.html#122782"> &para;</a><div class="date" title="2018-05-30 03:26"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122782">
<div class="phpcode"><code><span class="html">WARNING: Due to how floating point numbers work, fmod() and any simple alternatives are problematic when there is either a massive orders of magnitude different between the input $x and $y, or the input and output values. If you need to work with large numbers or arbitrary precision, it is best to work with something like BC Math or GMP.<br /><br />When working around fmod()'s problems, remember that floor() always goes towards -INF, not 0. This causes a commonly proposed fmod() alternative to only work with positive numbers:<br /><span class="default">&lt;?php <br /></span><span class="keyword">function </span><span class="default">fmod_positive_only</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">) {<br />    return </span><span class="default">$x </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">/</span><span class="default">$y</span><span class="keyword">) * </span><span class="default">$y</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span>Given these simplistic input values:<br />fmod_positive_only(-5, 3) = 1 (wrong)<br />-5 % 3 = -2 (correct)<br /><br />Correctly removing the decimal part of the quotient can be achieved with either casting to an int (always goes towards zero) or dynamically choosing ceil() or floor(). Dynamically choosing floor or ceil in an attempt to keep precision is overkill. If your $x and $y values are so different that it suffers from an overflow problem when casting, it was probably going to have precision problems anyway (see warnings below).<br /><br /><span class="default">&lt;?php <br /></span><span class="keyword">function </span><span class="default">fmod_overkill</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">) {<br />    if (!</span><span class="default">$y</span><span class="keyword">) { return </span><span class="default">NAN</span><span class="keyword">; }<br />    </span><span class="default">$q </span><span class="keyword">= </span><span class="default">$x </span><span class="keyword">/ </span><span class="default">$y</span><span class="keyword">;<br />    </span><span class="default">$f </span><span class="keyword">= (</span><span class="default">$q </span><span class="keyword">&lt; </span><span class="default">0 </span><span class="keyword">? </span><span class="string">'ceil' </span><span class="keyword">: </span><span class="string">'floor'</span><span class="keyword">);<br />    return </span><span class="default">$x </span><span class="keyword">- </span><span class="default">$f</span><span class="keyword">(</span><span class="default">$q</span><span class="keyword">) * </span><span class="default">$y</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />This is the "best" alternative for fmod() when given "normal" numbers.<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">fmod_alt</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">) {<br />    if (!</span><span class="default">$y</span><span class="keyword">) { return </span><span class="default">NAN</span><span class="keyword">; }<br />    return </span><span class="default">floatval</span><span class="keyword">(</span><span class="default">$x </span><span class="keyword">- </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$x </span><span class="keyword">/ </span><span class="default">$y</span><span class="keyword">) * </span><span class="default">$y</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />WARNING: Even when you get a non-zero response, know your input numbers and when fmod() can go wrong. For large values or depending on your input variable types, float still may not contain enough precision to get back the correct answer. Here are a few problems with fmod() and their alternatives.<br /><br />PHP_INT_MAX = 9223372036854775807<br />fmod(PHP_INT_MAX, 2) = 0 (wrong)<br />fmod_alt(PHP_INT_MAX, 2) = 0 (wrong)<br />PHP_INT_MAX % 2 = 1 (correct)<br /><br />fmod(PHP_INT_MAX, PHP_INT_MAX - 1) = 0 (wrong)<br />fmod_alt(PHP_INT_MAX, PHP_INT_MAX - 1) = 1 (correct)<br />fmod_alt(PHP_INT_MAX, PHP_INT_MAX - 1.0) = 0 (wrong)<br />PHP_INT_MAX % (PHP_INT_MAX - 1) = 1 (correct)<br />PHP_INT_MAX % (PHP_INT_MAX - 1.0) = 9223372036854775807 (wrong)<br /><br />fmod(PHP_INT_MAX, 131) =  98 (wrong)<br />fmod_alt(PHP_INT_MAX, 131) = 359 (wrong)<br />fmod_positive_only(PHP_INT_MAX, 131) = 0 (wrong)<br />PHP_INT_MAX % 131 = 97 (correct)</span></code></div>
  </div>
 </div>
  <div class="note" id="112627">  <div class="votes">
    <div id="Vu112627">
    <a href="https://www.php.net/manual/vote-note.php?id=112627&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112627">
    <a href="https://www.php.net/manual/vote-note.php?id=112627&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112627" title="66% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#112627" class="name">
  <strong class="user"><em>Adrien Gibrat</em></strong></a><a class="genanchor" href="function.fmod.php.html#112627"> &para;</a><div class="date" title="2013-07-05 10:33"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112627">
<div class="phpcode"><code><span class="html">There is an elegant way to do compute gcm :<br /><a href="https://en.wikipedia.org/wiki/Greatest_common_divisor" rel="nofollow" target="_blank">https://en.wikipedia.org/wiki/Greatest_common_divisor</a><br /><br />    // Recursive function to compute gcd (euclidian method)<br />    function gcd ($a, $b) {<br />        return $b ? gcd($b, $a % $b) : $a;<br />    }<br />    // Then reduce any list of integer<br />    echo array_reduce(array(42, 56, 28), 'gcd'); // === 14<br /><br />If you want to work with floating points, use approximation :<br /><br />    function fgcd ($a, $b) {<br />        return $b &gt; .01 ? fgcd($b, fmod($a, $b)) : $a; // using fmod<br />    }<br />    echo array_reduce(array(2.468, 3.7, 6.1699), 'fgcd'); // ~= 1.232<br /><br />You can use a closure in PHP 5.3 :<br /><br />    $gcd = function ($a, $b) use (&amp;$gcd) { return $b ? $gcd($b, $a % $b) : $a; };</span></code></div>
  </div>
 </div>
  <div class="note" id="39946">  <div class="votes">
    <div id="Vu39946">
    <a href="https://www.php.net/manual/vote-note.php?id=39946&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd39946">
    <a href="https://www.php.net/manual/vote-note.php?id=39946&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V39946" title="59% like this...">
    4
    </div>
  </div>
  <a href="function.fmod.php.html#39946" class="name">
  <strong class="user"><em>alex at xelam dot net</em></strong></a><a class="genanchor" href="function.fmod.php.html#39946"> &para;</a><div class="date" title="2004-02-16 01:19"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom39946">
<div class="phpcode"><code><span class="html">Integer Modulo<br /><br />If you want the remainder of the division of two Integers rather than Floats, use "%"; eg:<br /><br /><span class="default">&lt;?php<br />$a </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;<br /></span><span class="default">$b </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br /><br />print(</span><span class="default">$a </span><span class="keyword">% </span><span class="default">$b</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Will output "1".</span></code></div>
  </div>
 </div>
  <div class="note" id="30182">  <div class="votes">
    <div id="Vu30182">
    <a href="https://www.php.net/manual/vote-note.php?id=30182&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd30182">
    <a href="https://www.php.net/manual/vote-note.php?id=30182&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V30182" title="57% like this...">
    3
    </div>
  </div>
  <a href="function.fmod.php.html#30182" class="name">
  <strong class="user"><em>picaune at hotmail dot com</em></strong></a><a class="genanchor" href="function.fmod.php.html#30182"> &para;</a><div class="date" title="2003-03-09 03:57"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom30182">
<div class="phpcode"><code><span class="html">NAN (.net Equivalent = Double.NaN) means "Not-a-Number".<br />Some ways to get NaN are modulo 0, and square root of 0.</span></code></div>
  </div>
 </div>
  <div class="note" id="58977">  <div class="votes">
    <div id="Vu58977">
    <a href="https://www.php.net/manual/vote-note.php?id=58977&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd58977">
    <a href="https://www.php.net/manual/vote-note.php?id=58977&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V58977" title="60% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#58977" class="name">
  <strong class="user"><em>cory at simplesystems dot ca</em></strong></a><a class="genanchor" href="function.fmod.php.html#58977"> &para;</a><div class="date" title="2005-11-22 05:39"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom58977">
<div class="phpcode"><code><span class="html">Just a note on the previous note by Ryan Means:<br /><br />Instead of using explode() to get the number before the decimal point, would be to use floor()... floor() rounds fractions down, which is exactly what is needed.<br /><br />His same example using floor();<br /><br /><span class="default">&lt;?PHP<br />$totalsec</span><span class="keyword">=</span><span class="default">XXXXXXX</span><span class="keyword">; </span><span class="comment">//Replace the X's with a int value of seconds<br /><br /></span><span class="default">$daysarray </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$totalsec</span><span class="keyword">/</span><span class="default">86400 </span><span class="keyword">);<br /><br /></span><span class="default">$partdays </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$totalsec</span><span class="keyword">, </span><span class="default">86400</span><span class="keyword">);<br /></span><span class="default">$hours </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$partdays</span><span class="keyword">/</span><span class="default">3600 </span><span class="keyword">);<br /><br /></span><span class="default">$parthours </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$partdays</span><span class="keyword">, </span><span class="default">3600</span><span class="keyword">);<br /></span><span class="default">$min </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$parthours</span><span class="keyword">/</span><span class="default">60 </span><span class="keyword">);<br /><br /></span><span class="default">$sec </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$parthours</span><span class="keyword">, </span><span class="default">60</span><span class="keyword">);<br /><br />echo </span><span class="string">"days " </span><span class="keyword">. </span><span class="default">$days </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"hours " </span><span class="keyword">. </span><span class="default">$hours </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"minutes " </span><span class="keyword">. </span><span class="default">$min </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"seconds " </span><span class="keyword">. </span><span class="default">$sec </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="59130">  <div class="votes">
    <div id="Vu59130">
    <a href="https://www.php.net/manual/vote-note.php?id=59130&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59130">
    <a href="https://www.php.net/manual/vote-note.php?id=59130&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59130" title="58% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#59130" class="name">
  <strong class="user"><em>SnakeEater251</em></strong></a><a class="genanchor" href="function.fmod.php.html#59130"> &para;</a><div class="date" title="2005-11-26 10:16"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59130">
<div class="phpcode"><code><span class="html">Note on the code given by cory at lavacube dot net.<br />You will recieve better results by not using floor and using round instead. As you continue increasing to larger amounts of time you will notice that the outputted time is off by large amounts.<br /><br />so instead of $temp = floor( $int_seconds / $length );<br />we would use  $temp = round( $int_seconds / $length );<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">duration</span><span class="keyword">( </span><span class="default">$int_seconds</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$if_reached</span><span class="keyword">=</span><span class="default">null </span><span class="keyword">)<br />{<br />   </span><span class="default">$key_suffix </span><span class="keyword">= </span><span class="string">'s'</span><span class="keyword">;<br />   </span><span class="default">$periods </span><span class="keyword">= array(<br />                   </span><span class="string">'year'        </span><span class="keyword">=&gt; </span><span class="default">31556926</span><span class="keyword">,<br />                   </span><span class="string">'month'        </span><span class="keyword">=&gt; </span><span class="default">2629743</span><span class="keyword">,<br />                   </span><span class="string">'day'        </span><span class="keyword">=&gt; </span><span class="default">86400</span><span class="keyword">,<br />                   </span><span class="string">'hour'        </span><span class="keyword">=&gt; </span><span class="default">3600</span><span class="keyword">,<br />                   </span><span class="string">'minute'    </span><span class="keyword">=&gt; </span><span class="default">60</span><span class="keyword">,<br />                   </span><span class="string">'second'    </span><span class="keyword">=&gt; </span><span class="default">1<br />                   </span><span class="keyword">);<br /><br />   </span><span class="comment">// used to hide 0's in higher periods<br />   </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br /><br />   </span><span class="comment">// do the loop thang<br />   </span><span class="keyword">foreach( </span><span class="default">$periods </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$length </span><span class="keyword">)<br />   {<br />       </span><span class="comment">// calculate<br />       </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">( </span><span class="default">$int_seconds </span><span class="keyword">/ </span><span class="default">$length </span><span class="keyword">);<br /><br />       </span><span class="comment">// determine if temp qualifies to be passed to output<br />       </span><span class="keyword">if( !</span><span class="default">$flag_hide_zero </span><span class="keyword">|| </span><span class="default">$temp </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">)<br />       {<br />           </span><span class="comment">// store in an array<br />           </span><span class="default">$build</span><span class="keyword">[] = </span><span class="default">$temp</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.(</span><span class="default">$temp</span><span class="keyword">!=</span><span class="default">1</span><span class="keyword">?</span><span class="string">'s'</span><span class="keyword">:</span><span class="default">null</span><span class="keyword">);<br /><br />           </span><span class="comment">// set flag to false, to allow 0's in lower periods<br />           </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />       }<br /><br />       </span><span class="comment">// get the remainder of seconds<br />       </span><span class="default">$int_seconds </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$int_seconds</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />   }<br /><br />   </span><span class="comment">// return output, if !empty, implode into string, else output $if_reached<br />   </span><span class="keyword">return ( !empty(</span><span class="default">$build</span><span class="keyword">)?</span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$build</span><span class="keyword">):</span><span class="default">$if_reached </span><span class="keyword">);<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="50153">  <div class="votes">
    <div id="Vu50153">
    <a href="https://www.php.net/manual/vote-note.php?id=50153&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd50153">
    <a href="https://www.php.net/manual/vote-note.php?id=50153&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V50153" title="58% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#50153" class="name">
  <strong class="user"><em>rocan</em></strong></a><a class="genanchor" href="function.fmod.php.html#50153"> &para;</a><div class="date" title="2005-02-19 06:10"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom50153">
<div class="phpcode"><code><span class="html">john at digitizelife dot com:<br /><br />Well not sure how your comment applys to fmod.. <br /><br />but their is a sure simpler way of coping with situations like this.. <br /><br />its called a bit field (bit masking)<br /> <br />e.g.<br /><br />/* Categories */<br />bin     dec   cat<br />0001 - 1 - Blue <br />0010 - 2 - Red <br />0100 - 4 - Green  <br />1000 - 8 - Yellow<br /><br />/* Permissions */<br />0010 - 2   - Bob<br />0101 - 5    - John<br />1011 - 11  - Steve<br />1111-  15 - Mary<br /><br />to find out the permissions for each user you simple need to do a bitwise AND  <br /><br />$steve_auth=11;<br /><br />function get_perm($auth)<br />{<br />    $cats["Blue"]=1;<br />    $cats["Red"]=2;<br />    $cats["Green"]=4;<br />    $cats["Yellow"]=8;<br />    $perms=array();<br />    foreach($cats as $perm=&gt;$catNum)<br />    {<br />          if($auth &amp; $catNum)<br />                $perms[$perm]=true;<br /><br />    }<br /><br />    return $perms;<br />}<br /><br />print_r(get_perm($steve_auth));<br />/*<br />returns <br />Array<br />(<br />    [Blue] =&gt; 1<br />    [Red] =&gt; 1<br />    [Yellow] =&gt; 1<br />)<br />*/<br /><br />This is far simpler than your prime number idea, in fact you dont even need a function in any tests for the permmsions on a user you can do them directly using the bitwise and operator.<br /><br />You may want to read the following <br /><br /><a href="http://en.wikipedia.org/wiki/Bitmask" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Bitmask</a><br /><a href="http://uk2.php.net/manual/en/language.operators.bitwise.php" rel="nofollow" target="_blank">http://uk2.php.net/manual/en/language.operators.bitwise.php</a></span></code></div>
  </div>
 </div>
  <div class="note" id="42731">  <div class="votes">
    <div id="Vu42731">
    <a href="https://www.php.net/manual/vote-note.php?id=42731&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd42731">
    <a href="https://www.php.net/manual/vote-note.php?id=42731&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V42731" title="57% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#42731" class="name">
  <strong class="user"><em>konstantin at rekk dot de</em></strong></a><a class="genanchor" href="function.fmod.php.html#42731"> &para;</a><div class="date" title="2004-05-27 08:10"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom42731">
<div class="phpcode"><code><span class="html">If you need to reduce an integer to zero if zero and 1 if not, you can use<br /><br />$sign = (integer)(boolean)$integer;<br /><br />instead of<br /><br />$sign = $integer &gt; 0 ? 1 : 0;<br /><br />it is faster from 100 operations on (at least on my machine).</span></code></div>
  </div>
 </div>
  <div class="note" id="59105">  <div class="votes">
    <div id="Vu59105">
    <a href="https://www.php.net/manual/vote-note.php?id=59105&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd59105">
    <a href="https://www.php.net/manual/vote-note.php?id=59105&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V59105" title="56% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#59105" class="name">
  <strong class="user"><em>cory at lavacube dot net</em></strong></a><a class="genanchor" href="function.fmod.php.html#59105"> &para;</a><div class="date" title="2005-11-26 12:38"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom59105">
<div class="phpcode"><code><span class="html">A more formal way for generating duration strings:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">duration</span><span class="keyword">( </span><span class="default">$int_seconds</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">, </span><span class="default">$if_reached</span><span class="keyword">=</span><span class="default">null </span><span class="keyword">)<br />{<br />    </span><span class="default">$key_suffix </span><span class="keyword">= </span><span class="string">'s'</span><span class="keyword">;<br />    </span><span class="default">$periods </span><span class="keyword">= array(<br />                    </span><span class="string">'year'        </span><span class="keyword">=&gt; </span><span class="default">31556926</span><span class="keyword">,<br />                    </span><span class="string">'month'        </span><span class="keyword">=&gt; </span><span class="default">2629743</span><span class="keyword">,<br />                    </span><span class="string">'day'        </span><span class="keyword">=&gt; </span><span class="default">86400</span><span class="keyword">,<br />                    </span><span class="string">'hour'        </span><span class="keyword">=&gt; </span><span class="default">3600</span><span class="keyword">,<br />                    </span><span class="string">'minute'    </span><span class="keyword">=&gt; </span><span class="default">60</span><span class="keyword">,<br />                    </span><span class="string">'second'    </span><span class="keyword">=&gt; </span><span class="default">1<br />                    </span><span class="keyword">);<br /><br />    </span><span class="comment">// used to hide 0's in higher periods<br />    </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br /><br />    </span><span class="comment">// do the loop thang<br />    </span><span class="keyword">foreach( </span><span class="default">$periods </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$length </span><span class="keyword">)<br />    {<br />        </span><span class="comment">// calculate<br />        </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$int_seconds </span><span class="keyword">/ </span><span class="default">$length </span><span class="keyword">);<br /><br />        </span><span class="comment">// determine if temp qualifies to be passed to output<br />        </span><span class="keyword">if( !</span><span class="default">$flag_hide_zero </span><span class="keyword">|| </span><span class="default">$temp </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">)<br />        {<br />            </span><span class="comment">// store in an array<br />            </span><span class="default">$build</span><span class="keyword">[] = </span><span class="default">$temp</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.(</span><span class="default">$temp</span><span class="keyword">!=</span><span class="default">1</span><span class="keyword">?</span><span class="string">'s'</span><span class="keyword">:</span><span class="default">null</span><span class="keyword">);<br /><br />            </span><span class="comment">// set flag to false, to allow 0's in lower periods<br />            </span><span class="default">$flag_hide_zero </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />        }<br /><br />        </span><span class="comment">// get the remainder of seconds<br />        </span><span class="default">$int_seconds </span><span class="keyword">= </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$int_seconds</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">);<br />    }<br /><br />    </span><span class="comment">// return output, if !empty, implode into string, else output $if_reached<br />    </span><span class="keyword">return ( !empty(</span><span class="default">$build</span><span class="keyword">)?</span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$build</span><span class="keyword">):</span><span class="default">$if_reached </span><span class="keyword">);<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />Simple use:<br /><span class="default">&lt;?php<br /><br />    </span><span class="keyword">echo </span><span class="default">duration</span><span class="keyword">( </span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y'</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">) - </span><span class="default">time</span><span class="keyword">(), </span><span class="string">'Some fancy message to output if duration is already met...' </span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />Enjoy. :-)</span></code></div>
  </div>
 </div>
  <div class="note" id="76125">  <div class="votes">
    <div id="Vu76125">
    <a href="https://www.php.net/manual/vote-note.php?id=76125&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76125">
    <a href="https://www.php.net/manual/vote-note.php?id=76125&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76125" title="55% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#76125" class="name">
  <strong class="user"><em>ysangkok at gmail dot com</em></strong></a><a class="genanchor" href="function.fmod.php.html#76125"> &para;</a><div class="date" title="2007-07-01 09:37"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom76125">
<div class="phpcode"><code><span class="html">Please note that this:<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">custom_modulo</span><span class="keyword">(</span><span class="default">$var1</span><span class="keyword">, </span><span class="default">$var2</span><span class="keyword">) {<br />  </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">$var1</span><span class="keyword">/</span><span class="default">$var2</span><span class="keyword">;<br /><br />  return (float) ( </span><span class="default">$var1 </span><span class="keyword">- ( ( (int) (</span><span class="default">$tmp</span><span class="keyword">) ) * </span><span class="default">$var2 </span><span class="keyword">) );<br />}<br /><br /></span><span class="default">$par1 </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br /></span><span class="default">$par2 </span><span class="keyword">= </span><span class="default">0.2</span><span class="keyword">;<br /><br />echo </span><span class="string">"fmod:          "</span><span class="keyword">;<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">fmod </span><span class="keyword">( </span><span class="default">$par1 </span><span class="keyword">, </span><span class="default">$par2 </span><span class="keyword">));<br />echo </span><span class="string">"custom_modulo: "</span><span class="keyword">;<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">custom_modulo </span><span class="keyword">( </span><span class="default">$par1 </span><span class="keyword">, </span><span class="default">$par2 </span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />gives this:<br /><br />fmod:          float(0.2)<br />custom_modulo: float(0)<br /><br />Fmod does not deliver the desired result, therefore I made my own.</span></code></div>
  </div>
 </div>
  <div class="note" id="122860">  <div class="votes">
    <div id="Vu122860">
    <a href="https://www.php.net/manual/vote-note.php?id=122860&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122860">
    <a href="https://www.php.net/manual/vote-note.php?id=122860&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122860" title="100% like this...">
    2
    </div>
  </div>
  <a href="function.fmod.php.html#122860" class="name">
  <strong class="user"><em>radoslaw dot roszkowski at gmail dot com</em></strong></a><a class="genanchor" href="function.fmod.php.html#122860"> &para;</a><div class="date" title="2018-06-20 11:43"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122860">
<div class="phpcode"><code><span class="html">Do not relly on that function, for example:<br /><br />$a = "7.191"<br />$b =  "2.397000"<br /><br />if(fmod(floatval($a), floatval($b)) === 0.0) {<br />..<br />//is false, becouse<br />//float(4.4408920985006E-16) != 0.0</span></code></div>
  </div>
 </div>
  <div class="note" id="110824">  <div class="votes">
    <div id="Vu110824">
    <a href="https://www.php.net/manual/vote-note.php?id=110824&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd110824">
    <a href="https://www.php.net/manual/vote-note.php?id=110824&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V110824" title="54% like this...">
    1
    </div>
  </div>
  <a href="function.fmod.php.html#110824" class="name">
  <strong class="user"><em>verdy_p</em></strong></a><a class="genanchor" href="function.fmod.php.html#110824"> &para;</a><div class="date" title="2012-12-12 02:38"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom110824">
<div class="phpcode"><code><span class="html">Note that fmod is NOT equivalent to this basic function:<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">function </span><span class="default">modulo</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />    return </span><span class="default">$a </span><span class="keyword">- </span><span class="default">$b </span><span class="keyword">* </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">/ </span><span class="default">$b</span><span class="keyword">);<br /> }<br /></span><span class="default">?&gt;<br /></span><br />because fmod() will return a value with the same sign as $a. In other words the floor() function is not correct as it rounds towards -INF instead of towards zero.<br /><br />To emulate fmod($a, $b) the correct way is:<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">function </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />   return </span><span class="default">$a </span><span class="keyword">- </span><span class="default">$b </span><span class="keyword">* ((</span><span class="default">$b </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">/ </span><span class="default">$b</span><span class="keyword">) : </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$a </span><span class="keyword">/ </span><span class="default">$b</span><span class="keyword">)));<br /> }<br /></span><span class="default">?&gt;<br /></span><br />Note that both functions will throw a DIVISION BY ZERO if $b is null.<br /><br />The first function modulo() above is the mathematical function which is useful for working on cyclic structures (such as calender computions or trignonometric functions :<br /><br />- fmod($a, 2*PI) returns a value in [0..2*PI) if $a is positive<br />- fmod($a, 2*PI) returns a value in [-2*PI..0] if $a is negative<br />- modulo($a, 2*PI) returns a value always in [0..2*PI) independantly of the sign of $a</span></code></div>
  </div>
 </div>
  <div class="note" id="83319">  <div class="votes">
    <div id="Vu83319">
    <a href="https://www.php.net/manual/vote-note.php?id=83319&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd83319">
    <a href="https://www.php.net/manual/vote-note.php?id=83319&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V83319" title="54% like this...">
    1
    </div>
  </div>
  <a href="function.fmod.php.html#83319" class="name">
  <strong class="user"><em>matrebatre</em></strong></a><a class="genanchor" href="function.fmod.php.html#83319"> &para;</a><div class="date" title="2008-05-20 12:09"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom83319">
<div class="phpcode"><code><span class="html">I always use this:<br /><br />function modulo($n,$b) {<br />return $n-$b*floor($n/$b);<br />}<br /><br />And it appears to work correctly.</span></code></div>
  </div>
 </div>
  <div class="note" id="94132">  <div class="votes">
    <div id="Vu94132">
    <a href="https://www.php.net/manual/vote-note.php?id=94132&amp;page=function.fmod&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd94132">
    <a href="https://www.php.net/manual/vote-note.php?id=94132&amp;page=function.fmod&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V94132" title="53% like this...">
    1
    </div>
  </div>
  <a href="function.fmod.php.html#94132" class="name">
  <strong class="user"><em>linkboss at gmail dot com</em></strong></a><a class="genanchor" href="function.fmod.php.html#94132"> &para;</a><div class="date" title="2009-10-18 05:49"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom94132">
<div class="phpcode"><code><span class="html">You can also use the modulo operator '%', which returns the same result :<br /><br /><span class="default">&lt;?php<br />$var1 </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br /></span><span class="default">$var2 </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br /><br />echo </span><span class="default">$var1 </span><span class="keyword">% </span><span class="default">$var2</span><span class="keyword">; </span><span class="comment">//Returns 1<br /></span><span class="keyword">echo </span><span class="default">fmod</span><span class="keyword">(</span><span class="default">$var1</span><span class="keyword">,</span><span class="default">$var2</span><span class="keyword">); </span><span class="comment">//Returns the same<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.fmod&amp;redirect=https://www.php.net/manual/ru/function.fmod.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.math.php.html">Математические функции</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.abs.php.html" title="abs">abs</a>
                        </li>
                                                <li class="">
                            <a href="function.acos.php.html" title="acos">acos</a>
                        </li>
                                                <li class="">
                            <a href="function.acosh.php.html" title="acosh">acosh</a>
                        </li>
                                                <li class="">
                            <a href="function.asin.php.html" title="asin">asin</a>
                        </li>
                                                <li class="">
                            <a href="function.asinh.php.html" title="asinh">asinh</a>
                        </li>
                                                <li class="">
                            <a href="function.atan2.php.html" title="atan2">atan2</a>
                        </li>
                                                <li class="">
                            <a href="function.atan.php.html" title="atan">atan</a>
                        </li>
                                                <li class="">
                            <a href="function.atanh.php.html" title="atanh">atanh</a>
                        </li>
                                                <li class="">
                            <a href="function.base-convert.php.html" title="base_&#8203;convert">base_&#8203;convert</a>
                        </li>
                                                <li class="">
                            <a href="function.bindec.php.html" title="bindec">bindec</a>
                        </li>
                                                <li class="">
                            <a href="function.ceil.php.html" title="ceil">ceil</a>
                        </li>
                                                <li class="">
                            <a href="function.cos.php.html" title="cos">cos</a>
                        </li>
                                                <li class="">
                            <a href="function.cosh.php.html" title="cosh">cosh</a>
                        </li>
                                                <li class="">
                            <a href="function.decbin.php.html" title="decbin">decbin</a>
                        </li>
                                                <li class="">
                            <a href="function.dechex.php.html" title="dechex">dechex</a>
                        </li>
                                                <li class="">
                            <a href="function.decoct.php.html" title="decoct">decoct</a>
                        </li>
                                                <li class="">
                            <a href="function.deg2rad.php.html" title="deg2rad">deg2rad</a>
                        </li>
                                                <li class="">
                            <a href="function.exp.php.html" title="exp">exp</a>
                        </li>
                                                <li class="">
                            <a href="function.expm1.php.html" title="expm1">expm1</a>
                        </li>
                                                <li class="">
                            <a href="function.fdiv.php.html" title="fdiv">fdiv</a>
                        </li>
                                                <li class="">
                            <a href="function.floor.php.html" title="floor">floor</a>
                        </li>
                                                <li class="current">
                            <a href="function.fmod.php.html" title="fmod">fmod</a>
                        </li>
                                                <li class="">
                            <a href="function.hexdec.php.html" title="hexdec">hexdec</a>
                        </li>
                                                <li class="">
                            <a href="function.hypot.php.html" title="hypot">hypot</a>
                        </li>
                                                <li class="">
                            <a href="function.intdiv.php.html" title="intdiv">intdiv</a>
                        </li>
                                                <li class="">
                            <a href="function.is-finite.php.html" title="is_&#8203;finite">is_&#8203;finite</a>
                        </li>
                                                <li class="">
                            <a href="function.is-infinite.php.html" title="is_&#8203;infinite">is_&#8203;infinite</a>
                        </li>
                                                <li class="">
                            <a href="function.is-nan.php.html" title="is_&#8203;nan">is_&#8203;nan</a>
                        </li>
                                                <li class="">
                            <a href="function.log10.php.html" title="log10">log10</a>
                        </li>
                                                <li class="">
                            <a href="function.log1p.php.html" title="log1p">log1p</a>
                        </li>
                                                <li class="">
                            <a href="function.log.php.html" title="log">log</a>
                        </li>
                                                <li class="">
                            <a href="function.max.php.html" title="max">max</a>
                        </li>
                                                <li class="">
                            <a href="function.min.php.html" title="min">min</a>
                        </li>
                                                <li class="">
                            <a href="function.octdec.php.html" title="octdec">octdec</a>
                        </li>
                                                <li class="">
                            <a href="function.pi.php.html" title="pi">pi</a>
                        </li>
                                                <li class="">
                            <a href="function.pow.php.html" title="pow">pow</a>
                        </li>
                                                <li class="">
                            <a href="function.rad2deg.php.html" title="rad2deg">rad2deg</a>
                        </li>
                                                <li class="">
                            <a href="function.round.php.html" title="round">round</a>
                        </li>
                                                <li class="">
                            <a href="function.sin.php.html" title="sin">sin</a>
                        </li>
                                                <li class="">
                            <a href="function.sinh.php.html" title="sinh">sinh</a>
                        </li>
                                                <li class="">
                            <a href="function.sqrt.php.html" title="sqrt">sqrt</a>
                        </li>
                                                <li class="">
                            <a href="function.tan.php.html" title="tan">tan</a>
                        </li>
                                                <li class="">
                            <a href="function.tanh.php.html" title="tanh">tanh</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
