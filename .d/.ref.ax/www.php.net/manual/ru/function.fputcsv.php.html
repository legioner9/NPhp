<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: fputcsv - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.fputcsv.php.html">
 <link rel="shorturl" href="https://www.php.net/fputcsv">
 <link rel="alternate" href="https://www.php.net/fputcsv" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.filesystem.php.html">
 <link rel="prev" href="function.fpassthru.php.html">
 <link rel="next" href="function.fputs.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.fputcsv.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.fputcsv.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.fputcsv.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.fputcsv.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.fputcsv.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.fputcsv.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.fputcsv.php" hreflang="pt_BR">
 <link rel="alternate" href="function.fputcsv.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.fputcsv.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.fputcsv.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.fputs.php.html">
          fputs &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.fpassthru.php.html">
          &laquo; fpassthru        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.fileprocess.file.php.html'>Модули для работы с файловой системой</a></li>      <li><a href='book.filesystem.php.html'>Файловая система</a></li>      <li><a href='ref.filesystem.php.html'>Функции файловой системы</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.fputcsv.php'>English</option>
            <option value='de/function.fputcsv.php'>German</option>
            <option value='es/function.fputcsv.php'>Spanish</option>
            <option value='fr/function.fputcsv.php'>French</option>
            <option value='it/function.fputcsv.php'>Italian</option>
            <option value='ja/function.fputcsv.php'>Japanese</option>
            <option value='pt_BR/function.fputcsv.php'>Brazilian Portuguese</option>
            <option value='ru/function.fputcsv.php' selected="selected">Russian</option>
            <option value='tr/function.fputcsv.php'>Turkish</option>
            <option value='zh/function.fputcsv.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/filesystem/functions/fputcsv.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.fputcsv%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.fputcsv" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fputcsv</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.1.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">fputcsv</span> &mdash; <span class="dc-title">Форматирует строку в виде CSV и записывает её в файловый указатель</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.fputcsv-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>fputcsv</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">resource</span> <code class="parameter">$stream</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">array</span> <code class="parameter">$fields</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$separator</code><span class="initializer"> = &quot;,&quot;</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$enclosure</code><span class="initializer"> = &quot;\&quot;&quot;</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$escape</code><span class="initializer"> = &quot;\\&quot;</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$eol</code><span class="initializer"> = &quot;\n&quot;</span></span><br>): <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>fputcsv()</strong></span> форматирует строку (переданную в
   виде массива <code class="parameter">fields</code>) в виде CSV и
   записывает её (заканчивая переводом строки) в указанный файл
   <code class="parameter">stream</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.fputcsv-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">stream</code></dt>

     <dd>

      <p class="para">Указатель на файл должен быть корректным и указывать
на файл, успешно открытый функциями <span class="function"><a href="function.fopen.php.html" class="function">fopen()</a></span> или
<span class="function"><a href="function.fsockopen.php.html" class="function">fsockopen()</a></span> (и всё ещё не закрытый функцией <span class="function"><a href="function.fclose.php.html" class="function">fclose()</a></span>).</p>
     </dd>

    
    
     <dt>
<code class="parameter">fields</code></dt>

     <dd>

      <p class="para">
       Массив строк (<span class="type">string</span>).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">separator</code></dt>

     <dd>

      <p class="para">
       Дополнительный параметр <code class="parameter">separator</code> устанавливает
       разделитель полей (только один однобайтовый символ).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">enclosure</code></dt>

     <dd>

      <p class="para">
       Дополнительный параметр <code class="parameter">enclosure</code>
       устанавливает ограничитель полей (только один однобайтовый символ).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">escape</code></dt>

     <dd>

      <p class="para">
       Необязательный параметр <code class="parameter">escape</code>
       задаёт экранирующий символ (не более одного однобайтового символа).
       Пустая строка (<code class="literal">&quot;&quot;</code>) отключает проприетарный механизм экранирования.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">eol</code></dt>

     <dd>

      <p class="para">
       Необязательный параметр <code class="parameter">eol</code>
       задаёт настраиваемую последовательность конца строки.
      </p>
     </dd>

    
   </dl>

  </p>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Если символ <code class="parameter">enclosure</code> содержится в поле,
    он будет экранирован путём его удвоения, если ему не предшествует
    <code class="parameter">escape</code>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.fputcsv-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает длину записанной строки или <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.fputcsv-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.1.0</td>
       <td>
        Добавлен необязательный параметр <code class="parameter">eol</code>.
       </td>
      </tr>

      <tr>
       <td>7.4.0</td>
       <td>
        Теперь параметр <code class="parameter">escape</code> может принимать пустую строку для
        отключения проприетарного механизма экранирования.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.fputcsv-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>fputcsv()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$list </span><span style="color: #007700">= array (<br />    array(</span><span style="color: #DD0000">'aaa'</span><span style="color: #007700">, </span><span style="color: #DD0000">'bbb'</span><span style="color: #007700">, </span><span style="color: #DD0000">'ccc'</span><span style="color: #007700">, </span><span style="color: #DD0000">'dddd'</span><span style="color: #007700">),<br />    array(</span><span style="color: #DD0000">'123'</span><span style="color: #007700">, </span><span style="color: #DD0000">'456'</span><span style="color: #007700">, </span><span style="color: #DD0000">'789'</span><span style="color: #007700">),<br />    array(</span><span style="color: #DD0000">'"aaa"'</span><span style="color: #007700">, </span><span style="color: #DD0000">'"bbb"'</span><span style="color: #007700">)<br />);<br /><br /></span><span style="color: #0000BB">$fp </span><span style="color: #007700">= </span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'file.csv'</span><span style="color: #007700">, </span><span style="color: #DD0000">'w'</span><span style="color: #007700">);<br /><br />foreach (</span><span style="color: #0000BB">$list </span><span style="color: #007700">as </span><span style="color: #0000BB">$fields</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">fputcsv</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">, </span><span style="color: #0000BB">$fields</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>Вышеуказанный пример запишет в файл <code class="literal">file.csv</code> следующее:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
aaa,bbb,ccc,dddd
123,456,789
&quot;&quot;&quot;aaa&quot;&quot;&quot;,&quot;&quot;&quot;bbb&quot;&quot;&quot;

</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.fputcsv-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: <span class="simpara">Если возникают проблемы
с распознаванием PHP концов строк при чтении или создании файлов на Macintosh-совместимом компьютере,
включение опции <a href="filesystem.configuration.php.html#ini.auto-detect-line-endings" class="link">auto_detect_line_endings</a>
может помочь решить проблему. </span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.fputcsv-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.fgetcsv.php.html" class="function" rel="rdfs-seeAlso">fgetcsv()</a> - Читает строку из файла и производит разбор данных CSV</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.fputcsv&amp;redirect=https://www.php.net/manual/ru/function.fputcsv.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">29 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="72428">  <div class="votes">
    <div id="Vu72428">
    <a href="https://www.php.net/manual/vote-note.php?id=72428&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd72428">
    <a href="https://www.php.net/manual/vote-note.php?id=72428&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V72428" title="74% like this...">
    331
    </div>
  </div>
  <a href="function.fputcsv.php.html#72428" class="name">
  <strong class="user"><em>MagicalTux at ooKoo dot org</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#72428"> &para;</a><div class="date" title="2007-01-18 06:08"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom72428">
<div class="phpcode"><code><span class="html">If you need to send a CSV file directly to the browser, without writing in an external file, you can open the output and use fputcsv on it..<br /><br /><span class="default">&lt;?php<br />$out </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://output'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br /></span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">, array(</span><span class="string">'this'</span><span class="keyword">,</span><span class="string">'is some'</span><span class="keyword">, </span><span class="string">'csv "stuff", you know.'</span><span class="keyword">));<br /></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="74118">  <div class="votes">
    <div id="Vu74118">
    <a href="https://www.php.net/manual/vote-note.php?id=74118&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74118">
    <a href="https://www.php.net/manual/vote-note.php?id=74118&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74118" title="75% like this...">
    59
    </div>
  </div>
  <a href="function.fputcsv.php.html#74118" class="name">
  <strong class="user"><em>bl at mindbench dot nl</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#74118"> &para;</a><div class="date" title="2007-03-26 12:55"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74118">
<div class="phpcode"><code><span class="html">If you need to save the output to a variable (e.g. for use within a framework) you can write to a temporary memory-wrapper and retrieve it's contents:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// output up to 5MB is kept in memory, if it becomes bigger it will automatically be written to a temporary file<br /></span><span class="default">$csv </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://temp/maxmemory:'</span><span class="keyword">. (</span><span class="default">5</span><span class="keyword">*</span><span class="default">1024</span><span class="keyword">*</span><span class="default">1024</span><span class="keyword">), </span><span class="string">'r+'</span><span class="keyword">);<br /><br /></span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$csv</span><span class="keyword">, array(</span><span class="string">'blah'</span><span class="keyword">,</span><span class="string">'blah'</span><span class="keyword">));<br /><br /></span><span class="default">rewind</span><span class="keyword">(</span><span class="default">$csv</span><span class="keyword">);<br /><br /></span><span class="comment">// put it all in a variable<br /></span><span class="default">$output </span><span class="keyword">= </span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$csv</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="121950">  <div class="votes">
    <div id="Vu121950">
    <a href="https://www.php.net/manual/vote-note.php?id=121950&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121950">
    <a href="https://www.php.net/manual/vote-note.php?id=121950&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121950" title="73% like this...">
    42
    </div>
  </div>
  <a href="function.fputcsv.php.html#121950" class="name">
  <strong class="user"><em>mikhail dot galanin at yahoo dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#121950"> &para;</a><div class="date" title="2017-11-30 12:08"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121950">
<div class="phpcode"><code><span class="html">Sometimes it's useful to get CSV line as string. I.e. to store it somewhere, not in on a filesystem.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">csvstr</span><span class="keyword">(array </span><span class="default">$fields</span><span class="keyword">) : </span><span class="default">string<br /></span><span class="keyword">{<br />    </span><span class="default">$f </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://memory'</span><span class="keyword">, </span><span class="string">'r+'</span><span class="keyword">);<br />    if (</span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">$fields</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">) {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    </span><span class="default">rewind</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />    </span><span class="default">$csv_line </span><span class="keyword">= </span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />    return </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$csv_line</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="118252">  <div class="votes">
    <div id="Vu118252">
    <a href="https://www.php.net/manual/vote-note.php?id=118252&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118252">
    <a href="https://www.php.net/manual/vote-note.php?id=118252&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118252" title="67% like this...">
    75
    </div>
  </div>
  <a href="function.fputcsv.php.html#118252" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#118252"> &para;</a><div class="date" title="2015-11-03 10:45"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118252">
<div class="phpcode"><code><span class="html">if you want make UTF-8 file for excel, use this:<br /><br />$fp = fopen($filename, 'w');<br />//add BOM to fix UTF-8 in Excel<br />fputs($fp, $bom =( chr(0xEF) . chr(0xBB) . chr(0xBF) ));</span></code></div>
  </div>
 </div>
  <div class="note" id="125399">  <div class="votes">
    <div id="Vu125399">
    <a href="https://www.php.net/manual/vote-note.php?id=125399&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125399">
    <a href="https://www.php.net/manual/vote-note.php?id=125399&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125399" title="72% like this...">
    30
    </div>
  </div>
  <a href="function.fputcsv.php.html#125399" class="name">
  <strong class="user"><em>reinhold dot egenter at gmail dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#125399"> &para;</a><div class="date" title="2020-09-30 01:05"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125399">
<div class="phpcode"><code><span class="html">Please note, that fputcsv ist not always enclosing strings with the enclosure character.<br /><br /><span class="default">&lt;?php <br />$fh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'file.csv'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br /><br /></span><span class="default">$a </span><span class="keyword">= [ </span><span class="string">'One 1'</span><span class="keyword">, </span><span class="string">'Two'</span><span class="keyword">, </span><span class="string">'Three 3' </span><span class="keyword">];<br /><br /></span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="string">"\t"</span><span class="keyword">);<br /><br /></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">);    <br /></span><span class="default">?&gt;<br /></span><br />results in a file containing the line:<br />"One 1"    Two    "Three 3"<br /><br />It seems that only strings containing at least one of the following characters are enclosed:<br /><br />- the delimiter character<br />- the enclosure character<br />- the escape character<br />- \n (new line)<br />- \r (line feed)<br />- \t (tab)<br />- blank <br /><br />I hope this saves you the hour it took me to get to the bottom of this behaviour.</span></code></div>
  </div>
 </div>
  <div class="note" id="91473">  <div class="votes">
    <div id="Vu91473">
    <a href="https://www.php.net/manual/vote-note.php?id=91473&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91473">
    <a href="https://www.php.net/manual/vote-note.php?id=91473&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91473" title="62% like this...">
    38
    </div>
  </div>
  <a href="function.fputcsv.php.html#91473" class="name">
  <strong class="user"><em>alex /-\-l- windeagle DOT org</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#91473"> &para;</a><div class="date" title="2009-06-11 08:41"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom91473">
<div class="phpcode"><code><span class="html">TAB delimiting.<br /><br />Using fputcsv to output a CSV with a tab delimiter is a little tricky since the delimiter field only takes one character.<br />The answer is to use the chr() function.  The ascii code for tab is 9, so chr(9) returns a tab character.<br /><br /><span class="default">&lt;?php<br />    fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">, </span><span class="string">'\t'</span><span class="keyword">);      </span><span class="comment">//won't work<br />    </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">, </span><span class="string">'    '</span><span class="keyword">);    </span><span class="comment">//won't work<br /><br />    </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">, </span><span class="default">chr</span><span class="keyword">(</span><span class="default">9</span><span class="keyword">));    </span><span class="comment">//works<br /></span><span class="default">?&gt;<br /></span><br />==================<br /><br />it should be:<br /><span class="default">&lt;?php<br />    fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$foo</span><span class="keyword">, </span><span class="string">"\t"</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span>you just forgot that single quotes are literal...meaning whatever you put there that's what will come out so '\t' would be same as 't' because \ in that case would be only used for escaping but if you use double quotes then that would work.</span></code></div>
  </div>
 </div>
  <div class="note" id="118697">  <div class="votes">
    <div id="Vu118697">
    <a href="https://www.php.net/manual/vote-note.php?id=118697&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118697">
    <a href="https://www.php.net/manual/vote-note.php?id=118697&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118697" title="61% like this...">
    13
    </div>
  </div>
  <a href="function.fputcsv.php.html#118697" class="name">
  <strong class="user"><em>Biniam Nigusse</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#118697"> &para;</a><div class="date" title="2016-01-20 04:52"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118697">
<div class="phpcode"><code><span class="html">the solution for how to solve the encoding problem while converting an array to csv file is below.<br /><br />$fp = fopen('php://memory', 'w');<br />    //add BOM to fix UTF-8 in Excel<br />    fputs($fp, $bom =( chr(0xEF) . chr(0xBB) . chr(0xBF) ));<br />    // output the column headings<br />    //fputcsv($fp, array('Topic', 'Title', 'URL', 'Keywords', 'Score', 'FB_count', 'TW_count', '|'));<br />    if(isset($trend)){<br />        foreach ( $trend as $myField ){<br />        fputcsv($fp, $myField, '|');<br />        }<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="104980">  <div class="votes">
    <div id="Vu104980">
    <a href="https://www.php.net/manual/vote-note.php?id=104980&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104980">
    <a href="https://www.php.net/manual/vote-note.php?id=104980&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104980" title="58% like this...">
    25
    </div>
  </div>
  <a href="function.fputcsv.php.html#104980" class="name">
  <strong class="user"><em>jamie at agentdesign dot co dot uk</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#104980"> &para;</a><div class="date" title="2011-07-20 06:05"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104980">
<div class="phpcode"><code><span class="html">Utility function to output a mysql query to csv with the option to write to file or send back to the browser as a csv attachment.<br /><br /><span class="default">&lt;?php<br />    </span><span class="keyword">function </span><span class="default">query_to_csv</span><span class="keyword">(</span><span class="default">$db_conn</span><span class="keyword">, </span><span class="default">$query</span><span class="keyword">, </span><span class="default">$filename</span><span class="keyword">, </span><span class="default">$attachment </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$headers </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">) {<br />        <br />        if(</span><span class="default">$attachment</span><span class="keyword">) {<br />            </span><span class="comment">// send response headers to the browser<br />            </span><span class="default">header</span><span class="keyword">( </span><span class="string">'Content-Type: text/csv' </span><span class="keyword">);<br />            </span><span class="default">header</span><span class="keyword">( </span><span class="string">'Content-Disposition: attachment;filename='</span><span class="keyword">.</span><span class="default">$filename</span><span class="keyword">);<br />            </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://output'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br />        } else {<br />            </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br />        }<br />        <br />        </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$query</span><span class="keyword">, </span><span class="default">$db_conn</span><span class="keyword">) or die( </span><span class="default">mysql_error</span><span class="keyword">( </span><span class="default">$db_conn </span><span class="keyword">) );<br />        <br />        if(</span><span class="default">$headers</span><span class="keyword">) {<br />            </span><span class="comment">// output header row (if at least one row exists)<br />            </span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />            if(</span><span class="default">$row</span><span class="keyword">) {<br />                </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">));<br />                </span><span class="comment">// reset pointer back to beginning<br />                </span><span class="default">mysql_data_seek</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br />            }<br />        }<br />        <br />        while(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_assoc</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">)) {<br />            </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">);<br />        }<br />        <br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />    }<br /><br />    </span><span class="comment">// Using the function<br />    </span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"SELECT * FROM table"</span><span class="keyword">;<br />    </span><span class="comment">// $db_conn should be a valid db handle<br /><br />    // output as an attachment<br />    </span><span class="default">query_to_csv</span><span class="keyword">(</span><span class="default">$db_conn</span><span class="keyword">, </span><span class="default">$sql</span><span class="keyword">, </span><span class="string">"test.csv"</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br /><br />    </span><span class="comment">// output to file system<br />    </span><span class="default">query_to_csv</span><span class="keyword">(</span><span class="default">$db_conn</span><span class="keyword">, </span><span class="default">$sql</span><span class="keyword">, </span><span class="string">"test.csv"</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="90883">  <div class="votes">
    <div id="Vu90883">
    <a href="https://www.php.net/manual/vote-note.php?id=90883&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd90883">
    <a href="https://www.php.net/manual/vote-note.php?id=90883&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V90883" title="59% like this...">
    10
    </div>
  </div>
  <a href="function.fputcsv.php.html#90883" class="name">
  <strong class="user"><em>soapergem at gmail dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#90883"> &para;</a><div class="date" title="2009-05-14 08:17"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom90883">
<div class="phpcode"><code><span class="html">I've created a function for quickly generating CSV files that work with Microsoft applications. In the field I learned a few things about generating CSVs that are not always obvious. First, since PHP is generally *nix-based, it makes sense that the line endings are always \n instead of \r\n. However, certain Microsoft programs (I'm looking at you, Access 97), will fail to recognize the CSV properly unless each line ends with \r\n. So this function changes the line endings accordingly. Secondly, if the first column heading / value of the CSV file begins with uppercase ID, certain Microsoft programs (ahem, Excel 2007) will interpret the file as being in the SYLK format rather than CSV, as described here: <a href="http://support.microsoft.com/kb/323626" rel="nofollow" target="_blank">http://support.microsoft.com/kb/323626</a><br /><br />This function accommodates for that as well, by forcibly enclosing that first value in quotes (when this doesn't occur automatically). It would be fairly simple to modify this function to use another delimiter if need be and I leave that as an exercise to the reader. So quite simply, this function is used for outputting CSV data to a CSV file in a way that is safe for use with Windows applications. It takes two parameters + one optional parameter: the location of where the file should be saved, an array of data rows, and an optional array of column headings. (Technically you could omit the headings array and just include it as the first row of the data, but it is often useful to keep this data stored in different arrays in practice.)<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">mssafe_csv</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">, </span><span class="default">$header </span><span class="keyword">= array())<br />{<br />    if ( </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$filepath</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">) ) {<br />        </span><span class="default">$show_header </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />        if ( empty(</span><span class="default">$header</span><span class="keyword">) ) {<br />            </span><span class="default">$show_header </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />            </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />            </span><span class="default">$line </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />            if ( !empty(</span><span class="default">$line</span><span class="keyword">) ) {<br />                </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br />                </span><span class="default">$first </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br />                if ( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) == </span><span class="string">'ID' </span><span class="keyword">&amp;&amp; !</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/["\\s,]/'</span><span class="keyword">, </span><span class="default">$first</span><span class="keyword">) ) {<br />                    </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />                    </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);<br />                    if ( empty(</span><span class="default">$line</span><span class="keyword">) ) {<br />                        </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\"</span><span class="keyword">{</span><span class="default">$first</span><span class="keyword">}</span><span class="string">\"\r\n"</span><span class="keyword">);<br />                    } else {<br />                        </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\"</span><span class="keyword">{</span><span class="default">$first</span><span class="keyword">}</span><span class="string">\","</span><span class="keyword">);<br />                        </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">);<br />                        </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">SEEK_CUR</span><span class="keyword">);<br />                        </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\r\n"</span><span class="keyword">);<br />                    }<br />                }<br />            }<br />        } else {<br />            </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);<br />            </span><span class="default">$first </span><span class="keyword">= </span><span class="default">current</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);<br />            if ( </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) == </span><span class="string">'ID' </span><span class="keyword">&amp;&amp; !</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/["\\s,]/'</span><span class="keyword">, </span><span class="default">$first</span><span class="keyword">) ) {<br />                </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">);<br />                if ( empty(</span><span class="default">$header</span><span class="keyword">) ) {<br />                    </span><span class="default">$show_header </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />                    </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\"</span><span class="keyword">{</span><span class="default">$first</span><span class="keyword">}</span><span class="string">\"\r\n"</span><span class="keyword">);<br />                } else {<br />                    </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\"</span><span class="keyword">{</span><span class="default">$first</span><span class="keyword">}</span><span class="string">\","</span><span class="keyword">);<br />                }<br />            }<br />        }<br />        if ( </span><span class="default">$show_header </span><span class="keyword">) {<br />            </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">);<br />            </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">SEEK_CUR</span><span class="keyword">);<br />            </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\r\n"</span><span class="keyword">);<br />        }<br />        foreach ( </span><span class="default">$data </span><span class="keyword">as </span><span class="default">$line </span><span class="keyword">) {<br />            </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$line</span><span class="keyword">);<br />            </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">SEEK_CUR</span><span class="keyword">);<br />            </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="string">"\r\n"</span><span class="keyword">);<br />        }<br />        </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />    } else {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    return </span><span class="default">true</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="87120">  <div class="votes">
    <div id="Vu87120">
    <a href="https://www.php.net/manual/vote-note.php?id=87120&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87120">
    <a href="https://www.php.net/manual/vote-note.php?id=87120&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87120" title="58% like this...">
    13
    </div>
  </div>
  <a href="function.fputcsv.php.html#87120" class="name">
  <strong class="user"><em>nate at example dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#87120"> &para;</a><div class="date" title="2008-11-19 10:17"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87120">
<div class="phpcode"><code><span class="html">Alright, after playing a while, I'm confident the following replacement function works in all cases, including the ones for which the native fputcsv function fails. If fputcsv fails to work for you (particularly with mysql csv imports), try this function as a drop-in replacement instead.<br /><br />Arguments to pass in are exactly the same as for fputcsv, though I have added an additional $mysql_null boolean which allows one to turn php null's into mysql-insertable nulls (by default, this add-on is disabled, thus working identically to fputcsv [except this one works!]).<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">fputcsv2 </span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, array </span><span class="default">$fields</span><span class="keyword">, </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$enclosure </span><span class="keyword">= </span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$mysql_null </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />    </span><span class="default">$delimiter_esc </span><span class="keyword">= </span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br />    </span><span class="default">$enclosure_esc </span><span class="keyword">= </span><span class="default">preg_quote</span><span class="keyword">(</span><span class="default">$enclosure</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);<br /><br />    </span><span class="default">$output </span><span class="keyword">= array();<br />    foreach (</span><span class="default">$fields </span><span class="keyword">as </span><span class="default">$field</span><span class="keyword">) {<br />        if (</span><span class="default">$field </span><span class="keyword">=== </span><span class="default">null </span><span class="keyword">&amp;&amp; </span><span class="default">$mysql_null</span><span class="keyword">) {<br />            </span><span class="default">$output</span><span class="keyword">[] = </span><span class="string">'NULL'</span><span class="keyword">;<br />            continue;<br />        }<br /><br />        </span><span class="default">$output</span><span class="keyword">[] = </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">"/(?:</span><span class="keyword">${</span><span class="default">delimiter_esc</span><span class="keyword">}</span><span class="string">|</span><span class="keyword">${</span><span class="default">enclosure_esc</span><span class="keyword">}</span><span class="string">|\s)/"</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">) ? (<br />            </span><span class="default">$enclosure </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$enclosure</span><span class="keyword">, </span><span class="default">$enclosure </span><span class="keyword">. </span><span class="default">$enclosure</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">) . </span><span class="default">$enclosure<br />        </span><span class="keyword">) : </span><span class="default">$field</span><span class="keyword">;<br />    }<br /><br />    </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">join</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$output</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">);<br />}<br /><br /></span><span class="comment">// the _EXACT_ LOAD DATA INFILE command to use<br />// (if you pass in something different for $delimiter<br />// and/or $enclosure above, change them here too;<br />// but _LEAVE ESCAPED BY EMPTY!_).<br />/*<br />LOAD DATA INFILE<br />    '/path/to/file.csv'<br /><br />INTO TABLE<br />    my_table<br /><br />FIELDS TERMINATED BY<br />    ','<br /><br />OPTIONALLY ENCLOSED BY<br />    '"'<br /><br />ESCAPED BY<br />    ''<br /><br />LINES TERMINATED BY<br />    '\n'<br />*/<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="77866">  <div class="votes">
    <div id="Vu77866">
    <a href="https://www.php.net/manual/vote-note.php?id=77866&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77866">
    <a href="https://www.php.net/manual/vote-note.php?id=77866&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77866" title="57% like this...">
    9
    </div>
  </div>
  <a href="function.fputcsv.php.html#77866" class="name">
  <strong class="user"><em>ifunk</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#77866"> &para;</a><div class="date" title="2007-09-16 06:04"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77866">
<div class="phpcode"><code><span class="html">I converted this from the PHP source code. This replicates PHP5 functionality exactly, whereas the other examples here do not.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'fputcsv'</span><span class="keyword">)) {<br />  <br />  function </span><span class="default">fputcsv</span><span class="keyword">(&amp;</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$fields </span><span class="keyword">= array(), </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$enclosure </span><span class="keyword">= </span><span class="string">'"'</span><span class="keyword">) {<br />    </span><span class="default">$str </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    </span><span class="default">$escape_char </span><span class="keyword">= </span><span class="string">'\\'</span><span class="keyword">;<br />    foreach (</span><span class="default">$fields </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {<br />      if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">) !== </span><span class="default">false </span><span class="keyword">||<br />          </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$enclosure</span><span class="keyword">) !== </span><span class="default">false </span><span class="keyword">||<br />          </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">) !== </span><span class="default">false </span><span class="keyword">||<br />          </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">"\r"</span><span class="keyword">) !== </span><span class="default">false </span><span class="keyword">||<br />          </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">"\t"</span><span class="keyword">) !== </span><span class="default">false </span><span class="keyword">||<br />          </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) {<br />        </span><span class="default">$str2 </span><span class="keyword">= </span><span class="default">$enclosure</span><span class="keyword">;<br />        </span><span class="default">$escaped </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />        </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />        for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$len</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />          if (</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">$escape_char</span><span class="keyword">) {<br />            </span><span class="default">$escaped </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />          } else if (!</span><span class="default">$escaped </span><span class="keyword">&amp;&amp; </span><span class="default">$value</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] == </span><span class="default">$enclosure</span><span class="keyword">) {<br />            </span><span class="default">$str2 </span><span class="keyword">.= </span><span class="default">$enclosure</span><span class="keyword">;<br />          } else {<br />            </span><span class="default">$escaped </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />          }<br />          </span><span class="default">$str2 </span><span class="keyword">.= </span><span class="default">$value</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />        }<br />        </span><span class="default">$str2 </span><span class="keyword">.= </span><span class="default">$enclosure</span><span class="keyword">;<br />        </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$str2</span><span class="keyword">.</span><span class="default">$delimiter</span><span class="keyword">;<br />      } else {<br />        </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$value</span><span class="keyword">.</span><span class="default">$delimiter</span><span class="keyword">;<br />      }<br />    }<br />    </span><span class="default">$str </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />    </span><span class="default">$str </span><span class="keyword">.= </span><span class="string">"\n"</span><span class="keyword">;<br />    return </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br />  }<br />  <br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="96937">  <div class="votes">
    <div id="Vu96937">
    <a href="https://www.php.net/manual/vote-note.php?id=96937&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd96937">
    <a href="https://www.php.net/manual/vote-note.php?id=96937&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V96937" title="55% like this...">
    3
    </div>
  </div>
  <a href="function.fputcsv.php.html#96937" class="name">
  <strong class="user"><em>simeonl at dbc dot co dot nz</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#96937"> &para;</a><div class="date" title="2010-03-23 08:24"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom96937">
<div class="phpcode"><code><span class="html">In general I found myself wanting to get the result as a string rather than writing it to a file, and in particular I wanted to produce a CSV using an EOL that might not be the same as that on the server where I generated it.  This is how I solved the problem without rewriting  fputcsv.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">sputcsv</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">, </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$enclosure </span><span class="keyword">= </span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$eol </span><span class="keyword">= </span><span class="string">"\n"</span><span class="keyword">)<br />{<br />    static </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />    if (</span><span class="default">$fp </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)<br />    {<br />        </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://temp'</span><span class="keyword">, </span><span class="string">'r+'</span><span class="keyword">); </span><span class="comment">// see <a href="http://php.net/manual/en/wrappers.php.php" rel="nofollow" target="_blank">http://php.net/manual/en/wrappers.php.php</a> - yes there are 2 '.php's on the end.<br />        // NB: anything you read/write to/from 'php://temp' is specific to this filehandle<br />    </span><span class="keyword">}<br />    else<br />    {<br />        </span><span class="default">rewind</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />    }<br />    <br />    if (</span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$enclosure</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">)<br />    {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    <br />    </span><span class="default">rewind</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />    </span><span class="default">$csv </span><span class="keyword">= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />    <br />    if (</span><span class="default">$eol </span><span class="keyword">!= </span><span class="default">PHP_EOL</span><span class="keyword">)<br />    {<br />        </span><span class="default">$csv </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$csv</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">0 </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">PHP_EOL</span><span class="keyword">))) . </span><span class="default">$eol</span><span class="keyword">;<br />    }<br />    <br />    return </span><span class="default">$csv</span><span class="keyword">;<br />}<br /><br /></span><span class="comment">// test<br /></span><span class="default">$rows </span><span class="keyword">= array<br />(<br />    array(</span><span class="string">'blue, sky'</span><span class="keyword">, </span><span class="string">'green, lime'</span><span class="keyword">, </span><span class="string">'red'</span><span class="keyword">, </span><span class="string">'black'</span><span class="keyword">),<br />    array(</span><span class="string">'white'</span><span class="keyword">, </span><span class="string">'gold'</span><span class="keyword">, </span><span class="string">'purple, imperial'</span><span class="keyword">, </span><span class="string">'grey, slate'</span><span class="keyword">),<br />    array(</span><span class="string">'orange, burnt'</span><span class="keyword">, </span><span class="string">'pink, hot'</span><span class="keyword">, </span><span class="string">'violet'</span><span class="keyword">, </span><span class="string">'indigo'</span><span class="keyword">),<br />);<br /><br />if (</span><span class="default">PHP_EOL </span><span class="keyword">== </span><span class="string">"\r\n"</span><span class="keyword">)<br />{<br />    </span><span class="default">$eol </span><span class="keyword">= </span><span class="string">"\n"</span><span class="keyword">;<br />}<br />else<br />{<br />    </span><span class="default">$eol </span><span class="keyword">= </span><span class="string">"\r\n"</span><span class="keyword">;<br />}<br /><br />foreach(</span><span class="default">$rows </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">)<br />{<br />    echo </span><span class="default">nl2br</span><span class="keyword">(</span><span class="default">sputcsv</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">, </span><span class="string">','</span><span class="keyword">, </span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$eol</span><span class="keyword">));<br />}<br /></span><span class="default">?&gt;<br /></span><br />The test should produce something like the following:<br /><br />"blue, sky","green, lime",red,black<br />white,gold,"purple, imperial","grey, slate"<br />"orange, burnt","pink, hot",violet,indigo</span></code></div>
  </div>
 </div>
  <div class="note" id="121657">  <div class="votes">
    <div id="Vu121657">
    <a href="https://www.php.net/manual/vote-note.php?id=121657&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121657">
    <a href="https://www.php.net/manual/vote-note.php?id=121657&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121657" title="53% like this...">
    1
    </div>
  </div>
  <a href="function.fputcsv.php.html#121657" class="name">
  <strong class="user"><em>perske at muenster dot de</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#121657"> &para;</a><div class="date" title="2017-09-19 05:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121657">
<div class="phpcode"><code><span class="html">To produce RFC 4180 conforming output, do not use fputcsv but encode manually, like this:<br /><br />function rfccsv($arr){<br />    foreach($arr as &amp;$a){<br />        $a=strval($a);<br />        if(strcspn($a,",\"\r\n")&lt;strlen($a))$a='"'.strtr($a,array('"'=&gt;'""')).'"';<br />    }<br />    return implode(',',$arr);<br />}<br />echo rfccsv(array(.....))."\n";</span></code></div>
  </div>
 </div>
  <div class="note" id="125186">  <div class="votes">
    <div id="Vu125186">
    <a href="https://www.php.net/manual/vote-note.php?id=125186&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125186">
    <a href="https://www.php.net/manual/vote-note.php?id=125186&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125186" title="52% like this...">
    1
    </div>
  </div>
  <a href="function.fputcsv.php.html#125186" class="name">
  <strong class="user"><em>julian at polygon dot red</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#125186"> &para;</a><div class="date" title="2020-07-12 02:55"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125186">
<div class="phpcode"><code><span class="html">If you do not want to enclose strings (because you're managing that yourself or your content is already enclosed?), note that you cannot pass an empty enclosure to fputcsv. The function requires one character for that parameter. chr(0) works well:<br /><br />fputcsv($handle, $fields, ",", chr(0));</span></code></div>
  </div>
 </div>
  <div class="note" id="47606">  <div class="votes">
    <div id="Vu47606">
    <a href="https://www.php.net/manual/vote-note.php?id=47606&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd47606">
    <a href="https://www.php.net/manual/vote-note.php?id=47606&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V47606" title="55% like this...">
    2
    </div>
  </div>
  <a href="function.fputcsv.php.html#47606" class="name">
  <strong class="user"><em>drew at zitnay dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#47606"> &para;</a><div class="date" title="2004-11-22 09:42"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom47606">
<div class="phpcode"><code><span class="html">[EDIT BY danbrown AT php DOT net: This is a revised function with a few bugfixes and improvements done by this author.  The original function example was written by arthur AT mclean DOT ws, and rewritten between by arthur AT korn DOT ch.]<br /><br />- when calling str_replace(), you must assign $cell the return value or nothing gets saved<br /><br />- when using strchr(), you should explicitly check !== FALSE, or it'll treat a return value of 0 (found the character at string position 0) as FALSE<br /><br />- Excel seems to quote not only fields containing commas, but fields containing quotes as well, so I've added another strchr() for quotes; I'm not saying Microsoft knows the correct way for sure, but it seems reasonable to me<br /><br />- the original function put a space after each comma; that might be legal, I don't know, but I've never seen it (and I don't think it is, because then how would you indicate you wanted a field to start with a space other than by quoting it?)<br /><br />- the original function didn't correctly return the length of the data outputted<br /><br />Here's the function, fixed up a bit:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">, </span><span class="default">$fd</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">, </span><span class="default">$quot</span><span class="keyword">=</span><span class="string">'"'</span><span class="keyword">)<br />{<br />   </span><span class="default">$str</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />   foreach (</span><span class="default">$row </span><span class="keyword">as </span><span class="default">$cell</span><span class="keyword">) {<br />       </span><span class="default">$cell</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(Array(</span><span class="default">$quot</span><span class="keyword">,        </span><span class="string">"\n"</span><span class="keyword">),<br />                         Array(</span><span class="default">$quot</span><span class="keyword">.</span><span class="default">$quot</span><span class="keyword">,  </span><span class="string">''</span><span class="keyword">),<br />                         </span><span class="default">$cell</span><span class="keyword">);<br />       if (</span><span class="default">strchr</span><span class="keyword">(</span><span class="default">$cell</span><span class="keyword">, </span><span class="default">$fd</span><span class="keyword">)!==</span><span class="default">FALSE </span><span class="keyword">|| </span><span class="default">strchr</span><span class="keyword">(</span><span class="default">$cell</span><span class="keyword">, </span><span class="default">$quot</span><span class="keyword">)!==</span><span class="default">FALSE</span><span class="keyword">) {<br />           </span><span class="default">$str</span><span class="keyword">.=</span><span class="default">$quot</span><span class="keyword">.</span><span class="default">$cell</span><span class="keyword">.</span><span class="default">$quot</span><span class="keyword">.</span><span class="default">$fd</span><span class="keyword">;<br />       } else {<br />           </span><span class="default">$str</span><span class="keyword">.=</span><span class="default">$cell</span><span class="keyword">.</span><span class="default">$fd</span><span class="keyword">;<br />       }<br />   }<br /><br />   </span><span class="default">fputs</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">);<br /><br />   return </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />Drew</span></code></div>
  </div>
 </div>
  <div class="note" id="129152">  <div class="votes">
    <div id="Vu129152">
    <a href="https://www.php.net/manual/vote-note.php?id=129152&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd129152">
    <a href="https://www.php.net/manual/vote-note.php?id=129152&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V129152" title="no votes...">
    0
    </div>
  </div>
  <a href="function.fputcsv.php.html#129152" class="name">
  <strong class="user"><em>php at richardneill dot org</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#129152"> &para;</a><div class="date" title="2024-01-09 11:36"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom129152">
<div class="phpcode"><code><span class="html">For maximum compatibility with standard (RFC-4180) CSV files, remember that the proprietary-escape mechanism should be disabled. i.e. set the optional 5th parameter to ""  (the empty string).</span></code></div>
  </div>
 </div>
  <div class="note" id="126454">  <div class="votes">
    <div id="Vu126454">
    <a href="https://www.php.net/manual/vote-note.php?id=126454&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd126454">
    <a href="https://www.php.net/manual/vote-note.php?id=126454&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V126454" title="100% like this...">
    2
    </div>
  </div>
  <a href="function.fputcsv.php.html#126454" class="name">
  <strong class="user"><em>johannes dot kingma at gmail dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#126454"> &para;</a><div class="date" title="2021-09-23 09:52"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom126454">
<div class="phpcode"><code><span class="html">In all those cases you need a bug free csv writer with custom record seperating capability:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Custom fputcsv<br /> * @param int $handle filehandle<br /> * @param mixed[] $fields array of values to write<br /> * @param string $delimiter field delimiter<br /> * @param string $enclosure field enclosures<br /> * @param string $escape_char escape enclosure chars in fields<br /> * @param string $record_seperator <br /> * @return int characters written<br /> */<br /></span><span class="keyword">function </span><span class="default">_fputcsv</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$fields</span><span class="keyword">, </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">","</span><span class="keyword">, </span><span class="default">$enclosure </span><span class="keyword">= </span><span class="string">'"'</span><span class="keyword">, </span><span class="default">$escape_char </span><span class="keyword">= </span><span class="string">"\\"</span><span class="keyword">, </span><span class="default">$record_seperator </span><span class="keyword">= </span><span class="string">"\r\n"</span><span class="keyword">)<br />{<br />    </span><span class="default">$result </span><span class="keyword">= [];<br />    foreach (</span><span class="default">$fields </span><span class="keyword">as </span><span class="default">$field</span><span class="keyword">) {<br />        </span><span class="default">$result</span><span class="keyword">[] = </span><span class="default">$enclosure </span><span class="keyword">. </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$enclosure</span><span class="keyword">, </span><span class="default">$escape_char </span><span class="keyword">. </span><span class="default">$enclosure</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">) . </span><span class="default">$enclosure</span><span class="keyword">;<br />    }<br />    return </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">, </span><span class="default">$result</span><span class="keyword">) . </span><span class="default">$record_seperator</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="126647">  <div class="votes">
    <div id="Vu126647">
    <a href="https://www.php.net/manual/vote-note.php?id=126647&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd126647">
    <a href="https://www.php.net/manual/vote-note.php?id=126647&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V126647" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.fputcsv.php.html#126647" class="name">
  <strong class="user"><em>encode</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#126647"> &para;</a><div class="date" title="2021-11-30 12:26"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom126647">
<div class="phpcode"><code><span class="html">Regarding Excel and UTF-16LE encoding<br /><br />For complete Excel compatibility (umlauts, cyrillic, chinese alphabet etc.) one needs to encode their .csv to UTF-16LE, use tabulators (\t) as the separator and include a UTF-16LE BOM at the start of the file. <br /><br />This however can not be done by simply encoding the input for putcsv, since separators and enclosure characters will still be written in the default encoding, and fputcsv will not accept utf-16 encoded separator/enclosure characters.<br /><br />The simple solution is to roll your own implementation of fputcsv with escaping etc., or possibly to encode the generated .csv file after the fact.</span></code></div>
  </div>
 </div>
  <div class="note" id="84783">  <div class="votes">
    <div id="Vu84783">
    <a href="https://www.php.net/manual/vote-note.php?id=84783&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd84783">
    <a href="https://www.php.net/manual/vote-note.php?id=84783&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V84783" title="52% like this...">
    1
    </div>
  </div>
  <a href="function.fputcsv.php.html#84783" class="name">
  <strong class="user"><em>jon+dontspamme at phpsitesolutions dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#84783"> &para;</a><div class="date" title="2008-07-29 10:44"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom84783">
<div class="phpcode"><code><span class="html">I found that the fputcsv examples for PHP 4 missed one thing, that was proper handling of the $enclosure value when it is a quote (if a quote is passed in a field, and it is delimited by a slash, it will be improperly handled by the functions submitted here).<br /><br />My modified function was built using the actual PHP5 source for fputcsv, with the addition of properly reacting to the existence of a delimited quote in the field being processed.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'fputcsv'</span><span class="keyword">)) {<br />    function </span><span class="default">fputcsv</span><span class="keyword">(&amp;</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$fields </span><span class="keyword">= array(), </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="string">','</span><span class="keyword">, </span><span class="default">$enclosure </span><span class="keyword">= </span><span class="string">'"'</span><span class="keyword">) {<br /><br />        </span><span class="comment">// Sanity Check<br />        </span><span class="keyword">if (!</span><span class="default">is_resource</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">)) {<br />            </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'fputcsv() expects parameter 1 to be resource, ' </span><span class="keyword">.<br />                </span><span class="default">gettype</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">) . </span><span class="string">' given'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />            return </span><span class="default">false</span><span class="keyword">;<br />        }<br /><br />        if (</span><span class="default">$delimiter</span><span class="keyword">!=</span><span class="default">NULL</span><span class="keyword">) {<br />            if( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">) &lt; </span><span class="default">1 </span><span class="keyword">) {<br />                </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'delimiter must be a character'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />                return </span><span class="default">false</span><span class="keyword">;<br />            }elseif( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$delimiter</span><span class="keyword">) &gt; </span><span class="default">1 </span><span class="keyword">) {<br />                </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'delimiter must be a single character'</span><span class="keyword">, </span><span class="default">E_USER_NOTICE</span><span class="keyword">);<br />            }<br /><br />            </span><span class="comment">/* use first character from string */<br />            </span><span class="default">$delimiter </span><span class="keyword">= </span><span class="default">$delimiter</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />        }<br /><br />        if( </span><span class="default">$enclosure</span><span class="keyword">!=</span><span class="default">NULL </span><span class="keyword">) {<br />             if( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$enclosure</span><span class="keyword">) &lt; </span><span class="default">1 </span><span class="keyword">) {<br />                </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'enclosure must be a character'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />                return </span><span class="default">false</span><span class="keyword">;<br />            }elseif( </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$enclosure</span><span class="keyword">) &gt; </span><span class="default">1 </span><span class="keyword">) {<br />                </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">'enclosure must be a single character'</span><span class="keyword">, </span><span class="default">E_USER_NOTICE</span><span class="keyword">);<br />            }<br /><br />            </span><span class="comment">/* use first character from string */<br />            </span><span class="default">$enclosure </span><span class="keyword">= </span><span class="default">$enclosure</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />       }<br /><br />        </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />        </span><span class="default">$csvline </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />        </span><span class="default">$escape_char </span><span class="keyword">= </span><span class="string">'\\'</span><span class="keyword">;<br />        </span><span class="default">$field_cnt </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$fields</span><span class="keyword">);<br />        </span><span class="default">$enc_is_quote </span><span class="keyword">= </span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$enclosure</span><span class="keyword">, array(</span><span class="string">'"'</span><span class="keyword">,</span><span class="string">"'"</span><span class="keyword">));<br />        </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$fields</span><span class="keyword">);<br /><br />        foreach( </span><span class="default">$fields </span><span class="keyword">AS </span><span class="default">$field </span><span class="keyword">) {<br /><br />            </span><span class="comment">/* enclose a field that contains a delimiter, an enclosure character, or a newline */<br />            </span><span class="keyword">if( </span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">) &amp;&amp; ( <br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="default">$delimiter</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">||<br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="default">$enclosure</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">||<br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="default">$escape_char</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">||<br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="string">"\n"</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">||<br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="string">"\r"</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">||<br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="string">"\t"</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">||<br />                </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">)!==</span><span class="default">false </span><span class="keyword">) ) {<br /><br />                </span><span class="default">$field_len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$field</span><span class="keyword">);<br />                </span><span class="default">$escaped </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br /><br />                </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="default">$enclosure</span><span class="keyword">;<br />                for( </span><span class="default">$ch </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$ch </span><span class="keyword">&lt; </span><span class="default">$field_len</span><span class="keyword">; </span><span class="default">$ch</span><span class="keyword">++ )    {<br />                    if( </span><span class="default">$field</span><span class="keyword">[</span><span class="default">$ch</span><span class="keyword">] == </span><span class="default">$escape_char </span><span class="keyword">&amp;&amp; </span><span class="default">$field</span><span class="keyword">[</span><span class="default">$ch</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">] == </span><span class="default">$enclosure </span><span class="keyword">&amp;&amp; </span><span class="default">$enc_is_quote </span><span class="keyword">) {<br />                        continue;<br />                    }elseif( </span><span class="default">$field</span><span class="keyword">[</span><span class="default">$ch</span><span class="keyword">] == </span><span class="default">$escape_char </span><span class="keyword">) {<br />                        </span><span class="default">$escaped </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />                    }elseif( !</span><span class="default">$escaped </span><span class="keyword">&amp;&amp; </span><span class="default">$field</span><span class="keyword">[</span><span class="default">$ch</span><span class="keyword">] == </span><span class="default">$enclosure </span><span class="keyword">) {<br />                        </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="default">$enclosure</span><span class="keyword">;<br />                    }else{<br />                        </span><span class="default">$escaped </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />                    }<br />                    </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="default">$field</span><span class="keyword">[</span><span class="default">$ch</span><span class="keyword">];<br />                }<br />                </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="default">$enclosure</span><span class="keyword">;<br />            } else {<br />                </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="default">$field</span><span class="keyword">;<br />            }<br /><br />            if( </span><span class="default">$i</span><span class="keyword">++ != </span><span class="default">$field_cnt </span><span class="keyword">) {<br />                </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="default">$delimiter</span><span class="keyword">;<br />            }<br />        }<br /><br />        </span><span class="default">$csvline </span><span class="keyword">.= </span><span class="string">"\n"</span><span class="keyword">;<br /><br />        return </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$csvline</span><span class="keyword">);<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="115432">  <div class="votes">
    <div id="Vu115432">
    <a href="https://www.php.net/manual/vote-note.php?id=115432&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115432">
    <a href="https://www.php.net/manual/vote-note.php?id=115432&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115432" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fputcsv.php.html#115432" class="name">
  <strong class="user"><em>mike at fatica dot net</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#115432"> &para;</a><div class="date" title="2014-07-22 03:51"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115432">
<div class="phpcode"><code><span class="html">We had a function that wrote a single line CSV.  I noticed that with enabling auto_detect_line_endings, fputcsv would not write a newline at the end of the file.<br /><br />Enabling auto_detect_line_endings changed the fputcsv behavior to include a newline.</span></code></div>
  </div>
 </div>
  <div class="note" id="113751">  <div class="votes">
    <div id="Vu113751">
    <a href="https://www.php.net/manual/vote-note.php?id=113751&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113751">
    <a href="https://www.php.net/manual/vote-note.php?id=113751&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113751" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fputcsv.php.html#113751" class="name">
  <strong class="user"><em>alanzhang717 at gmail dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#113751"> &para;</a><div class="date" title="2013-11-26 01:44"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113751">
<div class="phpcode"><code><span class="html">When you output csv by fputcsv, if there are any Chinese character, you may get messy code. Then you need to set the encoding properly:<br /><br />fprintf($fp, chr(0xEF).chr(0xBB).chr(0xBF));  // just add this line <br />fputcsv($fp, ...);</span></code></div>
  </div>
 </div>
  <div class="note" id="113326">  <div class="votes">
    <div id="Vu113326">
    <a href="https://www.php.net/manual/vote-note.php?id=113326&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113326">
    <a href="https://www.php.net/manual/vote-note.php?id=113326&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113326" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.fputcsv.php.html#113326" class="name">
  <strong class="user"><em>R dot Mansveld at Spider-IT dot de</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#113326"> &para;</a><div class="date" title="2013-09-27 01:26"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113326">
<div class="phpcode"><code><span class="html">Inspired by boonerunner's function, I wrote a smaller, faster, and more flexible one, which also uses less memory.<br />I also renamed it to avoid collision or overwriting the PHP function, and gave the 3rd and 4th parameter default values like fputcsv() uses.<br /><br />This function puts all text values in $enclosure's while doubling the $enclosure in the value, and leaves numeric values as they are.<br />But if the $delimiter exists in the numeric value, this value will also be put in $enclosure's (may happen if you use a dot as the $delimiter).<br /><br />function fwritecsv($handle, $fields, $delimiter = ',', $enclosure = '"') {<br />    # Check if $fields is an array<br />    if (!is_array($fields)) {<br />        return false;<br />    }<br />    # Walk through the data array<br />    for ($i = 0, $n = count($fields); $i &lt; $n; $i ++) {<br />        # Only 'correct' non-numeric values<br />        if (!is_numeric($fields[$i])) {<br />            # Duplicate in-value $enclusure's and put the value in $enclosure's<br />            $fields[$i] = $enclosure . str_replace($enclosure, $enclosure . $enclosure, $fields[$i]) . $enclosure;<br />        }<br />        # If $delimiter is a dot (.), also correct numeric values<br />        if (($delimiter == '.') &amp;&amp; (is_numeric($fields[$i]))) {<br />            # Put the value in $enclosure's<br />            $fields[$i] = $enclosure . $fields[$i] . $enclosure;<br />        }<br />    }<br />    # Combine the data array with $delimiter and write it to the file<br />    $line = implode($delimiter, $fields) . "\n";<br />    fwrite($handle, $line);<br />    # Return the length of the written data<br />    return strlen($line);<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="106583">  <div class="votes">
    <div id="Vu106583">
    <a href="https://www.php.net/manual/vote-note.php?id=106583&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106583">
    <a href="https://www.php.net/manual/vote-note.php?id=106583&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106583" title="48% like this...">
    -1
    </div>
  </div>
  <a href="function.fputcsv.php.html#106583" class="name">
  <strong class="user"><em>David Thomas</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#106583"> &para;</a><div class="date" title="2011-11-20 06:17"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106583">
<div class="phpcode"><code><span class="html">Output XML string as CSV with first row as column headers:<br /><br /><span class="default">&lt;?php<br /><br />    </span><span class="comment">// In this case XML is <br />    // &lt;records&gt;<br />    //  &lt;record&gt;...&lt;/record&gt;<br />    //  &lt;record&gt;...&lt;/record&gt;<br />    // &lt;/records&gt;<br /><br />  </span><span class="keyword">if(</span><span class="default">$xml </span><span class="keyword">= </span><span class="default">simplexml_load_string</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)){<br />    </span><span class="comment">// Keep up to 12MB in memory, if becomes bigger write to temp file<br />    </span><span class="default">$file </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://temp/maxmemory:'</span><span class="keyword">. (</span><span class="default">12</span><span class="keyword">*</span><span class="default">1024</span><span class="keyword">*</span><span class="default">1024</span><span class="keyword">), </span><span class="string">'r+'</span><span class="keyword">);<br />    if(</span><span class="default">$row </span><span class="keyword">= </span><span class="default">get_object_vars</span><span class="keyword">(</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">record</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])){ </span><span class="comment">// First record<br />      // First row contains column header values<br />      </span><span class="keyword">foreach(</span><span class="default">$row </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />        </span><span class="default">$header</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">;<br />      }<br />      </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">,</span><span class="string">','</span><span class="keyword">,</span><span class="string">'"'</span><span class="keyword">);<br />      foreach (</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">record </span><span class="keyword">as </span><span class="default">$record</span><span class="keyword">) {<br />        </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">get_object_vars</span><span class="keyword">(</span><span class="default">$record</span><span class="keyword">),</span><span class="string">','</span><span class="keyword">,</span><span class="string">'"'</span><span class="keyword">);<br />      }<br />      </span><span class="default">rewind</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />      </span><span class="default">$output </span><span class="keyword">= </span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />      </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />      return </span><span class="default">$output</span><span class="keyword">;<br />    }else{<br />      return </span><span class="string">''</span><span class="keyword">;<br />    }<br />  }<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="123807">  <div class="votes">
    <div id="Vu123807">
    <a href="https://www.php.net/manual/vote-note.php?id=123807&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123807">
    <a href="https://www.php.net/manual/vote-note.php?id=123807&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123807" title="40% like this...">
    -1
    </div>
  </div>
  <a href="function.fputcsv.php.html#123807" class="name">
  <strong class="user"><em>mnz</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#123807"> &para;</a><div class="date" title="2019-04-30 09:25"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom123807">
<div class="phpcode"><code><span class="html">Hope this could help..<br /><br />In some server configuration an associative array doesn't work. In my case the script stops without any error or message, just fputcsv return "false".<br /><br />Diggin'n'Debuggin I found that in my local setup associative arrays works, but on live server not. Just removing keys solved the problem.<br /><br />So, it's better to strip keys before calling fputcsv()<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">// Remove keys from an array<br /><br /></span><span class="default">$csv_fields </span><span class="keyword">= array();<br /><br />foreach(</span><span class="default">$associative_array </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) { <br />     </span><span class="default">$csv_fields</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">; <br />}<br /><br /></span><span class="default">fputcsv</span><span class="keyword">( </span><span class="default">$handler</span><span class="keyword">, </span><span class="default">$csv_fields</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="56827">  <div class="votes">
    <div id="Vu56827">
    <a href="https://www.php.net/manual/vote-note.php?id=56827&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56827">
    <a href="https://www.php.net/manual/vote-note.php?id=56827&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56827" title="42% like this...">
    -5
    </div>
  </div>
  <a href="function.fputcsv.php.html#56827" class="name">
  <strong class="user"><em>boonerunner at hotmail dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#56827"> &para;</a><div class="date" title="2005-09-15 07:47"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56827">
<div class="phpcode"><code><span class="html">Here is an adaption of the above code that adds support for double quotes inside a field. (One double quote is replaced with a pair of double quotes per the CSV format).<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">function </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$filePointer</span><span class="keyword">,</span><span class="default">$dataArray</span><span class="keyword">,</span><span class="default">$delimiter</span><span class="keyword">,</span><span class="default">$enclosure</span><span class="keyword">)<br />  {<br />  </span><span class="comment">// Write a line to a file<br />  // $filePointer = the file resource to write to<br />  // $dataArray = the data to write out<br />  // $delimeter = the field separator<br />  <br />  // Build the string<br />  </span><span class="default">$string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />  <br />  </span><span class="comment">// No leading delimiter<br />  </span><span class="default">$writeDelimiter </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />  foreach(</span><span class="default">$dataArray </span><span class="keyword">as </span><span class="default">$dataElement</span><span class="keyword">)<br />   {<br />    </span><span class="comment">// Replaces a double quote with two double quotes<br />    </span><span class="default">$dataElement</span><span class="keyword">=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\""</span><span class="keyword">, </span><span class="string">"\"\""</span><span class="keyword">, </span><span class="default">$dataElement</span><span class="keyword">);<br />    <br />    </span><span class="comment">// Adds a delimiter before each field (except the first)<br />    </span><span class="keyword">if(</span><span class="default">$writeDelimiter</span><span class="keyword">) </span><span class="default">$string </span><span class="keyword">.= </span><span class="default">$delimiter</span><span class="keyword">;<br />    <br />    </span><span class="comment">// Encloses each field with $enclosure and adds it to the string<br />    </span><span class="default">$string </span><span class="keyword">.= </span><span class="default">$enclosure </span><span class="keyword">. </span><span class="default">$dataElement </span><span class="keyword">. </span><span class="default">$enclosure</span><span class="keyword">;<br />    <br />    </span><span class="comment">// Delimiters are used every time except the first.<br />    </span><span class="default">$writeDelimiter </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />   } </span><span class="comment">// end foreach($dataArray as $dataElement)<br />  <br />  // Append new line<br />  </span><span class="default">$string </span><span class="keyword">.= </span><span class="string">"\n"</span><span class="keyword">;<br />  <br />  </span><span class="comment">// Write the string to the file<br />  </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$filePointer</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br />  }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="112726">  <div class="votes">
    <div id="Vu112726">
    <a href="https://www.php.net/manual/vote-note.php?id=112726&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112726">
    <a href="https://www.php.net/manual/vote-note.php?id=112726&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112726" title="32% like this...">
    -9
    </div>
  </div>
  <a href="function.fputcsv.php.html#112726" class="name">
  <strong class="user"><em>gildas dot quemener at gmail dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#112726"> &para;</a><div class="date" title="2013-07-17 08:29"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112726">
<div class="phpcode"><code><span class="html">There is an even easier solution to get the result of fputcsv into a variable:<br /><br /><span class="default">&lt;?php<br /> $output </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://output'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br /> </span><span class="default">ob_start</span><span class="keyword">();<br /> </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">$data</span><span class="keyword">);<br /> </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">);<br /> </span><span class="default">$csv </span><span class="keyword">= </span><span class="default">ob_get_clean</span><span class="keyword">();<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="114175">  <div class="votes">
    <div id="Vu114175">
    <a href="https://www.php.net/manual/vote-note.php?id=114175&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114175">
    <a href="https://www.php.net/manual/vote-note.php?id=114175&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114175" title="31% like this...">
    -11
    </div>
  </div>
  <a href="function.fputcsv.php.html#114175" class="name">
  <strong class="user"><em>iam at thatguy dot co dot za</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#114175"> &para;</a><div class="date" title="2014-01-20 02:37"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom114175">
<div class="phpcode"><code><span class="html">So this is something I wrote to generically generate CSV exports from 2 arrays and a name. <br /><br />You need to provide it with e single dimension array for the headings. A multidimensional array with the actual body . And lastly the filename you would like to get minus the .csv and viola. <br /><br /><span class="default">&lt;?php <br /><br />    </span><span class="comment"># We will use this function to generate a CSV<br />    </span><span class="keyword">function </span><span class="default">exportCSV</span><span class="keyword">(</span><span class="default">$headings</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">, </span><span class="default">$rows</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">, </span><span class="default">$filename</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br />    {<br />        </span><span class="comment"># Ensure that we have data to be able to export the CSV<br />        </span><span class="keyword">if ((!empty(</span><span class="default">$headings</span><span class="keyword">)) AND (!empty(</span><span class="default">$rows</span><span class="keyword">)))<br />        {<br />            </span><span class="comment"># modify the name somewhat<br />            </span><span class="default">$name </span><span class="keyword">= (</span><span class="default">$filename </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) ? </span><span class="default">$filename </span><span class="keyword">. </span><span class="string">".csv" </span><span class="keyword">: </span><span class="string">"export.csv"</span><span class="keyword">;<br /><br />            </span><span class="comment"># Set the headers we need for this to work<br />            </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Type: text/csv; charset=utf-8'</span><span class="keyword">);<br />            </span><span class="default">header</span><span class="keyword">(</span><span class="string">'Content-Disposition: attachment; filename=' </span><span class="keyword">. </span><span class="default">$name</span><span class="keyword">);<br /><br />            </span><span class="comment"># Start the ouput<br />            </span><span class="default">$output </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'php://output'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br /><br />            </span><span class="comment"># Create the headers<br />            </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">$headings</span><span class="keyword">);<br /><br />            </span><span class="comment"># Then loop through the rows<br />            </span><span class="keyword">foreach(</span><span class="default">$rows </span><span class="keyword">as </span><span class="default">$row</span><span class="keyword">)<br />            {<br />                </span><span class="comment"># Add the rows to the body<br />                </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">);<br />            }<br /><br />            </span><span class="comment"># Exit to close the stream off<br />            </span><span class="keyword">exit();<br />        }<br /><br />        </span><span class="comment"># Default to a failure<br />        </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="77013">  <div class="votes">
    <div id="Vu77013">
    <a href="https://www.php.net/manual/vote-note.php?id=77013&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77013">
    <a href="https://www.php.net/manual/vote-note.php?id=77013&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77013" title="30% like this...">
    -10
    </div>
  </div>
  <a href="function.fputcsv.php.html#77013" class="name">
  <strong class="user"><em>alexxed thething gmail thething com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#77013"> &para;</a><div class="date" title="2007-08-10 12:28"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77013">
<div class="phpcode"><code><span class="html">A event simpler way:<br /><br /><span class="default">&lt;?php<br />    </span><span class="keyword">function </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">$hFile</span><span class="keyword">, </span><span class="default">$aRow</span><span class="keyword">, </span><span class="default">$sSeparator</span><span class="keyword">=</span><span class="string">','</span><span class="keyword">, </span><span class="default">$sEnclosure</span><span class="keyword">=</span><span class="string">'"'</span><span class="keyword">)<br />    {<br />       foreach (</span><span class="default">$aRow </span><span class="keyword">as </span><span class="default">$iIdx</span><span class="keyword">=&gt;</span><span class="default">$sCell</span><span class="keyword">)<br />          </span><span class="default">$aRow</span><span class="keyword">[</span><span class="default">$iIdx</span><span class="keyword">] = </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$sEnclosure</span><span class="keyword">, </span><span class="default">$sEnclosure</span><span class="keyword">.</span><span class="default">$sEnclosure</span><span class="keyword">, </span><span class="default">$sCell</span><span class="keyword">);<br /><br />       </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$hFile</span><span class="keyword">, </span><span class="default">join</span><span class="keyword">(</span><span class="default">$aRow</span><span class="keyword">, </span><span class="default">$sSeparator</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">);<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="121537">  <div class="votes">
    <div id="Vu121537">
    <a href="https://www.php.net/manual/vote-note.php?id=121537&amp;page=function.fputcsv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121537">
    <a href="https://www.php.net/manual/vote-note.php?id=121537&amp;page=function.fputcsv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121537" title="20% like this...">
    -9
    </div>
  </div>
  <a href="function.fputcsv.php.html#121537" class="name">
  <strong class="user"><em>bienvenunet at yahoo dot com</em></strong></a><a class="genanchor" href="function.fputcsv.php.html#121537"> &para;</a><div class="date" title="2017-08-18 12:48"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121537">
<div class="phpcode"><code><span class="html">This function, in its current state, can't be used for exporting United States Zip code values to Excel. It doesn't have an option for forcing the enclosure for all strings.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.fputcsv&amp;redirect=https://www.php.net/manual/ru/function.fputcsv.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.filesystem.php.html">Функции файловой системы</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.basename.php.html" title="basename">basename</a>
                        </li>
                                                <li class="">
                            <a href="function.chgrp.php.html" title="chgrp">chgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.chmod.php.html" title="chmod">chmod</a>
                        </li>
                                                <li class="">
                            <a href="function.chown.php.html" title="chown">chown</a>
                        </li>
                                                <li class="">
                            <a href="function.clearstatcache.php.html" title="clearstatcache">clearstatcache</a>
                        </li>
                                                <li class="">
                            <a href="function.copy.php.html" title="copy">copy</a>
                        </li>
                                                <li class="">
                            <a href="function.delete.php.html" title="delete">delete</a>
                        </li>
                                                <li class="">
                            <a href="function.dirname.php.html" title="dirname">dirname</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-free-space.php.html" title="disk_&#8203;free_&#8203;space">disk_&#8203;free_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-total-space.php.html" title="disk_&#8203;total_&#8203;space">disk_&#8203;total_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.diskfreespace.php.html" title="diskfreespace">diskfreespace</a>
                        </li>
                                                <li class="">
                            <a href="function.fclose.php.html" title="fclose">fclose</a>
                        </li>
                                                <li class="">
                            <a href="function.fdatasync.php.html" title="fdatasync">fdatasync</a>
                        </li>
                                                <li class="">
                            <a href="function.feof.php.html" title="feof">feof</a>
                        </li>
                                                <li class="">
                            <a href="function.fflush.php.html" title="fflush">fflush</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetc.php.html" title="fgetc">fgetc</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetcsv.php.html" title="fgetcsv">fgetcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fgets.php.html" title="fgets">fgets</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetss.php.html" title="fgetss">fgetss</a>
                        </li>
                                                <li class="">
                            <a href="function.file-exists.php.html" title="file_&#8203;exists">file_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.file-get-contents.php.html" title="file_&#8203;get_&#8203;contents">file_&#8203;get_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file-put-contents.php.html" title="file_&#8203;put_&#8203;contents">file_&#8203;put_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file.php.html" title="file">file</a>
                        </li>
                                                <li class="">
                            <a href="function.fileatime.php.html" title="fileatime">fileatime</a>
                        </li>
                                                <li class="">
                            <a href="function.filectime.php.html" title="filectime">filectime</a>
                        </li>
                                                <li class="">
                            <a href="function.filegroup.php.html" title="filegroup">filegroup</a>
                        </li>
                                                <li class="">
                            <a href="function.fileinode.php.html" title="fileinode">fileinode</a>
                        </li>
                                                <li class="">
                            <a href="function.filemtime.php.html" title="filemtime">filemtime</a>
                        </li>
                                                <li class="">
                            <a href="function.fileowner.php.html" title="fileowner">fileowner</a>
                        </li>
                                                <li class="">
                            <a href="function.fileperms.php.html" title="fileperms">fileperms</a>
                        </li>
                                                <li class="">
                            <a href="function.filesize.php.html" title="filesize">filesize</a>
                        </li>
                                                <li class="">
                            <a href="function.filetype.php.html" title="filetype">filetype</a>
                        </li>
                                                <li class="">
                            <a href="function.flock.php.html" title="flock">flock</a>
                        </li>
                                                <li class="">
                            <a href="function.fnmatch.php.html" title="fnmatch">fnmatch</a>
                        </li>
                                                <li class="">
                            <a href="function.fopen.php.html" title="fopen">fopen</a>
                        </li>
                                                <li class="">
                            <a href="function.fpassthru.php.html" title="fpassthru">fpassthru</a>
                        </li>
                                                <li class="current">
                            <a href="function.fputcsv.php.html" title="fputcsv">fputcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fputs.php.html" title="fputs">fputs</a>
                        </li>
                                                <li class="">
                            <a href="function.fread.php.html" title="fread">fread</a>
                        </li>
                                                <li class="">
                            <a href="function.fscanf.php.html" title="fscanf">fscanf</a>
                        </li>
                                                <li class="">
                            <a href="function.fseek.php.html" title="fseek">fseek</a>
                        </li>
                                                <li class="">
                            <a href="function.fstat.php.html" title="fstat">fstat</a>
                        </li>
                                                <li class="">
                            <a href="function.fsync.php.html" title="fsync">fsync</a>
                        </li>
                                                <li class="">
                            <a href="function.ftell.php.html" title="ftell">ftell</a>
                        </li>
                                                <li class="">
                            <a href="function.ftruncate.php.html" title="ftruncate">ftruncate</a>
                        </li>
                                                <li class="">
                            <a href="function.fwrite.php.html" title="fwrite">fwrite</a>
                        </li>
                                                <li class="">
                            <a href="function.glob.php.html" title="glob">glob</a>
                        </li>
                                                <li class="">
                            <a href="function.is-dir.php.html" title="is_&#8203;dir">is_&#8203;dir</a>
                        </li>
                                                <li class="">
                            <a href="function.is-executable.php.html" title="is_&#8203;executable">is_&#8203;executable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-file.php.html" title="is_&#8203;file">is_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-link.php.html" title="is_&#8203;link">is_&#8203;link</a>
                        </li>
                                                <li class="">
                            <a href="function.is-readable.php.html" title="is_&#8203;readable">is_&#8203;readable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-uploaded-file.php.html" title="is_&#8203;uploaded_&#8203;file">is_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writable.php.html" title="is_&#8203;writable">is_&#8203;writable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writeable.php.html" title="is_&#8203;writeable">is_&#8203;writeable</a>
                        </li>
                                                <li class="">
                            <a href="function.lchgrp.php.html" title="lchgrp">lchgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.lchown.php.html" title="lchown">lchown</a>
                        </li>
                                                <li class="">
                            <a href="function.link.php.html" title="link">link</a>
                        </li>
                                                <li class="">
                            <a href="function.linkinfo.php.html" title="linkinfo">linkinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.lstat.php.html" title="lstat">lstat</a>
                        </li>
                                                <li class="">
                            <a href="function.mkdir.php.html" title="mkdir">mkdir</a>
                        </li>
                                                <li class="">
                            <a href="function.move-uploaded-file.php.html" title="move_&#8203;uploaded_&#8203;file">move_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-file.php.html" title="parse_&#8203;ini_&#8203;file">parse_&#8203;ini_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-string.php.html" title="parse_&#8203;ini_&#8203;string">parse_&#8203;ini_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.pathinfo.php.html" title="pathinfo">pathinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.pclose.php.html" title="pclose">pclose</a>
                        </li>
                                                <li class="">
                            <a href="function.popen.php.html" title="popen">popen</a>
                        </li>
                                                <li class="">
                            <a href="function.readfile.php.html" title="readfile">readfile</a>
                        </li>
                                                <li class="">
                            <a href="function.readlink.php.html" title="readlink">readlink</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-get.php.html" title="realpath_&#8203;cache_&#8203;get">realpath_&#8203;cache_&#8203;get</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-size.php.html" title="realpath_&#8203;cache_&#8203;size">realpath_&#8203;cache_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath.php.html" title="realpath">realpath</a>
                        </li>
                                                <li class="">
                            <a href="function.rename.php.html" title="rename">rename</a>
                        </li>
                                                <li class="">
                            <a href="function.rewind.php.html" title="rewind">rewind</a>
                        </li>
                                                <li class="">
                            <a href="function.rmdir.php.html" title="rmdir">rmdir</a>
                        </li>
                                                <li class="">
                            <a href="function.set-file-buffer.php.html" title="set_&#8203;file_&#8203;buffer">set_&#8203;file_&#8203;buffer</a>
                        </li>
                                                <li class="">
                            <a href="function.stat.php.html" title="stat">stat</a>
                        </li>
                                                <li class="">
                            <a href="function.symlink.php.html" title="symlink">symlink</a>
                        </li>
                                                <li class="">
                            <a href="function.tempnam.php.html" title="tempnam">tempnam</a>
                        </li>
                                                <li class="">
                            <a href="function.tmpfile.php.html" title="tmpfile">tmpfile</a>
                        </li>
                                                <li class="">
                            <a href="function.touch.php.html" title="touch">touch</a>
                        </li>
                                                <li class="">
                            <a href="function.umask.php.html" title="umask">umask</a>
                        </li>
                                                <li class="">
                            <a href="function.unlink.php.html" title="unlink">unlink</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
