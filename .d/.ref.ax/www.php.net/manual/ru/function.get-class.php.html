<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: get_class - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.get-class.php.html">
 <link rel="shorturl" href="https://www.php.net/get-class">
 <link rel="alternate" href="https://www.php.net/get-class" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.classobj.php.html">
 <link rel="prev" href="function.get-class-vars.php.html">
 <link rel="next" href="function.get-declared-classes.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.get-class.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.get-class.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.get-class.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.get-class.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.get-class.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.get-class.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.get-class.php" hreflang="pt_BR">
 <link rel="alternate" href="function.get-class.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.get-class.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.get-class.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.get-declared-classes.php.html">
          get_declared_classes &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.get-class-vars.php.html">
          &laquo; get_class_vars        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.vartype.php.html'>Модули, относящиеся к переменным и типам</a></li>      <li><a href='book.classobj.php.html'>Классы и объекты</a></li>      <li><a href='ref.classobj.php.html'>Функции работы с классами и объектами</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.get-class.php'>English</option>
            <option value='de/function.get-class.php'>German</option>
            <option value='es/function.get-class.php'>Spanish</option>
            <option value='fr/function.get-class.php'>French</option>
            <option value='it/function.get-class.php'>Italian</option>
            <option value='ja/function.get-class.php'>Japanese</option>
            <option value='pt_BR/function.get-class.php'>Brazilian Portuguese</option>
            <option value='ru/function.get-class.php' selected="selected">Russian</option>
            <option value='tr/function.get-class.php'>Turkish</option>
            <option value='zh/function.get-class.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/classobj/functions/get-class.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.get-class%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.get-class" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">get_class</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">get_class</span> &mdash; <span class="dc-title">Возвращает имя класса, к которому принадлежит объект</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.get-class-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>get_class</strong></span>(<span class="methodparam"><span class="type">object</span> <code class="parameter">$object</code><span class="initializer"> = ?</span></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Возвращает имя класса, экземпляром которого является
   объект <code class="parameter">object</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.get-class-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">object</code></dt>

     <dd>

      <p class="para">
       Тестируемый объект. Внутри класса этот параметр может быть опущен.
      </p>
      <blockquote class="note"><p><strong class="note">Замечание</strong>: 
       <span class="simpara">
        Начиная с PHP 7.2.0, явная передача <strong><code>null</code></strong> в <code class="parameter">object</code>
        запрещена и выдаёт ошибку уровня <strong><code>E_WARNING</code></strong>.
        Начиная с PHP 8.0.0, при передаче <strong><code>null</code></strong>, выбрасывается исключение <span class="classname"><a href="class.typeerror.php.html" class="classname">TypeError</a></span>.
       </span>
      </p></blockquote>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.get-class-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает имя класса, к которому принадлежит экземпляр <code class="parameter">object</code>.
  </p>
  <p class="para">
   Если параметр <code class="parameter">object</code> опущен внутри класса,
   будет возвращено имя этого класса.
  </p>
  <p class="para">
   Если параметр <code class="parameter">object</code> является экземпляром класса,
   существующего в пространстве имён, то будет возвращено полное имя
   с указанием пространства имён.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.get-class-errors">
  <h3 class="title">Ошибки</h3>
  <p class="para">
   Если функция <span class="function"><strong>get_class()</strong></span> вызывается с чем-либо, кроме объекта,
   выбрасывается исключение <span class="classname"><a href="class.typeerror.php.html" class="classname">TypeError</a></span>.
   До PHP 8.0.0 выдавалась ошибка уровня <strong><code>E_WARNING</code></strong>.
  </p>
  <p class="para">
   Если функция <span class="function"><strong>get_class()</strong></span> вызывается без аргументов вне класса, выбрасывается исключение <span class="classname"><a href="class.error.php.html" class="classname">Error</a></span>.
   До PHP 8.0.0 выдавалась ошибка уровня <strong><code>E_WARNING</code></strong>.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.get-class-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.0.0</td>
       <td>
        Вызов функции вне класса без каких-либо аргументов вызовет исключение <span class="classname"><a href="class.error.php.html" class="classname">Error</a></span>.
        Ранее выдавалась ошибка уровня <strong><code>E_WARNING</code></strong> и функция возвращала значение <strong><code>false</code></strong>.
       </td>
      </tr>

      <tr>
       <td>7.2.0</td>
       <td>
        До этой версии значением по умолчанию для <code class="parameter">object</code>
        было <strong><code>null</code></strong> с тем же эффектом, что и отсутствие передачи значения. Теперь
        <strong><code>null</code></strong> был удалён как значение по умолчанию для <code class="parameter">object</code>
        и больше не является допустимым значением.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.get-class-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Использование <span class="function"><strong>get_class()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class </span><span style="color: #0000BB">foo </span><span style="color: #007700">{<br />    function </span><span style="color: #0000BB">name</span><span style="color: #007700">()<br />    {<br />        echo </span><span style="color: #DD0000">"Меня зовут " </span><span style="color: #007700">, </span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">) , </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #FF8000">// создание объекта<br /></span><span style="color: #0000BB">$bar </span><span style="color: #007700">= new </span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">// внешний вызов<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"Его имя " </span><span style="color: #007700">, </span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">) , </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// внутренний вызов<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Результат выполнения приведённого примера:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
Его имя foo
Меня зовут foo
</pre></div>
    </div>
   </div>
   <div class="example" id="">
    <p><strong>Пример #2 Использование <span class="function"><strong>get_class()</strong></span> в родительском классе</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">abstract class </span><span style="color: #0000BB">bar </span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">()<br />    {<br />        </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">));<br />        </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">());<br />    }<br />}<br /><br />class </span><span style="color: #0000BB">foo </span><span style="color: #007700">extends </span><span style="color: #0000BB">bar </span><span style="color: #007700">{<br />}<br /><br />new </span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Результат выполнения приведённого примера:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
string(3) &quot;foo&quot;
string(3) &quot;bar&quot;
</pre></div>
    </div>
   </div>
   <div class="example" id="">
    <p><strong>Пример #3 Использование <span class="function"><strong>get_class()</strong></span> с классами в пространствах имён</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">namespace </span><span style="color: #0000BB">Foo\Bar</span><span style="color: #007700">;<br /><br />class </span><span style="color: #0000BB">Baz </span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">()<br />    {<br /><br />    }<br />}<br /><br /></span><span style="color: #0000BB">$baz </span><span style="color: #007700">= new </span><span style="color: #0000BB">\Foo\Bar\Baz</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$baz</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Результат выполнения приведённого примера:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
string(11) &quot;Foo\Bar\Baz&quot;
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.get-class-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.get-called-class.php.html" class="function" rel="rdfs-seeAlso">get_called_class()</a> - Имя класса, полученное с помощью позднего статического связывания</span></li>
    <li class="member"><span class="function"><a href="function.get-parent-class.php.html" class="function" rel="rdfs-seeAlso">get_parent_class()</a> - Возвращает имя родительского класса для объекта или класса</span></li>
    <li class="member"><span class="function"><a href="function.gettype.php.html" class="function" rel="rdfs-seeAlso">gettype()</a> - Возвращает тип переменной</span></li>
    <li class="member"><span class="function"><a href="function.get-debug-type.php.html" class="function" rel="rdfs-seeAlso">get_debug_type()</a> - Возвращает имя типа переменной в виде, подходящем для отладки</span></li>
    <li class="member"><span class="function"><a href="function.is-subclass-of.php.html" class="function" rel="rdfs-seeAlso">is_subclass_of()</a> - Проверяет, принадлежит ли объект к потомкам класса, или реализует ли объект или родители&nbsp;объекта интерфейс</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.get-class&amp;redirect=https://www.php.net/manual/ru/function.get-class.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">36 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="115849">  <div class="votes">
    <div id="Vu115849">
    <a href="https://www.php.net/manual/vote-note.php?id=115849&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115849">
    <a href="https://www.php.net/manual/vote-note.php?id=115849&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115849" title="77% like this...">
    69
    </div>
  </div>
  <a href="function.get-class.php.html#115849" class="name">
  <strong class="user"><em>jjanak at webperfection dot net</em></strong></a><a class="genanchor" href="function.get-class.php.html#115849"> &para;</a><div class="date" title="2014-10-03 11:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115849">
<div class="phpcode"><code><span class="html">&gt;= 5.5<br /><br />::class<br />fully qualified class name, instead of get_class<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">namespace </span><span class="default">my\library\mvc</span><span class="keyword">;<br /><br />class </span><span class="default">Dispatcher </span><span class="keyword">{}<br /><br />print </span><span class="default">Dispatcher</span><span class="keyword">::class; </span><span class="comment">// FQN == my\library\mvc\Dispatcher<br /><br /></span><span class="default">$disp </span><span class="keyword">= new </span><span class="default">Dispatcher</span><span class="keyword">;<br /><br />print </span><span class="default">$disp</span><span class="keyword">::class; </span><span class="comment">// parse error</span></span></code></div>
  </div>
 </div>
  <div class="note" id="114568">  <div class="votes">
    <div id="Vu114568">
    <a href="https://www.php.net/manual/vote-note.php?id=114568&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114568">
    <a href="https://www.php.net/manual/vote-note.php?id=114568&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114568" title="75% like this...">
    30
    </div>
  </div>
  <a href="function.get-class.php.html#114568" class="name">
  <strong class="user"><em>dave at shax dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#114568"> &para;</a><div class="date" title="2014-03-06 04:36"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114568">
<div class="phpcode"><code><span class="html">A lot of people in other comments wanting to get the classname without the namespace. Some weird suggestions of code to do that - not what I would've written! So wanted to add my own way.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">get_class_name</span><span class="keyword">(</span><span class="default">$classname</span><span class="keyword">)<br />{<br />    if (</span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$classname</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">)) return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$classname</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />    return </span><span class="default">$pos</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Also did some quick benchmarking, and strrpos() was the fastest too. Micro-optimisations = macro optimisations!<br /><br />39.0954 ms - preg_match()<br />28.6305 ms - explode() + end()<br />20.3314 ms - strrpos()<br /><br />(For reference, here's the debug code used. c() is a benchmarking function that runs each closure run 10,000 times.)<br /><br /><span class="default">&lt;?php<br />c</span><span class="keyword">(<br />    function(</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'a\b\C'</span><span class="keyword">) {<br />        if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/\\\\([\w]+)$/'</span><span class="keyword">, </span><span class="default">$class</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)) return </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />        return </span><span class="default">$class</span><span class="keyword">;<br />    },<br />    function(</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'a\b\C'</span><span class="keyword">) {<br />        </span><span class="default">$bits </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">$class</span><span class="keyword">);<br />        return </span><span class="default">end</span><span class="keyword">(</span><span class="default">$bits</span><span class="keyword">);<br />    },<br />    function(</span><span class="default">$class </span><span class="keyword">= </span><span class="string">'a\b\C'</span><span class="keyword">) {<br />        if (</span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">)) return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />        return </span><span class="default">$pos</span><span class="keyword">;<br />    }<br />);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="106794">  <div class="votes">
    <div id="Vu106794">
    <a href="https://www.php.net/manual/vote-note.php?id=106794&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106794">
    <a href="https://www.php.net/manual/vote-note.php?id=106794&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106794" title="66% like this...">
    18
    </div>
  </div>
  <a href="function.get-class.php.html#106794" class="name">
  <strong class="user"><em>mail dot temc at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#106794"> &para;</a><div class="date" title="2011-12-06 02:51"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106794">
<div class="phpcode"><code><span class="html">People seem to mix up what __METHOD__, get_class($obj) and get_class() do, related to class inheritance.<br /><br />Here's a good example that should fix that for ever:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br /> function </span><span class="default">doMethod</span><span class="keyword">(){<br />  echo </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br /> }<br /> function </span><span class="default">doGetClassThis</span><span class="keyword">(){<br />  echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">).</span><span class="string">'::doThat' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br /> }<br /> function </span><span class="default">doGetClass</span><span class="keyword">(){<br />  echo </span><span class="default">get_class</span><span class="keyword">().</span><span class="string">'::doThat' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br /> }<br />}<br /><br />class </span><span class="default">Bar </span><span class="keyword">extends </span><span class="default">Foo </span><span class="keyword">{<br /><br />}<br /><br />class </span><span class="default">Quux </span><span class="keyword">extends </span><span class="default">Bar </span><span class="keyword">{<br /> function </span><span class="default">doMethod</span><span class="keyword">(){<br />  echo </span><span class="default">__METHOD__ </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br /> }<br /> function </span><span class="default">doGetClassThis</span><span class="keyword">(){<br />  echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">).</span><span class="string">'::doThat' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br /> }<br /> function </span><span class="default">doGetClass</span><span class="keyword">(){<br />  echo </span><span class="default">get_class</span><span class="keyword">().</span><span class="string">'::doThat' </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br /> }<br />}<br /><br /></span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br /></span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">Bar</span><span class="keyword">();<br /></span><span class="default">$quux </span><span class="keyword">= new </span><span class="default">Quux</span><span class="keyword">();<br /><br />echo </span><span class="string">"\n--doMethod--\n"</span><span class="keyword">;<br /><br /></span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">doMethod</span><span class="keyword">();<br /></span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">doMethod</span><span class="keyword">();<br /></span><span class="default">$quux</span><span class="keyword">-&gt;</span><span class="default">doMethod</span><span class="keyword">();<br /><br />echo </span><span class="string">"\n--doGetClassThis--\n"</span><span class="keyword">;<br /><br /></span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">doGetClassThis</span><span class="keyword">();<br /></span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">doGetClassThis</span><span class="keyword">();<br /></span><span class="default">$quux</span><span class="keyword">-&gt;</span><span class="default">doGetClassThis</span><span class="keyword">();<br /><br />echo </span><span class="string">"\n--doGetClass--\n"</span><span class="keyword">;<br /><br /></span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">doGetClass</span><span class="keyword">();<br /></span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">doGetClass</span><span class="keyword">();<br /></span><span class="default">$quux</span><span class="keyword">-&gt;</span><span class="default">doGetClass</span><span class="keyword">();<br /><br /></span><span class="default">?&gt;<br /></span><br />OUTPUT:<br /><br />--doMethod--<br />Foo::doMethod<br />Foo::doMethod<br />Quux::doMethod<br /><br />--doGetClassThis--<br />Foo::doThat<br />Bar::doThat<br />Quux::doThat<br /><br />--doGetClass--<br />Foo::doThat<br />Foo::doThat<br />Quux::doThat</span></code></div>
  </div>
 </div>
  <div class="note" id="97164">  <div class="votes">
    <div id="Vu97164">
    <a href="https://www.php.net/manual/vote-note.php?id=97164&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97164">
    <a href="https://www.php.net/manual/vote-note.php?id=97164&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97164" title="68% like this...">
    6
    </div>
  </div>
  <a href="function.get-class.php.html#97164" class="name">
  <strong class="user"><em>ovidiu.bute [at] gmail.com</em></strong></a><a class="genanchor" href="function.get-class.php.html#97164"> &para;</a><div class="date" title="2010-04-05 10:23"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom97164">
<div class="phpcode"><code><span class="html">If you are using namespaces this function will return the name of the class including the namespace, so watch out if your code does any checks for this. Ex:<br /><br />namespace Shop;<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">Foo<br /></span><span class="keyword">{<br />  public function </span><span class="default">__construct</span><span class="keyword">()<br />  {<br />     echo </span><span class="string">"Foo"</span><span class="keyword">;<br />  }<br />}<br /><br /></span><span class="comment">//Different file<br /><br /></span><span class="keyword">include(</span><span class="string">'inc/Shop.class.php'</span><span class="keyword">); <br /><br /></span><span class="default">$test </span><span class="keyword">= new </span><span class="default">Shop\Foo</span><span class="keyword">();<br />echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$test</span><span class="keyword">);</span><span class="comment">//returns Shop\Foo<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="112159">  <div class="votes">
    <div id="Vu112159">
    <a href="https://www.php.net/manual/vote-note.php?id=112159&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112159">
    <a href="https://www.php.net/manual/vote-note.php?id=112159&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112159" title="61% like this...">
    3
    </div>
  </div>
  <a href="function.get-class.php.html#112159" class="name">
  <strong class="user"><em>emmanuel dot antico at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#112159"> &para;</a><div class="date" title="2013-05-10 07:35"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112159">
<div class="phpcode"><code><span class="html">/**<br /> * Obtains an object class name without namespaces<br /> */<br />function get_real_class($obj) {<br />    $classname = get_class($obj);<br /><br />    if (preg_match('@\\\\([\w]+)$@', $classname, $matches)) {<br />        $classname = $matches[1];<br />    }<br /><br />    return $classname;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="107964">  <div class="votes">
    <div id="Vu107964">
    <a href="https://www.php.net/manual/vote-note.php?id=107964&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd107964">
    <a href="https://www.php.net/manual/vote-note.php?id=107964&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V107964" title="58% like this...">
    6
    </div>
  </div>
  <a href="function.get-class.php.html#107964" class="name">
  <strong class="user"><em>macnimble at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#107964"> &para;</a><div class="date" title="2012-03-17 07:24"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom107964">
<div class="phpcode"><code><span class="html">Need a quick way to parse the name of a class when it's namespaced? Try this:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">namespace </span><span class="default">Engine</span><span class="keyword">;<br />function </span><span class="default">parse_classname </span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">)<br />{<br />  return array(<br />    </span><span class="string">'namespace' </span><span class="keyword">=&gt; </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">),<br />    </span><span class="string">'classname' </span><span class="keyword">=&gt; </span><span class="default">join</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">), -</span><span class="default">1</span><span class="keyword">)),<br />  );<br />}<br />final class </span><span class="default">Kernel<br /></span><span class="keyword">{<br />  final public function </span><span class="default">__construct </span><span class="keyword">()<br />  {<br />    echo </span><span class="string">'&lt;pre&gt;'</span><span class="keyword">, </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">parse_classname</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">),</span><span class="default">1</span><span class="keyword">), </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />    </span><span class="comment">// Or this for a one-line method to get just the classname:<br />    // echo join('', array_slice(explode('\\', __CLASS__), -1));<br />  </span><span class="keyword">}<br />}<br />new </span><span class="default">Kernel</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />Outputs:<br />Array<br />(<br />    [namespace] =&gt; Array<br />        (<br />            [0] =&gt; Engine<br />        )<br /><br />    [classname] =&gt; Kernel<br />)</span></code></div>
  </div>
 </div>
  <div class="note" id="106686">  <div class="votes">
    <div id="Vu106686">
    <a href="https://www.php.net/manual/vote-note.php?id=106686&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106686">
    <a href="https://www.php.net/manual/vote-note.php?id=106686&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106686" title="60% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#106686" class="name">
  <strong class="user"><em>ozana at omdesign dot cz</em></strong></a><a class="genanchor" href="function.get-class.php.html#106686"> &para;</a><div class="date" title="2011-11-28 07:53"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106686">
<div class="phpcode"><code><span class="html">Simplest way how to gets Class without namespace<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">namespace </span><span class="default">a\b\c\d\e\f</span><span class="keyword">;<br /><br />class </span><span class="default">Foo </span><span class="keyword">{<br /><br />  public function </span><span class="default">__toString</span><span class="keyword">() {<br />    </span><span class="default">$class </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">__CLASS__</span><span class="keyword">);<br />    return </span><span class="default">end</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">);<br />  }<br />}<br /><br />echo new </span><span class="default">Foo</span><span class="keyword">(); </span><span class="comment">// prints Foo<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="82479">  <div class="votes">
    <div id="Vu82479">
    <a href="https://www.php.net/manual/vote-note.php?id=82479&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82479">
    <a href="https://www.php.net/manual/vote-note.php?id=82479&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82479" title="60% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#82479" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.get-class.php.html#82479"> &para;</a><div class="date" title="2008-04-12 02:01"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom82479">
<div class="phpcode"><code><span class="html">In Perl (and some other languages) you can call some methods in both object and class (aka static) context. I made such a method for one of my classes in PHP5, but found out that static methods in PHP5 do not 'know' the name of the calling subclass', so I use a backtrace to determine it. I don't like hacks like this, but as long as PHP doesn't have an alternative, this is what has to be done:<br /><br />public function table_name() {<br />        $result = null;<br />        if (isset($this)) { // object context<br />            $result = get_class($this);<br />        }<br />        else { // class context<br />            $result = get_class();<br />            $trace = debug_backtrace();<br />            foreach ($trace as &amp;$frame) {<br />                if (!isset($frame['class'])) {<br />                    break;<br />                }<br />                if ($frame['class'] != $result) {<br />                    if (!is_subclass_of($frame['class'], $result)) {<br />                        break;<br />                    }<br />                    $result = $frame['class'];<br />                }<br />            }<br />        }<br />        return $result;<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="85228">  <div class="votes">
    <div id="Vu85228">
    <a href="https://www.php.net/manual/vote-note.php?id=85228&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85228">
    <a href="https://www.php.net/manual/vote-note.php?id=85228&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85228" title="54% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#85228" class="name">
  <strong class="user"><em>Edward</em></strong></a><a class="genanchor" href="function.get-class.php.html#85228"> &para;</a><div class="date" title="2008-08-21 03:26"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85228">
<div class="phpcode"><code><span class="html">The code in my previous comment was not completely correct. I think this one is. <br /><br />&lt;?<br />abstract class Singleton {<br />    protected static $__CLASS__ = __CLASS__;<br /><br />    protected function __construct() {<br />    }<br />    <br />    abstract protected function init();<br />    <br />    /**<br />     * Gets an instance of this singleton. If no instance exists, a new instance is created and returned.<br />     * If one does exist, then the existing instance is returned.<br />     */<br />    public static function getInstance() {<br />        static $instance;<br />        <br />        $class = self::getClass();<br />        <br />        if ($instance === null) {<br />            $instance = new $class();<br />            $instance-&gt;init();<br />        }<br />        <br />        return $instance;<br />    }<br />    <br />    /**<br />     * Returns the classname of the child class extending this class<br />     *<br />     * @return string The class name<br />     */<br />    private static function getClass() {<br />        $implementing_class = static::$__CLASS__;<br />        $original_class = __CLASS__;<br /><br />        if ($implementing_class === $original_class) {<br />            die("You MUST provide a &lt;code&gt;protected static \$__CLASS__ = __CLASS__;&lt;/code&gt; statement in your Singleton-class!");<br />        }<br />        <br />        return $implementing_class;<br />    }<br />}<br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="116364">  <div class="votes">
    <div id="Vu116364">
    <a href="https://www.php.net/manual/vote-note.php?id=116364&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116364">
    <a href="https://www.php.net/manual/vote-note.php?id=116364&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116364" title="52% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#116364" class="name">
  <strong class="user"><em>RQuadling at GMail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#116364"> &para;</a><div class="date" title="2014-12-19 03:09"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116364">
<div class="phpcode"><code><span class="html">With regard to getting the class name from a namespaced class name, then using basename() seems to do the trick quite nicely.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">namespace </span><span class="default">Foo\Bar</span><span class="keyword">;<br /><br />abstract class </span><span class="default">Baz<br /></span><span class="keyword">{<br />  public function </span><span class="default">report</span><span class="keyword">()<br />  {<br />    echo<br />      </span><span class="string">'__CLASS__        '</span><span class="keyword">, </span><span class="default">__CLASS__</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="default">basename</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">), </span><span class="default">PHP_EOL</span><span class="keyword">,<br />      </span><span class="string">'get_called_class '</span><span class="keyword">, </span><span class="default">get_called_class</span><span class="keyword">(), </span><span class="string">' '</span><span class="keyword">, </span><span class="default">basename</span><span class="keyword">(</span><span class="default">get_called_class</span><span class="keyword">()), </span><span class="default">PHP_EOL</span><span class="keyword">;<br />  }<br />}<br /><br />class </span><span class="default">Snafu </span><span class="keyword">extends </span><span class="default">Baz<br /></span><span class="keyword">{<br />}<br /><br />(new </span><span class="default">Snafu</span><span class="keyword">)-&gt;</span><span class="default">report</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />produces output of ...<br /><br />__CLASS__        Foo\Bar\Baz   Baz<br />get_called_class Foo\Bar\Snafu Snafu</span></code></div>
  </div>
 </div>
  <div class="note" id="115763">  <div class="votes">
    <div id="Vu115763">
    <a href="https://www.php.net/manual/vote-note.php?id=115763&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115763">
    <a href="https://www.php.net/manual/vote-note.php?id=115763&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115763" title="100% like this...">
    2
    </div>
  </div>
  <a href="function.get-class.php.html#115763" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.get-class.php.html#115763"> &para;</a><div class="date" title="2014-09-18 08:55"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115763">
<div class="phpcode"><code><span class="html">If you want the path to an file if you have i file structure like this<br /><br />project -&gt; system -&gt; libs -&gt; controller.php<br />project -&gt; system -&gt; modules -&gt; foo -&gt; foo.php<br /><br />and foo() in foo.php extends controller() in controller.php like this<br /><br /><span class="default">&lt;?PHP<br /></span><span class="keyword">namespace </span><span class="default">system\modules\foo</span><span class="keyword">;<br /><br />class </span><span class="default">foo </span><span class="keyword">extends </span><span class="default">\system\libs\controller </span><span class="keyword">{<br />    public function </span><span class="default">__construct</span><span class="keyword">() {<br />        </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();    <br />    }<br />}<br /></span><span class="default">?&gt;<br /></span><br />and you want to know the path to foo.php in controller() this may help you<br /><br /><span class="default">&lt;?PHP<br /></span><span class="keyword">namespace </span><span class="default">system\libs</span><span class="keyword">;<br /><br />class </span><span class="default">controller </span><span class="keyword">{<br />    protected function </span><span class="default">__construct</span><span class="keyword">() {<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">getChildPath</span><span class="keyword">();<br />    }<br />    protected function </span><span class="default">getChildPath</span><span class="keyword">() {<br />        echo </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">));<br />    }<br />}<br /></span><span class="default">?&gt;<br /></span><br /><span class="default">&lt;?PHP<br />$f </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">();  </span><span class="comment">// system\modules\foo<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="121681">  <div class="votes">
    <div id="Vu121681">
    <a href="https://www.php.net/manual/vote-note.php?id=121681&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121681">
    <a href="https://www.php.net/manual/vote-note.php?id=121681&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121681" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#121681" class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><a class="genanchor" href="function.get-class.php.html#121681"> &para;</a><div class="date" title="2017-09-24 11:22"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121681">
<div class="phpcode"><code><span class="html">Although you can call a class's static methods from an instance of the class as though they were object instance methods, it's nice to know that, since classes are represented in PHP code by their names as strings, the same thing goes for the return value of get_class():<br /><br /><span class="default">&lt;?php<br />$t</span><span class="keyword">-&gt;</span><span class="default">Faculty</span><span class="keyword">();<br /></span><span class="default">SomeClass</span><span class="keyword">::</span><span class="default">Faculty</span><span class="keyword">(); </span><span class="comment">// $t instanceof SomeClass<br /></span><span class="string">"SomeClass"</span><span class="keyword">::</span><span class="default">Faculty</span><span class="keyword">();<br /></span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">)::</span><span class="default">Faculty</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />The first is legitimate, but the last makes it clear to someone reading it that Faculty() is a static method (because the name of the method certainly doesn't).</span></code></div>
  </div>
 </div>
  <div class="note" id="120347">  <div class="votes">
    <div id="Vu120347">
    <a href="https://www.php.net/manual/vote-note.php?id=120347&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120347">
    <a href="https://www.php.net/manual/vote-note.php?id=120347&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120347" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#120347" class="name">
  <strong class="user"><em>dense</em></strong></a><a class="genanchor" href="function.get-class.php.html#120347"> &para;</a><div class="date" title="2016-12-17 01:33"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120347">
<div class="phpcode"><code><span class="html">well, if you call  get_class() on an aliased class, you will get the original class name<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">class </span><span class="default">Person </span><span class="keyword">{}<br /><br /></span><span class="default">class_alias</span><span class="keyword">(</span><span class="string">'Person'</span><span class="keyword">, </span><span class="string">'User'</span><span class="keyword">);<br /><br /></span><span class="default">$me </span><span class="keyword">= new </span><span class="default">User</span><span class="keyword">;<br /><br /></span><span class="default">var_dump</span><span class="keyword">( </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$me</span><span class="keyword">) ); </span><span class="comment">// 'Person'<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="126144">  <div class="votes">
    <div id="Vu126144">
    <a href="https://www.php.net/manual/vote-note.php?id=126144&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd126144">
    <a href="https://www.php.net/manual/vote-note.php?id=126144&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V126144" title="0% like this...">
    -2
    </div>
  </div>
  <a href="function.get-class.php.html#126144" class="name">
  <strong class="user"><em>davidsch</em></strong></a><a class="genanchor" href="function.get-class.php.html#126144"> &para;</a><div class="date" title="2021-06-07 02:50"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom126144">
<div class="phpcode"><code><span class="html">There are discussions below regarding how to create a singleton that allows subclassing. It seems with get_called_class  there is now a cleaner solution than what is discussed below, that does not require overriding a method per subclass.<br /><br />e.g.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">MySuperclass </span><span class="keyword">{<br />    static private </span><span class="default">$instances </span><span class="keyword">= array();<br /><br />    static public function </span><span class="default">getInstance</span><span class="keyword">(): </span><span class="default">ACFBlock </span><span class="keyword">{<br />        </span><span class="default">$className </span><span class="keyword">= </span><span class="default">get_called_class</span><span class="keyword">();<br />        if (!isset(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$className</span><span class="keyword">])) {<br />            </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$className</span><span class="keyword">] = new static();<br />        }<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$className</span><span class="keyword">];<br />    }<br /><br />    private function </span><span class="default">__construct</span><span class="keyword">() {<br />        </span><span class="comment">// Singleton<br />     </span><span class="keyword">}<br />}<br /><br />class </span><span class="default">MySubclass </span><span class="keyword">extends </span><span class="default">MySuperclass </span><span class="keyword">{<br />}<br /><br /></span><span class="default">MySubclass</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();</span></span></code></div>
  </div>
 </div>
  <div class="note" id="113947">  <div class="votes">
    <div id="Vu113947">
    <a href="https://www.php.net/manual/vote-note.php?id=113947&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113947">
    <a href="https://www.php.net/manual/vote-note.php?id=113947&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113947" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#113947" class="name">
  <strong class="user"><em>Nanhe Kumar</em></strong></a><a class="genanchor" href="function.get-class.php.html#113947"> &para;</a><div class="date" title="2013-12-20 12:14"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113947">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">Parent</span><span class="keyword">{<br />}<br />class </span><span class="default">Child </span><span class="keyword">extends </span><span class="default">Parent</span><span class="keyword">{    <br />}<br /></span><span class="default">$c </span><span class="keyword">= new </span><span class="default">Child</span><span class="keyword">();<br />echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) </span><span class="comment">//Child<br /></span><span class="default">?&gt;<br />&lt;?php<br /></span><span class="keyword">class </span><span class="default">Parent</span><span class="keyword">{<br />  public function </span><span class="default">getClass</span><span class="keyword">(){<br />     echo </span><span class="default">get_class</span><span class="keyword">(); <br />  }<br />}<br />class </span><span class="default">Child </span><span class="keyword">extends </span><span class="default">Parent</span><span class="keyword">{<br />}<br /></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Child</span><span class="keyword">();<br /></span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getClass</span><span class="keyword">(); </span><span class="comment">//outputs Parent<br /></span><span class="default">?&gt;<br />&lt;?php<br /></span><span class="keyword">class </span><span class="default">Parent</span><span class="keyword">{<br />  public function </span><span class="default">getClass</span><span class="keyword">(){<br />     echo </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">); <br />  }<br />}<br />class </span><span class="default">Child </span><span class="keyword">extends </span><span class="default">Parent</span><span class="keyword">{<br />}<br /></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Child</span><span class="keyword">();<br /></span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getClass</span><span class="keyword">(); </span><span class="comment">// Parent<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98496">  <div class="votes">
    <div id="Vu98496">
    <a href="https://www.php.net/manual/vote-note.php?id=98496&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98496">
    <a href="https://www.php.net/manual/vote-note.php?id=98496&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98496" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#98496" class="name">
  <strong class="user"><em>Aaron</em></strong></a><a class="genanchor" href="function.get-class.php.html#98496"> &para;</a><div class="date" title="2010-06-18 11:14"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98496">
<div class="phpcode"><code><span class="html">This can sometimes be used in place of get_called_class(). I used this function in a parent class to get the name of the class that extends it.</span></code></div>
  </div>
 </div>
  <div class="note" id="106368">  <div class="votes">
    <div id="Vu106368">
    <a href="https://www.php.net/manual/vote-note.php?id=106368&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106368">
    <a href="https://www.php.net/manual/vote-note.php?id=106368&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106368" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#106368" class="name">
  <strong class="user"><em>Michael Richey</em></strong></a><a class="genanchor" href="function.get-class.php.html#106368"> &para;</a><div class="date" title="2011-10-31 12:01"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106368">
<div class="phpcode"><code><span class="html">Attempting various singleton base class methods described on this page, I have created a base class and bridge function that allows it to work without get_called_class() if it's not available.  Unlike other methods listed here, I chose not to prevent use of __construct() or __clone().<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">Singleton </span><span class="keyword">{<br />    protected static </span><span class="default">$m_pInstance</span><span class="keyword">;<br />    final public static function </span><span class="default">getInstance</span><span class="keyword">(){<br />        </span><span class="default">$class </span><span class="keyword">= static::</span><span class="default">getClass</span><span class="keyword">();<br />        if(!isset(static::</span><span class="default">$m_pInstance</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">])) {<br />            static::</span><span class="default">$m_pInstance</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">] = new </span><span class="default">$class</span><span class="keyword">;<br />        }<br />        return static::</span><span class="default">$m_pInstance</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">];<br />    }<br />    final public static function </span><span class="default">getClass</span><span class="keyword">(){<br />        return </span><span class="default">get_called_class</span><span class="keyword">();<br />    }<br />}<br /><br /></span><span class="comment">// I don't remember where I found this, but this is to allow php &lt; 5.3 to use this method.<br /></span><span class="keyword">if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'get_called_class'</span><span class="keyword">)) {<br />    function </span><span class="default">get_called_class</span><span class="keyword">(</span><span class="default">$bt </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />        if (!</span><span class="default">$bt</span><span class="keyword">)<br />            </span><span class="default">$bt </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />        if (!isset(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">]))<br />            throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Cannot find called class -&gt; stack level too deep."</span><span class="keyword">);<br />        if (!isset(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'type'</span><span class="keyword">])) {<br />            throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'type not set'</span><span class="keyword">);<br />        }<br />        else<br />            switch (</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'type'</span><span class="keyword">]) {<br />                case </span><span class="string">'::'</span><span class="keyword">:<br />                    </span><span class="default">$lines </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'file'</span><span class="keyword">]);<br />                    </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />                    </span><span class="default">$callerLine </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />                    do {<br />                        </span><span class="default">$i</span><span class="keyword">++;<br />                        </span><span class="default">$callerLine </span><span class="keyword">= </span><span class="default">$lines</span><span class="keyword">[</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'line'</span><span class="keyword">] - </span><span class="default">$i</span><span class="keyword">] . </span><span class="default">$callerLine</span><span class="keyword">;<br />                    } while (</span><span class="default">stripos</span><span class="keyword">(</span><span class="default">$callerLine</span><span class="keyword">, </span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'function'</span><span class="keyword">]) === </span><span class="default">false</span><span class="keyword">);<br />                    </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/([a-zA-Z0-9\_]+)::' </span><span class="keyword">. </span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'function'</span><span class="keyword">] . </span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$callerLine</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">);<br />                    if (!isset(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) {<br />                        </span><span class="comment">// must be an edge case.<br />                        </span><span class="keyword">throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Could not find caller class: originating method call is obscured."</span><span class="keyword">);<br />                    }<br />                    switch (</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) {<br />                        case </span><span class="string">'self'</span><span class="keyword">:<br />                        case </span><span class="string">'parent'</span><span class="keyword">:<br />                            return </span><span class="default">get_called_class</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />                        default:<br />                            return </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />                    }<br />                </span><span class="comment">// won't get here.<br />                </span><span class="keyword">case </span><span class="string">'-&gt;'</span><span class="keyword">: switch (</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'function'</span><span class="keyword">]) {<br />                        case </span><span class="string">'__get'</span><span class="keyword">:<br />                            </span><span class="comment">// edge case -&gt; get class of calling object<br />                            </span><span class="keyword">if (!</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]))<br />                                throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Edge case fail. __get called on non object."</span><span class="keyword">);<br />                            return </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]);<br />                        default: return </span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$l</span><span class="keyword">][</span><span class="string">'class'</span><span class="keyword">];<br />                    }<br /><br />                default: throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Unknown backtrace method type"</span><span class="keyword">);<br />            }<br />    }<br />}<br /><br />class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br />}<br /><br />class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br />}<br /><br /></span><span class="default">$b </span><span class="keyword">= </span><span class="default">B</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />echo </span><span class="string">'class: '</span><span class="keyword">.</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br /><br />echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br /><br /></span><span class="default">$c </span><span class="keyword">= </span><span class="default">C</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />echo echo </span><span class="string">'class: '</span><span class="keyword">.</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span>This returns:<br />class: b<br />class: c</span></code></div>
  </div>
 </div>
  <div class="note" id="101272">  <div class="votes">
    <div id="Vu101272">
    <a href="https://www.php.net/manual/vote-note.php?id=101272&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd101272">
    <a href="https://www.php.net/manual/vote-note.php?id=101272&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V101272" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#101272" class="name">
  <strong class="user"><em>me at nwhiting dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#101272"> &para;</a><div class="date" title="2010-12-06 08:14"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom101272">
<div class="phpcode"><code><span class="html">Method for pulling the name of a class with namespaces pre-stripped.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Returns the name of a class using get_class with the namespaces stripped.<br /> * This will not work inside a class scope as get_class() a workaround for<br /> * that is using get_class_name(get_class());<br /> *<br /> * @param  object|string  $object  Object or Class Name to retrieve name<br /><br /> * @return  string  Name of class with namespaces stripped<br /> */<br /></span><span class="keyword">function </span><span class="default">get_class_name</span><span class="keyword">(</span><span class="default">$object </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />{<br />    if (!</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">) &amp;&amp; !</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)) {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    <br />    </span><span class="default">$class </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">) ? </span><span class="default">$object </span><span class="keyword">: </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">)));<br />    return </span><span class="default">$class</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">];<br />}<br /></span><span class="default">?&gt;<br /></span><br />And for everyone for Unit Test goodiness!<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">namespace </span><span class="default">testme\here</span><span class="keyword">;<br /><br />class </span><span class="default">TestClass </span><span class="keyword">{<br />    <br />    public function </span><span class="default">test</span><span class="keyword">()<br />    {<br />       return </span><span class="default">get_class_name</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">());<br />    }<br />}<br /><br />class </span><span class="default">GetClassNameTest </span><span class="keyword">extends </span><span class="default">\PHPUnit_Framework_TestCase<br /></span><span class="keyword">{<br />    public function </span><span class="default">testGetClassName</span><span class="keyword">()<br />    {<br />        </span><span class="default">$class  </span><span class="keyword">= new </span><span class="default">TestClass</span><span class="keyword">();<br />        </span><span class="default">$std  </span><span class="keyword">= new </span><span class="default">\stdClass</span><span class="keyword">();<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertEquals</span><span class="keyword">(</span><span class="string">'TestClass'</span><span class="keyword">, </span><span class="default">get_class_name</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">));<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertEquals</span><span class="keyword">(</span><span class="string">'stdClass'</span><span class="keyword">, </span><span class="default">get_class_name</span><span class="keyword">(</span><span class="default">$std</span><span class="keyword">));<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertEquals</span><span class="keyword">(</span><span class="string">'Test'</span><span class="keyword">, </span><span class="default">get_class_name</span><span class="keyword">(</span><span class="string">'Test'</span><span class="keyword">));<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertFalse</span><span class="keyword">(</span><span class="default">get_class_name</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">));<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertFalse</span><span class="keyword">(</span><span class="default">get_class_name</span><span class="keyword">(array()));<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">assertEquals</span><span class="keyword">(</span><span class="string">'TestClass'</span><span class="keyword">, </span><span class="default">$class</span><span class="keyword">-&gt;</span><span class="default">test</span><span class="keyword">());<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="77698">  <div class="votes">
    <div id="Vu77698">
    <a href="https://www.php.net/manual/vote-note.php?id=77698&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77698">
    <a href="https://www.php.net/manual/vote-note.php?id=77698&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77698" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#77698" class="name">
  <strong class="user"><em>dodgie74 at NOSPAM dot yahoo dot NOSPAM dot co dot uk</em></strong></a><a class="genanchor" href="function.get-class.php.html#77698"> &para;</a><div class="date" title="2007-09-09 05:40"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77698">
<div class="phpcode"><code><span class="html">As noted in bug #30934 (which is not actually a bug but a consequence of a design decision), the "self" keyword is bound at compile time. Amongst other things, this means that in base class methods, any use of the "self" keyword will refer to that base class regardless of the actual (derived) class on which the method was invoked. This becomes problematic when attempting to call an overridden static method from within an inherited method in a derived class. For example:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">Base<br /></span><span class="keyword">{<br />    protected </span><span class="default">$m_instanceName </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    <br />    public static function </span><span class="default">classDisplayName</span><span class="keyword">()<br />    {<br />        return </span><span class="string">'Base Class'</span><span class="keyword">;<br />    }<br />    <br />    public function </span><span class="default">instanceDisplayName</span><span class="keyword">()<br />    {<br />        </span><span class="comment">//here, we want "self" to refer to the actual class, which might be a derived class that inherits this method, not necessarily this base class<br />        </span><span class="keyword">return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">m_instanceName </span><span class="keyword">. </span><span class="string">' - ' </span><span class="keyword">. </span><span class="default">self</span><span class="keyword">::</span><span class="default">classDisplayName</span><span class="keyword">();<br />    }<br />}<br /><br />class </span><span class="default">Derived </span><span class="keyword">extends </span><span class="default">Base<br /></span><span class="keyword">{<br />    public function </span><span class="default">Derived</span><span class="keyword">( </span><span class="default">$name </span><span class="keyword">)<br />    {<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">m_instanceName </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />    }<br />    <br />    public static function </span><span class="default">classDisplayName</span><span class="keyword">()<br />    {<br />        return </span><span class="string">'Derived Class'</span><span class="keyword">;<br />    }<br />}<br /><br /></span><span class="default">$o </span><span class="keyword">= new </span><span class="default">Derived</span><span class="keyword">(</span><span class="string">'My Instance'</span><span class="keyword">);<br />echo </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">instanceDisplayName</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />In the above example, assuming runtime binding (where the keyword "self" refers to the actual class on which the method was invoked rather than the class in which the method is defined) would produce the output:<br /><br />My Instance - Derived Class<br /><br />However, assuming compile-time binding (where the keyword "self" refers to the class in which the method is defined), which is how php works, the output would be:<br /><br />My Instance - Base Class<br /><br />The oddity here is that "$this" is bound at runtime to the actual class of the object (obviously) but "self" is bound at compile-time, which seems counter-intuitive to me. "self" is ALWAYS a synonym for the name of the class in which it is written, which the programmer knows so s/he can just use the class name; what the programmer cannot know is the name of the actual class on which the method was invoked (because the method could be invoked on a derived class), which it seems to me is something for which "self" ought to be useful.<br /><br />However, questions about design decisions aside, the problem still exists of how to achieve behaviour similar to "self" being bound at runtime, so that both static and non-static methods invoked on or from within a derived class act on that derived class. The get_class() function can be used to emulate the functionality of runtime binding for the "self" keyword for static methods:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">Base<br /></span><span class="keyword">{<br />    protected </span><span class="default">$m_instanceName </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    <br />    public static function </span><span class="default">classDisplayName</span><span class="keyword">()<br />    {<br />        return </span><span class="string">'Base Class'</span><span class="keyword">;<br />    }<br />    <br />    public function </span><span class="default">instanceDisplayName</span><span class="keyword">()<br />    {<br />        </span><span class="default">$realClass </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br />        return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">m_instanceName </span><span class="keyword">. </span><span class="string">' - ' </span><span class="keyword">. </span><span class="default">call_user_func</span><span class="keyword">(array(</span><span class="default">$realClass</span><span class="keyword">, </span><span class="string">'classDisplayName'</span><span class="keyword">));<br />    }<br />}<br /><br />class </span><span class="default">Derived </span><span class="keyword">extends </span><span class="default">Base<br /></span><span class="keyword">{<br />    public function </span><span class="default">Derived</span><span class="keyword">( </span><span class="default">$name </span><span class="keyword">)<br />    {<br />        </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">m_instanceName </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />    }<br />    <br />    public static function </span><span class="default">classDisplayName</span><span class="keyword">()<br />    {<br />        return </span><span class="string">'Derived Class'</span><span class="keyword">;<br />    }<br />}<br /><br /></span><span class="default">$o </span><span class="keyword">= new </span><span class="default">Derived</span><span class="keyword">(</span><span class="string">'My Instance'</span><span class="keyword">);<br />echo </span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">instanceDisplayName</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />Output:<br />My Instance - Derived Class<br /><br />I realise that some people might respond "why don't use just just the class name with ' Class' appended instead of the classDisplayName() method", which is to miss the point. The point is not the actual strings returned but the concept of wanting to use the real class for an overridden static method from within an inherited non-static method. The above is just a simplified version of a real-world problem that was too complex to use as an example.<br /><br />Apologies if this has been mentioned before.</span></code></div>
  </div>
 </div>
  <div class="note" id="77214">  <div class="votes">
    <div id="Vu77214">
    <a href="https://www.php.net/manual/vote-note.php?id=77214&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77214">
    <a href="https://www.php.net/manual/vote-note.php?id=77214&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77214" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#77214" class="name">
  <strong class="user"><em>bramus at bram dot us</em></strong></a><a class="genanchor" href="function.get-class.php.html#77214"> &para;</a><div class="date" title="2007-08-20 08:40"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77214">
<div class="phpcode"><code><span class="html">@ Frederik : <br /><br />&lt;?<br />$class = $bt[count($bt) - 1]['class']; <br />?&gt;<br /><br />should be<br /><br />&lt;?<br />$class = $bt[count($bt) - 2]['class'];<br />?&gt;<br /><br />;-)</span></code></div>
  </div>
 </div>
  <div class="note" id="72440">  <div class="votes">
    <div id="Vu72440">
    <a href="https://www.php.net/manual/vote-note.php?id=72440&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd72440">
    <a href="https://www.php.net/manual/vote-note.php?id=72440&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V72440" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#72440" class="name">
  <strong class="user"><em>yicheng zero-four at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#72440"> &para;</a><div class="date" title="2007-01-18 12:22"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom72440">
<div class="phpcode"><code><span class="html">This a response to luke at liveoakinteractive dot com and davidc at php dot net.  Static methods and variables, by definition, are bound to class types not object instances.  You should not need to dynamically find out what class a static method belongs to, since the context of your code should make it quite obvious.  Your questions reveals that you probably don't quite understand OOP quite yet (it took me a while as well).<br /><br />Luke, the observed behavior from your particular code snippet makes perfect sense when you think about it.  The method getclass() is defined in BooBoof, so the __CLASS__ macro would be bound to BooBoof and defined in relation to the BooBoof class.  The fact that CooCoof is a subclass of BooBoof just means that it gains a shortcut to BooBoof::getclass().  So, in effect, you are really asking (in a convoluted way): "What is the class to which belongs the method call BooBoof::getclass()?"  The correct solution (if you actually want/need to do this) is to simply implement CooCoof::getclass() { return __CLASS__; } inside of the CooCoof definition, and any childclasses that you want to mimic this behavior.  CooCoof::getclass() will have the expected behavior.</span></code></div>
  </div>
 </div>
  <div class="note" id="71574">  <div class="votes">
    <div id="Vu71574">
    <a href="https://www.php.net/manual/vote-note.php?id=71574&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71574">
    <a href="https://www.php.net/manual/vote-note.php?id=71574&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71574" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#71574" class="name">
  <strong class="user"><em>luke at liveoakinteractive dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#71574"> &para;</a><div class="date" title="2006-12-06 07:03"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71574">
<div class="phpcode"><code><span class="html">This note is a response to the earlier post by davidc at php dot net. Unfortunately, the solution posted for getting the class name from a static method does not work with inherited classes.<br /><br />Observe the following:<br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">BooBoof </span><span class="keyword">{<br />  public static function </span><span class="default">getclass</span><span class="keyword">() {<br />    return </span><span class="default">__CLASS__</span><span class="keyword">;<br />  }<br /><br />  public function </span><span class="default">retrieve_class</span><span class="keyword">() {<br />    return </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);<br />  }<br />}<br /><br />class </span><span class="default">CooCoof </span><span class="keyword">extends </span><span class="default">BooBoof </span><span class="keyword">{<br />}<br /><br />echo </span><span class="default">CooCoof</span><span class="keyword">::</span><span class="default">getclass</span><span class="keyword">();<br /></span><span class="comment">// outputs BooBoof<br /><br /></span><span class="default">$coocoof </span><span class="keyword">= new </span><span class="default">CooCoof</span><span class="keyword">;<br />echo </span><span class="default">$coocoof</span><span class="keyword">-&gt;</span><span class="default">retrieve_class</span><span class="keyword">();<br /></span><span class="comment">// outputs CooCoof<br /></span><span class="default">?&gt;<br /></span><br />__CLASS__ and get_class($this) do not work the same way with inherited classes. I have been thus far unable to determine a reliable way to get the actual class from a static method.</span></code></div>
  </div>
 </div>
  <div class="note" id="65249">  <div class="votes">
    <div id="Vu65249">
    <a href="https://www.php.net/manual/vote-note.php?id=65249&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd65249">
    <a href="https://www.php.net/manual/vote-note.php?id=65249&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V65249" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#65249" class="name">
  <strong class="user"><em>benjaminhill at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#65249"> &para;</a><div class="date" title="2006-04-27 10:47"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom65249">
<div class="phpcode"><code><span class="html">More funkyness:<br /><br />class Parent {<br />   function displayTableName() {<br />      echo get_class($this);<br />      echo get_class();<br />   }<br />}<br /><br />class Child {<br />   function __construct() {<br />      $this-&gt;displayTableName();<br />   }<br />}<br /><br />Will return <br />- Child<br />- Parent<br /><br />So when they say "the object isn't required in PHP5" - they don't really mean it.</span></code></div>
  </div>
 </div>
  <div class="note" id="54480">  <div class="votes">
    <div id="Vu54480">
    <a href="https://www.php.net/manual/vote-note.php?id=54480&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54480">
    <a href="https://www.php.net/manual/vote-note.php?id=54480&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54480" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.get-class.php.html#54480" class="name">
  <strong class="user"><em>refrozen dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#54480"> &para;</a><div class="date" title="2005-07-05 03:01"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54480">
<div class="phpcode"><code><span class="html">philip at cornado dot com, it returns the value of the class from which it was called, rather than the instance's name... causing inheritance to result in unexpected returns</span></code></div>
  </div>
 </div>
  <div class="note" id="81304">  <div class="votes">
    <div id="Vu81304">
    <a href="https://www.php.net/manual/vote-note.php?id=81304&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81304">
    <a href="https://www.php.net/manual/vote-note.php?id=81304&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81304" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#81304" class="name">
  <strong class="user"><em>andregs at NOSPAM dot gmail dot NOSPAM dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#81304"> &para;</a><div class="date" title="2008-02-21 01:17"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom81304">
<div class="phpcode"><code><span class="html">After reading the previous comments, this is the best I've done to get the final class name of a subclass:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">class </span><span class="default">Singleton<br /></span><span class="keyword">{<br />   private static </span><span class="default">$_instances </span><span class="keyword">= array();<br />   protected final function </span><span class="default">__construct</span><span class="keyword">(){}<br />   <br />   </span><span class="comment">/**<br />    * @param string $classname<br />    * @return Singleton<br />    */<br />   </span><span class="keyword">protected static function </span><span class="default">getInstance</span><span class="keyword">()<br />   {<br />      </span><span class="default">$classname </span><span class="keyword">= </span><span class="default">func_get_arg</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />      if (! isset(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$_instances</span><span class="keyword">[</span><span class="default">$classname</span><span class="keyword">]))<br />      {<br />         </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_instances</span><span class="keyword">[</span><span class="default">$classname</span><span class="keyword">] = new </span><span class="default">$classname</span><span class="keyword">();<br />      }<br />      return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_instances</span><span class="keyword">[</span><span class="default">$classname</span><span class="keyword">];<br />   }<br />   <br />}<br /><br />class </span><span class="default">Child </span><span class="keyword">extends </span><span class="default">Singleton<br /></span><span class="keyword">{<br />   </span><span class="comment">/**<br />    * @return Child<br />    */<br />   </span><span class="keyword">public static function </span><span class="default">getInstance</span><span class="keyword">()<br />   {<br />      return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">());<br />   }<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />Subclasses must override "getInstance" and cannot override "__construct".</span></code></div>
  </div>
 </div>
  <div class="note" id="75979">  <div class="votes">
    <div id="Vu75979">
    <a href="https://www.php.net/manual/vote-note.php?id=75979&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75979">
    <a href="https://www.php.net/manual/vote-note.php?id=75979&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75979" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#75979" class="name">
  <strong class="user"><em>Frederik Krautwald</em></strong></a><a class="genanchor" href="function.get-class.php.html#75979"> &para;</a><div class="date" title="2007-06-25 08:13"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom75979">
<div class="phpcode"><code><span class="html">Due to PHP 5 engine that permits to get final class in a static called function, and this is a modified version of examples published below.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">Singleton </span><span class="keyword">{<br />    protected static </span><span class="default">$_instances </span><span class="keyword">= array();<br />   <br />    protected function </span><span class="default">__construct</span><span class="keyword">() {}<br />   <br />    protected static function </span><span class="default">getInstance</span><span class="keyword">() {<br />        </span><span class="default">$bt </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />        </span><span class="default">$class </span><span class="keyword">= </span><span class="default">$bt</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">][</span><span class="string">'class'</span><span class="keyword">];<br />        if (!isset(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$_instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">])) {<br />            </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">] = new </span><span class="default">$class</span><span class="keyword">();<br />        }<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">];<br />    }<br />}<br />class </span><span class="default">A </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br />    public static function </span><span class="default">getInstance</span><span class="keyword">() {<br />        return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />    }<br />}<br />class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br />    public static function </span><span class="default">getInstance</span><span class="keyword">() {<br />        return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />    }<br />}<br />class </span><span class="default">C </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />    public static function </span><span class="default">getInstance</span><span class="keyword">() {<br />        return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />    }<br />}<br /><br /></span><span class="default">$a </span><span class="keyword">= </span><span class="default">A</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /></span><span class="default">$b </span><span class="keyword">= </span><span class="default">B</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /></span><span class="default">$c </span><span class="keyword">= </span><span class="default">C</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /><br />echo </span><span class="string">"\$a is a " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"\$b is a " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"\$c is a " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />I don't know about if performance would increase if debug_backtrace() is skipped and instead have getInstance() to accept a passed class retrieved by get_class() method as parameter as described in a post below.<br /><br />By having set getInstance() to protected in the Singleton class, the function is required to be overridden (good OOP practice).<br /><br />One thing to mention is, that there is no error checking in case $class is null or undefined, which would result in a fatal error. At the moment, though, I can't see how it could happen when the getInstance() is protected, i.e. has to be overridden in a subclass -- but with good coding practice you should always error check.</span></code></div>
  </div>
 </div>
  <div class="note" id="75949">  <div class="votes">
    <div id="Vu75949">
    <a href="https://www.php.net/manual/vote-note.php?id=75949&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75949">
    <a href="https://www.php.net/manual/vote-note.php?id=75949&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75949" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#75949" class="name">
  <strong class="user"><em>mightye at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#75949"> &para;</a><div class="date" title="2007-06-23 06:20"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom75949">
<div class="phpcode"><code><span class="html">To: Bryan<br /><br />In this model it is still workable if your singleton variable is actually an array.  Consider:<br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">Singleton </span><span class="keyword">{<br />    protected final static </span><span class="default">$instances </span><span class="keyword">= array();<br />    <br />    protected </span><span class="default">__construct</span><span class="keyword">(){}<br />    <br />    protected function </span><span class="default">getInstance</span><span class="keyword">() {<br />        </span><span class="default">$class </span><span class="keyword">= </span><span class="default">get_real_class</span><span class="keyword">(); </span><span class="comment">// imaginary function returning the final class name, not the class the code executes from<br />        </span><span class="keyword">if (!isset(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">])) {<br />            </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">] = new </span><span class="default">$class</span><span class="keyword">();<br />        }<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">];<br />    }<br />}<br />class </span><span class="default">A </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br />}<br />class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br />}<br /><br /></span><span class="default">$a </span><span class="keyword">= </span><span class="default">A</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /></span><span class="default">$b </span><span class="keyword">= </span><span class="default">B</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /><br />echo </span><span class="string">"\$a is a " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />echo </span><span class="string">"\$b is a " </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) . </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span>This would output:<br />$a is a A<br />$b is a B<br /><br />The only alternative as described elsewhere is to make getInstance() protected abstract, accept the class name as an argument, and extend this call with a public final method for every sub-class which uses get_class() in its local object scope and passes it to the superclass.<br /><br />Or else create a singleton factory like this:<br /><span class="default">&lt;?php<br /></span><span class="keyword">final class </span><span class="default">SingletonFactory </span><span class="keyword">{<br />    protected static </span><span class="default">$instances </span><span class="keyword">= array();<br />    <br />    protected </span><span class="default">getInstance</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">) {<br />        if (!isset(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">])) {<br />            </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">] = new </span><span class="default">$class</span><span class="keyword">();<br />        }<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instances</span><span class="keyword">[</span><span class="default">$class</span><span class="keyword">];<br />    }<br />}<br /></span><span class="default">?&gt;<br /></span>The downside to this of course to this latter model is that the class itself doesn't get to decide if it is a singleton, the calling code gets to decide this instead, and a class that really wants or *needs* to be a singleton has no way to enforce this, not even by making its constructor protected.<br /><br />Basically these design patterns, and various other meta manipulations (things which operate on the nature of the object, not on the data the object holds) could benefit greatly from knowing exactly what the final type of this object is, and not having native access to this information obligates work-arounds.</span></code></div>
  </div>
 </div>
  <div class="note" id="74846">  <div class="votes">
    <div id="Vu74846">
    <a href="https://www.php.net/manual/vote-note.php?id=74846&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74846">
    <a href="https://www.php.net/manual/vote-note.php?id=74846&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74846" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#74846" class="name">
  <strong class="user"><em>janci</em></strong></a><a class="genanchor" href="function.get-class.php.html#74846"> &para;</a><div class="date" title="2007-04-30 12:00"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74846">
<div class="phpcode"><code><span class="html">To yicheng zero-four at gmail dot com: Another, maybe better example where finding out the real class (not the class we are in) in static method should be quite usefull is the Singleton pattern. <br /><br />There is currently no way how to create an abstract Singleton class that could be used just by extending it without the need to change the extended class. Consider this example:<br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">Singleton<br /></span><span class="keyword">{<br />    protected static </span><span class="default">$__instance </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />        <br />    public static function </span><span class="default">getInstance</span><span class="keyword">()<br />    {    <br />        if (</span><span class="default">self</span><span class="keyword">::</span><span class="default">$__instance </span><span class="keyword">== </span><span class="default">false</span><span class="keyword">)<br />        {<br />            </span><span class="comment">// This acctually is not what we want, $class will always be 'Singleton' :(<br />            </span><span class="default">$class </span><span class="keyword">= </span><span class="default">get_class</span><span class="keyword">();<br />            </span><span class="default">self</span><span class="keyword">::</span><span class="default">$__instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">();            <br />        }<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$__instance</span><span class="keyword">;<br />    }<br />}<br /><br />class </span><span class="default">Foo </span><span class="keyword">extends </span><span class="default">Singleton<br /></span><span class="keyword">{<br />    </span><span class="comment">// ...<br /></span><span class="keyword">}<br /><br /></span><span class="default">$single_foo </span><span class="keyword">= </span><span class="default">Foo</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span>This piece of code will result in a fatal error saying: Cannot instantiate abstract class Singleton in ... on line 11<br /><br />The best way I figured out how to avoid this requires simple but still a change of the extended (Foo) class:<br /><span class="default">&lt;?php<br /></span><span class="keyword">abstract class </span><span class="default">Singleton<br /></span><span class="keyword">{<br />    protected static </span><span class="default">$__instance </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />        <br />    protected static function </span><span class="default">getInstance</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">)<br />    {    <br />        if (</span><span class="default">self</span><span class="keyword">::</span><span class="default">$__instance </span><span class="keyword">== </span><span class="default">false</span><span class="keyword">)<br />        {<br />            if (</span><span class="default">class_exists</span><span class="keyword">(</span><span class="default">$class</span><span class="keyword">))<br />            {<br />                </span><span class="default">self</span><span class="keyword">::</span><span class="default">$__instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">();            <br />            }<br />            else <br />            {<br />                throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Cannot instantiate undefined class [' </span><span class="keyword">. </span><span class="default">$class </span><span class="keyword">. </span><span class="string">']'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />            }<br />        }<br />        return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$__instance</span><span class="keyword">;<br />    }<br />}<br /><br />class </span><span class="default">Foo </span><span class="keyword">extends </span><span class="default">Singleton<br /></span><span class="keyword">{<br />    </span><span class="comment">// You have to overload the getInstance method in each extended class:<br />    </span><span class="keyword">public static function </span><span class="default">getInstance</span><span class="keyword">()<br />    {<br />        return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">());<br />    }<br />}<br /><br /></span><span class="default">$single_foo </span><span class="keyword">= </span><span class="default">Foo</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br /></span><span class="default">?&gt;<br /></span><br />This is of course nothing horrible, you will propably need to change something in the extended class anyway (at least the constructor access), but still... it is just not as nice as it possibly could be ;)</span></code></div>
  </div>
 </div>
  <div class="note" id="39558">  <div class="votes">
    <div id="Vu39558">
    <a href="https://www.php.net/manual/vote-note.php?id=39558&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd39558">
    <a href="https://www.php.net/manual/vote-note.php?id=39558&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V39558" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.get-class.php.html#39558" class="name">
  <strong class="user"><em>MagicalTux at FF.ST</em></strong></a><a class="genanchor" href="function.get-class.php.html#39558"> &para;</a><div class="date" title="2004-02-02 04:11"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom39558">
<div class="phpcode"><code><span class="html">Note that the constant __CLASS__ is different from get_class($this) :<br />&lt;?<br />  class test {<br />    function whoami() {<br />      echo "Hello, I'm whoami 1 !\r\n";<br />      echo "Value of __CLASS__ : ".__CLASS__."\r\n";<br />      echo "Value of get_class() : ".get_class($this)."\r\n\r\n";<br />    }<br />  }<br />  class test2 extends test {<br />    function whoami2() {<br />      echo "Hello, I'm whoami 2 !\r\n";<br />      echo "Value of __CLASS__ : ".__CLASS__."\r\n";<br />      echo "Value of get_class() : ".get_class($this)."\r\n\r\n";<br />      parent::whoami(); // call parent whoami() function<br />    }<br />  }<br />  $test=new test;<br />  $test-&gt;whoami();<br />  $test2=new test2;<br />  $test2-&gt;whoami();<br />  $test2-&gt;whoami2();<br />?&gt;<br /><br />The output is :<br />Hello, I'm whoami 1 !<br />Value of __CLASS__ : test<br />Value of get_class() : test<br /><br />Hello, I'm whoami 1 !<br />Value of __CLASS__ : test<br />Value of get_class() : test2<br /><br />Hello, I'm whoami 2 !<br />Value of __CLASS__ : test2<br />Value of get_class() : test2<br /><br />Hello, I'm whoami 1 !<br />Value of __CLASS__ : test<br />Value of get_class() : test2<br /><br />In fact, __CLASS__ returns the name of the class the function is in and get_class($this) returns the name of the class which was created.</span></code></div>
  </div>
 </div>
  <div class="note" id="82873">  <div class="votes">
    <div id="Vu82873">
    <a href="https://www.php.net/manual/vote-note.php?id=82873&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82873">
    <a href="https://www.php.net/manual/vote-note.php?id=82873&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82873" title="0% like this...">
    -2
    </div>
  </div>
  <a href="function.get-class.php.html#82873" class="name">
  <strong class="user"><em>dave dot zap at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#82873"> &para;</a><div class="date" title="2008-04-29 09:13"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom82873">
<div class="phpcode"><code><span class="html">Take care using the backtrace method to find the calling class of a static method, you should step backward through the array and find a match for your getInstance() function. In backtrace the class name you want is not always the last item in the array.<br /><br />I will not post the whole singleton class here, but have made the following modification to Frederik Krautwald's method (found below)<br /><br /><span class="default">&lt;?php <br />$bt </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br /></span><span class="comment">// this method is count($bt)-1) by Frederik will fall over when calling getInstance from within an include file.<br />//$class = $bt[count($bt) - 1]['class'];<br /><br /></span><span class="keyword">for( </span><span class="default">$i</span><span class="keyword">=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$bt</span><span class="keyword">)-</span><span class="default">1 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">--)<br />{<br />    if(</span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'function'</span><span class="keyword">] == </span><span class="string">'getInstance'</span><span class="keyword">)<br />    {<br />        </span><span class="default">$class </span><span class="keyword">= </span><span class="default">$bt</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][</span><span class="string">'class'</span><span class="keyword">];<br />        break;<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="115623">  <div class="votes">
    <div id="Vu115623">
    <a href="https://www.php.net/manual/vote-note.php?id=115623&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115623">
    <a href="https://www.php.net/manual/vote-note.php?id=115623&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115623" title="44% like this...">
    -1
    </div>
  </div>
  <a href="function.get-class.php.html#115623" class="name">
  <strong class="user"><em>var23rav at gmail dot com</em></strong></a><a class="genanchor" href="function.get-class.php.html#115623"> &para;</a><div class="date" title="2014-08-27 01:52"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115623">
<div class="phpcode"><code><span class="html">class A<br />{<br />function __construct(){<br />        //parent::__construct();<br />        echo $this-&gt;m =  'From constructor A: '.get_class();<br />        echo $this-&gt;m =  'From constructor A:- argument = $this: '.get_class($this);<br />        <br />        echo $this-&gt;m =  'From constructor A-parent: '.get_parent_class();<br />        echo $this-&gt;m =  'From constructor A-parent:- argument =  $this: '.get_parent_class($this);<br />    }<br />}<br />class B extends A<br />{<br />function __construct(){<br />        parent::__construct();<br />        echo $this-&gt;m =  'From constructor B: '.get_class();<br />        echo $this-&gt;m =  'From constructor B:- argument =  $this: '.get_class($this);<br />        <br />        echo $this-&gt;m =  'From constructor B-parent: '.get_parent_class();<br />        echo $this-&gt;m =  'From constructor B-parent:- argument =  $this: '.get_parent_class($this);<br />    }<br />}<br />$b = new B();<br />//----------------output--------------------<br /><br />From constructor A: A<br />From constructor A:- argument = $this: B<br />From constructor A-parent: <br />From constructor A-parent:- argument = $this: A<br />From constructor B: B<br />From constructor B:- argument = $this: B<br />From constructor B-parent: A<br />From constructor B-parent:- argument = $this: A<br /><br />Use get_class() to get the name of class  ,it will help you get the class name, in case you extend that class with another class and want to get the name of the class to which object is instance of user get_class($object)<br /><br />when you create an object of class{$b object of B} which has a super class{Class A}. <br />uses these code IN Super Class {A} <br />--------------------------------------------<br />to get class name B{object instance} :  get_class($this)  <br />to get class name A{super class}  : get_class() or get_parent_class($this)</span></code></div>
  </div>
 </div>
  <div class="note" id="88856">  <div class="votes">
    <div id="Vu88856">
    <a href="https://www.php.net/manual/vote-note.php?id=88856&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88856">
    <a href="https://www.php.net/manual/vote-note.php?id=88856&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88856" title="40% like this...">
    -1
    </div>
  </div>
  <a href="function.get-class.php.html#88856" class="name">
  <strong class="user"><em>Lanselot</em></strong></a><a class="genanchor" href="function.get-class.php.html#88856"> &para;</a><div class="date" title="2009-02-11 02:09"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom88856">
<div class="phpcode"><code><span class="html">Beware if you're omitting the parameter on inherited classes.<br />It'll return the class name of the method where it's called.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />    function </span><span class="default">foo</span><span class="keyword">() {<br />      return </span><span class="default">get_class</span><span class="keyword">();<br />    }<br />}<br />class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />   function </span><span class="default">bar</span><span class="keyword">() {<br />      return </span><span class="default">get_class</span><span class="keyword">();<br />   }<br />}<br /></span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">();<br />echo </span><span class="default">$instance</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">(); </span><span class="comment">//Prints 'B';<br /></span><span class="keyword">echo </span><span class="default">$instance</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">(); </span><span class="comment">//Prints 'A';<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="120233">  <div class="votes">
    <div id="Vu120233">
    <a href="https://www.php.net/manual/vote-note.php?id=120233&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120233">
    <a href="https://www.php.net/manual/vote-note.php?id=120233&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120233" title="33% like this...">
    -2
    </div>
  </div>
  <a href="function.get-class.php.html#120233" class="name">
  <strong class="user"><em>XyQrTw</em></strong></a><a class="genanchor" href="function.get-class.php.html#120233"> &para;</a><div class="date" title="2016-11-28 10:18"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120233">
<div class="phpcode"><code><span class="html">To get class name without the Namespace you can use easily this trick :<br /><span class="default">&lt;?php<br /></span><span class="keyword">namespace </span><span class="default">My\Long\Namespace</span><span class="keyword">;<br /><br />class </span><span class="default">MyClass </span><span class="keyword">{<br /><br />    static function </span><span class="default">getClassName</span><span class="keyword">() {<br />        return </span><span class="default">basename</span><span class="keyword">(</span><span class="default">__CLASS__</span><span class="keyword">);<br />       </span><span class="comment">// or with get_class();<br />        </span><span class="keyword">return </span><span class="default">basename</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">());<br />    }<br /><br />}<br /><br />echo </span><span class="default">\My\Long\Namespace\MyClass</span><span class="keyword">::</span><span class="default">getClassName</span><span class="keyword">(); </span><span class="comment">// Display : MyClass<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="86230">  <div class="votes">
    <div id="Vu86230">
    <a href="https://www.php.net/manual/vote-note.php?id=86230&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd86230">
    <a href="https://www.php.net/manual/vote-note.php?id=86230&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V86230" title="33% like this...">
    -1
    </div>
  </div>
  <a href="function.get-class.php.html#86230" class="name">
  <strong class="user"><em>danbettles at yahoo dot co dot uk</em></strong></a><a class="genanchor" href="function.get-class.php.html#86230"> &para;</a><div class="date" title="2008-10-08 11:56"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom86230">
<div class="phpcode"><code><span class="html">It is possible to write a completely self-contained Singleton base class in PHP 5.3 using the new get_called_class function.  When called in a static method, this function returns the name of the class the call was made against.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">abstract class </span><span class="default">Singleton </span><span class="keyword">{<br /><br />    protected function </span><span class="default">__construct</span><span class="keyword">() {<br />    }<br /><br />    final public static function </span><span class="default">getInstance</span><span class="keyword">() {<br />        static </span><span class="default">$aoInstance </span><span class="keyword">= array();<br /><br />        </span><span class="default">$calledClassName </span><span class="keyword">= </span><span class="default">get_called_class</span><span class="keyword">();<br /><br />        if (! isset (</span><span class="default">$aoInstance</span><span class="keyword">[</span><span class="default">$calledClassName</span><span class="keyword">])) {<br />            </span><span class="default">$aoInstance</span><span class="keyword">[</span><span class="default">$calledClassName</span><span class="keyword">] = new </span><span class="default">$calledClassName</span><span class="keyword">();<br />        }<br /><br />        return </span><span class="default">$aoInstance</span><span class="keyword">[</span><span class="default">$calledClassName</span><span class="keyword">];<br />    }<br /><br />    final private function </span><span class="default">__clone</span><span class="keyword">() {<br />    }<br />}<br /><br />class </span><span class="default">DatabaseConnection </span><span class="keyword">extends </span><span class="default">Singleton </span><span class="keyword">{<br /><br />    protected </span><span class="default">$connection</span><span class="keyword">;<br /><br />    protected function </span><span class="default">__construct</span><span class="keyword">() {<br />        </span><span class="comment">// @todo Connect to the database<br />    </span><span class="keyword">}<br /><br />    public function </span><span class="default">__destruct</span><span class="keyword">() {<br />        </span><span class="comment">// @todo Drop the connection to the database<br />    </span><span class="keyword">}<br />}<br /><br /></span><span class="default">$oDbConn </span><span class="keyword">= new </span><span class="default">DatabaseConnection</span><span class="keyword">();  </span><span class="comment">// Fatal error<br /><br /></span><span class="default">$oDbConn </span><span class="keyword">= </span><span class="default">DatabaseConnection</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();  </span><span class="comment">// Returns single instance<br /></span><span class="default">?&gt;<br /></span><br />Full write-up in Oct 2008: <a href="http://danbettles.blogspot.com" rel="nofollow" target="_blank">http://danbettles.blogspot.com</a></span></code></div>
  </div>
 </div>
  <div class="note" id="85209">  <div class="votes">
    <div id="Vu85209">
    <a href="https://www.php.net/manual/vote-note.php?id=85209&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85209">
    <a href="https://www.php.net/manual/vote-note.php?id=85209&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85209" title="33% like this...">
    -1
    </div>
  </div>
  <a href="function.get-class.php.html#85209" class="name">
  <strong class="user"><em>Edward</em></strong></a><a class="genanchor" href="function.get-class.php.html#85209"> &para;</a><div class="date" title="2008-08-20 05:42"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85209">
<div class="phpcode"><code><span class="html">With Late Static Bindings, available as of PHP 5.3.0, it is now possible to implement an abstract Singleton class with minimal overhead in the child classes. Late static bindings are explained here: <a href="http://nl2.php.net/manual/en/language.oop5.late-static-bindings.php" rel="nofollow" target="_blank">http://nl2.php.net/manual/en/language.oop5.late-static-bindings.php</a><br /><br />In short, it introduces a new 'static::' keyword, that is evaluated at runtime. In the following code I use it to determine the classname of the child Singleton class.<br /><br />&lt;?<br />abstract class Singleton {<br />    protected static $__CLASS__ = __CLASS__;<br />    protected static $instance;<br />    <br />    protected function __construct() {<br />        static::$instance = $this;<br />        $this-&gt;init();<br />    }<br />    <br />    abstract protected function init();<br />    <br />    protected function getInstance() {<br />        $class = static::getClass();<br />        <br />        if (static::$instance===null) {<br />            static::$instance = new $class;<br />        }<br /><br />        return static::$instance;<br />    }<br />    <br />    private static function getClass() {<br />        if (static::$__CLASS__ == __CLASS__) {<br />            die("You MUST provide a &lt;code&gt;protected static \$__CLASS__ = __CLASS__;&lt;/code&gt; statement in your Singleton-class!");<br />        }<br />        <br />        return static::$__CLASS__;<br />    }<br />}<br />?&gt;<br /><br />An example Singleton class can then be implemented as follows:<br /><br />&lt;?<br />class A extends Singleton {<br />    protected static $__CLASS__ = __CLASS__; // Provide this in each singleton class.<br /><br />    protected function someFunction() {<br />        $instance = static::getInstance();<br />        // ...<br />    }<br />}<br />?&gt;<br /><br />Hope this helps you save some time :)</span></code></div>
  </div>
 </div>
  <div class="note" id="121744">  <div class="votes">
    <div id="Vu121744">
    <a href="https://www.php.net/manual/vote-note.php?id=121744&amp;page=function.get-class&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121744">
    <a href="https://www.php.net/manual/vote-note.php?id=121744&amp;page=function.get-class&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121744" title="16% like this...">
    -4
    </div>
  </div>
  <a href="function.get-class.php.html#121744" class="name">
  <strong class="user"><em>kiril (AT) aternus networks</em></strong></a><a class="genanchor" href="function.get-class.php.html#121744"> &para;</a><div class="date" title="2017-10-10 09:03"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121744">
<div class="phpcode"><code><span class="html">If you want the Class Name without the Namespace or if you've got here because basename() returns a dot (.) for the FQCN (Fully Qualified Class Name), here is the solution:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// FQCN: App\Http\Controllers\CustomerReportController<br /><br /></span><span class="default">substr</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::class, (int)</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">self</span><span class="keyword">::class, </span><span class="string">'\\'</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">)<br /><br /></span><span class="comment">// returns: CustomerReportController<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.get-class&amp;redirect=https://www.php.net/manual/ru/function.get-class.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.classobj.php.html">Функции работы с классами и объектами</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.class-alias.php.html" title="class_&#8203;alias">class_&#8203;alias</a>
                        </li>
                                                <li class="">
                            <a href="function.class-exists.php.html" title="class_&#8203;exists">class_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.enum-exists.php.html" title="enum_&#8203;exists">enum_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.get-called-class.php.html" title="get_&#8203;called_&#8203;class">get_&#8203;called_&#8203;class</a>
                        </li>
                                                <li class="">
                            <a href="function.get-class-methods.php.html" title="get_&#8203;class_&#8203;methods">get_&#8203;class_&#8203;methods</a>
                        </li>
                                                <li class="">
                            <a href="function.get-class-vars.php.html" title="get_&#8203;class_&#8203;vars">get_&#8203;class_&#8203;vars</a>
                        </li>
                                                <li class="current">
                            <a href="function.get-class.php.html" title="get_&#8203;class">get_&#8203;class</a>
                        </li>
                                                <li class="">
                            <a href="function.get-declared-classes.php.html" title="get_&#8203;declared_&#8203;classes">get_&#8203;declared_&#8203;classes</a>
                        </li>
                                                <li class="">
                            <a href="function.get-declared-interfaces.php.html" title="get_&#8203;declared_&#8203;interfaces">get_&#8203;declared_&#8203;interfaces</a>
                        </li>
                                                <li class="">
                            <a href="function.get-declared-traits.php.html" title="get_&#8203;declared_&#8203;traits">get_&#8203;declared_&#8203;traits</a>
                        </li>
                                                <li class="">
                            <a href="function.get-mangled-object-vars.php.html" title="get_&#8203;mangled_&#8203;object_&#8203;vars">get_&#8203;mangled_&#8203;object_&#8203;vars</a>
                        </li>
                                                <li class="">
                            <a href="function.get-object-vars.php.html" title="get_&#8203;object_&#8203;vars">get_&#8203;object_&#8203;vars</a>
                        </li>
                                                <li class="">
                            <a href="function.get-parent-class.php.html" title="get_&#8203;parent_&#8203;class">get_&#8203;parent_&#8203;class</a>
                        </li>
                                                <li class="">
                            <a href="function.interface-exists.php.html" title="interface_&#8203;exists">interface_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.is-a.php.html" title="is_&#8203;a">is_&#8203;a</a>
                        </li>
                                                <li class="">
                            <a href="function.is-subclass-of.php.html" title="is_&#8203;subclass_&#8203;of">is_&#8203;subclass_&#8203;of</a>
                        </li>
                                                <li class="">
                            <a href="function.method-exists.php.html" title="method_&#8203;exists">method_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.property-exists.php.html" title="property_&#8203;exists">property_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.trait-exists.php.html" title="trait_&#8203;exists">trait_&#8203;exists</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                        <li>
                <span class="header">Deprecated</span>
                <ul class="child-menu-list">
                                    <li class="">
                        <a href="function.autoload.php.html" title="_&#8203;_&#8203;autoload">_&#8203;_&#8203;autoload</a>
                    </li>
                                </ul>
            </li>
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
