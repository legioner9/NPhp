<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: imageline - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.imageline.php.html">
 <link rel="shorturl" href="https://www.php.net/imageline">
 <link rel="alternate" href="https://www.php.net/imageline" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.image.php.html">
 <link rel="prev" href="function.imagelayereffect.php.html">
 <link rel="next" href="function.imageloadfont.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.imageline.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.imageline.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.imageline.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.imageline.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.imageline.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.imageline.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.imageline.php" hreflang="pt_BR">
 <link rel="alternate" href="function.imageline.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.imageline.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.imageline.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.imageloadfont.php.html">
          imageloadfont &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.imagelayereffect.php.html">
          &laquo; imagelayereffect        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.utilspec.image.php.html'>Обработка и генерация изображений</a></li>      <li><a href='book.image.php.html'>GD</a></li>      <li><a href='ref.image.php.html'>Функции GD и функции для работы с изображениями</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.imageline.php'>English</option>
            <option value='de/function.imageline.php'>German</option>
            <option value='es/function.imageline.php'>Spanish</option>
            <option value='fr/function.imageline.php'>French</option>
            <option value='it/function.imageline.php'>Italian</option>
            <option value='ja/function.imageline.php'>Japanese</option>
            <option value='pt_BR/function.imageline.php'>Brazilian Portuguese</option>
            <option value='ru/function.imageline.php' selected="selected">Russian</option>
            <option value='tr/function.imageline.php'>Turkish</option>
            <option value='zh/function.imageline.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/image/functions/imageline.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.imageline%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.imageline" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imageline</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imageline</span> &mdash; <span class="dc-title">Рисование линии</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imageline-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imageline</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="class.gdimage.php.html" class="type GdImage">GdImage</a></span> <code class="parameter">$image</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$x1</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$y1</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$x2</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$y2</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$color</code></span><br>): <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Рисует линию соединяющую две точки.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imageline-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    <dt>

<code class="parameter">image</code></dt>
<dd>
<p class="para">Объект <span class="classname"><a href="class.gdimage.php.html" class="classname">GdImage</a></span>,
который возвращает одна из функций, создающих изображения,
например, <span class="function"><a href="function.imagecreatetruecolor.php.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>

    
     <dt>
<code class="parameter">x1</code></dt>

     <dd>

      <p class="para">
       x-координата первой точки.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">y1</code></dt>

     <dd>

      <p class="para">
       y-координата первой точки.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">x2</code></dt>

     <dd>

      <p class="para">
       x-координата второй точки.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">y2</code></dt>

     <dd>

      <p class="para">
       y-координата второй точки.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">color</code></dt>

     <dd>

      <p class="para">
       Цвет линии. Идентификатор цвета, созданный функцией <span class="function"><a href="function.imagecolorallocate.php.html" class="function">imagecolorallocate()</a></span>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imageline-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает <strong><code>true</code></strong> в случае успешного выполнения или <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.imageline-changelog">
  <h3 class="title">Список изменений</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Версия</th>
      <th>Описание</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.0.0</td>
 <td>
  <code class="parameter">image</code> теперь ожидает экземпляр <span class="classname"><a href="class.gdimage.php.html" class="classname">GdImage</a></span>;
  ранее ожидался корректный <code class="literal">gd</code> ресурс (<span class="type">resource</span>).
 </td>
</tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.imageline-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Рисование жирной линии</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">function </span><span style="color: #0000BB">imagelinethick</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">$x1</span><span style="color: #007700">, </span><span style="color: #0000BB">$y1</span><span style="color: #007700">, </span><span style="color: #0000BB">$x2</span><span style="color: #007700">, </span><span style="color: #0000BB">$y2</span><span style="color: #007700">, </span><span style="color: #0000BB">$color</span><span style="color: #007700">, </span><span style="color: #0000BB">$thick </span><span style="color: #007700">= </span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />{<br />    </span><span style="color: #FF8000">/* этот способ применим только для ортогональных прямых<br />    imagesetthickness($image, $thick);<br />    return imageline($image, $x1, $y1, $x2, $y2, $color);<br />    */<br />    </span><span style="color: #007700">if (</span><span style="color: #0000BB">$thick </span><span style="color: #007700">== </span><span style="color: #0000BB">1</span><span style="color: #007700">) {<br />        return </span><span style="color: #0000BB">imageline</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">$x1</span><span style="color: #007700">, </span><span style="color: #0000BB">$y1</span><span style="color: #007700">, </span><span style="color: #0000BB">$x2</span><span style="color: #007700">, </span><span style="color: #0000BB">$y2</span><span style="color: #007700">, </span><span style="color: #0000BB">$color</span><span style="color: #007700">);<br />    }<br />    </span><span style="color: #0000BB">$t </span><span style="color: #007700">= </span><span style="color: #0000BB">$thick </span><span style="color: #007700">/ </span><span style="color: #0000BB">2 </span><span style="color: #007700">- </span><span style="color: #0000BB">0.5</span><span style="color: #007700">;<br />    if (</span><span style="color: #0000BB">$x1 </span><span style="color: #007700">== </span><span style="color: #0000BB">$x2 </span><span style="color: #007700">|| </span><span style="color: #0000BB">$y1 </span><span style="color: #007700">== </span><span style="color: #0000BB">$y2</span><span style="color: #007700">) {<br />        return </span><span style="color: #0000BB">imagefilledrectangle</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">min</span><span style="color: #007700">(</span><span style="color: #0000BB">$x1</span><span style="color: #007700">, </span><span style="color: #0000BB">$x2</span><span style="color: #007700">) - </span><span style="color: #0000BB">$t</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">min</span><span style="color: #007700">(</span><span style="color: #0000BB">$y1</span><span style="color: #007700">, </span><span style="color: #0000BB">$y2</span><span style="color: #007700">) - </span><span style="color: #0000BB">$t</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">max</span><span style="color: #007700">(</span><span style="color: #0000BB">$x1</span><span style="color: #007700">, </span><span style="color: #0000BB">$x2</span><span style="color: #007700">) + </span><span style="color: #0000BB">$t</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">max</span><span style="color: #007700">(</span><span style="color: #0000BB">$y1</span><span style="color: #007700">, </span><span style="color: #0000BB">$y2</span><span style="color: #007700">) + </span><span style="color: #0000BB">$t</span><span style="color: #007700">), </span><span style="color: #0000BB">$color</span><span style="color: #007700">);<br />    }<br />    </span><span style="color: #0000BB">$k </span><span style="color: #007700">= (</span><span style="color: #0000BB">$y2 </span><span style="color: #007700">- </span><span style="color: #0000BB">$y1</span><span style="color: #007700">) / (</span><span style="color: #0000BB">$x2 </span><span style="color: #007700">- </span><span style="color: #0000BB">$x1</span><span style="color: #007700">); </span><span style="color: #FF8000">//y = kx + q<br />    </span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">$t </span><span style="color: #007700">/ </span><span style="color: #0000BB">sqrt</span><span style="color: #007700">(</span><span style="color: #0000BB">1 </span><span style="color: #007700">+ </span><span style="color: #0000BB">pow</span><span style="color: #007700">(</span><span style="color: #0000BB">$k</span><span style="color: #007700">, </span><span style="color: #0000BB">2</span><span style="color: #007700">));<br />    </span><span style="color: #0000BB">$points </span><span style="color: #007700">= array(<br />        </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$x1 </span><span style="color: #007700">- (</span><span style="color: #0000BB">1</span><span style="color: #007700">+</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$y1 </span><span style="color: #007700">+ (</span><span style="color: #0000BB">1</span><span style="color: #007700">-</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">),<br />        </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$x1 </span><span style="color: #007700">- (</span><span style="color: #0000BB">1</span><span style="color: #007700">-</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$y1 </span><span style="color: #007700">- (</span><span style="color: #0000BB">1</span><span style="color: #007700">+</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">),<br />        </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$x2 </span><span style="color: #007700">+ (</span><span style="color: #0000BB">1</span><span style="color: #007700">+</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$y2 </span><span style="color: #007700">- (</span><span style="color: #0000BB">1</span><span style="color: #007700">-</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">),<br />        </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$x2 </span><span style="color: #007700">+ (</span><span style="color: #0000BB">1</span><span style="color: #007700">-</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">), </span><span style="color: #0000BB">round</span><span style="color: #007700">(</span><span style="color: #0000BB">$y2 </span><span style="color: #007700">+ (</span><span style="color: #0000BB">1</span><span style="color: #007700">+</span><span style="color: #0000BB">$k</span><span style="color: #007700">)*</span><span style="color: #0000BB">$a</span><span style="color: #007700">),<br />    );<br />    </span><span style="color: #0000BB">imagefilledpolygon</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">$points</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">$color</span><span style="color: #007700">);<br />    return </span><span style="color: #0000BB">imagepolygon</span><span style="color: #007700">(</span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">$points</span><span style="color: #007700">, </span><span style="color: #0000BB">4</span><span style="color: #007700">, </span><span style="color: #0000BB">$color</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.imageline-seealso">
  <h3 class="title">Смотрите также</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="function.imagecreatetruecolor.php.html" class="function" rel="rdfs-seeAlso">imagecreatetruecolor()</a> - Создание нового полноцветного изображения</span></li>
   <li class="member"><span class="function"><a href="function.imagecolorallocate.php.html" class="function" rel="rdfs-seeAlso">imagecolorallocate()</a> - Создание цвета для изображения</span></li>
  </ul>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.imageline&amp;redirect=https://www.php.net/manual/ru/function.imageline.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">28 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="74779">  <div class="votes">
    <div id="Vu74779">
    <a href="https://www.php.net/manual/vote-note.php?id=74779&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74779">
    <a href="https://www.php.net/manual/vote-note.php?id=74779&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74779" title="83% like this...">
    4
    </div>
  </div>
  <a href="function.imageline.php.html#74779" class="name">
  <strong class="user"><em>Jonathan W.</em></strong></a><a class="genanchor" href="function.imageline.php.html#74779"> &para;</a><div class="date" title="2007-04-27 01:15"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74779">
<div class="phpcode"><code><span class="html">I've modified the previous entry for drawing on a polar coordinate system to better represent angles based on a 360º whole circle bearing.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">imagepolarline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">,</span><span class="default">$angle</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">)<br />{<br />    </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">sin</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">) ) * </span><span class="default">$length</span><span class="keyword">;<br />    </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">cos</span><span class="keyword">( </span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">+</span><span class="default">180</span><span class="keyword">) ) * </span><span class="default">$length</span><span class="keyword">;<br /><br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x1</span><span class="keyword">,</span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$x2</span><span class="keyword">,</span><span class="default">$y2</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="62606">  <div class="votes">
    <div id="Vu62606">
    <a href="https://www.php.net/manual/vote-note.php?id=62606&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd62606">
    <a href="https://www.php.net/manual/vote-note.php?id=62606&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V62606" title="72% like this...">
    5
    </div>
  </div>
  <a href="function.imageline.php.html#62606" class="name">
  <strong class="user"><em>pb_2001 at haefft dot de</em></strong></a><a class="genanchor" href="function.imageline.php.html#62606"> &para;</a><div class="date" title="2006-03-04 02:41"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom62606">
<div class="phpcode"><code><span class="html">This is a function to make a dotted line. It accepts (it actually requires) 7 parameters and returns 1 if everything went OK and 0 if there was a problem.<br /><br />int imagelinedotted ( resource im, int x1, int y1, int x2, int y2, int dist, int col )<br /><br />imagelinedotted() draws a line from x1, y1 to x2, y2 (top left is 0, 0) in image im of colour col where dist defines the distance (measured in pixels) between one dot and another.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">imagelinedotted </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$dist</span><span class="keyword">, </span><span class="default">$col</span><span class="keyword">) {<br />    </span><span class="default">$transp </span><span class="keyword">= </span><span class="default">imagecolortransparent </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br />    <br />    </span><span class="default">$style </span><span class="keyword">= array (</span><span class="default">$col</span><span class="keyword">);<br />    <br />    for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$dist</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />        </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$style</span><span class="keyword">, </span><span class="default">$transp</span><span class="keyword">);        </span><span class="comment">// Generate style array - loop needed for customisable distance between the dots<br />    </span><span class="keyword">}<br />    <br />    </span><span class="default">imagesetstyle </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$style</span><span class="keyword">);<br />    return (integer) </span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">IMG_COLOR_STYLED</span><span class="keyword">);<br />    </span><span class="default">imagesetstyle </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, array(</span><span class="default">$col</span><span class="keyword">));        </span><span class="comment">// Reset style - just in case...<br /></span><span class="keyword">}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="38742">  <div class="votes">
    <div id="Vu38742">
    <a href="https://www.php.net/manual/vote-note.php?id=38742&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd38742">
    <a href="https://www.php.net/manual/vote-note.php?id=38742&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V38742" title="80% like this...">
    3
    </div>
  </div>
  <a href="function.imageline.php.html#38742" class="name">
  <strong class="user"><em>mueller at inf dot ufsc dot br</em></strong></a><a class="genanchor" href="function.imageline.php.html#38742"> &para;</a><div class="date" title="2004-01-05 12:26"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom38742">
<div class="phpcode"><code><span class="html">an algorithm to draw a bezier spline<br /><br /><span class="default">&lt;?php<br /><br />$segmentos </span><span class="keyword">=</span><span class="default">30</span><span class="keyword">;<br /></span><span class="default">$x</span><span class="keyword">=array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">80</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">);<br /></span><span class="default">$y</span><span class="keyword">=array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">,</span><span class="default">40</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">);<br /><br />function </span><span class="default">bezier</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">,</span><span class="default">$steps</span><span class="keyword">){<br />    </span><span class="default">$t </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">/ </span><span class="default">$steps</span><span class="keyword">;<br />    </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$t </span><span class="keyword">* </span><span class="default">$t</span><span class="keyword">;<br />    </span><span class="default">$ret </span><span class="keyword">= array();<br />    </span><span class="default">$f </span><span class="keyword">= </span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />    </span><span class="default">$fd </span><span class="keyword">= </span><span class="default">3 </span><span class="keyword">* (</span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">] - </span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) * </span><span class="default">$t</span><span class="keyword">;<br />    </span><span class="default">$fdd_per_2</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">*(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-</span><span class="default">2</span><span class="keyword">*</span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]+</span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">])*</span><span class="default">$temp</span><span class="keyword">;<br />    </span><span class="default">$fddd_per_2</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">*(</span><span class="default">3</span><span class="keyword">*(</span><span class="default">$p</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]-</span><span class="default">$p</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">])+</span><span class="default">$p</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">]-</span><span class="default">$p</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])*</span><span class="default">$temp</span><span class="keyword">*</span><span class="default">$t</span><span class="keyword">;<br />    </span><span class="default">$fddd </span><span class="keyword">= </span><span class="default">$fddd_per_2 </span><span class="keyword">+ </span><span class="default">$fddd_per_2</span><span class="keyword">;<br />    </span><span class="default">$fdd </span><span class="keyword">= </span><span class="default">$fdd_per_2 </span><span class="keyword">+ </span><span class="default">$fdd_per_2</span><span class="keyword">;<br />    </span><span class="default">$fddd_per_6 </span><span class="keyword">= </span><span class="default">$fddd_per_2 </span><span class="keyword">* (</span><span class="default">1.0 </span><span class="keyword">/ </span><span class="default">3</span><span class="keyword">);<br />    for (</span><span class="default">$loop</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$loop</span><span class="keyword">&lt;</span><span class="default">$steps</span><span class="keyword">; </span><span class="default">$loop</span><span class="keyword">++) {<br />        </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">,</span><span class="default">$f</span><span class="keyword">);<br />        </span><span class="default">$f </span><span class="keyword">= </span><span class="default">$f </span><span class="keyword">+ </span><span class="default">$fd </span><span class="keyword">+ </span><span class="default">$fdd_per_2 </span><span class="keyword">+ </span><span class="default">$fddd_per_6</span><span class="keyword">;<br />        </span><span class="default">$fd </span><span class="keyword">= </span><span class="default">$fd </span><span class="keyword">+ </span><span class="default">$fdd </span><span class="keyword">+ </span><span class="default">$fddd_per_2</span><span class="keyword">;<br />        </span><span class="default">$fdd </span><span class="keyword">= </span><span class="default">$fdd </span><span class="keyword">+ </span><span class="default">$fddd</span><span class="keyword">;<br />        </span><span class="default">$fdd_per_2 </span><span class="keyword">= </span><span class="default">$fdd_per_2 </span><span class="keyword">+ </span><span class="default">$fddd_per_2</span><span class="keyword">;<br />    }<br />    return </span><span class="default">$ret</span><span class="keyword">;<br />}<br /><br /></span><span class="default">$by </span><span class="keyword">= </span><span class="default">bezier</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">,</span><span class="default">$segmentos</span><span class="keyword">);<br /></span><span class="default">$bx </span><span class="keyword">= </span><span class="default">bezier</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">,</span><span class="default">$segmentos</span><span class="keyword">);<br /></span><span class="default">header </span><span class="keyword">(</span><span class="string">"Content-type: image/jpeg"</span><span class="keyword">);<br /></span><span class="default">$tam </span><span class="keyword">= </span><span class="default">200</span><span class="keyword">;<br /></span><span class="default">$im </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">$tam</span><span class="keyword">,</span><span class="default">$tam</span><span class="keyword">);<br /></span><span class="default">$background_color </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">);<br /></span><span class="default">$tc </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">233</span><span class="keyword">, </span><span class="default">14</span><span class="keyword">, </span><span class="default">91</span><span class="keyword">);<br />for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$segmentos</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">,</span><span class="default">$bx</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$tam</span><span class="keyword">-</span><span class="default">$by</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">],</span><span class="default">$bx</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">],</span><span class="default">$tam</span><span class="keyword">-</span><span class="default">$by</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">],</span><span class="default">$tc</span><span class="keyword">);<br /></span><span class="default">imagejpeg</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">); <br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="94624">  <div class="votes">
    <div id="Vu94624">
    <a href="https://www.php.net/manual/vote-note.php?id=94624&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd94624">
    <a href="https://www.php.net/manual/vote-note.php?id=94624&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V94624" title="61% like this...">
    5
    </div>
  </div>
  <a href="function.imageline.php.html#94624" class="name">
  <strong class="user"><em>sbm007 at gmail dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#94624"> &para;</a><div class="date" title="2009-11-15 03:17"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom94624">
<div class="phpcode"><code><span class="html">Here is a analog clock representation of the system time along with digits for hours and little dots for minutes/seconds:<br /><br /><span class="default">&lt;?php<br />$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">450</span><span class="keyword">, </span><span class="default">450</span><span class="keyword">);<br /><br /></span><span class="default">$white </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br /></span><span class="default">$red </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br /></span><span class="default">$black </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br /></span><span class="default">$grey </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">211</span><span class="keyword">, </span><span class="default">211</span><span class="keyword">, </span><span class="default">211</span><span class="keyword">);<br /><br /></span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$white</span><span class="keyword">);<br /></span><span class="default">imagearc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">);<br /></span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">, </span><span class="default">IMG_ARC_PIE</span><span class="keyword">);<br /><br />for (</span><span class="default">$zz </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$zz </span><span class="keyword">&lt; </span><span class="default">60</span><span class="keyword">; </span><span class="default">$zz</span><span class="keyword">++) {<br />    </span><span class="default">$digitCoords</span><span class="keyword">[</span><span class="string">'x'</span><span class="keyword">][] = </span><span class="default">175 </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$zz</span><span class="keyword">-</span><span class="default">10</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br />    </span><span class="default">$digitCoords</span><span class="keyword">[</span><span class="string">'y'</span><span class="keyword">][] = </span><span class="default">175 </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$zz</span><span class="keyword">-</span><span class="default">10</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br />}<br /><br />for (</span><span class="default">$zz </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$zz </span><span class="keyword">&lt; </span><span class="default">60</span><span class="keyword">; </span><span class="default">$zz</span><span class="keyword">++) {<br />    if (</span><span class="default">$zz </span><span class="keyword">% </span><span class="default">5 </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />        </span><span class="default">imagestring</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">$digitCoords</span><span class="keyword">[</span><span class="string">'x'</span><span class="keyword">][</span><span class="default">$zz</span><span class="keyword">] - </span><span class="default">4</span><span class="keyword">, </span><span class="default">$digitCoords</span><span class="keyword">[</span><span class="string">'y'</span><span class="keyword">][</span><span class="default">$zz</span><span class="keyword">] - </span><span class="default">6</span><span class="keyword">, (</span><span class="default">$zz</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">);<br />    else<br />        </span><span class="default">imagefilledarc</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$digitCoords</span><span class="keyword">[</span><span class="string">'x'</span><span class="keyword">][</span><span class="default">$zz</span><span class="keyword">], </span><span class="default">$digitCoords</span><span class="keyword">[</span><span class="string">'y'</span><span class="keyword">][</span><span class="default">$zz</span><span class="keyword">], </span><span class="default">3</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$grey</span><span class="keyword">, </span><span class="default">IMG_ARC_PIE</span><span class="keyword">);<br />}<br /><br /></span><span class="default">$seconds </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'s'</span><span class="keyword">);<br /></span><span class="default">$minutes </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'i'</span><span class="keyword">) + (</span><span class="default">$seconds</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">);<br /></span><span class="default">$hours </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'h'</span><span class="keyword">) + (</span><span class="default">$minutes</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">);<br /><br /></span><span class="default">$r_sec </span><span class="keyword">= </span><span class="default">175</span><span class="keyword">;<br /></span><span class="default">$r_min </span><span class="keyword">= </span><span class="default">175</span><span class="keyword">;<br /></span><span class="default">$r_hr </span><span class="keyword">= </span><span class="default">125</span><span class="keyword">;<br /><br /></span><span class="default">$x_sec </span><span class="keyword">= </span><span class="default">$r_sec </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$seconds</span><span class="keyword">-</span><span class="default">15</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br /></span><span class="default">$y_sec </span><span class="keyword">= </span><span class="default">$r_sec </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$seconds</span><span class="keyword">-</span><span class="default">15</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br /><br /></span><span class="default">$x_min </span><span class="keyword">= </span><span class="default">$r_min </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$minutes</span><span class="keyword">-</span><span class="default">15</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br /></span><span class="default">$y_min </span><span class="keyword">= </span><span class="default">$r_min </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$minutes</span><span class="keyword">-</span><span class="default">15</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">60</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br /><br /></span><span class="default">$x_hr </span><span class="keyword">= </span><span class="default">$r_hr </span><span class="keyword">* </span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$hours</span><span class="keyword">-</span><span class="default">3</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">12</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br /></span><span class="default">$y_hr </span><span class="keyword">= </span><span class="default">$r_hr </span><span class="keyword">* </span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">((</span><span class="default">$hours</span><span class="keyword">-</span><span class="default">3</span><span class="keyword">) * (</span><span class="default">360</span><span class="keyword">/</span><span class="default">12</span><span class="keyword">))) + </span><span class="default">224</span><span class="keyword">;<br /><br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">$x_sec</span><span class="keyword">, </span><span class="default">$y_sec</span><span class="keyword">, </span><span class="default">$red</span><span class="keyword">);<br /></span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">$x_min</span><span class="keyword">, </span><span class="default">$y_min</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">);<br /></span><span class="default">imagesetthickness</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">);<br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">, </span><span class="default">$x_hr</span><span class="keyword">, </span><span class="default">$y_hr</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">);<br /><br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /><br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="56524">  <div class="votes">
    <div id="Vu56524">
    <a href="https://www.php.net/manual/vote-note.php?id=56524&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56524">
    <a href="https://www.php.net/manual/vote-note.php?id=56524&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56524" title="66% like this...">
    4
    </div>
  </div>
  <a href="function.imageline.php.html#56524" class="name">
  <strong class="user"><em>d [AT] sprid [DOT] de</em></strong></a><a class="genanchor" href="function.imageline.php.html#56524"> &para;</a><div class="date" title="2005-09-06 03:12"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56524">
<div class="phpcode"><code><span class="html">Here my function do clear all problems. With this, you can draw firstly smooth lines (basic code adapted from code_couturier at graffiti dot net, with some performance changes). The special is, you can define the alpha-value of the line (0 = normal smooth line, 127 = fully transparent). Change whatever you want to make it better, but post your results ;) <br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * function imageSmoothAlphaLine() - version 1.0<br /> * Draws a smooth line with alpha-functionality<br /> *<br /> * @param   ident    the image to draw on<br /> * @param   integer  x1<br /> * @param   integer  y1<br /> * @param   integer  x2<br /> * @param   integer  y2<br /> * @param   integer  red (0 to 255)<br /> * @param   integer  green (0 to 255)<br /> * @param   integer  blue (0 to 255)<br /> * @param   integer  alpha (0 to 127)<br /> *<br /> * @access  public<br /> *<br /> * @author  DASPRiD &lt;d@sprid.de&gt;<br /> */<br /></span><span class="keyword">function </span><span class="default">imageSmoothAlphaLine </span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">, </span><span class="default">$g</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$alpha</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />  </span><span class="default">$icr </span><span class="keyword">= </span><span class="default">$r</span><span class="keyword">;<br />  </span><span class="default">$icg </span><span class="keyword">= </span><span class="default">$g</span><span class="keyword">;<br />  </span><span class="default">$icb </span><span class="keyword">= </span><span class="default">$b</span><span class="keyword">;<br />  </span><span class="default">$dcol </span><span class="keyword">= </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$icr</span><span class="keyword">, </span><span class="default">$icg</span><span class="keyword">, </span><span class="default">$icb</span><span class="keyword">, </span><span class="default">$alpha</span><span class="keyword">);<br />  <br />  if (</span><span class="default">$y1 </span><span class="keyword">== </span><span class="default">$y2 </span><span class="keyword">|| </span><span class="default">$x1 </span><span class="keyword">== </span><span class="default">$x2</span><span class="keyword">) <br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$dcol</span><span class="keyword">);<br />  else {<br />    </span><span class="default">$m </span><span class="keyword">= (</span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$y1</span><span class="keyword">) / (</span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$x1</span><span class="keyword">);<br />    </span><span class="default">$b </span><span class="keyword">= </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$m </span><span class="keyword">* </span><span class="default">$x1</span><span class="keyword">;<br /><br />    if (</span><span class="default">abs </span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">) &lt;</span><span class="default">2</span><span class="keyword">) {<br />      </span><span class="default">$x </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">(</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">);<br />      </span><span class="default">$endx </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">;<br /><br />      while (</span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$endx</span><span class="keyword">) {<br />        </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$m </span><span class="keyword">* </span><span class="default">$x </span><span class="keyword">+ </span><span class="default">$b</span><span class="keyword">;<br />        </span><span class="default">$ya </span><span class="keyword">= (</span><span class="default">$y </span><span class="keyword">== </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">) ? </span><span class="default">1</span><span class="keyword">: </span><span class="default">$y </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">));<br />        </span><span class="default">$yb </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">) - </span><span class="default">$y</span><span class="keyword">;<br />   <br />        </span><span class="default">$trgb </span><span class="keyword">= </span><span class="default">ImageColorAt</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">));<br />        </span><span class="default">$tcr </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcg </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcb </span><span class="keyword">= </span><span class="default">$trgb </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">), </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, (</span><span class="default">$tcr </span><span class="keyword">* </span><span class="default">$ya </span><span class="keyword">+ </span><span class="default">$icr </span><span class="keyword">* </span><span class="default">$yb</span><span class="keyword">), (</span><span class="default">$tcg </span><span class="keyword">* </span><span class="default">$ya </span><span class="keyword">+ </span><span class="default">$icg </span><span class="keyword">* </span><span class="default">$yb</span><span class="keyword">), (</span><span class="default">$tcb </span><span class="keyword">* </span><span class="default">$ya </span><span class="keyword">+ </span><span class="default">$icb </span><span class="keyword">* </span><span class="default">$yb</span><span class="keyword">), </span><span class="default">$alpha</span><span class="keyword">));<br />  <br />        </span><span class="default">$trgb </span><span class="keyword">= </span><span class="default">ImageColorAt</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">));<br />        </span><span class="default">$tcr </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcg </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcb </span><span class="keyword">= </span><span class="default">$trgb </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">), </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, (</span><span class="default">$tcr </span><span class="keyword">* </span><span class="default">$yb </span><span class="keyword">+ </span><span class="default">$icr </span><span class="keyword">* </span><span class="default">$ya</span><span class="keyword">), (</span><span class="default">$tcg </span><span class="keyword">* </span><span class="default">$yb </span><span class="keyword">+ </span><span class="default">$icg </span><span class="keyword">* </span><span class="default">$ya</span><span class="keyword">), (</span><span class="default">$tcb </span><span class="keyword">* </span><span class="default">$yb </span><span class="keyword">+ </span><span class="default">$icb </span><span class="keyword">* </span><span class="default">$ya</span><span class="keyword">), </span><span class="default">$alpha</span><span class="keyword">));<br />  <br />        </span><span class="default">$x</span><span class="keyword">++;<br />      }<br />    } else {<br />      </span><span class="default">$y </span><span class="keyword">= </span><span class="default">min</span><span class="keyword">(</span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">);<br />      </span><span class="default">$endy </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">;<br /><br />      while (</span><span class="default">$y </span><span class="keyword">&lt; </span><span class="default">$endy</span><span class="keyword">) {<br />        </span><span class="default">$x </span><span class="keyword">= (</span><span class="default">$y </span><span class="keyword">- </span><span class="default">$b</span><span class="keyword">) / </span><span class="default">$m</span><span class="keyword">;<br />        </span><span class="default">$xa </span><span class="keyword">= (</span><span class="default">$x </span><span class="keyword">== </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) ? </span><span class="default">1</span><span class="keyword">: </span><span class="default">$x </span><span class="keyword">- </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">));<br />        </span><span class="default">$xb </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) - </span><span class="default">$x</span><span class="keyword">;<br />  <br />        </span><span class="default">$trgb </span><span class="keyword">= </span><span class="default">ImageColorAt</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">), </span><span class="default">$y</span><span class="keyword">);<br />        </span><span class="default">$tcr </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcg </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcb </span><span class="keyword">= </span><span class="default">$trgb </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">), </span><span class="default">$y</span><span class="keyword">, </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, (</span><span class="default">$tcr </span><span class="keyword">* </span><span class="default">$xa </span><span class="keyword">+ </span><span class="default">$icr </span><span class="keyword">* </span><span class="default">$xb</span><span class="keyword">), (</span><span class="default">$tcg </span><span class="keyword">* </span><span class="default">$xa </span><span class="keyword">+ </span><span class="default">$icg </span><span class="keyword">* </span><span class="default">$xb</span><span class="keyword">), (</span><span class="default">$tcb </span><span class="keyword">* </span><span class="default">$xa </span><span class="keyword">+ </span><span class="default">$icb </span><span class="keyword">* </span><span class="default">$xb</span><span class="keyword">), </span><span class="default">$alpha</span><span class="keyword">));<br />  <br />        </span><span class="default">$trgb </span><span class="keyword">= </span><span class="default">ImageColorAt</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">), </span><span class="default">$y</span><span class="keyword">);<br />        </span><span class="default">$tcr </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">16</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcg </span><span class="keyword">= (</span><span class="default">$trgb </span><span class="keyword">&gt;&gt; </span><span class="default">8</span><span class="keyword">) &amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">$tcb </span><span class="keyword">= </span><span class="default">$trgb </span><span class="keyword">&amp; </span><span class="default">0xFF</span><span class="keyword">;<br />        </span><span class="default">imagesetpixel </span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">), </span><span class="default">$y</span><span class="keyword">, </span><span class="default">imagecolorallocatealpha</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, (</span><span class="default">$tcr </span><span class="keyword">* </span><span class="default">$xb </span><span class="keyword">+ </span><span class="default">$icr </span><span class="keyword">* </span><span class="default">$xa</span><span class="keyword">), (</span><span class="default">$tcg </span><span class="keyword">* </span><span class="default">$xb </span><span class="keyword">+ </span><span class="default">$icg </span><span class="keyword">* </span><span class="default">$xa</span><span class="keyword">), (</span><span class="default">$tcb </span><span class="keyword">* </span><span class="default">$xb </span><span class="keyword">+ </span><span class="default">$icb </span><span class="keyword">* </span><span class="default">$xa</span><span class="keyword">), </span><span class="default">$alpha</span><span class="keyword">));<br />  <br />        </span><span class="default">$y </span><span class="keyword">++;<br />      }<br />    }<br />  }<br />} </span><span class="comment">// end of 'imageSmoothAlphaLine()' function<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="19403">  <div class="votes">
    <div id="Vu19403">
    <a href="https://www.php.net/manual/vote-note.php?id=19403&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd19403">
    <a href="https://www.php.net/manual/vote-note.php?id=19403&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V19403" title="61% like this...">
    3
    </div>
  </div>
  <a href="function.imageline.php.html#19403" class="name">
  <strong class="user"><em>kramesch_NOSPAM_ at _nospam_idsolutions dot at</em></strong></a><a class="genanchor" href="function.imageline.php.html#19403"> &para;</a><div class="date" title="2002-02-26 01:44"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom19403">
<div class="phpcode"><code><span class="html">Here is a simple code to draw a line with an arbitrary stroke. The parameter aStroke is treated as a cyclic boolean array where true equals "set a point"<br />e.g. $aDotStroke = array(true,false);<br /><br />function ImageStrokeLine($im,$x1,$y1,$x2,$y2,$farbe, $aStroke)<br />  {<br />    $deltax = abs($x2 - $x1);        <br />    $deltay = abs($y2 - $y1);        <br />    $x = $x1;                       <br />    $y = $y1;                       <br />    <br />    if ($x2 &gt;= $x1)                 <br />    {<br />      $xinc1 = 1;<br />      $xinc2 = 1;<br />    }<br />    else                          <br />    {<br />      $xinc1 = -1;<br />      $xinc2 = -1;<br />    }<br />    <br />    if ($y2 &gt;= $y1)                 <br />    {<br />      $yinc1 = 1;<br />      $yinc2 = 1;<br />    }<br />    else                          <br />    {<br />      $yinc1 = -1;<br />      $yinc2 = -1;<br />    }<br />    <br />    if ($deltax &gt;= $deltay)  <br />    {<br />      $xinc1 = 0;                 <br />      $yinc2 = 0;                 <br />      $den = $deltax;<br />      $num = $deltax / 2;<br />      $numadd = $deltay;<br />      $numpixels = $deltax; <br />    }<br />    else                          <br />    {<br />      $xinc2 = 0;             <br />      $yinc1 = 0;             <br />      $den = $deltay;<br />      $num = $deltay / 2;<br />      $numadd = $deltax;<br />      $numpixels = $deltay; <br />    }<br />    <br />    for ($curpixel = 0; $curpixel &lt;= $numpixels; $curpixel++)<br />    {<br />      if ($iStrokeCount &gt;= count($aStroke))<br />      {<br />        $iStrokeCount = 0;<br />      }<br />  <br />      if ($aStroke[$iStrokeCount++]) <br />      {<br />        ImageSetPixel($im,$x, $y,$farbe);            <br />      }            <br />      $num += $numadd;            <br />      if ($num &gt;= $den)             <br />      {<br />        $num -= $den;               <br />        $x += $xinc1;               <br />        $y += $yinc1;               <br />      }<br />      $x += $xinc2;                 <br />      $y += $yinc2;                 <br />    }<br />  }</span></code></div>
  </div>
 </div>
  <div class="note" id="107923">  <div class="votes">
    <div id="Vu107923">
    <a href="https://www.php.net/manual/vote-note.php?id=107923&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd107923">
    <a href="https://www.php.net/manual/vote-note.php?id=107923&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V107923" title="62% like this...">
    2
    </div>
  </div>
  <a href="function.imageline.php.html#107923" class="name">
  <strong class="user"><em>Nils</em></strong></a><a class="genanchor" href="function.imageline.php.html#107923"> &para;</a><div class="date" title="2012-03-15 12:57"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom107923">
<div class="phpcode"><code><span class="html">A quick function using imageline that I wrote so i could specify a starting point, angle and length of vector.<br /><br />Thought other people might find this useful.<br /><br /><span class="default">&lt;?php<br />$size </span><span class="keyword">= </span><span class="default">600</span><span class="keyword">;<br /></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$size</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">);<br /><br /></span><span class="default">$white </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br /></span><span class="default">$black </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br /><br /></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$size</span><span class="keyword">,</span><span class="default">$size</span><span class="keyword">,</span><span class="default">$white</span><span class="keyword">);<br /><br />function </span><span class="default">Vector</span><span class="keyword">(</span><span class="default">$palette</span><span class="keyword">,</span><span class="default">$startx</span><span class="keyword">,</span><span class="default">$starty</span><span class="keyword">,</span><span class="default">$angle</span><span class="keyword">,</span><span class="default">$length</span><span class="keyword">,</span><span class="default">$colour</span><span class="keyword">){<br />    </span><span class="default">$angle </span><span class="keyword">= </span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">);<br />    </span><span class="default">$endx </span><span class="keyword">= </span><span class="default">$startx</span><span class="keyword">+</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)*</span><span class="default">$length</span><span class="keyword">;<br />    </span><span class="default">$endy </span><span class="keyword">= </span><span class="default">$starty</span><span class="keyword">-</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$angle</span><span class="keyword">)*</span><span class="default">$length</span><span class="keyword">;<br />    return(</span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$palette</span><span class="keyword">,</span><span class="default">$startx</span><span class="keyword">,</span><span class="default">$starty</span><span class="keyword">,</span><span class="default">$endx</span><span class="keyword">,</span><span class="default">$endy</span><span class="keyword">,</span><span class="default">$colour</span><span class="keyword">));<br />}<br /><br /></span><span class="default">Vector</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">,</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">200</span><span class="keyword">,</span><span class="default">$black</span><span class="keyword">);<br /><br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />For this script angles work in a anti-clockwise direction (modify + and - in function to change start of 0 degrees and also direction of angle calculated)</span></code></div>
  </div>
 </div>
  <div class="note" id="33122">  <div class="votes">
    <div id="Vu33122">
    <a href="https://www.php.net/manual/vote-note.php?id=33122&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd33122">
    <a href="https://www.php.net/manual/vote-note.php?id=33122&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V33122" title="66% like this...">
    1
    </div>
  </div>
  <a href="function.imageline.php.html#33122" class="name">
  <strong class="user"><em>nanobot at chipx86 dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#33122"> &para;</a><div class="date" title="2003-06-17 05:28"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom33122">
<div class="phpcode"><code><span class="html">Here is a function for making antialiased lines:<br /><br /> function imagesmoothline ( $image , $x1 , $y1 , $x2 , $y2 , $color )<br /> {<br />  $colors = imagecolorsforindex ( $image , $color );<br />  if ( $x1 == $x2 )<br />  {<br />   imageline ( $image , $x1 , $y1 , $x2 , $y2 , $color ); // Vertical line<br />  }<br />  else<br />  {<br />   $m = ( $y2 - $y1 ) / ( $x2 - $x1 );<br />   $b = $y1 - $m * $x1;<br />   if ( abs ( $m ) &lt;= 1 )<br />   {<br />    $x = min ( $x1 , $x2 );<br />    $endx = max ( $x1 , $x2 );<br />    while ( $x &lt;= $endx )<br />    {<br />     $y = $m * $x + $b;<br />     $y == floor ( $y ) ? $ya = 1 : $ya = $y - floor ( $y );<br />     $yb = ceil ( $y ) - $y;<br />     $tempcolors = imagecolorsforindex ( $image , imagecolorat ( $image , $x , floor ( $y ) ) );<br />     $tempcolors['red'] = $tempcolors['red'] * $ya + $colors['red'] * $yb;<br />     $tempcolors['green'] = $tempcolors['green'] * $ya + $colors['green'] * $yb;<br />     $tempcolors['blue'] = $tempcolors['blue'] * $ya + $colors['blue'] * $yb;<br />     if ( imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) == -1 ) imagecolorallocate ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] );<br />     imagesetpixel ( $image , $x , floor ( $y ) , imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) );<br />     $tempcolors = imagecolorsforindex ( $image , imagecolorat ( $image , $x , ceil ( $y ) ) );<br />     $tempcolors['red'] = $tempcolors['red'] * $yb + $colors['red'] * $ya;<br />      $tempcolors['green'] = $tempcolors['green'] * $yb + $colors['green'] * $ya;<br />     $tempcolors['blue'] = $tempcolors['blue'] * $yb + $colors['blue'] * $ya;<br />     if ( imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) == -1 ) imagecolorallocate ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] );<br />     imagesetpixel ( $image , $x , ceil ( $y ) , imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) );<br />     $x ++;<br />    }<br />   }<br />   else<br />   {<br />    $y = min ( $y1 , $y2 );<br />    $endy = max ( $y1 , $y2 );<br />    while ( $y &lt;= $endy )<br />    {<br />     $x = ( $y - $b ) / $m;<br />     $x == floor ( $x ) ? $xa = 1 : $xa = $x - floor ( $x );<br />     $xb = ceil ( $x ) - $x;<br />     $tempcolors = imagecolorsforindex ( $image , imagecolorat ( $image , floor ( $x ) , $y ) );<br />     $tempcolors['red'] = $tempcolors['red'] * $xa + $colors['red'] * $xb;<br />     $tempcolors['green'] = $tempcolors['green'] * $xa + $colors['green'] * $xb;<br />     $tempcolors['blue'] = $tempcolors['blue'] * $xa + $colors['blue'] * $xb;<br />     if ( imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) == -1 ) imagecolorallocate ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] );<br />     imagesetpixel ( $image , floor ( $x ) , $y , imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) );<br />     $tempcolors = imagecolorsforindex ( $image , imagecolorat ( $image , ceil ( $x ) , $y ) );<br />     $tempcolors['red'] = $tempcolors['red'] * $xb + $colors['red'] * $xa;<br />     $tempcolors['green'] = $tempcolors['green'] * $xb + $colors['green'] * $xa;<br />     $tempcolors['blue'] = $tempcolors['blue'] * $xb + $colors['blue'] * $xa;<br />     if ( imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) == -1 ) imagecolorallocate ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] );<br />     imagesetpixel ( $image , ceil ( $x ) , $y , imagecolorexact ( $image , $tempcolors['red'] , $tempcolors['green'] , $tempcolors['blue'] ) );<br />     $y ++;<br />    }<br />   }<br />  }<br /> }<br /><br />EDITOR: My previous code contained bugs. Please use this one instead.</span></code></div>
  </div>
 </div>
  <div class="note" id="42390">  <div class="votes">
    <div id="Vu42390">
    <a href="https://www.php.net/manual/vote-note.php?id=42390&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd42390">
    <a href="https://www.php.net/manual/vote-note.php?id=42390&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V42390" title="55% like this...">
    1
    </div>
  </div>
  <a href="function.imageline.php.html#42390" class="name">
  <strong class="user"><em>ruturaj_v at yahoo dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#42390"> &para;</a><div class="date" title="2004-05-14 08:48"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom42390">
<div class="phpcode"><code><span class="html">here is a function that helps you create arrows...<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">get_arrowheads </span><span class="keyword">(</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$arrhead</span><span class="keyword">, </span><span class="default">$arrang</span><span class="keyword">) {<br />    </span><span class="default">$debug </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />    <br />    </span><span class="default">define</span><span class="keyword">(</span><span class="string">"INFINITE"</span><span class="keyword">, </span><span class="string">'INFINITE'</span><span class="keyword">);<br />    if ((</span><span class="default">$x2</span><span class="keyword">-</span><span class="default">$x1</span><span class="keyword">)==</span><span class="default">0</span><span class="keyword">) {<br />        if (</span><span class="default">$y1 </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) {<br />            </span><span class="default">$slope </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />        } else {<br />            </span><span class="default">$slope </span><span class="keyword">= </span><span class="default">INFINITE</span><span class="keyword">;<br />        }<br />    } else {<br />        </span><span class="default">$slope </span><span class="keyword">= -(</span><span class="default">$y2</span><span class="keyword">-</span><span class="default">$y1</span><span class="keyword">)/(</span><span class="default">$x2</span><span class="keyword">-</span><span class="default">$x1</span><span class="keyword">);<br />    }<br /><br />    </span><span class="comment">//$slope = number_format($slope, 2, '.','');<br />    </span><span class="keyword">if (</span><span class="default">$slope </span><span class="keyword">== </span><span class="string">'INFINITE'</span><span class="keyword">) {<br />        </span><span class="default">$ang </span><span class="keyword">= </span><span class="default">90</span><span class="keyword">;<br />    } else {<br />        </span><span class="default">$ang </span><span class="keyword">= </span><span class="default">atan </span><span class="keyword">(</span><span class="default">$slope</span><span class="keyword">);<br />        </span><span class="default">$ang </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">* </span><span class="default">180</span><span class="keyword">)/</span><span class="default">pi</span><span class="keyword">();<br />    }<br />    </span><span class="comment">//$ang = number_format($ang, 2, '.', '');<br />    //echo ($ang);<br />    //exit;<br /><br />    //convert the angle<br />    </span><span class="default">$arrang1 </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">- </span><span class="default">$arrang</span><span class="keyword">);<br />    </span><span class="default">$arrangdeg1 </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">- </span><span class="default">$arrang</span><span class="keyword">);<br />    </span><span class="comment">//echo ($arrang1);exit;<br />    </span><span class="default">$arrang1 </span><span class="keyword">= (</span><span class="default">$arrang1</span><span class="keyword">*</span><span class="default">pi</span><span class="keyword">())/</span><span class="default">180</span><span class="keyword">;<br /><br />    </span><span class="default">$arrang2 </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">+ </span><span class="default">$arrang</span><span class="keyword">);<br />    </span><span class="default">$arrangdeg2 </span><span class="keyword">= (</span><span class="default">$ang </span><span class="keyword">+ </span><span class="default">$arrang</span><span class="keyword">);<br />    </span><span class="default">$arrang2 </span><span class="keyword">= (</span><span class="default">$arrang2</span><span class="keyword">*</span><span class="default">pi</span><span class="keyword">())/</span><span class="default">180</span><span class="keyword">;<br />    </span><span class="comment">//echo ($arrang1);<br /><br />    </span><span class="default">$arx1 </span><span class="keyword">= (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$arrang1</span><span class="keyword">)*</span><span class="default">$arrhead</span><span class="keyword">));<br />    </span><span class="default">$ary1 </span><span class="keyword">= (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$arrang1</span><span class="keyword">)*</span><span class="default">$arrhead</span><span class="keyword">));<br />    </span><span class="default">$arx2 </span><span class="keyword">= (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$arrang2</span><span class="keyword">)*</span><span class="default">$arrhead</span><span class="keyword">));<br />    </span><span class="default">$ary2 </span><span class="keyword">= (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$arrang2</span><span class="keyword">)*</span><span class="default">$arrhead</span><span class="keyword">));<br />    if (</span><span class="default">$debug</span><span class="keyword">) {<br />        echo (</span><span class="string">"Values of arx1.. before add/sub&lt;/br&gt;"</span><span class="keyword">);<br />        echo (</span><span class="string">"</span><span class="default">$arx1</span><span class="string">,</span><span class="default">$ary1</span><span class="string">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><span class="default">$arx2</span><span class="string">,</span><span class="default">$ary2</span><span class="string">&lt;/br&gt;"</span><span class="keyword">);<br />    }<br />    if (</span><span class="default">$ang</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">) {<br />        if (</span><span class="default">$x2 </span><span class="keyword">&gt; </span><span class="default">$x1</span><span class="keyword">) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary2</span><span class="keyword">;<br />        } elseif (</span><span class="default">$x2 </span><span class="keyword">&lt; </span><span class="default">$x1</span><span class="keyword">) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary2</span><span class="keyword">;<br />        }<br />    }<br />    if (</span><span class="default">$ang </span><span class="keyword">&gt; </span><span class="default">0 </span><span class="keyword">&amp;&amp; </span><span class="default">$ang </span><span class="keyword">&lt; </span><span class="default">90</span><span class="keyword">) {<br />        if ((</span><span class="default">$x2 </span><span class="keyword">&gt; </span><span class="default">$x1</span><span class="keyword">) &amp;&amp; (</span><span class="default">$y2 </span><span class="keyword">&lt; </span><span class="default">$y1</span><span class="keyword">)) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$ary2</span><span class="keyword">;<br />        } elseif ((</span><span class="default">$x2 </span><span class="keyword">&lt; </span><span class="default">$x1</span><span class="keyword">) &amp;&amp; (</span><span class="default">$y2 </span><span class="keyword">&gt; </span><span class="default">$y1</span><span class="keyword">)) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary2</span><span class="keyword">;<br />        }<br />    }<br />    if (</span><span class="default">$ang</span><span class="keyword">==</span><span class="default">90</span><span class="keyword">) {<br />        if ((</span><span class="default">$y2 </span><span class="keyword">&gt; </span><span class="default">$y1</span><span class="keyword">)) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary2</span><span class="keyword">;<br />        } elseif ((</span><span class="default">$y2 </span><span class="keyword">&lt; </span><span class="default">$y1</span><span class="keyword">)) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$ary2</span><span class="keyword">;<br />        }<br />    }<br />    if (</span><span class="default">$ang </span><span class="keyword">&gt; -</span><span class="default">90 </span><span class="keyword">&amp;&amp; </span><span class="default">$ang </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) {<br />        if ((</span><span class="default">$x2 </span><span class="keyword">&gt; </span><span class="default">$x1</span><span class="keyword">) &amp;&amp; (</span><span class="default">$y2 </span><span class="keyword">&gt; </span><span class="default">$y1</span><span class="keyword">)) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$ary2</span><span class="keyword">;<br />        } elseif ((</span><span class="default">$x2 </span><span class="keyword">&lt; </span><span class="default">$x1</span><span class="keyword">) &amp;&amp; (</span><span class="default">$y2 </span><span class="keyword">&lt; </span><span class="default">$y1</span><span class="keyword">)) {<br />            </span><span class="default">$arx1 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$arx1</span><span class="keyword">;    </span><span class="default">$ary1 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary1</span><span class="keyword">;<br />            </span><span class="default">$arx2 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$arx2</span><span class="keyword">;    </span><span class="default">$ary2 </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$ary2</span><span class="keyword">;<br />        }<br />    }<br /><br />    if (</span><span class="default">$debug</span><span class="keyword">) {<br />        echo (</span><span class="string">"Angle of line is ("</span><span class="keyword">.</span><span class="default">$ang</span><span class="keyword">*</span><span class="default">180</span><span class="keyword">/</span><span class="default">pi</span><span class="keyword">().</span><span class="string">")&lt;/br&gt;"</span><span class="keyword">);<br />        echo (</span><span class="string">"Angle of line1 is </span><span class="default">$arrangdeg1</span><span class="string">&lt;/br&gt;"</span><span class="keyword">);<br />        echo (</span><span class="string">"Angle of line2 is </span><span class="default">$arrangdeg2</span><span class="string">&lt;/br&gt;"</span><span class="keyword">);<br />        echo (</span><span class="string">"</span><span class="default">$arx1</span><span class="string">,</span><span class="default">$ary1</span><span class="string">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><span class="default">$x2</span><span class="string">,</span><span class="default">$y2</span><span class="string">&lt;/br&gt;"</span><span class="keyword">);<br />        echo (</span><span class="string">"</span><span class="default">$arx2</span><span class="string">,</span><span class="default">$ary2</span><span class="string">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span><span class="default">$x2</span><span class="string">,</span><span class="default">$y2</span><span class="string">"</span><span class="keyword">);<br />        exit;<br />    }<br />    <br />    </span><span class="default">$array_arrows </span><span class="keyword">= array (<br />                    </span><span class="string">'x1' </span><span class="keyword">=&gt;</span><span class="default">$arx1</span><span class="keyword">,<br />                    </span><span class="string">'y1' </span><span class="keyword">=&gt; </span><span class="default">$ary1</span><span class="keyword">,<br />                    </span><span class="string">'x2' </span><span class="keyword">=&gt; </span><span class="default">$arx2</span><span class="keyword">,<br />                    </span><span class="string">'y2' </span><span class="keyword">=&gt; </span><span class="default">$ary2<br />                    </span><span class="keyword">);<br />    return </span><span class="default">$array_arrows</span><span class="keyword">;<br /><br />}<br /><br /></span><span class="default">$x1 </span><span class="keyword">= </span><span class="default">200</span><span class="keyword">; </span><span class="default">$y1 </span><span class="keyword">= </span><span class="default">200</span><span class="keyword">;<br /></span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">400</span><span class="keyword">; </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">;<br /></span><span class="default">$arrhead </span><span class="keyword">= </span><span class="default">15</span><span class="keyword">; </span><span class="comment">//10px<br /></span><span class="default">$arrang </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">; </span><span class="comment">//10 deg<br /><br /></span><span class="default">$ar_arrws </span><span class="keyword">= </span><span class="default">get_arrowheads </span><span class="keyword">(</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$arrhead</span><span class="keyword">, </span><span class="default">$arrang</span><span class="keyword">);<br /><br /></span><span class="default">$im  </span><span class="keyword">= </span><span class="default">imagecreate </span><span class="keyword">(</span><span class="default">400</span><span class="keyword">, </span><span class="default">400</span><span class="keyword">); <br /></span><span class="default">$w   </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">); <br /></span><span class="default">$red </span><span class="keyword">= </span><span class="default">imagecolorallocate </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); <br /><br /></span><span class="comment">//creates the base line<br /></span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$green</span><span class="keyword">);<br /></span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">, </span><span class="default">$red</span><span class="keyword">);<br /></span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$ar_arrws</span><span class="keyword">[</span><span class="string">'x1'</span><span class="keyword">], </span><span class="default">$ar_arrws</span><span class="keyword">[</span><span class="string">'y1'</span><span class="keyword">], </span><span class="default">$green</span><span class="keyword">);<br /></span><span class="default">imageline </span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$ar_arrws</span><span class="keyword">[</span><span class="string">'x2'</span><span class="keyword">], </span><span class="default">$ar_arrws</span><span class="keyword">[</span><span class="string">'y2'</span><span class="keyword">], </span><span class="default">$green</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="52464">  <div class="votes">
    <div id="Vu52464">
    <a href="https://www.php.net/manual/vote-note.php?id=52464&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd52464">
    <a href="https://www.php.net/manual/vote-note.php?id=52464&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V52464" title="100% like this...">
    2
    </div>
  </div>
  <a href="function.imageline.php.html#52464" class="name">
  <strong class="user"><em>Tyron</em></strong></a><a class="genanchor" href="function.imageline.php.html#52464"> &para;</a><div class="date" title="2005-05-02 11:50"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom52464">
<div class="phpcode"><code><span class="html">// Here's a function for drawing a rotated gradient Rectangle (based on a previous note)<br /><br />// Create An Image 255x255<br />$img = ImageCreateTrueColor(255, 255);<br /><br />GradientRect($img,50,50,80,80,30);<br /><br />ImagePng($img,"test.png");<br />ImageDestroy($img);<br />echo "&lt;br&gt;&lt;img src=\"test.png\"&gt;";<br /><br />function GradientRect($img, $x1, $y1, $x2, $y2, $wdt) {<br />  $alpha = atan2($y2-$y1,$x2-$x1);<br />  $real_wdt = $wdt*sin($alpha);<br />  $real_hgt = $wdt*cos($alpha);<br />  echo "real wdt:".$real_wdt;<br />  echo "&lt;br&gt;real hgt:".$real_hgt;<br />  echo "&lt;br&gt;angle: ".($angle*180/pi());<br />  $plotD = 0;<br />  $i=0; <br /><br />  $dy = $real_hgt/$wdt;<br />  $dx = $real_wdt/$wdt;<br />  $drgb= 256/$wdt;<br />  while($i++ &lt; $wdt) {<br />    // Draw a line and move it down and make it lighter to get the gradient effect<br />    ImageLine($img, $x1-$i*$dx, $y1+$i*$dy, $x2-$i*$dx, $y2+$i*$dy, ImageColorAllocate($img, $i*$drgb, 0, 0));<br />    ImageLine($img, $x1-$i*$dx+1, $y1+$i*$dy, $x2-$i*$dx+1, $y2+$i*$dy, ImageColorAllocate($img, $i*$drgb, 0, 0));<br /><br />  }<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="41550">  <div class="votes">
    <div id="Vu41550">
    <a href="https://www.php.net/manual/vote-note.php?id=41550&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd41550">
    <a href="https://www.php.net/manual/vote-note.php?id=41550&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V41550" title="100% like this...">
    2
    </div>
  </div>
  <a href="function.imageline.php.html#41550" class="name">
  <strong class="user"><em>yl at sota dot ch</em></strong></a><a class="genanchor" href="function.imageline.php.html#41550"> &para;</a><div class="date" title="2004-04-14 09:44"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom41550">
<div class="phpcode"><code><span class="html">Simple function to create border for jpg-images:<br /><br />function createImageBorder($imgName){<br /><br />     $img     =  substr($imgName, 0, -4); // remove fileExtension<br />     $ext     = ".jpg";<br />     $quality = 95;<br />     $borderColor = 255;  // 255 = white<br />     <br />    /*<br />     a                         b<br />     +-------------------------+<br />     |                          <br />     |          IMAGE           <br />     |                          <br />     +-------------------------+<br />     c                         d   <br />    */<br />    <br />    $scr_img = imagecreatefromjpeg($img.$ext);<br />    $width   = imagesx($scr_img);<br />    $height  = imagesy($scr_img);<br />              <br />        // line a - b<br />        $abX  = 0;<br />        $abY  = 0;<br />        $abX1 = $width;<br />        $abY1 = 0;<br />        <br />        // line a - c<br />        $acX  = 0;<br />        $acY  = 0;<br />        $acX1 = 0;<br />        $acY1 = $height;<br />        <br />        // line b - d<br />        $bdX  = $width-1;<br />        $bdY  = 0;<br />        $bdX1 = $width-1;<br />        $bdY1 = $height;<br />        <br />        // line c - d<br />        $cdX  = 0;<br />        $cdY  = $height-1;<br />        $cdX1 = $width;<br />        $cdY1 = $height-1;<br />            <br />       // DRAW LINES    <br />        imageline($scr_img,$abX,$abY,$abX1,$abY1,$borderColor);<br />        imageline($scr_img,$acX,$acY,$acX1,$acY1,$borderColor);<br />        imageline($scr_img,$bdX,$bdY,$bdX1,$bdY1,$borderColor);<br />        imageline($scr_img,$cdX,$cdY,$cdX1,$cdY1,$borderColor);<br />        <br />      // create copy from image    <br />        imagejpeg($scr_img, $img."_border.jpg", $quality);<br />        imagedestroy($scr_img); <br />  }<br />    <br />    createImageBorder("myfile.jpg");</span></code></div>
  </div>
 </div>
  <div class="note" id="119610">  <div class="votes">
    <div id="Vu119610">
    <a href="https://www.php.net/manual/vote-note.php?id=119610&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119610">
    <a href="https://www.php.net/manual/vote-note.php?id=119610&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119610" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.imageline.php.html#119610" class="name">
  <strong class="user"><em>v dot krypton at yandex dot ru</em></strong></a><a class="genanchor" href="function.imageline.php.html#119610"> &para;</a><div class="date" title="2016-07-15 01:40"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119610">
<div class="phpcode"><code><span class="html">This function draw border to image.<br />function imageborder($img,$color) {<br />    $width = imagesx($img);<br />    $height = imagesy($img);<br />    ImageLine($img, 0, 0, $width, 0, $color);<br />    ImageLine($img, 0, 0, 0, $height, $color);<br />    ImageLine($img, $width-1, 0, $height-1, $height, $color);<br />    ImageLine($img, 0, $height-1, $width, $height-1, $color);<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="121035">  <div class="votes">
    <div id="Vu121035">
    <a href="https://www.php.net/manual/vote-note.php?id=121035&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121035">
    <a href="https://www.php.net/manual/vote-note.php?id=121035&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121035" title="no votes...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#121035" class="name">
  <strong class="user"><em>teixeira dot cmo at gmail.com</em></strong></a><a class="genanchor" href="function.imageline.php.html#121035"> &para;</a><div class="date" title="2017-04-29 11:08"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121035">
<div class="phpcode"><code><span class="html">If you draw on a canvas, using js ctx.lineJoin = "round"; and then try to do the same on a GD $img the result will not be the same. <br />Here is a simple code to draw a line similar to one made using lineJoin round.<br /><br />$w=5; //set your line thickness;<br />imagesetthickness($img, $w);<br />imageline($img, $x1, $y1, $x2, $y2, $color);<br />imagesetthickness($img, 1);<br />imagefilledellipse ( $img , $x2 , $y2 , $w ,$w, $color);</span></code></div>
  </div>
 </div>
  <div class="note" id="105038">  <div class="votes">
    <div id="Vu105038">
    <a href="https://www.php.net/manual/vote-note.php?id=105038&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd105038">
    <a href="https://www.php.net/manual/vote-note.php?id=105038&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V105038" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#105038" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.imageline.php.html#105038"> &para;</a><div class="date" title="2011-07-24 09:44"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom105038">
<div class="phpcode"><code><span class="html">The most bold-line-functions i found have problems with lines in a certian direction (they draw smaller lines with some angles). To do a real bold line just use this function:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">imageBoldLine</span><span class="keyword">(</span><span class="default">$resource</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">, </span><span class="default">$BoldNess</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">, </span><span class="default">$func</span><span class="keyword">=</span><span class="string">'imageLine'</span><span class="keyword">) <br />{<br /> </span><span class="default">$center </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$BoldNess</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">);<br /> for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$BoldNess</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br /> {  <br />  </span><span class="default">$a </span><span class="keyword">= </span><span class="default">$center</span><span class="keyword">-</span><span class="default">$i</span><span class="keyword">; if(</span><span class="default">$a</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">){</span><span class="default">$a </span><span class="keyword">-= </span><span class="default">$a</span><span class="keyword">;}<br />  for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$BoldNess</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++)<br />  {<br />   </span><span class="default">$b </span><span class="keyword">= </span><span class="default">$center</span><span class="keyword">-</span><span class="default">$j</span><span class="keyword">; if(</span><span class="default">$b</span><span class="keyword">&lt;</span><span class="default">0</span><span class="keyword">){</span><span class="default">$b </span><span class="keyword">-= </span><span class="default">$b</span><span class="keyword">;}<br />   </span><span class="default">$c </span><span class="keyword">= </span><span class="default">sqrt</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">*</span><span class="default">$a </span><span class="keyword">+ </span><span class="default">$b</span><span class="keyword">*</span><span class="default">$b</span><span class="keyword">);<br />   if(</span><span class="default">$c</span><span class="keyword">&lt;=</span><span class="default">$BoldNess</span><span class="keyword">)<br />   {<br />    </span><span class="default">$func</span><span class="keyword">(</span><span class="default">$resource</span><span class="keyword">, </span><span class="default">$x1 </span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">+</span><span class="default">$j</span><span class="keyword">, </span><span class="default">$x2 </span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">+</span><span class="default">$j</span><span class="keyword">, </span><span class="default">$Color</span><span class="keyword">);<br />   }<br />  }<br /> }         <br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="92168">  <div class="votes">
    <div id="Vu92168">
    <a href="https://www.php.net/manual/vote-note.php?id=92168&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92168">
    <a href="https://www.php.net/manual/vote-note.php?id=92168&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92168" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#92168" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.imageline.php.html#92168"> &para;</a><div class="date" title="2009-07-12 01:16"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92168">
<div class="phpcode"><code><span class="html">Here's another way of modifying likavcan's code to display filled arrows. This makes use of imagefilledpolygon(...) instead of recursive function calls.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">arrow</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$alength</span><span class="keyword">, </span><span class="default">$awidth</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">) {<br />    </span><span class="default">$distance </span><span class="keyword">= </span><span class="default">sqrt</span><span class="keyword">(</span><span class="default">pow</span><span class="keyword">(</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">) + </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br /><br />    </span><span class="default">$dx </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ (</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$x2</span><span class="keyword">) * </span><span class="default">$alength </span><span class="keyword">/ </span><span class="default">$distance</span><span class="keyword">;<br />    </span><span class="default">$dy </span><span class="keyword">= </span><span class="default">$y2 </span><span class="keyword">+ (</span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y2</span><span class="keyword">) * </span><span class="default">$alength </span><span class="keyword">/ </span><span class="default">$distance</span><span class="keyword">;<br /><br />    </span><span class="default">$k </span><span class="keyword">= </span><span class="default">$awidth </span><span class="keyword">/ </span><span class="default">$alength</span><span class="keyword">;<br /><br />    </span><span class="default">$x2o </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">- </span><span class="default">$dx</span><span class="keyword">;<br />    </span><span class="default">$y2o </span><span class="keyword">= </span><span class="default">$dy </span><span class="keyword">- </span><span class="default">$y2</span><span class="keyword">;<br /><br />    </span><span class="default">$x3 </span><span class="keyword">= </span><span class="default">$y2o </span><span class="keyword">* </span><span class="default">$k </span><span class="keyword">+ </span><span class="default">$dx</span><span class="keyword">;<br />    </span><span class="default">$y3 </span><span class="keyword">= </span><span class="default">$x2o </span><span class="keyword">* </span><span class="default">$k </span><span class="keyword">+ </span><span class="default">$dy</span><span class="keyword">;<br /><br />    </span><span class="default">$x4 </span><span class="keyword">= </span><span class="default">$dx </span><span class="keyword">- </span><span class="default">$y2o </span><span class="keyword">* </span><span class="default">$k</span><span class="keyword">;<br />    </span><span class="default">$y4 </span><span class="keyword">= </span><span class="default">$dy </span><span class="keyword">- </span><span class="default">$x2o </span><span class="keyword">* </span><span class="default">$k</span><span class="keyword">;<br /><br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">, </span><span class="default">$dx</span><span class="keyword">, </span><span class="default">$dy</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />    </span><span class="default">imagefilledpolygon</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, array(</span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">, </span><span class="default">$y3</span><span class="keyword">, </span><span class="default">$x4</span><span class="keyword">, </span><span class="default">$y4</span><span class="keyword">), </span><span class="default">3</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="80797">  <div class="votes">
    <div id="Vu80797">
    <a href="https://www.php.net/manual/vote-note.php?id=80797&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80797">
    <a href="https://www.php.net/manual/vote-note.php?id=80797&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80797" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#80797" class="name">
  <strong class="user"><em>huirong dot jin at gmail dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#80797"> &para;</a><div class="date" title="2008-01-31 01:57"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80797">
<div class="phpcode"><code><span class="html">An example to draw Amplitude Modulation curve: y = c * sin (x/a) * sin (x/b) . You can easily modify the codes to create your own oscilloscope application!<br /><br /><span class="default">&lt;?php<br />header </span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">$myImage </span><span class="keyword">= @</span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">640</span><span class="keyword">, </span><span class="default">480</span><span class="keyword">)<br />      or die(</span><span class="string">"Cannot Initialize new GD image stream"</span><span class="keyword">);<br /></span><span class="default">$text_color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">);<br /></span><span class="default">$poly_color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">124</span><span class="keyword">, </span><span class="default">120</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">);<br /><br /></span><span class="comment">//calculate x-value and y-value point by point<br /></span><span class="default">$points </span><span class="keyword">= array();<br />for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">640</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)<br />{<br />    </span><span class="comment">//define curve's function<br />    </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">; </span><span class="comment">//define x-value, which is $i itself <br />    </span><span class="default">$y </span><span class="keyword">= </span><span class="default">150</span><span class="keyword">*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">/</span><span class="default">80</span><span class="keyword">)*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">/</span><span class="default">5</span><span class="keyword">);</span><span class="comment">//define y-value<br />    <br />    //append a point's x-value and y-value<br />    </span><span class="default">$points</span><span class="keyword">[] = </span><span class="default">$x</span><span class="keyword">; </span><span class="comment">//x-value<br />    </span><span class="default">$points</span><span class="keyword">[] = </span><span class="default">240</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">;  </span><span class="comment">//y-value<br /></span><span class="keyword">}<br /><br /></span><span class="comment">//count points<br /></span><span class="default">$totalPoints </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$points</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">;<br /><br /></span><span class="comment">//drawing title<br /></span><span class="default">$title </span><span class="keyword">= </span><span class="string">"Final Plot (</span><span class="default">$totalPoints</span><span class="string"> points)"</span><span class="keyword">;<br /></span><span class="default">imagestring</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">,  </span><span class="default">$title</span><span class="keyword">, </span><span class="default">$text_color</span><span class="keyword">);<br /><br /></span><span class="comment">/** drawing points one by one, notice if there <br /> * are 10 points, we need to draw 9 lines: <br /> * 1) point 0 to 1; <br /> * 2) point 1 to 2;<br /> * ...<br /> * ...<br /> * 9) point 8 to 9; <br /> */<br /></span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$totalPoints</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />{<br />    </span><span class="default">imageLine</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">$points</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$points</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$points</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$points</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$poly_color</span><span class="keyword">);    <br />}<br /><br /></span><span class="comment">//finalizing<br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">);<br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="74856">  <div class="votes">
    <div id="Vu74856">
    <a href="https://www.php.net/manual/vote-note.php?id=74856&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74856">
    <a href="https://www.php.net/manual/vote-note.php?id=74856&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74856" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#74856" class="name">
  <strong class="user"><em>admin at xpmail dot net</em></strong></a><a class="genanchor" href="function.imageline.php.html#74856"> &para;</a><div class="date" title="2007-04-30 05:45"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74856">
<div class="phpcode"><code><span class="html">example of a Simple grid...<br />bool imagegrid ( resource $image, int $width, int $Height, int $size, mixed $color )<br /><br /><span class="default">&lt;?php<br />Header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">$Width</span><span class="keyword">=</span><span class="default">450</span><span class="keyword">;<br /></span><span class="default">$Height</span><span class="keyword">=</span><span class="default">450</span><span class="keyword">;<br /><br /></span><span class="default">$img </span><span class="keyword">= </span><span class="default">ImageCreateTrueColor</span><span class="keyword">(</span><span class="default">$Width</span><span class="keyword">, </span><span class="default">$Height</span><span class="keyword">);<br /><br /></span><span class="default">$bg </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br /></span><span class="default">imagefill</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$bg</span><span class="keyword">);<br /><br /></span><span class="default">$grid </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">225</span><span class="keyword">, </span><span class="default">245</span><span class="keyword">, </span><span class="default">249</span><span class="keyword">);<br /><br /></span><span class="default">imagesetstyle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, array(</span><span class="default">$bg</span><span class="keyword">, </span><span class="default">$grid</span><span class="keyword">));<br /></span><span class="default">imagegrid</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$Width</span><span class="keyword">, </span><span class="default">$Height</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">IMG_COLOR_STYLED</span><span class="keyword">);<br /></span><span class="comment">//makegrid($img, $Width, $Height, 10, $grid);<br /><br /></span><span class="default">ImagePNG</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">ImageDestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /><br />function </span><span class="default">imagegrid</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">)<br />{<br />    for(</span><span class="default">$iw</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$iw</span><span class="keyword">&lt;</span><span class="default">$w</span><span class="keyword">/</span><span class="default">$s</span><span class="keyword">; </span><span class="default">$iw</span><span class="keyword">++){</span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$iw</span><span class="keyword">*</span><span class="default">$s</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$iw</span><span class="keyword">*</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);}<br />    for(</span><span class="default">$ih</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$ih</span><span class="keyword">&lt;</span><span class="default">$h</span><span class="keyword">/</span><span class="default">$s</span><span class="keyword">; </span><span class="default">$ih</span><span class="keyword">++){</span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$ih</span><span class="keyword">*</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$w</span><span class="keyword">, </span><span class="default">$ih</span><span class="keyword">*</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$color</span><span class="keyword">);}<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="56565">  <div class="votes">
    <div id="Vu56565">
    <a href="https://www.php.net/manual/vote-note.php?id=56565&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56565">
    <a href="https://www.php.net/manual/vote-note.php?id=56565&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56565" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#56565" class="name">
  <strong class="user"><em>meid at gmx dot at</em></strong></a><a class="genanchor" href="function.imageline.php.html#56565"> &para;</a><div class="date" title="2005-09-07 10:39"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56565">
<div class="phpcode"><code><span class="html">Some simple code to draw lines with specific thickness using "imagefilledpolygon". Useful if your gdlib does not support "imagesetthickness". <br /><br />&lt;?<br />function dickelinie($img,$start_x,$start_y,$end_x,$end_y,$color,$thickness) <br />{<br />    $angle=(atan2(($start_y - $end_y),($end_x - $start_x))); <br /><br />    $dist_x=$thickness*(sin($angle));<br />    $dist_y=$thickness*(cos($angle));<br />    <br />    $p1x=ceil(($start_x + $dist_x));<br />    $p1y=ceil(($start_y + $dist_y));<br />    $p2x=ceil(($end_x + $dist_x));<br />    $p2y=ceil(($end_y + $dist_y));<br />    $p3x=ceil(($end_x - $dist_x));<br />    $p3y=ceil(($end_y - $dist_y));<br />    $p4x=ceil(($start_x - $dist_x));<br />    $p4y=ceil(($start_y - $dist_y));<br />    <br />    $array=array(0=&gt;$p1x,$p1y,$p2x,$p2y,$p3x,$p3y,$p4x,$p4y);<br />    imagefilledpolygon ( $img, $array, (count($array)/2), $color );<br />}<br />// Example:<br />header ("Content-type: image/jpeg");<br />$img = ImageCreate (210, 210) or die("Cannot Initialize new GD image stream ");<br />$backgroundcolor = ImageColorAllocate ($img, 255, 255, 255);<br />$orange = ImageColorAllocate($img, 252, 102, 4);<br />dickelinie($img, 10, 10, 10, 200,$orange,2);<br />dickelinie($img, 10, 200, 200, 10,$orange,2);    <br />dickelinie($img, 200, 10, 200, 200,$orange,2);<br />imagejpeg($img);   <br />ImageDestroy($img);<br /><br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="49429">  <div class="votes">
    <div id="Vu49429">
    <a href="https://www.php.net/manual/vote-note.php?id=49429&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd49429">
    <a href="https://www.php.net/manual/vote-note.php?id=49429&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V49429" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#49429" class="name">
  <strong class="user"><em>eviloverlord at gmail dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#49429"> &para;</a><div class="date" title="2005-01-27 07:50"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom49429">
<div class="phpcode"><code><span class="html">This code is used to draw a board of hexagons (for games, classes, etc.)<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">//Draws a hexagonal board<br /><br />// User-defined values<br /></span><span class="default">$maxTiles </span><span class="keyword">= </span><span class="default">7</span><span class="keyword">;                    </span><span class="comment">//The number of tiles at the center (widest part) of the board<br /></span><span class="default">$minTiles </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;                    </span><span class="comment">//The number of tiles at the edges of the board<br /></span><span class="default">$side </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">;                        </span><span class="comment">//The length of the sides of the tiles in pixels<br /></span><span class="default">$bgColor </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);        </span><span class="comment">//The background color in RGB format<br /></span><span class="default">$fgColor </span><span class="keyword">= array(</span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);</span><span class="comment">//The foreground color in RGB format<br /><br />//Calculated values<br /></span><span class="default">$widthInTiles </span><span class="keyword">= </span><span class="default">range</span><span class="keyword">(</span><span class="default">$maxTiles</span><span class="keyword">, </span><span class="default">$minTiles</span><span class="keyword">);            </span><span class="comment">//In our example: 7, 6, 5, 4<br /></span><span class="default">$rowsInTiles </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$widthInTiles</span><span class="keyword">)*</span><span class="default">2</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;                </span><span class="comment">//the total number of rows on our board<br /></span><span class="default">$xSide </span><span class="keyword">= </span><span class="default">$side</span><span class="keyword">*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">60</span><span class="keyword">));                        </span><span class="comment">//the length of the x-part of the angled sides<br /></span><span class="default">$ySide </span><span class="keyword">= </span><span class="default">$side</span><span class="keyword">*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">30</span><span class="keyword">));                        </span><span class="comment">//the length of the y-part of the angled sides<br /></span><span class="default">$boardWidth </span><span class="keyword">= </span><span class="default">$xSide</span><span class="keyword">*</span><span class="default">$widthInTiles</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]*</span><span class="default">2</span><span class="keyword">;                </span><span class="comment">//The entire width of the board<br /></span><span class="default">$boardHeight </span><span class="keyword">= </span><span class="default">$rowsInTiles</span><span class="keyword">*(</span><span class="default">$side </span><span class="keyword">+ </span><span class="default">$ySide</span><span class="keyword">) + </span><span class="default">$ySide</span><span class="keyword">;    </span><span class="comment">//The entire height of the board<br /><br />// create a blank image and allocate the foreground, background colors<br /></span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagecreate</span><span class="keyword">(</span><span class="default">$boardWidth</span><span class="keyword">, </span><span class="default">$boardHeight</span><span class="keyword">);<br /></span><span class="default">$bg </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$bgColor</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$bgColor</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$bgColor</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br /></span><span class="default">$fg </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$fgColor</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$fgColor</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$fgColor</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br /><br /></span><span class="comment">// draw the board<br /></span><span class="default">$row </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />foreach(</span><span class="default">$widthInTiles </span><span class="keyword">as </span><span class="default">$tiles</span><span class="keyword">)<br />{<br />    for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$tiles</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />    {<br />        </span><span class="default">$x1 </span><span class="keyword">= </span><span class="default">$row</span><span class="keyword">*</span><span class="default">$xSide </span><span class="keyword">+ </span><span class="default">$i</span><span class="keyword">*</span><span class="default">$xSide</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">;<br />        </span><span class="default">$y1 </span><span class="keyword">= </span><span class="default">$boardHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;<br />        </span><span class="default">$y1Dif </span><span class="keyword">= (</span><span class="default">$side</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">) + </span><span class="default">$row</span><span class="keyword">*(</span><span class="default">$side</span><span class="keyword">+</span><span class="default">$ySide</span><span class="keyword">);<br /><br />        </span><span class="default">$x2 </span><span class="keyword">= </span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">$xSide</span><span class="keyword">;<br />        </span><span class="default">$y2 </span><span class="keyword">= </span><span class="default">$y1</span><span class="keyword">;<br />        </span><span class="default">$y2Dif </span><span class="keyword">= </span><span class="default">$ySide</span><span class="keyword">;<br /><br />        </span><span class="default">$x3 </span><span class="keyword">= </span><span class="default">$x2 </span><span class="keyword">+ </span><span class="default">$xSide</span><span class="keyword">;<br /><br />        if (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$tiles</span><span class="keyword">)<br />        {<br />            </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y1Dif</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$y1Dif </span><span class="keyword">- </span><span class="default">$y2Dif</span><span class="keyword">, </span><span class="default">$fg</span><span class="keyword">);<br />            </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,  </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$y1Dif</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$y1Dif </span><span class="keyword">+ </span><span class="default">$y2Dif</span><span class="keyword">, </span><span class="default">$fg</span><span class="keyword">);<br />            </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2 </span><span class="keyword">- </span><span class="default">$y1Dif </span><span class="keyword">- </span><span class="default">$y2Dif</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y1Dif</span><span class="keyword">, </span><span class="default">$fg</span><span class="keyword">);<br />            </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x2</span><span class="keyword">, </span><span class="default">$y2 </span><span class="keyword">+ </span><span class="default">$y1Dif </span><span class="keyword">+ </span><span class="default">$y2Dif</span><span class="keyword">, </span><span class="default">$x3</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$y1Dif</span><span class="keyword">, </span><span class="default">$fg</span><span class="keyword">);<br />        }<br />                <br />        </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y1Dif</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y1Dif </span><span class="keyword">+ </span><span class="default">$side</span><span class="keyword">, </span><span class="default">$fg</span><span class="keyword">);            <br />        </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$y1Dif</span><span class="keyword">, </span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$y1Dif </span><span class="keyword">- </span><span class="default">$side</span><span class="keyword">, </span><span class="default">$fg</span><span class="keyword">);            <br />    }<br />    </span><span class="default">$row</span><span class="keyword">++;<br />}<br /><br /></span><span class="comment">// output the picture<br /></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">);<br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="42596">  <div class="votes">
    <div id="Vu42596">
    <a href="https://www.php.net/manual/vote-note.php?id=42596&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd42596">
    <a href="https://www.php.net/manual/vote-note.php?id=42596&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V42596" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#42596" class="name">
  <strong class="user"><em>Lionel Van Bemten</em></strong></a><a class="genanchor" href="function.imageline.php.html#42596"> &para;</a><div class="date" title="2004-05-22 03:41"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom42596">
<div class="phpcode"><code><span class="html">here is a code to draw a "degraded" ... :<br />&lt;?<br />header("Content-type : image/jpeg");<br /><br />$image = @ImageCreate(200, 100)<br />  or die ("Erreur de cr?ation de l'image");<br /><br />$lignes_colorees = 1;<br />$couleur_fond = ImageColorAllocate($image, 255, 255, 255);<br /><br />$rouge_depart = 100;<br />$vert_depart = 255;<br />$bleu_depart = 0;<br /><br />$rouge_fin = 0;<br />$vert_fin = 100;<br />$bleu_fin = 0;<br /><br />$lignes = 100; //nb de lignes de l'image<br /><br />$vert_diff = $vert_fin - $vert_depart;<br />$vert1 = $vert_diff / $lignes;<br /><br />$bleu_diff = $bleu_fin - $bleu_depart;<br />$bleu1 = $bleu_diff / $lignes;<br /><br />$rouge_diff = $rouge_fin - $rouge_depart;<br />$rouge1 = $rouge_diff / $lignes;<br /><br />while ($lignes_colorees &lt;= 100)<br />{<br />    $rouge2 = $lignes_colorees * $rouge1;    $rouge3 = $rouge_depart + $rouge2;<br />    $rouge = round($rouge3);<br />    <br />    $vert2 = $lignes_colorees * $vert1;<br />    $vert3 = $vert_depart + $vert2;<br />    $vert = round($vert2);<br />    <br />    $bleu2 = $lignes_colorees * $bleu1;<br />    $bleu3 = $bleu_depart + $bleu2;<br />    $bleu = round($bleu2);<br />    <br />    $y1 = $lignes_colorees;<br />    $y2 = $lignes_colorees;<br />    $x1 = 1;    $x2 = 200;<br />    <br />    $couleur = ImageColorAllocate($image, $rouge, $vert, $bleu);<br />    //dessine la ligne<br />    ImageLine($image, $x1, $y1, $x2, $y2, $couleur);    $lignes_colorees ++;<br />}<br /><br />//dessine l'image<br />ImageJpeg($image);<br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="36667">  <div class="votes">
    <div id="Vu36667">
    <a href="https://www.php.net/manual/vote-note.php?id=36667&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd36667">
    <a href="https://www.php.net/manual/vote-note.php?id=36667&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V36667" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#36667" class="name">
  <strong class="user"><em>code_couturier at graffiti dot net</em></strong></a><a class="genanchor" href="function.imageline.php.html#36667"> &para;</a><div class="date" title="2003-10-17 11:56"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom36667">
<div class="phpcode"><code><span class="html"># antialiased draw_line function 1.1 (faster) <br /><br /># here is a drawLine() posted by nanobot at chipx86 dot com <br /># on php.net and enhanced/optimized by myself :) <br /><br /># here are some changes i made: <br /># 1. changed for true-color images (no index_var used) <br /># 2. changed rgb extraction to logical shift <br /># 3. reducing function call's<br /><br />function drawQSLine ($image,$x1,$y1,$x2,$y2,$r,$g,$b) {<br />$icr=$r;<br />$icg=$g;<br />$icb=$b;<br /> $dcol = ImageColorAllocate ($image,$icr,$icg,$icb);<br /> if ($y1 == $y2) imageline ($image,$x1,$y1,$x2,$y1,$dcol);<br /> else if ($x1 == $x2) {  <br />   imageline ($image,$x1,$y1,$x1,$y2,$dcol); <br /> } else {<br /> $m = ($y2 - $y1) / ($x2 - $x1);<br /> $b = $y1 - $m * $x1;<br /><br /> if (abs ($m) &lt;2) {<br /><br /> $x = min ($x1,$x2);<br /> $endx = max ($x1,$x2)+1;<br /><br /> while ($x &lt; $endx) {<br /> $y=$m * $x + $b;<br /> $y == floor ($y) ? $ya = 1 : $ya = $y - floor ($y);<br /> $yb = ceil ($y) - $y;<br /> <br /> $trgb = ImageColorAt($image,$x,floor($y));<br /> $tcr = ($trgb &gt;&gt; 16) &amp; 0xFF;<br /> $tcg = ($trgb &gt;&gt; 8) &amp; 0xFF;<br /> $tcb = $trgb &amp; 0xFF;<br /> imagesetpixel ($image,$x,floor ($y),imagecolorallocate ($image,($tcr * $ya + $icr * $yb),<br />($tcg * $ya + $icg * $yb),<br />($tcb * $ya + $icb * $yb)));<br /><br /> $trgb = ImageColorAt($image,$x,ceil($y));<br /> $tcr = ($trgb &gt;&gt; 16) &amp; 0xFF;<br /> $tcg = ($trgb &gt;&gt; 8) &amp; 0xFF;<br /> $tcb = $trgb &amp; 0xFF;<br /> imagesetpixel ($image,$x,ceil ($y),imagecolorallocate ($image,($tcr * $yb + $icr * $ya),<br />($tcg * $yb + $icg * $ya), <br />($tcb * $yb + $icb * $ya)));<br /><br /> $x ++;<br /> } # while_x_end<br /> } # if_end<br /> else { # else_abs_end<br /><br /> $y = min ($y1,$y2);<br /> $endy = max ($y1,$y2)+1;<br /><br /> while ($y &lt; $endy) {<br /> $x=($y - $b) / $m;<br /> $x == floor ($x) ? $xa = 1 : $xa = $x - floor ($x);<br /> $xb = ceil ($x) - $x;<br /><br /> $trgb = ImageColorAt($image,floor($x),$y);<br /> $tcr = ($trgb &gt;&gt; 16) &amp; 0xFF;<br /> $tcg = ($trgb &gt;&gt; 8) &amp; 0xFF;<br /> $tcb = $trgb &amp; 0xFF;<br /> imagesetpixel ($image,floor ($x),$y,imagecolorallocate ($image,($tcr * $xa + $icr * $xb),<br />($tcg * $xa + $icg * $xb),<br />($tcb * $xa + $icb * $xb)));<br /><br /> $trgb = ImageColorAt($image,ceil($x),$y);<br /> $tcr = ($trgb &gt;&gt; 16) &amp; 0xFF;<br /> $tcg = ($trgb &gt;&gt; 8) &amp; 0xFF;<br /> $tcb = $trgb &amp; 0xFF;<br /> imagesetpixel ($image,ceil ($x),$y,imagecolorallocate ($image, ($tcr * $xb + $icr * $xa),<br />($tcg * $xb + $icg * $xa),<br />($tcb * $xb + $icb * $xa)));<br /><br /> $y ++;<br /> }# while_y_end<br /> }# else_abs_end<br /> }# else_y=y_x=x_end <br />}# drawOSLine_end</span></code></div>
  </div>
 </div>
  <div class="note" id="36236">  <div class="votes">
    <div id="Vu36236">
    <a href="https://www.php.net/manual/vote-note.php?id=36236&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd36236">
    <a href="https://www.php.net/manual/vote-note.php?id=36236&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V36236" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imageline.php.html#36236" class="name">
  <strong class="user"><em>code_couturier at graffiti dot net</em></strong></a><a class="genanchor" href="function.imageline.php.html#36236"> &para;</a><div class="date" title="2003-10-01 09:33"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom36236">
<div class="phpcode"><code><span class="html"># antialiased lines with true-type-fonts !?<br /># yip, it works - not very good - but faster<br /># (below 3 sec) than other routines (~7 sec)<br /># i saw here.<br /><br /># the antialiased effect is minimal and only <br /># at the top of the line - but, as better as<br /># nothing ;)<br /><br /># here is a drawLine routine from Logan Gunthorpe <br /># (logang at deltatee dot com) posted by nanobot at chipx86 dot com<br /># on php.net and enhanced/optimized by myself :)<br /><br />function drawSoftLine ($image, $x1, $y1, $x2, $y2, $r,$g,$b) {<br /><br />$fontfile="arial.ttf"; # the font for the dot<br />$str="?" ; # the point_char for the dot<br />$size=12; # the point for the dot_size<br /><br /> $color = ImageColorAllocate ($image, $r,$g,$b);<br /><br /> if ($x2 == $x1) {<br /> $tmp = $x1; $x1 = $y1; $y1 = $tmp;<br /> $tmp = $x2; $x2 = $y2; $y2 = $tmp;<br /> $swapx = true;<br /> }<br /><br /> $m = (float)(( $y2 - $y1 ) / ( $x2 - $x1 ));<br /> $b = (float)($y1 - $m*$x1);<br /><br /> $strx = min ( $x1 , $x2 );<br /> $endx = max ( $x1 , $x2 );<br /> $x=(int)0;<br /><br /># the original loop was based on one for_loop<br /># with the if_swap inside. to speed up this loop<br /># i double it, to keep off the permanent if_call's. <br /><br />if (!$swapx) {<br /> for ($x = $strx; $x &lt;= $endx; $x++) { <br />   $y = (int)($m*$x + $b);  <br />   imagettftext($image, $size, 0, $x, $y, <br />   $color, $fontfile,$str);<br /> }<br />} else {<br /> for ($x = $strx; $x &lt;= $endx; $x++) { <br />   $y = (int)($m*$x + $b);  <br />   imagettftext($image, $size, 0, $y, $x, <br />   $color, $fontfile,$str);<br />  }<br />}<br /><br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="52184">  <div class="votes">
    <div id="Vu52184">
    <a href="https://www.php.net/manual/vote-note.php?id=52184&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd52184">
    <a href="https://www.php.net/manual/vote-note.php?id=52184&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V52184" title="40% like this...">
    -1
    </div>
  </div>
  <a href="function.imageline.php.html#52184" class="name">
  <strong class="user"><em>ajreading at classixshop dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#52184"> &para;</a><div class="date" title="2005-04-23 07:28"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom52184">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="comment">// An easy bit of code showing how you can use the ImageLine() function to create gradients<br /><br />// Create An Image 255x255<br /></span><span class="default">$img </span><span class="keyword">= </span><span class="default">ImageCreateTrueColor</span><span class="keyword">(</span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br /><br /></span><span class="default">$plotD </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />while(</span><span class="default">$plotD </span><span class="keyword">&lt; </span><span class="default">256</span><span class="keyword">)<br />{<br />    </span><span class="comment">// Draw a line and move it down and make it lighter to get the gradient effect<br />    </span><span class="default">ImageLine</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$plotD </span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">$plotD</span><span class="keyword">, </span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$plotD</span><span class="keyword">, </span><span class="default">$plotD</span><span class="keyword">, </span><span class="default">$plotD</span><span class="keyword">));<br />    </span><span class="default">$plotD</span><span class="keyword">++;<br />}<br /></span><span class="default">Header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">ImagePng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">ImageDestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="80816">  <div class="votes">
    <div id="Vu80816">
    <a href="https://www.php.net/manual/vote-note.php?id=80816&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80816">
    <a href="https://www.php.net/manual/vote-note.php?id=80816&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80816" title="33% like this...">
    -1
    </div>
  </div>
  <a href="function.imageline.php.html#80816" class="name">
  <strong class="user"><em>huirong dot jin at gmail dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#80816"> &para;</a><div class="date" title="2008-02-01 08:10"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80816">
<div class="phpcode"><code><span class="html">An example to draw Lissajous Curve (<a href="http://en.wikipedia.org/wiki/Lissajous_curve" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Lissajous_curve</a>):<br />x = a1 * cos(t/T1);<br />y = a2 * sin(t/T2);<br /><br />You can easily modify the codes to create your own oscilloscope application!<br /><br /><span class="default">&lt;?php<br />header </span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /><br /></span><span class="default">$T1 </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">;<br /></span><span class="default">$T2 </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">;<br /><br /></span><span class="default">$myImage </span><span class="keyword">= @</span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">640</span><span class="keyword">, </span><span class="default">480</span><span class="keyword">)<br />      or die(</span><span class="string">"Cannot Initialize new GD image stream"</span><span class="keyword">);<br /></span><span class="default">$text_color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">);<br /></span><span class="default">$poly_color </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">124</span><span class="keyword">, </span><span class="default">120</span><span class="keyword">, </span><span class="default">224</span><span class="keyword">);<br /><br /></span><span class="comment">//calculate x-value and y-value point by point<br /></span><span class="default">$points </span><span class="keyword">= array();<br />for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">1000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">=</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)<br />{<br />    </span><span class="comment">//define curve's function<br />    </span><span class="default">$x </span><span class="keyword">= </span><span class="default">310</span><span class="keyword">*</span><span class="default">cos</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">$T1</span><span class="keyword">); </span><span class="comment">//define x-value<br />    </span><span class="default">$y </span><span class="keyword">= </span><span class="default">230</span><span class="keyword">*</span><span class="default">sin</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">/</span><span class="default">$T2</span><span class="keyword">);</span><span class="comment">//define y-value<br />    <br />    //move the coordinate, append a point's x-value and y-value<br />    </span><span class="default">$points</span><span class="keyword">[] = </span><span class="default">320</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">; </span><span class="comment">//x-value<br />    </span><span class="default">$points</span><span class="keyword">[] = </span><span class="default">240</span><span class="keyword">-</span><span class="default">$y</span><span class="keyword">;  </span><span class="comment">//y-value<br /></span><span class="keyword">}<br /><br /></span><span class="comment">//count points<br /></span><span class="default">$totalPoints </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$points</span><span class="keyword">)/</span><span class="default">2</span><span class="keyword">;<br /><br /></span><span class="comment">//drawing title<br /></span><span class="default">$title </span><span class="keyword">= </span><span class="string">"Final Plot (</span><span class="default">$totalPoints</span><span class="string"> points)"</span><span class="keyword">;<br /></span><span class="default">imagestring</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">,  </span><span class="default">$title</span><span class="keyword">, </span><span class="default">$text_color</span><span class="keyword">);<br /><br /></span><span class="comment">/** drawing points one by one, notice if there <br /> * are 10 points, we need to draw 9 lines: <br /> * 1) point 0 to 1; <br /> * 2) point 1 to 2;<br /> * ...<br /> * ...<br /> * 9) point 8 to 9; <br /> */<br /></span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$totalPoints</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />{<br />    </span><span class="default">imageLine</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">, </span><span class="default">$points</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$points</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$points</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$points</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">+</span><span class="default">2</span><span class="keyword">*</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$poly_color</span><span class="keyword">);    <br />}<br /><br /></span><span class="comment">//finalizing<br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">);<br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$myImage</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="61301">  <div class="votes">
    <div id="Vu61301">
    <a href="https://www.php.net/manual/vote-note.php?id=61301&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd61301">
    <a href="https://www.php.net/manual/vote-note.php?id=61301&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V61301" title="33% like this...">
    -1
    </div>
  </div>
  <a href="function.imageline.php.html#61301" class="name">
  <strong class="user"><em>fatpratmatt at gmail dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#61301"> &para;</a><div class="date" title="2006-01-30 11:43"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom61301">
<div class="phpcode"><code><span class="html">Here is a function which draws lines that cross at a specific point [It may need some tweaking]:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// Image Cross by Matt Evans<br />// $im - image resource<br />// $x - x coordinate where the lines should cross<br />// $y - y coordinate where the lines should cross<br />// $size - the length of each line<br />// $colour - the colour of the cross<br /><br /></span><span class="keyword">function </span><span class="default">imagecross</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$size </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">) {<br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">+</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">-</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">-</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">);<br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">-</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">+</span><span class="default">$size</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">+</span><span class="default">$size</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">-</span><span class="default">$size</span><span class="keyword">, </span><span class="default">$colour</span><span class="keyword">);<br />}<br /><br /></span><span class="comment">// Example<br /></span><span class="default">imagecross</span><span class="keyword">(</span><span class="default">$im</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">, </span><span class="default">$crosscolour</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98192">  <div class="votes">
    <div id="Vu98192">
    <a href="https://www.php.net/manual/vote-note.php?id=98192&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98192">
    <a href="https://www.php.net/manual/vote-note.php?id=98192&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98192" title="25% like this...">
    -2
    </div>
  </div>
  <a href="function.imageline.php.html#98192" class="name">
  <strong class="user"><em>allenn at hot dot ee</em></strong></a><a class="genanchor" href="function.imageline.php.html#98192"> &para;</a><div class="date" title="2010-05-31 02:55"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98192">
<div class="phpcode"><code><span class="html">Function drawing of a line by a brush uses midpoint circle algorithm..., if dullness I agree to remove :))) <br /><br /><span class="default">&lt;?php<br /></span><span class="comment">//function drawLine(resource$image,int $x0,int $y0,int $x1,int $y1,int $lineWidth,int $color)<br /></span><span class="keyword">function </span><span class="default">drawLine</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0</span><span class="keyword">, </span><span class="default">$y0</span><span class="keyword">,</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$radius</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">)<br />{<br />  </span><span class="default">$f </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">- </span><span class="default">$radius</span><span class="keyword">;<br />  </span><span class="default">$ddF_x</span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />  </span><span class="default">$ddF_y </span><span class="keyword">= -</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$radius</span><span class="keyword">;<br />  </span><span class="default">$x</span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />  </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$radius</span><span class="keyword">;<br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">+ </span><span class="default">$radius</span><span class="keyword">,</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$radius</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />     </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">- </span><span class="default">$radius</span><span class="keyword">,</span><span class="default">$x1</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$radius</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">+ </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$y0</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">- </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$y0</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$radius</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br /><br />  while(</span><span class="default">$x</span><span class="keyword">&lt; </span><span class="default">$y</span><span class="keyword">)<br />  {<br />    if(</span><span class="default">$f </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">)<br />    {<br />      </span><span class="default">$y</span><span class="keyword">--;<br />      </span><span class="default">$ddF_y </span><span class="keyword">+= </span><span class="default">2</span><span class="keyword">;<br />      </span><span class="default">$f </span><span class="keyword">+= </span><span class="default">$ddF_y</span><span class="keyword">;<br />    }<br />    </span><span class="default">$x</span><span class="keyword">++;<br />    </span><span class="default">$ddF_x</span><span class="keyword">+= </span><span class="default">2</span><span class="keyword">;<br />    </span><span class="default">$f </span><span class="keyword">+= </span><span class="default">$ddF_x</span><span class="keyword">;<br />    </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y1</span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br />       </span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">$x0 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y0 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$x1 </span><span class="keyword">- </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$y1 </span><span class="keyword">- </span><span class="default">$x</span><span class="keyword">,</span><span class="default">$color</span><span class="keyword">);<br /><br />  }<br />}<br /></span><span class="default">header </span><span class="keyword">(</span><span class="string">'Content-type: image/png'</span><span class="keyword">);<br /></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">600</span><span class="keyword">,</span><span class="default">600</span><span class="keyword">);<br /></span><span class="default">$col </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">252</span><span class="keyword">);<br /></span><span class="comment">//use the function<br /></span><span class="default">rasterCircle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">50</span><span class="keyword">, </span><span class="default">50</span><span class="keyword">,</span><span class="default">540</span><span class="keyword">,</span><span class="default">540</span><span class="keyword">,</span><span class="default">40</span><span class="keyword">,</span><span class="default">$col</span><span class="keyword">);<br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="9345">  <div class="votes">
    <div id="Vu9345">
    <a href="https://www.php.net/manual/vote-note.php?id=9345&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd9345">
    <a href="https://www.php.net/manual/vote-note.php?id=9345&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V9345" title="30% like this...">
    -4
    </div>
  </div>
  <a href="function.imageline.php.html#9345" class="name">
  <strong class="user"><em>darren at php4hosting dot com</em></strong></a><a class="genanchor" href="function.imageline.php.html#9345"> &para;</a><div class="date" title="2000-10-28 10:48"><strong>23 years ago</strong></div>
  <div class="text" id="Hcom9345">
<div class="phpcode"><code><span class="html">It does work (With a bit of editing)<br />save the following as graph.php (You dont need any directorys)<br /><br /><span class="default">&lt;?php <br />Header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br /></span><span class="default">$picWidth</span><span class="keyword">=</span><span class="default">360</span><span class="keyword">*</span><span class="default">2</span><span class="keyword">; <br /></span><span class="default">$picHeight</span><span class="keyword">=</span><span class="default">200</span><span class="keyword">; <br /></span><span class="default">$pic</span><span class="keyword">=</span><span class="default">ImageCreate</span><span class="keyword">(</span><span class="default">$picWidth</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">,</span><span class="default">$picHeight</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">); <br /></span><span class="default">$cWhite</span><span class="keyword">=</span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">); <br /></span><span class="default">ImageFilledRectangle</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$picWidth</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">,</span><span class="default">$picHeight</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">,</span><span class="default">$cWhite</span><span class="keyword">); <br /></span><span class="default">$cRed</span><span class="keyword">=</span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">); <br /></span><span class="default">$cBlue</span><span class="keyword">=</span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">); <br /></span><span class="default">$curX</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; <br /></span><span class="default">$curY</span><span class="keyword">=</span><span class="default">$picHeight</span><span class="keyword">; <br />for(</span><span class="default">$pt</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$pt</span><span class="keyword">&lt;</span><span class="default">$picWidth</span><span class="keyword">;</span><span class="default">$pt</span><span class="keyword">++){ <br /></span><span class="default">$newX</span><span class="keyword">=</span><span class="default">$curX</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; <br /></span><span class="default">$newY</span><span class="keyword">=(</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)+(</span><span class="default">cos</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$newX</span><span class="keyword">))*(</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)); <br /></span><span class="default">ImageLine</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">$curX</span><span class="keyword">,</span><span class="default">$curY</span><span class="keyword">,</span><span class="default">$newX</span><span class="keyword">,</span><span class="default">$newY</span><span class="keyword">,</span><span class="default">$cRed</span><span class="keyword">); <br /></span><span class="default">$curX</span><span class="keyword">=</span><span class="default">$newX</span><span class="keyword">; <br /></span><span class="default">$curY</span><span class="keyword">=</span><span class="default">$newY</span><span class="keyword">; <br />} <br /></span><span class="default">$curX</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; <br /></span><span class="default">$curY</span><span class="keyword">=</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">; <br />for(</span><span class="default">$pt</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$pt</span><span class="keyword">&lt;</span><span class="default">$picWidth</span><span class="keyword">;</span><span class="default">$pt</span><span class="keyword">++){ <br /></span><span class="default">$newX</span><span class="keyword">=</span><span class="default">$curX</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">; <br /></span><span class="default">$newY</span><span class="keyword">=(</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)+(</span><span class="default">sin</span><span class="keyword">(</span><span class="default">deg2rad</span><span class="keyword">(</span><span class="default">$newX</span><span class="keyword">))*(</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">)); <br /></span><span class="default">ImageLine</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">$curX</span><span class="keyword">,</span><span class="default">$curY</span><span class="keyword">,</span><span class="default">$newX</span><span class="keyword">,</span><span class="default">$newY</span><span class="keyword">,</span><span class="default">$cBlue</span><span class="keyword">); <br /></span><span class="default">$curX</span><span class="keyword">=</span><span class="default">$newX</span><span class="keyword">; <br /></span><span class="default">$curY</span><span class="keyword">=</span><span class="default">$newY</span><span class="keyword">; <br />} <br /></span><span class="default">$cBlack</span><span class="keyword">=</span><span class="default">ImageColorAllocate</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">); <br /></span><span class="default">ImageLine</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$picHeight</span><span class="keyword">,</span><span class="default">$cBlack</span><span class="keyword">); <br /></span><span class="default">ImageLine</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">,</span><span class="default">$picWidth</span><span class="keyword">,</span><span class="default">$picHeight</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">,</span><span class="default">$cBlack</span><span class="keyword">); <br /></span><span class="default">ImagePNG</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">); <br /></span><span class="default">ImageDestroy</span><span class="keyword">(</span><span class="default">$pic</span><span class="keyword">); <br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="58010">  <div class="votes">
    <div id="Vu58010">
    <a href="https://www.php.net/manual/vote-note.php?id=58010&amp;page=function.imageline&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd58010">
    <a href="https://www.php.net/manual/vote-note.php?id=58010&amp;page=function.imageline&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V58010" title="0% like this...">
    -3
    </div>
  </div>
  <a href="function.imageline.php.html#58010" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.imageline.php.html#58010"> &para;</a><div class="date" title="2005-10-21 07:30"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom58010">
<div class="phpcode"><code><span class="html">imageline coordinate variables are documented as int ,  a value in decimal format will be truncated.<br /><br />This may be useful when, for example, applying a non-integer scaling factor in generating an image.<br /><br />Care should be taken to ensure this does not create significant errors that affect the quality of the image. For example :<br /><br /><span class="default">&lt;?php<br />$x</span><span class="keyword">=</span><span class="default">0.00000000001</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">=</span><span class="default">100</span><span class="keyword">;<br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">+</span><span class="default">$x</span><span class="keyword">);<br /></span><span class="default">imageline</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">-</span><span class="default">$x</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />the first line will be straight , the second will have a step. Use round() where appropriate.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.imageline&amp;redirect=https://www.php.net/manual/ru/function.imageline.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.image.php.html">Функции GD и функции для работы с изображениями</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.gd-info.php.html" title="gd_&#8203;info">gd_&#8203;info</a>
                        </li>
                                                <li class="">
                            <a href="function.getimagesize.php.html" title="getimagesize">getimagesize</a>
                        </li>
                                                <li class="">
                            <a href="function.getimagesizefromstring.php.html" title="getimagesizefromstring">getimagesizefromstring</a>
                        </li>
                                                <li class="">
                            <a href="function.image-type-to-extension.php.html" title="image_&#8203;type_&#8203;to_&#8203;extension">image_&#8203;type_&#8203;to_&#8203;extension</a>
                        </li>
                                                <li class="">
                            <a href="function.image-type-to-mime-type.php.html" title="image_&#8203;type_&#8203;to_&#8203;mime_&#8203;type">image_&#8203;type_&#8203;to_&#8203;mime_&#8203;type</a>
                        </li>
                                                <li class="">
                            <a href="function.image2wbmp.php.html" title="image2wbmp">image2wbmp</a>
                        </li>
                                                <li class="">
                            <a href="function.imageaffine.php.html" title="imageaffine">imageaffine</a>
                        </li>
                                                <li class="">
                            <a href="function.imageaffinematrixconcat.php.html" title="imageaffinematrixconcat">imageaffinematrixconcat</a>
                        </li>
                                                <li class="">
                            <a href="function.imageaffinematrixget.php.html" title="imageaffinematrixget">imageaffinematrixget</a>
                        </li>
                                                <li class="">
                            <a href="function.imagealphablending.php.html" title="imagealphablending">imagealphablending</a>
                        </li>
                                                <li class="">
                            <a href="function.imageantialias.php.html" title="imageantialias">imageantialias</a>
                        </li>
                                                <li class="">
                            <a href="function.imagearc.php.html" title="imagearc">imagearc</a>
                        </li>
                                                <li class="">
                            <a href="function.imageavif.php.html" title="imageavif">imageavif</a>
                        </li>
                                                <li class="">
                            <a href="function.imagebmp.php.html" title="imagebmp">imagebmp</a>
                        </li>
                                                <li class="">
                            <a href="function.imagechar.php.html" title="imagechar">imagechar</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecharup.php.html" title="imagecharup">imagecharup</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorallocate.php.html" title="imagecolorallocate">imagecolorallocate</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorallocatealpha.php.html" title="imagecolorallocatealpha">imagecolorallocatealpha</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorat.php.html" title="imagecolorat">imagecolorat</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorclosest.php.html" title="imagecolorclosest">imagecolorclosest</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorclosestalpha.php.html" title="imagecolorclosestalpha">imagecolorclosestalpha</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorclosesthwb.php.html" title="imagecolorclosesthwb">imagecolorclosesthwb</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolordeallocate.php.html" title="imagecolordeallocate">imagecolordeallocate</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorexact.php.html" title="imagecolorexact">imagecolorexact</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorexactalpha.php.html" title="imagecolorexactalpha">imagecolorexactalpha</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolormatch.php.html" title="imagecolormatch">imagecolormatch</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorresolve.php.html" title="imagecolorresolve">imagecolorresolve</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorresolvealpha.php.html" title="imagecolorresolvealpha">imagecolorresolvealpha</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorset.php.html" title="imagecolorset">imagecolorset</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorsforindex.php.html" title="imagecolorsforindex">imagecolorsforindex</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolorstotal.php.html" title="imagecolorstotal">imagecolorstotal</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecolortransparent.php.html" title="imagecolortransparent">imagecolortransparent</a>
                        </li>
                                                <li class="">
                            <a href="function.imageconvolution.php.html" title="imageconvolution">imageconvolution</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecopy.php.html" title="imagecopy">imagecopy</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecopymerge.php.html" title="imagecopymerge">imagecopymerge</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecopymergegray.php.html" title="imagecopymergegray">imagecopymergegray</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecopyresampled.php.html" title="imagecopyresampled">imagecopyresampled</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecopyresized.php.html" title="imagecopyresized">imagecopyresized</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreate.php.html" title="imagecreate">imagecreate</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromavif.php.html" title="imagecreatefromavif">imagecreatefromavif</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefrombmp.php.html" title="imagecreatefrombmp">imagecreatefrombmp</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromgd2.php.html" title="imagecreatefromgd2">imagecreatefromgd2</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromgd2part.php.html" title="imagecreatefromgd2part">imagecreatefromgd2part</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromgd.php.html" title="imagecreatefromgd">imagecreatefromgd</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromgif.php.html" title="imagecreatefromgif">imagecreatefromgif</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromjpeg.php.html" title="imagecreatefromjpeg">imagecreatefromjpeg</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefrompng.php.html" title="imagecreatefrompng">imagecreatefrompng</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromstring.php.html" title="imagecreatefromstring">imagecreatefromstring</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromtga.php.html" title="imagecreatefromtga">imagecreatefromtga</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromwbmp.php.html" title="imagecreatefromwbmp">imagecreatefromwbmp</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromwebp.php.html" title="imagecreatefromwebp">imagecreatefromwebp</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromxbm.php.html" title="imagecreatefromxbm">imagecreatefromxbm</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatefromxpm.php.html" title="imagecreatefromxpm">imagecreatefromxpm</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecreatetruecolor.php.html" title="imagecreatetruecolor">imagecreatetruecolor</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecrop.php.html" title="imagecrop">imagecrop</a>
                        </li>
                                                <li class="">
                            <a href="function.imagecropauto.php.html" title="imagecropauto">imagecropauto</a>
                        </li>
                                                <li class="">
                            <a href="function.imagedashedline.php.html" title="imagedashedline">imagedashedline</a>
                        </li>
                                                <li class="">
                            <a href="function.imagedestroy.php.html" title="imagedestroy">imagedestroy</a>
                        </li>
                                                <li class="">
                            <a href="function.imageellipse.php.html" title="imageellipse">imageellipse</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefill.php.html" title="imagefill">imagefill</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefilledarc.php.html" title="imagefilledarc">imagefilledarc</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefilledellipse.php.html" title="imagefilledellipse">imagefilledellipse</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefilledpolygon.php.html" title="imagefilledpolygon">imagefilledpolygon</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefilledrectangle.php.html" title="imagefilledrectangle">imagefilledrectangle</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefilltoborder.php.html" title="imagefilltoborder">imagefilltoborder</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefilter.php.html" title="imagefilter">imagefilter</a>
                        </li>
                                                <li class="">
                            <a href="function.imageflip.php.html" title="imageflip">imageflip</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefontheight.php.html" title="imagefontheight">imagefontheight</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefontwidth.php.html" title="imagefontwidth">imagefontwidth</a>
                        </li>
                                                <li class="">
                            <a href="function.imageftbbox.php.html" title="imageftbbox">imageftbbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imagefttext.php.html" title="imagefttext">imagefttext</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegammacorrect.php.html" title="imagegammacorrect">imagegammacorrect</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegd2.php.html" title="imagegd2">imagegd2</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegd.php.html" title="imagegd">imagegd</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegetclip.php.html" title="imagegetclip">imagegetclip</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegetinterpolation.php.html" title="imagegetinterpolation">imagegetinterpolation</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegif.php.html" title="imagegif">imagegif</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegrabscreen.php.html" title="imagegrabscreen">imagegrabscreen</a>
                        </li>
                                                <li class="">
                            <a href="function.imagegrabwindow.php.html" title="imagegrabwindow">imagegrabwindow</a>
                        </li>
                                                <li class="">
                            <a href="function.imageinterlace.php.html" title="imageinterlace">imageinterlace</a>
                        </li>
                                                <li class="">
                            <a href="function.imageistruecolor.php.html" title="imageistruecolor">imageistruecolor</a>
                        </li>
                                                <li class="">
                            <a href="function.imagejpeg.php.html" title="imagejpeg">imagejpeg</a>
                        </li>
                                                <li class="">
                            <a href="function.imagelayereffect.php.html" title="imagelayereffect">imagelayereffect</a>
                        </li>
                                                <li class="current">
                            <a href="function.imageline.php.html" title="imageline">imageline</a>
                        </li>
                                                <li class="">
                            <a href="function.imageloadfont.php.html" title="imageloadfont">imageloadfont</a>
                        </li>
                                                <li class="">
                            <a href="function.imageopenpolygon.php.html" title="imageopenpolygon">imageopenpolygon</a>
                        </li>
                                                <li class="">
                            <a href="function.imagepalettecopy.php.html" title="imagepalettecopy">imagepalettecopy</a>
                        </li>
                                                <li class="">
                            <a href="function.imagepalettetotruecolor.php.html" title="imagepalettetotruecolor">imagepalettetotruecolor</a>
                        </li>
                                                <li class="">
                            <a href="function.imagepng.php.html" title="imagepng">imagepng</a>
                        </li>
                                                <li class="">
                            <a href="function.imagepolygon.php.html" title="imagepolygon">imagepolygon</a>
                        </li>
                                                <li class="">
                            <a href="function.imagerectangle.php.html" title="imagerectangle">imagerectangle</a>
                        </li>
                                                <li class="">
                            <a href="function.imageresolution.php.html" title="imageresolution">imageresolution</a>
                        </li>
                                                <li class="">
                            <a href="function.imagerotate.php.html" title="imagerotate">imagerotate</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesavealpha.php.html" title="imagesavealpha">imagesavealpha</a>
                        </li>
                                                <li class="">
                            <a href="function.imagescale.php.html" title="imagescale">imagescale</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesetbrush.php.html" title="imagesetbrush">imagesetbrush</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesetclip.php.html" title="imagesetclip">imagesetclip</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesetinterpolation.php.html" title="imagesetinterpolation">imagesetinterpolation</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesetpixel.php.html" title="imagesetpixel">imagesetpixel</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesetstyle.php.html" title="imagesetstyle">imagesetstyle</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesetthickness.php.html" title="imagesetthickness">imagesetthickness</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesettile.php.html" title="imagesettile">imagesettile</a>
                        </li>
                                                <li class="">
                            <a href="function.imagestring.php.html" title="imagestring">imagestring</a>
                        </li>
                                                <li class="">
                            <a href="function.imagestringup.php.html" title="imagestringup">imagestringup</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesx.php.html" title="imagesx">imagesx</a>
                        </li>
                                                <li class="">
                            <a href="function.imagesy.php.html" title="imagesy">imagesy</a>
                        </li>
                                                <li class="">
                            <a href="function.imagetruecolortopalette.php.html" title="imagetruecolortopalette">imagetruecolortopalette</a>
                        </li>
                                                <li class="">
                            <a href="function.imagettfbbox.php.html" title="imagettfbbox">imagettfbbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imagettftext.php.html" title="imagettftext">imagettftext</a>
                        </li>
                                                <li class="">
                            <a href="function.imagetypes.php.html" title="imagetypes">imagetypes</a>
                        </li>
                                                <li class="">
                            <a href="function.imagewbmp.php.html" title="imagewbmp">imagewbmp</a>
                        </li>
                                                <li class="">
                            <a href="function.imagewebp.php.html" title="imagewebp">imagewebp</a>
                        </li>
                                                <li class="">
                            <a href="function.imagexbm.php.html" title="imagexbm">imagexbm</a>
                        </li>
                                                <li class="">
                            <a href="function.iptcembed.php.html" title="iptcembed">iptcembed</a>
                        </li>
                                                <li class="">
                            <a href="function.iptcparse.php.html" title="iptcparse">iptcparse</a>
                        </li>
                                                <li class="">
                            <a href="function.jpeg2wbmp.php.html" title="jpeg2wbmp">jpeg2wbmp</a>
                        </li>
                                                <li class="">
                            <a href="function.png2wbmp.php.html" title="png2wbmp">png2wbmp</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
