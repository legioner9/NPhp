<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: imap_getmailboxes - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.imap-getmailboxes.php.html">
 <link rel="shorturl" href="https://www.php.net/imap-getmailboxes">
 <link rel="alternate" href="https://www.php.net/imap-getmailboxes" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.imap.php.html">
 <link rel="prev" href="function.imap-getacl.php.html">
 <link rel="next" href="function.imap-getsubscribed.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.imap-getmailboxes.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.imap-getmailboxes.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.imap-getmailboxes.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.imap-getmailboxes.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.imap-getmailboxes.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.imap-getmailboxes.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.imap-getmailboxes.php" hreflang="pt_BR">
 <link rel="alternate" href="function.imap-getmailboxes.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.imap-getmailboxes.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.imap-getmailboxes.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.imap-getsubscribed.php.html">
          imap_getsubscribed &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.imap-getacl.php.html">
          &laquo; imap_getacl        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.remote.mail.php.html'>Модули для работы с почтой</a></li>      <li><a href='book.imap.php.html'>IMAP</a></li>      <li><a href='ref.imap.php.html'>Функции IMAP</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.imap-getmailboxes.php'>English</option>
            <option value='de/function.imap-getmailboxes.php'>German</option>
            <option value='es/function.imap-getmailboxes.php'>Spanish</option>
            <option value='fr/function.imap-getmailboxes.php'>French</option>
            <option value='it/function.imap-getmailboxes.php'>Italian</option>
            <option value='ja/function.imap-getmailboxes.php'>Japanese</option>
            <option value='pt_BR/function.imap-getmailboxes.php'>Brazilian Portuguese</option>
            <option value='ru/function.imap-getmailboxes.php' selected="selected">Russian</option>
            <option value='tr/function.imap-getmailboxes.php'>Turkish</option>
            <option value='zh/function.imap-getmailboxes.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/imap/functions/imap-getmailboxes.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.imap-getmailboxes%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.imap-getmailboxes" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imap_getmailboxes</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imap_getmailboxes</span> &mdash; <span class="dc-title">Читает список почтовых ящиков, возвращая подробную информацию по каждому из них</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imap-getmailboxes-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imap_getmailboxes</strong></span>(<span class="methodparam"><span class="type"><a href="class.imap-connection.php.html" class="type IMAP\Connection">IMAP\Connection</a></span> <code class="parameter">$imap</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$reference</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$pattern</code></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Получает информацию о почтовых ящиков.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imap-getmailboxes-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    <dt>

<code class="parameter">imap</code></dt>
<dd>
<p class="para">Экземпляр <span class="classname"><a href="class.imap-connection.php.html" class="classname">IMAP\Connection</a></span>.</p></dd>

    
     <dt>
<code class="parameter">reference</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">reference</code> обычно должен быть только спецификацией сервера, как описано в <span class="function"><a href="function.imap-open.php.html" class="function">imap_open()</a></span>
      </p>
      <div class="warning"><strong class="warning">Внимание</strong><p class="simpara">
Если <a href="imap.configuration.php.html#ini.imap.enable-insecure-rsh" class="link">imap.enable_insecure_rsh</a> не отключён, то передача в этот параметр не проверенных данных <em>не безопасна</em>.
</p></div>
     </dd>

    
    
     <dt>
<code class="parameter">pattern</code></dt>

     <dd>

      <p class="para">Определяет начало поиска в иерархии почтовых ящиков.
</p><p class="para">Есть два специальных символа, которые можно использовать при передаче
как часть <code class="parameter">pattern</code>:
&#039;<code class="literal">*</code>&#039; и &#039;<code class="literal">%</code>&#039;.
&#039;<code class="literal">*</code>&#039; возвращает все почтовые ящики. Если вы передадите
<code class="parameter">pattern</code> как &#039;<code class="literal">*</code>&#039;, то получите полный список иерархии почтовых ящиков.
&#039;<code class="literal">%</code>&#039; вернёт только текущий уровень.
&#039;<code class="literal">%</code>&#039;, переданный как параметр <code class="parameter">pattern</code>, вернёт почтовые ящики
только на самом верхнем уровне; &#039;<code class="literal">~/mail/%</code>&#039;
на <code class="literal">UW_IMAPD</code> вернёт все ящики в директории <var class="filename">~/mail</var>, кроме тех, которые
находятся в её поддиректориях.</p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imap-getmailboxes-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает массив объектов, содержащих информацию о ящиках.
   Каждый объект имеет свойства: <code class="parameter">name</code>, содержащее
   полное имя ящика; <code class="parameter">delimiter</code>,
   содержащее разделитель для той части иерархии, в которой
   содержится ящик; и <code class="parameter">attributes</code>.
   Параметр <code class="parameter">Attributes</code> является битовой маской,
   следующих допустимых констант:
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_NOINFERIORS</code></strong> - этот ящик не имеет и не может иметь
      потомков (содержать вложенные ящики). Вызов функции
      <span class="function"><a href="function.imap-createmailbox.php.html" class="function">imap_createmailbox()</a></span> не будет работать для этого ящика.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_NOSELECT</code></strong> - это только контейнер, а не почтовый ящик.
      Вы не можете его открыть.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_MARKED</code></strong> - Этот ящик помечен. Означает, что в нем могут
      быть новые письма, появившиеся с момента последней проверки. Работает не со всеми
      серверами IMAP.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_UNMARKED</code></strong> - Этот ящик не помечен, т.е. в нем нет
      новых писем. Если один из флагов <strong><code>MARKED</code></strong> или
      <strong><code>UNMARKED</code></strong> выставлен - можете считать, что сервер поддерживает
      этот функционал.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_REFERRAL</code></strong> - Этот контейнер имеет направления (referral) на удалённый почтовый ящик.
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_HASCHILDREN</code></strong> - Этот почтовый ящик имеет выбираемые подчинённые (inferiors).
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <strong><code>LATT_HASNOCHILDREN</code></strong> - Этот почтовый ящик не имеет выбираемые подчинённые (inferiors).
     </p>
    </li>
   </ul>
   Функция возвращает <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.imap-getmailboxes-changelog">
  <h3 class="title">Список изменений</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Версия</th>
      <th>Описание</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.1.0</td>
 <td>
  Параметр <code class="parameter">imap</code> теперь ожидает экземпляр <span class="classname"><a href="class.imap-connection.php.html" class="classname">IMAP\Connection</a></span>; ранее ожидался ресурс (<a href="language.types.resource.php.html" class="link">resource</a>) <code class="literal">imap</code>.
 </td>
</tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.imap-getmailboxes-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>imap_getmailboxes()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$mbox </span><span style="color: #007700">= </span><span style="color: #0000BB">imap_open</span><span style="color: #007700">(</span><span style="color: #DD0000">"{imap.example.org}"</span><span style="color: #007700">, </span><span style="color: #DD0000">"username"</span><span style="color: #007700">, </span><span style="color: #DD0000">"password"</span><span style="color: #007700">, </span><span style="color: #0000BB">OP_HALFOPEN</span><span style="color: #007700">)<br />      or die(</span><span style="color: #DD0000">"не удалось подключиться: " </span><span style="color: #007700">. </span><span style="color: #0000BB">imap_last_error</span><span style="color: #007700">());<br /><br /></span><span style="color: #0000BB">$list </span><span style="color: #007700">= </span><span style="color: #0000BB">imap_getmailboxes</span><span style="color: #007700">(</span><span style="color: #0000BB">$mbox</span><span style="color: #007700">, </span><span style="color: #DD0000">"{imap.example.org}"</span><span style="color: #007700">, </span><span style="color: #DD0000">"*"</span><span style="color: #007700">);<br />if (</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$list</span><span style="color: #007700">)) {<br />    foreach (</span><span style="color: #0000BB">$list </span><span style="color: #007700">as </span><span style="color: #0000BB">$key </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"(</span><span style="color: #0000BB">$key</span><span style="color: #DD0000">) "</span><span style="color: #007700">;<br />        echo </span><span style="color: #0000BB">imap_utf7_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">) . </span><span style="color: #DD0000">","</span><span style="color: #007700">;<br />        echo </span><span style="color: #DD0000">"'" </span><span style="color: #007700">. </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">delimiter </span><span style="color: #007700">. </span><span style="color: #DD0000">"',"</span><span style="color: #007700">;<br />        echo </span><span style="color: #0000BB">$val</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">attributes </span><span style="color: #007700">. </span><span style="color: #DD0000">"&lt;br /&gt;\n"</span><span style="color: #007700">;<br />    }<br />} else {<br />    echo </span><span style="color: #DD0000">"вызов imap_getmailboxes завершился с ошибкой: " </span><span style="color: #007700">. </span><span style="color: #0000BB">imap_last_error</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">imap_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$mbox</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imap-getmailboxes-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.imap-getsubscribed.php.html" class="function" rel="rdfs-seeAlso">imap_getsubscribed()</a> - Получает список всех почтовых ящиков, на которые оформлена подписка</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.imap-getmailboxes&amp;redirect=https://www.php.net/manual/ru/function.imap-getmailboxes.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">5 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="71243">  <div class="votes">
    <div id="Vu71243">
    <a href="https://www.php.net/manual/vote-note.php?id=71243&amp;page=function.imap-getmailboxes&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71243">
    <a href="https://www.php.net/manual/vote-note.php?id=71243&amp;page=function.imap-getmailboxes&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71243" title="84% like this...">
    13
    </div>
  </div>
  <a href="function.imap-getmailboxes.php.html#71243" class="name">
  <strong class="user"><em>Mohamed Abbas mabbas_xyz at yahoo dot com</em></strong></a><a class="genanchor" href="function.imap-getmailboxes.php.html#71243"> &para;</a><div class="date" title="2006-11-18 08:51"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71243">
<div class="phpcode"><code><span class="html">i am currently develop a simple IMAP client, when i call imap_getmailboxes() i receive a different values in attributes property of the mailbox object the problem is how can i manipulate these attributes to get a meaningful value,<br />if you make a hard search to find a solution for this, you will<br />not find any useful documents for this problem, let us take a closer look for this problem.<br /><br />when i call imap_getmailboxes() against different IMAP servers i got these attribute values<br /><br />[attributes] =&gt; 9<br />[attributes] =&gt; 1<br />[attributes] =&gt; 64<br />[attributes] =&gt; 32<br />[attributes] =&gt; 40 <br /><br />the documentation tell us that we check this attributes against four constants, these contents are<br /><br />LATT_NOINFERIORS <br />LATT_NOSELECT <br />LATT_MARKED<br />LATT_UNMARKED<br /><br />the value of these constants are <br /><br />LATT_NOINFERIORS = 1<br />LATT_NOSELECT = 2<br />LATT_MARKED = 4<br />LATT_UNMARKED = 8<br /><br />you can got this result by echo each constant, unfortunately the documentation not explain how we can check the attributes against the constants, after a long time of searching i find the answer in source code of c-client <br />(you can get the source from <a href="ftp://ftp.cac.washington.edu/imap/" rel="nofollow" target="_blank">ftp://ftp.cac.washington.edu/imap/</a>)<br />under \src\c-client you will find mail.h open it and you will find this<br /><br />                               /* terminal node in hierarchy */<br />#define LATT_NOINFERIORS (long) 0x1<br />                /* name can not be selected */<br />#define LATT_NOSELECT (long) 0x2<br />                /* changed since last accessed */<br />#define LATT_MARKED (long) 0x4<br />                /* accessed since last changed */<br />#define LATT_UNMARKED (long) 0x8<br />                /* name has referral to remote mailbox */<br />#define LATT_REFERRAL (long) 0x10<br />                /* has selectable inferiors */<br />#define LATT_HASCHILDREN (long) 0x20<br />                /* has no selectable inferiors */<br />#define LATT_HASNOCHILDREN (long) 0x40<br /><br />as you notice here these are our four constants and three additional constants <br /><br />LATT_REFERRAL<br />LATT_HASCHILDREN<br />LATT_HASNOCHILDREN<br /><br />then what is the value of these 3 attributes <br />LATT_REFERRAL 0x10 = 00010000 in binary, the bitmask value is 2^4 = 16 and so on, or simply echo this constant to get the value, then<br /><br />LATT_REFERRAL = 16<br />LATT_HASCHILDREN = 32<br />LATT_HASNOCHILDREN = 64<br /><br />finally the full list of constants will be<br />LATT_NOINFERIORS = 1<br />LATT_NOSELECT = 2<br />LATT_MARKED = 4<br />LATT_UNMARKED = 8<br />LATT_REFERRAL = 16<br />LATT_HASCHILDREN = 32<br />LATT_HASNOCHILDREN = 64<br /><br />ok let's back to our attributes <br />[attributes] =&gt; 9<br />[attributes] =&gt; 1<br />[attributes] =&gt; 64<br />[attributes] =&gt; 32<br />[attributes] =&gt; 40 <br /><br />[attributes] =&gt; 9 this mean it's LATT_UNMARKED and LATT_NOINFERIORS 1+8 =9<br /><br />[attributes] =&gt; 1 this mean LATT_NOINFERIORS<br /><br />[attributes] =&gt; 64 this mean LATT_HASNOCHILDREN<br /><br />[attributes] =&gt; 32 this mean LATT_HASCHILDREN <br /><br />[attributes] =&gt; 40 this mean LATT_HASCHILDREN and LATT_UNMARKED 32+8=40<br /><br />this just like linux file permission 7 mean read, write, and execute 4+2+1 read=4 write=2 execute=1<br /><br />that is what i found, i hope this can help <br /><br />Mohamed Abbas<br />Nileweb Egypt</span></code></div>
  </div>
 </div>
  <div class="note" id="15088">  <div class="votes">
    <div id="Vu15088">
    <a href="https://www.php.net/manual/vote-note.php?id=15088&amp;page=function.imap-getmailboxes&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd15088">
    <a href="https://www.php.net/manual/vote-note.php?id=15088&amp;page=function.imap-getmailboxes&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V15088" title="100% like this...">
    5
    </div>
  </div>
  <a href="function.imap-getmailboxes.php.html#15088" class="name">
  <strong class="user"><em>foom at fuhm dot NO_supercalifragilisticexpialidocious_SPAM dot net</em></strong></a><a class="genanchor" href="function.imap-getmailboxes.php.html#15088"> &para;</a><div class="date" title="2001-08-27 05:42"><strong>22 years ago</strong></div>
  <div class="text" id="Hcom15088">
<div class="phpcode"><code><span class="html">The list of mailbox attributes in this document is very misleading. In particular the explanation of noinferiors is just wrong. It does not mean that the mailbox currently has no children, it means that it *cannot* have children ever. Also, it is untrue that marked and unmarked are only used by UW-IMAP. They are in the official IMAP specification and are used by at least Courier-imap as well.<br /><br />One thing to watch out for, however, is broken IMAP servers which do send \Noinferiors when they mean that there are currently no children.<br /><br />From the IMAP4rev1 specs (RFC 2060):<br />      \Noinferiors<br /><br />         It is not possible for any child levels of hierarchy to exist<br />         under this name; no child levels exist now and none can be<br />         created in the future.<br /><br />      \Noselect<br /><br />         It is not possible to use this name as a selectable mailbox.<br /><br />      \Marked<br /><br />         The mailbox has been marked "interesting" by the server; the<br />         mailbox probably contains messages that have been added since<br />         the last time the mailbox was selected.<br /><br />      \Unmarked<br /><br />         The mailbox does not contain any additional messages since the<br />         last time the mailbox was selected.</span></code></div>
  </div>
 </div>
  <div class="note" id="42135">  <div class="votes">
    <div id="Vu42135">
    <a href="https://www.php.net/manual/vote-note.php?id=42135&amp;page=function.imap-getmailboxes&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd42135">
    <a href="https://www.php.net/manual/vote-note.php?id=42135&amp;page=function.imap-getmailboxes&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V42135" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imap-getmailboxes.php.html#42135" class="name">
  <strong class="user"><em>ad-rotator.com</em></strong></a><a class="genanchor" href="function.imap-getmailboxes.php.html#42135"> &para;</a><div class="date" title="2004-05-04 01:17"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom42135">
<div class="phpcode"><code><span class="html">In case you print_r() or var_dump() the object and see an int for attribute, these are the constant integers for the bitmask.<br /><br />1 LATT_NOINFERIORS<br />2 LATT_NOSELECT<br />4 LATT_MARKED<br />8 LATT_UNMARKED</span></code></div>
  </div>
 </div>
  <div class="note" id="61471">  <div class="votes">
    <div id="Vu61471">
    <a href="https://www.php.net/manual/vote-note.php?id=61471&amp;page=function.imap-getmailboxes&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd61471">
    <a href="https://www.php.net/manual/vote-note.php?id=61471&amp;page=function.imap-getmailboxes&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V61471" title="33% like this...">
    -1
    </div>
  </div>
  <a href="function.imap-getmailboxes.php.html#61471" class="name">
  <strong class="user"><em>emielbom at hotmail dot com</em></strong></a><a class="genanchor" href="function.imap-getmailboxes.php.html#61471"> &para;</a><div class="date" title="2006-02-04 07:09"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom61471">
<div class="phpcode"><code><span class="html">i was looking for a function to test the attributes.<br />and it was hard to find an answer or code.<br /><br />Maybe there is a function availeble, but i couldn't find it.<br /><br />the first function: returns all mailboxes in on the server<br /><br />The second function: returns a bitstring from the attr_number returned by getmailboxes()<br /><br />The tirth function: returns an array with the active attributes on the specific mailbox<br /><br />Last Line: is a combination of the functions: the output is, any map witch can hold no mail but only sub boxes...<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">getFolders</span><span class="keyword">(</span><span class="default">$mailbox</span><span class="keyword">, </span><span class="default">$serverString</span><span class="keyword">) {<br /><br />    </span><span class="default">$list </span><span class="keyword">= </span><span class="default">imap_getmailboxes</span><span class="keyword">(</span><span class="default">$mailbox</span><span class="keyword">, </span><span class="default">$serverString</span><span class="keyword">, </span><span class="string">"*"</span><span class="keyword">);<br />    if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$list</span><span class="keyword">)) {<br />        foreach (</span><span class="default">$list </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />           </span><span class="default">$mapname </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$serverString</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">imap_utf7_decode</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">));<br />           if (</span><span class="default">$mapname</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] != </span><span class="string">"."</span><span class="keyword">) {<br />               </span><span class="default">$list_folders</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">] = </span><span class="default">$mapname</span><span class="keyword">;<br />               </span><span class="default">$list_folders</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'delimiter'</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">-&gt;</span><span class="default">delimiter</span><span class="keyword">;<br />               </span><span class="default">$list_folders</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="string">'attributes'</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">;<br />           }<br />            <br />        }<br />    } else {<br />        echo </span><span class="string">"imap_getmailboxes failed: " </span><span class="keyword">. </span><span class="default">imap_last_error</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />    }<br /><br />    return </span><span class="default">$list_folders</span><span class="keyword">;<br />}<br /><br />function </span><span class="default">IntToBin</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) {<br />    </span><span class="default">$BitWaarde </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />    </span><span class="default">$IntNum </span><span class="keyword">= </span><span class="default">$number</span><span class="keyword">;<br />    </span><span class="default">$BinString </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br /><br />    if (</span><span class="default">$IntNum </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />     <br />        </span><span class="comment">// bepaal de max bitwaarde aan de hand van $IntNum<br />        </span><span class="keyword">while (</span><span class="default">$IntNum </span><span class="keyword">&gt; </span><span class="default">$BitWaarde</span><span class="keyword">) {<br />            </span><span class="default">$BitWaarde </span><span class="keyword">= </span><span class="default">$BitWaarde </span><span class="keyword">* </span><span class="default">2</span><span class="keyword">;<br />        }<br />     <br />     <br />     <br />        </span><span class="comment">// maken van een binaire string.<br />        </span><span class="keyword">while (</span><span class="default">$BitWaarde </span><span class="keyword">&gt;= </span><span class="default">1 </span><span class="keyword">) {<br />            if (</span><span class="default">$IntNum </span><span class="keyword">&lt; </span><span class="default">$BitWaarde</span><span class="keyword">) {<br />                if (</span><span class="default">$BinString </span><span class="keyword">!= </span><span class="string">""</span><span class="keyword">) </span><span class="default">$BinString </span><span class="keyword">.= </span><span class="string">"0"</span><span class="keyword">;<br />            } else {<br />                </span><span class="default">$BinString </span><span class="keyword">.= </span><span class="string">"1"</span><span class="keyword">;<br />                </span><span class="default">$IntNum </span><span class="keyword">= </span><span class="default">$IntNum</span><span class="keyword">-</span><span class="default">$BitWaarde</span><span class="keyword">;<br />            }<br />            </span><span class="default">$BitWaarde </span><span class="keyword">= </span><span class="default">$BitWaarde </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">;<br />        }<br />    <br />    }<br />    <br />    <br />    return </span><span class="default">$BinString</span><span class="keyword">;<br />}<br /><br />function </span><span class="default">Attributes</span><span class="keyword">(</span><span class="default">$BinString</span><span class="keyword">) {<br /><br />    </span><span class="default">$BinInt </span><span class="keyword">= (int)</span><span class="default">$BinString</span><span class="keyword">;<br />    if (</span><span class="default">$BinInt </span><span class="keyword">&gt;=</span><span class="default">1000</span><span class="keyword">){<br />        </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_UNMARKED'</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />        </span><span class="default">$BinInt </span><span class="keyword">= </span><span class="default">$BinInt</span><span class="keyword">-</span><span class="default">1000</span><span class="keyword">;<br />    } else </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_UNMARKED'</span><span class="keyword">] = </span><span class="default">false</span><span class="keyword">;<br /><br />    if (</span><span class="default">$BinInt </span><span class="keyword">&gt;=</span><span class="default">100</span><span class="keyword">){<br />        </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_MARKED'</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />        </span><span class="default">$BinInt </span><span class="keyword">= </span><span class="default">$BinInt</span><span class="keyword">-</span><span class="default">100</span><span class="keyword">;<br />    } else </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_MARKED'</span><span class="keyword">] = </span><span class="default">false</span><span class="keyword">;<br />    <br />    if (</span><span class="default">$BinInt </span><span class="keyword">&gt;=</span><span class="default">10</span><span class="keyword">){<br />        </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_NOSELECT'</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />        </span><span class="default">$BinInt </span><span class="keyword">= </span><span class="default">$BinInt</span><span class="keyword">-</span><span class="default">10</span><span class="keyword">;<br />    } else </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_NOSELECT'</span><span class="keyword">] = </span><span class="default">false</span><span class="keyword">;<br />    <br />    if (</span><span class="default">$BinInt </span><span class="keyword">&gt;=</span><span class="default">1</span><span class="keyword">){<br />        </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_NOINFERIORS'</span><span class="keyword">] = </span><span class="default">true</span><span class="keyword">;<br />        </span><span class="default">$BinInt </span><span class="keyword">= </span><span class="default">$BinInt</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">;<br />    } else </span><span class="default">$setAttribute</span><span class="keyword">[</span><span class="string">'LATT_NOINFERIORS'</span><span class="keyword">] = </span><span class="default">false</span><span class="keyword">;<br /><br />    return </span><span class="default">$setAttribute</span><span class="keyword">;<br />}<br /><br />foreach (</span><span class="default">getFolders</span><span class="keyword">(</span><span class="default">$mailbox</span><span class="keyword">, </span><span class="default">$config</span><span class="keyword">[</span><span class="string">'Server_string'</span><span class="keyword">]) as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) {<br />                        </span><span class="default">$Attr </span><span class="keyword">= </span><span class="default">Attributes</span><span class="keyword">(</span><span class="default">IntToBin</span><span class="keyword">((int)</span><span class="default">$val</span><span class="keyword">[</span><span class="string">'attributes'</span><span class="keyword">]));<br />                        if (!</span><span class="default">$Attr</span><span class="keyword">[</span><span class="string">'LATT_NOINFERIORS'</span><span class="keyword">]) {<br />                            echo </span><span class="string">"&lt;option value='"</span><span class="keyword">.</span><span class="default">$val</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">].</span><span class="string">"'&gt;"</span><span class="keyword">.</span><span class="default">$val</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">].</span><span class="string">"&lt;/option&gt;"</span><span class="keyword">;<br />                        }<br />                    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="104946">  <div class="votes">
    <div id="Vu104946">
    <a href="https://www.php.net/manual/vote-note.php?id=104946&amp;page=function.imap-getmailboxes&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104946">
    <a href="https://www.php.net/manual/vote-note.php?id=104946&amp;page=function.imap-getmailboxes&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104946" title="28% like this...">
    -3
    </div>
  </div>
  <a href="function.imap-getmailboxes.php.html#104946" class="name">
  <strong class="user"><em>james dot mattingly at gmail dot com</em></strong></a><a class="genanchor" href="function.imap-getmailboxes.php.html#104946"> &para;</a><div class="date" title="2011-07-18 12:19"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104946">
<div class="phpcode"><code><span class="html">For the purposes of passing along the attributes as a json array, I wanted to pass the attributes as an indexed array to save on bandwidth and session storage.  The human readable translation is then performed in javascript by relating each key to the proper attribute label.  I also wanted a cleaner way of converting the attributes without calling another function or using a complex iteration. This puts each binary attribute into it's own array element for easy testing. <br /><br /><span class="default">&lt;?php<br />$mailboxes </span><span class="keyword">= </span><span class="default">imap_getmailboxes</span><span class="keyword">(</span><span class="default">$mailbox</span><span class="keyword">, </span><span class="default">$username</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">);<br /><br />foreach(</span><span class="default">$mailboxes </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;</span><span class="default">$mailbox</span><span class="keyword">){<br />   ...<br />   </span><span class="default">$attrs </span><span class="keyword">=  </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">decbin</span><span class="keyword">(</span><span class="default">$mailbox</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">),</span><span class="default">7</span><span class="keyword">,</span><span class="string">"0"</span><span class="keyword">,</span><span class="default">STR_PAD_LEFT</span><span class="keyword">),</span><span class="default">8</span><span class="keyword">);  </span><span class="comment">// convert decimal to an array of attributes<br />   </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$attrs</span><span class="keyword">); </span><span class="comment">// Remove the extra element at the front of the array in position 0<br />   </span><span class="keyword">...<br />}<br /></span><span class="default">?&gt;<br /></span><br />With temporary variables, the conversion would look like this.<br /><br /><span class="default">&lt;?php<br />$attr_binary </span><span class="keyword">= </span><span class="default">decbin</span><span class="keyword">(</span><span class="default">$mailbox</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">);  </span><span class="comment">// convert decimal to binary<br /></span><span class="default">$attr_binary </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$attr_binary</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">,</span><span class="string">"0"</span><span class="keyword">,</span><span class="default">STR_PAD_LEFT</span><span class="keyword">);  </span><span class="comment">// pad with 0's on the left<br /></span><span class="default">$attrs </span><span class="keyword">= </span><span class="default">$preg_split</span><span class="keyword">(</span><span class="string">'//'</span><span class="keyword">,</span><span class="default">$attr_binary</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">);  </span><span class="comment">// split into an array after each character<br /></span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$attrs</span><span class="keyword">);  </span><span class="comment">// Remove the extra element at the front of the array in position 0<br /></span><span class="default">?&gt;<br /></span><br />By defining the attributes as a map to the array index, you can test as follows.<br /><br /><span class="default">&lt;?php<br />define</span><span class="keyword">(</span><span class="string">"ATTR_NOINFERIORS"</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ATTR_NOSELECT "</span><span class="default">5</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ATTR_MARKED "</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ATTR_UNMARKED "</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ATTR_REFERRAL "</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ATTR_HASCHILDREN "</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br /></span><span class="default">define</span><span class="keyword">(</span><span class="string">"ATTR_HASNOCHILDREN "</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br /><br />if (</span><span class="default">$attrs</span><span class="keyword">[</span><span class="default">ATTR_HASCHILDREN</span><span class="keyword">]){<br /> </span><span class="comment">// do something<br /></span><span class="keyword">}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.imap-getmailboxes&amp;redirect=https://www.php.net/manual/ru/function.imap-getmailboxes.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.imap.php.html">Функции IMAP</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.imap-8bit.php.html" title="imap_&#8203;8bit">imap_&#8203;8bit</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-alerts.php.html" title="imap_&#8203;alerts">imap_&#8203;alerts</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-append.php.html" title="imap_&#8203;append">imap_&#8203;append</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-base64.php.html" title="imap_&#8203;base64">imap_&#8203;base64</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-binary.php.html" title="imap_&#8203;binary">imap_&#8203;binary</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-body.php.html" title="imap_&#8203;body">imap_&#8203;body</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-bodystruct.php.html" title="imap_&#8203;bodystruct">imap_&#8203;bodystruct</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-check.php.html" title="imap_&#8203;check">imap_&#8203;check</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-clearflag-full.php.html" title="imap_&#8203;clearflag_&#8203;full">imap_&#8203;clearflag_&#8203;full</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-close.php.html" title="imap_&#8203;close">imap_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-create.php.html" title="imap_&#8203;create">imap_&#8203;create</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-createmailbox.php.html" title="imap_&#8203;createmailbox">imap_&#8203;createmailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-delete.php.html" title="imap_&#8203;delete">imap_&#8203;delete</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-deletemailbox.php.html" title="imap_&#8203;deletemailbox">imap_&#8203;deletemailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-errors.php.html" title="imap_&#8203;errors">imap_&#8203;errors</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-expunge.php.html" title="imap_&#8203;expunge">imap_&#8203;expunge</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetch-overview.php.html" title="imap_&#8203;fetch_&#8203;overview">imap_&#8203;fetch_&#8203;overview</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchbody.php.html" title="imap_&#8203;fetchbody">imap_&#8203;fetchbody</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchheader.php.html" title="imap_&#8203;fetchheader">imap_&#8203;fetchheader</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchmime.php.html" title="imap_&#8203;fetchmime">imap_&#8203;fetchmime</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchstructure.php.html" title="imap_&#8203;fetchstructure">imap_&#8203;fetchstructure</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchtext.php.html" title="imap_&#8203;fetchtext">imap_&#8203;fetchtext</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-gc.php.html" title="imap_&#8203;gc">imap_&#8203;gc</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-get-quota.php.html" title="imap_&#8203;get_&#8203;quota">imap_&#8203;get_&#8203;quota</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-get-quotaroot.php.html" title="imap_&#8203;get_&#8203;quotaroot">imap_&#8203;get_&#8203;quotaroot</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-getacl.php.html" title="imap_&#8203;getacl">imap_&#8203;getacl</a>
                        </li>
                                                <li class="current">
                            <a href="function.imap-getmailboxes.php.html" title="imap_&#8203;getmailboxes">imap_&#8203;getmailboxes</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-getsubscribed.php.html" title="imap_&#8203;getsubscribed">imap_&#8203;getsubscribed</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-header.php.html" title="imap_&#8203;header">imap_&#8203;header</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-headerinfo.php.html" title="imap_&#8203;headerinfo">imap_&#8203;headerinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-headers.php.html" title="imap_&#8203;headers">imap_&#8203;headers</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-is-open.php.html" title="imap_&#8203;is_&#8203;open">imap_&#8203;is_&#8203;open</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-last-error.php.html" title="imap_&#8203;last_&#8203;error">imap_&#8203;last_&#8203;error</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-list.php.html" title="imap_&#8203;list">imap_&#8203;list</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-listmailbox.php.html" title="imap_&#8203;listmailbox">imap_&#8203;listmailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-listscan.php.html" title="imap_&#8203;listscan">imap_&#8203;listscan</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-listsubscribed.php.html" title="imap_&#8203;listsubscribed">imap_&#8203;listsubscribed</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-lsub.php.html" title="imap_&#8203;lsub">imap_&#8203;lsub</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail-compose.php.html" title="imap_&#8203;mail_&#8203;compose">imap_&#8203;mail_&#8203;compose</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail-copy.php.html" title="imap_&#8203;mail_&#8203;copy">imap_&#8203;mail_&#8203;copy</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail-move.php.html" title="imap_&#8203;mail_&#8203;move">imap_&#8203;mail_&#8203;move</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail.php.html" title="imap_&#8203;mail">imap_&#8203;mail</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mailboxmsginfo.php.html" title="imap_&#8203;mailboxmsginfo">imap_&#8203;mailboxmsginfo</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mime-header-decode.php.html" title="imap_&#8203;mime_&#8203;header_&#8203;decode">imap_&#8203;mime_&#8203;header_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-msgno.php.html" title="imap_&#8203;msgno">imap_&#8203;msgno</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mutf7-to-utf8.php.html" title="imap_&#8203;mutf7_&#8203;to_&#8203;utf8">imap_&#8203;mutf7_&#8203;to_&#8203;utf8</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-num-msg.php.html" title="imap_&#8203;num_&#8203;msg">imap_&#8203;num_&#8203;msg</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-num-recent.php.html" title="imap_&#8203;num_&#8203;recent">imap_&#8203;num_&#8203;recent</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-open.php.html" title="imap_&#8203;open">imap_&#8203;open</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-ping.php.html" title="imap_&#8203;ping">imap_&#8203;ping</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-qprint.php.html" title="imap_&#8203;qprint">imap_&#8203;qprint</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rename.php.html" title="imap_&#8203;rename">imap_&#8203;rename</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-renamemailbox.php.html" title="imap_&#8203;renamemailbox">imap_&#8203;renamemailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-reopen.php.html" title="imap_&#8203;reopen">imap_&#8203;reopen</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rfc822-parse-adrlist.php.html" title="imap_&#8203;rfc822_&#8203;parse_&#8203;adrlist">imap_&#8203;rfc822_&#8203;parse_&#8203;adrlist</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rfc822-parse-headers.php.html" title="imap_&#8203;rfc822_&#8203;parse_&#8203;headers">imap_&#8203;rfc822_&#8203;parse_&#8203;headers</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rfc822-write-address.php.html" title="imap_&#8203;rfc822_&#8203;write_&#8203;address">imap_&#8203;rfc822_&#8203;write_&#8203;address</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-savebody.php.html" title="imap_&#8203;savebody">imap_&#8203;savebody</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-scan.php.html" title="imap_&#8203;scan">imap_&#8203;scan</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-scanmailbox.php.html" title="imap_&#8203;scanmailbox">imap_&#8203;scanmailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-search.php.html" title="imap_&#8203;search">imap_&#8203;search</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-set-quota.php.html" title="imap_&#8203;set_&#8203;quota">imap_&#8203;set_&#8203;quota</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-setacl.php.html" title="imap_&#8203;setacl">imap_&#8203;setacl</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-setflag-full.php.html" title="imap_&#8203;setflag_&#8203;full">imap_&#8203;setflag_&#8203;full</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-sort.php.html" title="imap_&#8203;sort">imap_&#8203;sort</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-status.php.html" title="imap_&#8203;status">imap_&#8203;status</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-subscribe.php.html" title="imap_&#8203;subscribe">imap_&#8203;subscribe</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-thread.php.html" title="imap_&#8203;thread">imap_&#8203;thread</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-timeout.php.html" title="imap_&#8203;timeout">imap_&#8203;timeout</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-uid.php.html" title="imap_&#8203;uid">imap_&#8203;uid</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-undelete.php.html" title="imap_&#8203;undelete">imap_&#8203;undelete</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-unsubscribe.php.html" title="imap_&#8203;unsubscribe">imap_&#8203;unsubscribe</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf7-decode.php.html" title="imap_&#8203;utf7_&#8203;decode">imap_&#8203;utf7_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf7-encode.php.html" title="imap_&#8203;utf7_&#8203;encode">imap_&#8203;utf7_&#8203;encode</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf8-to-mutf7.php.html" title="imap_&#8203;utf8_&#8203;to_&#8203;mutf7">imap_&#8203;utf8_&#8203;to_&#8203;mutf7</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf8.php.html" title="imap_&#8203;utf8">imap_&#8203;utf8</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
