<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: imap_headerinfo - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.imap-headerinfo.php.html">
 <link rel="shorturl" href="https://www.php.net/imap-headerinfo">
 <link rel="alternate" href="https://www.php.net/imap-headerinfo" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.imap.php.html">
 <link rel="prev" href="function.imap-header.php.html">
 <link rel="next" href="function.imap-headers.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.imap-headerinfo.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.imap-headerinfo.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.imap-headerinfo.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.imap-headerinfo.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.imap-headerinfo.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.imap-headerinfo.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.imap-headerinfo.php" hreflang="pt_BR">
 <link rel="alternate" href="function.imap-headerinfo.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.imap-headerinfo.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.imap-headerinfo.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.imap-headers.php.html">
          imap_headers &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.imap-header.php.html">
          &laquo; imap_header        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.remote.mail.php.html'>Модули для работы с почтой</a></li>      <li><a href='book.imap.php.html'>IMAP</a></li>      <li><a href='ref.imap.php.html'>Функции IMAP</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.imap-headerinfo.php'>English</option>
            <option value='de/function.imap-headerinfo.php'>German</option>
            <option value='es/function.imap-headerinfo.php'>Spanish</option>
            <option value='fr/function.imap-headerinfo.php'>French</option>
            <option value='it/function.imap-headerinfo.php'>Italian</option>
            <option value='ja/function.imap-headerinfo.php'>Japanese</option>
            <option value='pt_BR/function.imap-headerinfo.php'>Brazilian Portuguese</option>
            <option value='ru/function.imap-headerinfo.php' selected="selected">Russian</option>
            <option value='tr/function.imap-headerinfo.php'>Turkish</option>
            <option value='zh/function.imap-headerinfo.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/imap/functions/imap-headerinfo.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.imap-headerinfo%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.imap-headerinfo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imap_headerinfo</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imap_headerinfo</span> &mdash; <span class="dc-title">Читает заголовок сообщения</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imap-headerinfo-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imap_headerinfo</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="class.imap-connection.php.html" class="type IMAP\Connection">IMAP\Connection</a></span> <code class="parameter">$imap</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$message_num</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$from_length</code><span class="initializer"> = 0</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$subject_length</code><span class="initializer"> = 0</span></span><br>): <span class="type"><span class="type"><a href="class.stdclass.php.html" class="type stdClass">stdClass</a></span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Извлекает информацию о сообщении из его заголовка.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imap-headerinfo-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    <dt>

<code class="parameter">imap</code></dt>
<dd>
<p class="para">Экземпляр <span class="classname"><a href="class.imap-connection.php.html" class="classname">IMAP\Connection</a></span>.</p></dd>

    
     <dt>
<code class="parameter">message_num</code></dt>

     <dd>

      <p class="para">
       Номер сообщения
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">from_length</code></dt>

     <dd>

      <p class="para">
       Количество символов в свойстве <code class="literal">fetchfrom</code>.
       Должно быть больше или равно нулю.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">subject_length</code></dt>

     <dd>

      <p class="para">
       Количество символов в свойстве <code class="literal">fetchsubject</code>.
       Должно быть больше или равно нулю.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">defaulthost</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imap-headerinfo-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   В случае возникновения ошибки возвращает <strong><code>false</code></strong>. В случае успешного выполнения возвращает объект со следующими свойствами:
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      toaddress - полная строка to:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      to - массив объектов из поля To:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      fromaddress - полная строка from:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      from - массив объектов из поля From:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      ccaddress - полная строка cc:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      cc - массив объектов из поля Cc:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      bccaddress - полная строка bcc:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      bcc - массив объектов из поля Bcc:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      reply_toaddress - полная строка Reply-To:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      reply_to - массив объектов из поля Reply-To:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      senderaddress - полная строка sender:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      sender - массив объектов из поля Sender:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      return_pathaddress - полная строка Return-Path:, максимум 1024 символов
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      return_path - массив объектов из поля Return-Path:, со следующими свойствами:
      <code class="literal">personal</code>, <code class="literal">adl</code>,
      <code class="literal">mailbox</code> и <code class="literal">host</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      remail -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      date - Дата письма, как она указана в заголовке
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Date - То же, что и date
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      subject - Тема письма
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Subject - То же, что и subject
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      in_reply_to -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      message_id -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      newsgroups -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      followup_to -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      references -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Recent - <code class="literal">R</code> если новое и прочитанное, <code class="literal">N</code>
      если новое и не прочитанное, &#039; &#039; если не новое.
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Unseen - <code class="literal">U</code> если НЕ прочитано и НЕ новое, &#039; &#039; если прочитано
      ИЛИ не прочитано и новое
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Flagged - <code class="literal">F</code> если отмечено, &#039; &#039; если нет
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Answered - <code class="literal">A</code> если отвечено, &#039; &#039; если нет
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Deleted - <code class="literal">D</code> если удалено, &#039; &#039; если нет
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Draft - <code class="literal">X</code> если черновик, &#039; &#039; если нет
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Msgno - Номер сообщения
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      MailDate -
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      Size - Размер сообщения
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      udate - время отсылки в виде временной метки Unix
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      fetchfrom - поле from, отформатированное в соответствии с
      <code class="parameter">from_length</code>
     </span>
    </li>
    <li class="listitem">
     <span class="simpara">
      fetchsubject - поле subject, отформатированное в соответствии с
      <code class="parameter">subject_length</code>
     </span>
    </li>
   </ul>
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.imap-headerinfo-changelog">
  <h3 class="title">Список изменений</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Версия</th>
      <th>Описание</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.1.0</td>
 <td>
  Параметр <code class="parameter">imap</code> теперь ожидает экземпляр <span class="classname"><a href="class.imap-connection.php.html" class="classname">IMAP\Connection</a></span>; ранее ожидался ресурс (<a href="language.types.resource.php.html" class="link">resource</a>) <code class="literal">imap</code>.
 </td>
</tr>

     <tr>
      <td>8.0.0</td>
      <td>
       Неиспользуемый параметр <code class="parameter">defaulthost</code> был удалён.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.imap-headerinfo-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.imap-fetch-overview.php.html" class="function" rel="rdfs-seeAlso">imap_fetch_overview()</a> - Обозревает информацию из заголовков сообщений</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.imap-headerinfo&amp;redirect=https://www.php.net/manual/ru/function.imap-headerinfo.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">10 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="98809">  <div class="votes">
    <div id="Vu98809">
    <a href="https://www.php.net/manual/vote-note.php?id=98809&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98809">
    <a href="https://www.php.net/manual/vote-note.php?id=98809&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98809" title="82% like this...">
    22
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#98809" class="name">
  <strong class="user"><em>andyltm</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#98809"> &para;</a><div class="date" title="2010-07-08 03:17"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98809">
<div class="phpcode"><code><span class="html">When I was testing imap_headerinfo() with an e-mail that had multiple recipients (multiple e-mails in to to: and/or cc: field), I noticed that imap_headerinfo() was failing hard for me on PHP 5.2.10-2ubuntu6.4 with Suhosin-Patch 0.9.7 (cli).<br /><br />Rather than providing me an array with each and every e-mail address listed in the to and/or cc fields, it was only providing me the first listed.  This was disappointing.<br /><br />   [to] =&gt; Array<br />        (   <br />            [0] =&gt; stdClass Object<br />                (   <br />                    [mailbox] =&gt; game<br />                    [host] =&gt; blunts.com<br />                )<br />        )<br /><br />Luckily, there was a cool workaround to this problem:<br /><br />imap_rfc822_parse_headers(imap_fetchheader( string ); which subsequentally worked like a nice little pet would:<br /><br />   [to] =&gt; Array<br />        (   <br />            [0] =&gt; stdClass Object<br />                (   <br />                    [mailbox] =&gt; game<br />                    [host] =&gt; blunts.com<br />                )<br />            [1] =&gt; stdClass Object<br />                (   <br />                    [mailbox] =&gt; dutch<br />                    [host] =&gt; masters.com<br />                )<br />        )<br /><br />TL;DR: <br />So in other words, instead of imap_headerinfo() use imap_rfc822_parse_headers(imap_fetchheader()).<br /><br />Hope this helps anyone else that runs into this issue from now into the future.  This post was suggested by people in #PHP on FreeNode IRC.</span></code></div>
  </div>
 </div>
  <div class="note" id="95012">  <div class="votes">
    <div id="Vu95012">
    <a href="https://www.php.net/manual/vote-note.php?id=95012&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd95012">
    <a href="https://www.php.net/manual/vote-note.php?id=95012&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V95012" title="90% like this...">
    9
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#95012" class="name">
  <strong class="user"><em>jahservant 13 at gmail dot com</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#95012"> &para;</a><div class="date" title="2009-12-08 03:56"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom95012">
<div class="phpcode"><code><span class="html">I'm not entirely sure why this is, but if you loop through all of the messages in a mailbox, calling imap_header() each time, you can significantly increase performance by calling imap_headers() first.<br /><br />Compare this:<br /><span class="default">&lt;?php<br />     $imap </span><span class="keyword">= </span><span class="default">imap_open</span><span class="keyword">(</span><span class="string">"{my.server.com:143}INBOX"</span><span class="keyword">, </span><span class="string">"user"</span><span class="keyword">, </span><span class="string">"pass"</span><span class="keyword">);<br />     </span><span class="default">$n_msgs </span><span class="keyword">= </span><span class="default">imap_num_msg</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">);<br />     </span><span class="default">$s </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />     for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n_msgs</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />          </span><span class="default">$header </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />     }<br />     </span><span class="default">$e </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />     echo (</span><span class="default">$e </span><span class="keyword">- </span><span class="default">$s</span><span class="keyword">);<br />     </span><span class="default">imap_close</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />With this:<br /><span class="default">&lt;?php<br />     $imap </span><span class="keyword">= </span><span class="default">imap_open</span><span class="keyword">(</span><span class="string">"{my.server.com:143}INBOX"</span><span class="keyword">, </span><span class="string">"user"</span><span class="keyword">, </span><span class="string">"pass"</span><span class="keyword">);<br />     </span><span class="default">$n_msgs </span><span class="keyword">= </span><span class="default">imap_num_msg</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">);<br />  </span><span class="comment">/****** adding this line: ******/<br />     </span><span class="default">imap_headers</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">)<br />  </span><span class="comment">/***************************/<br />     </span><span class="default">$s </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />     for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$n_msgs</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />          </span><span class="default">$header </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />     }<br />     </span><span class="default">$e </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />     echo (</span><span class="default">$e </span><span class="keyword">- </span><span class="default">$s</span><span class="keyword">);<br />     </span><span class="default">imap_close</span><span class="keyword">(</span><span class="default">$imap</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />The performance difference, as I have tested on several boxes, connecting to several different servers, is that the second code snippet ALWAYS takes 1/2 the time, if not less.<br /><br />Perhaps it is because imap_headers() retrieves all of the messages on one connection, whereas imap_header() has to make a new fetch request for each message??  I'm not sure WHY it is faster if imap_headers() is called first, but I do know that it is, so I thought I'd pass on the knowledge.  If anyone knows why this is, please let me know....</span></code></div>
  </div>
 </div>
  <div class="note" id="120797">  <div class="votes">
    <div id="Vu120797">
    <a href="https://www.php.net/manual/vote-note.php?id=120797&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120797">
    <a href="https://www.php.net/manual/vote-note.php?id=120797&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120797" title="75% like this...">
    2
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#120797" class="name">
  <strong class="user"><em>php at our-software dot com</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#120797"> &para;</a><div class="date" title="2017-03-13 02:57"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom120797">
<div class="phpcode"><code><span class="html">Please Note : imap_headerinfo only returns a subset of the headers, rather than the entire thing.<br /><br />Among other things, this means it only shows the first recipient from the "to" section of the email, rather than all recipients.<br /><br />If you're not seeing something you expected to, you'll be better off using<br /><br />$hdr_raw = imap_fetchheader($mbox, $mailid);<br />$hdr = imap_rfc822_parse_headers($hdr_raw);<br /><br />then you'll see the full set of headers, and be able to do more with it.</span></code></div>
  </div>
 </div>
  <div class="note" id="26741">  <div class="votes">
    <div id="Vu26741">
    <a href="https://www.php.net/manual/vote-note.php?id=26741&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd26741">
    <a href="https://www.php.net/manual/vote-note.php?id=26741&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V26741" title="72% like this...">
    5
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#26741" class="name">
  <strong class="user"><em>scott at fuzzygroup dot com</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#26741"> &para;</a><div class="date" title="2002-11-11 09:13"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom26741">
<div class="phpcode"><code><span class="html">If you want to extract values from to, from, or other header elements, they are an object and you need to loop over them i.e.<br /><br />$header = imap_header($mbox, $message_id);<br />$from = $header-&gt;from;<br />foreach ($from as $id =&gt; $object) {<br />    $fromname = $object-&gt;personal;<br />    $fromaddress = $object-&gt;mailbox . "@" . $object-&gt;host;<br />}<br /><br />Would give you two variables for the friendly from and the smtp from address<br /><br />Thanks to www.natrak.net for help with this</span></code></div>
  </div>
 </div>
  <div class="note" id="117985">  <div class="votes">
    <div id="Vu117985">
    <a href="https://www.php.net/manual/vote-note.php?id=117985&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117985">
    <a href="https://www.php.net/manual/vote-note.php?id=117985&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117985" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#117985" class="name">
  <strong class="user"><em>Murray</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#117985"> &para;</a><div class="date" title="2015-09-14 11:54"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117985">
<div class="phpcode"><code><span class="html">An email without a subject line will not generate the 'subject' property.<br /><br />Before using the 'subject' property you should test for it.<br />if (property_exists($header, 'subject')) echo $header-&gt;subject;</span></code></div>
  </div>
 </div>
  <div class="note" id="115491">  <div class="votes">
    <div id="Vu115491">
    <a href="https://www.php.net/manual/vote-note.php?id=115491&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115491">
    <a href="https://www.php.net/manual/vote-note.php?id=115491&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115491" title="no votes...">
    0
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#115491" class="name">
  <strong class="user"><em>milosh</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#115491"> &para;</a><div class="date" title="2014-08-03 10:14"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115491">
<div class="phpcode"><code><span class="html">I did some testing on using imap_headerinfo() function and I am very confused with the results.<br /><br />On small mailboxes, getting data for 30 messages takes about 0.5 secs. On mailboxes with approximately 500 messages it takes about 7 secs to retrieve data for the same number of messages.<br /><br />Why would the size of mailbox had anything to do with the time needed to retrieve the header of the single email message? Mailboxes are on the same account.<br /><br />Next, If you measure every call to imap_headerinfo() function the result are even stranger! First and then every 22th call to the imap_headerinfo() function takes 10000 times more that the others. Example: the first call takes about 0.39 secs, then other 20 calls take about 0.0001 secs, then 22th call takes about 0.47 secs, then other 20 calls about 0.00004, and so on.<br /><br />After some more research there is something else that came up.<br /><br />If you use:<br /><br />$message_header[$i] = imap_headerinfo($mbox, $i + 1);<br /><br />it takes about 0.4 secs for every 22th call and about 0.0001 sec for other calls.<br /><br />However, you would expect the same results with:<br /><br />$message_header[$i] = imap_headerinfo($mbox, 30 - $i);<br /><br />But, in this case it takes about 0.2 secs for every call!<br /><br />The only difference here is that in the second example headers are retrieved in the reversed message order (from the 30th to the 1st) and for some reason it greatly affects the time needed for the operation. Strange, or is it just me?</span></code></div>
  </div>
 </div>
  <div class="note" id="95953">  <div class="votes">
    <div id="Vu95953">
    <a href="https://www.php.net/manual/vote-note.php?id=95953&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd95953">
    <a href="https://www.php.net/manual/vote-note.php?id=95953&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V95953" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#95953" class="name">
  <strong class="user"><em>trinkaus at ttNetz dot de</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#95953"> &para;</a><div class="date" title="2010-01-31 02:32"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom95953">
<div class="phpcode"><code><span class="html">When i try to access the same mailbox through pop3 and through imap i get different update infomations.<br /><br />1. Using imap <br />header-&gt;udate is not the same as strtotime($header-&gt;date)<br /><span class="default">&lt;?php<br />$mBox </span><span class="keyword">= </span><span class="default">imap_open</span><span class="keyword">(</span><span class="string">"{host:143/imap/novalidate-cert}INBOX}"</span><span class="keyword">, </span><span class="default">$username</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">); </span><span class="comment">// open as imap<br /></span><span class="default">$header </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$mBox</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">); </span><span class="comment">// get first mails header<br /></span><span class="keyword">echo </span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">udate</span><span class="keyword">;<br />echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">date</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />1. Using pop3<br />header-&gt;udate is the same as strtotime($header-&gt;date)<br /><span class="default">&lt;?php<br />$mBox </span><span class="keyword">= </span><span class="default">imap_open</span><span class="keyword">(</span><span class="string">"{host:110/pop3/novalidate-cert}INBOX}"</span><span class="keyword">, </span><span class="default">$username</span><span class="keyword">, </span><span class="default">$password</span><span class="keyword">); </span><span class="comment">// open as pop3<br /></span><span class="default">$header </span><span class="keyword">= </span><span class="default">imap_header</span><span class="keyword">(</span><span class="default">$mBox</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">); </span><span class="comment">// get first mails header<br /></span><span class="keyword">echo </span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">udate</span><span class="keyword">;<br />echo </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$header</span><span class="keyword">-&gt;</span><span class="default">date</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />I do not know why this is so, but for this reason, i use strtotime($header-&gt;date) together with other values to create my own message-UID because this seems to work independent from the protocol.</span></code></div>
  </div>
 </div>
  <div class="note" id="86837">  <div class="votes">
    <div id="Vu86837">
    <a href="https://www.php.net/manual/vote-note.php?id=86837&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd86837">
    <a href="https://www.php.net/manual/vote-note.php?id=86837&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V86837" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#86837" class="name">
  <strong class="user"><em>ron at NOSPAM dot clicks2hits dot com</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#86837"> &para;</a><div class="date" title="2008-11-05 05:51"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom86837">
<div class="phpcode"><code><span class="html">Simple little code for checking gmail using headerinfo<br /><br /><span class="default">&lt;?php </span><span class="comment">/* Created on: 11/3/2008 By Ron Hickey 6tx.net/gmail_mod <br />Gmail mod for admin panels or you can edit it and convert html results to XML for personal RSS reader */ <br /><br />// enter gmail username below e.g.--&gt; $m_username = "yourusername";<br /></span><span class="default">$m_username </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br /><br /></span><span class="comment">// enter gmail password below e.g.--&gt; $m_password = "yourpword";<br /></span><span class="default">$m_password </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br /><br /></span><span class="comment">// enter the number of unread messages you want to display from mailbox or <br />//enter 0 to display all unread messages e.g.--&gt; $m_acs = 0; <br /></span><span class="default">$m_acs </span><span class="keyword">= </span><span class="default">15</span><span class="keyword">; <br /><br /></span><span class="comment">// How far back in time do you want to search for unread messages - one month = 0 , two weeks = 1, one week = 2, three days = 3,<br />// one day = 4, six hours = 5 or one hour = 6 e.g.--&gt; $m_t = 6;<br /></span><span class="default">$m_t </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br /><br /></span><span class="comment">//-----------&gt;Nothing More to edit below<br />//open mailbox..........please<br /></span><span class="default">$m_mail </span><span class="keyword">= </span><span class="default">imap_open </span><span class="keyword">(</span><span class="string">"{imap.gmail.com:993/imap/ssl}INBOX"</span><span class="keyword">, </span><span class="default">$m_username </span><span class="keyword">. </span><span class="string">"@gmail.com"</span><span class="keyword">, </span><span class="default">$m_password</span><span class="keyword">)<br /><br /></span><span class="comment">// or throw a freakin error............you pig<br /></span><span class="keyword">or die(</span><span class="string">"ERROR: " </span><span class="keyword">. </span><span class="default">imap_last_error</span><span class="keyword">());<br /><br /></span><span class="comment">// unix time gone by or is it bye.....its certanly not bi.......or is it? ......I dunno fooker <br /></span><span class="default">$m_gunixtp </span><span class="keyword">= array(</span><span class="default">2592000</span><span class="keyword">, </span><span class="default">1209600</span><span class="keyword">, </span><span class="default">604800</span><span class="keyword">, </span><span class="default">259200</span><span class="keyword">, </span><span class="default">86400</span><span class="keyword">, </span><span class="default">21600</span><span class="keyword">, </span><span class="default">3600</span><span class="keyword">);<br /><br /></span><span class="comment">// Date to start search<br /></span><span class="default">$m_gdmy </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'d-M-Y'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() - </span><span class="default">$m_gunixtp</span><span class="keyword">[</span><span class="default">$m_t</span><span class="keyword">]); <br /><br /></span><span class="comment">//search mailbox for unread messages since $m_t date <br /></span><span class="default">$m_search</span><span class="keyword">=</span><span class="default">imap_search </span><span class="keyword">(</span><span class="default">$m_mail</span><span class="keyword">, </span><span class="string">'UNSEEN SINCE ' </span><span class="keyword">. </span><span class="default">$m_gdmy </span><span class="keyword">. </span><span class="string">''</span><span class="keyword">);<br /><br /></span><span class="comment">//If mailbox is empty......Display "No New Messages", else........ You got mail....oh joy<br /></span><span class="keyword">if(</span><span class="default">$m_search </span><span class="keyword">&lt; </span><span class="default">1</span><span class="keyword">){ <br /></span><span class="default">$m_empty </span><span class="keyword">= </span><span class="string">"No New Messages"</span><span class="keyword">;} <br />else {<br /><br /></span><span class="comment">// Order results starting from newest message<br /></span><span class="default">rsort</span><span class="keyword">(</span><span class="default">$m_search</span><span class="keyword">);<br /><br /></span><span class="comment">//if m_acs &gt; 0 then limit results<br /></span><span class="keyword">if(</span><span class="default">$m_acs </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">){ <br /></span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$m_search</span><span class="keyword">, </span><span class="default">$m_acs</span><span class="keyword">);<br />} <br /><br /></span><span class="comment">//loop it <br /></span><span class="keyword">foreach (</span><span class="default">$m_search </span><span class="keyword">as </span><span class="default">$what_ever</span><span class="keyword">) { <br /><br /></span><span class="comment">//get imap header info for obj thang <br /></span><span class="default">$obj_thang </span><span class="keyword">= </span><span class="default">imap_headerinfo</span><span class="keyword">(</span><span class="default">$m_mail</span><span class="keyword">, </span><span class="default">$what_ever</span><span class="keyword">);<br /><br /></span><span class="comment">//Then spit it out below.........if you dont swallow <br /></span><span class="keyword">echo </span><span class="string">"&lt;body bgcolor=D3D3D3&gt;&lt;div align=center&gt;&lt;br /&gt;&lt;font face=Arial size=2 color=#800000&gt;Message ID# " </span><span class="keyword">. </span><span class="default">$what_ever </span><span class="keyword">. </span><span class="string">"&lt;/font&gt;<br /><br />&lt;table bgcolor=#D3D3D3 width=700 border=1 bordercolor=#000000 cellpadding=0 cellspacing=0&gt;<br />&lt;tr&gt;<br />&lt;td&gt;&lt;table width=100% border=0&gt;<br />&lt;tr&gt;<br />&lt;td&gt;&lt;table width=100% border=0&gt;<br />&lt;tr&gt;<br />&lt;td bgcolor=#F8F8FF&gt;&lt;font face=Arial size=2 color=#800000&gt;Date:&lt;/font&gt; &lt;font face=Arial size=2 color=#000000&gt;" </span><span class="keyword">. </span><span class="default">date</span><span class="keyword">(</span><span class="string">"F j, Y, g:i a"</span><span class="keyword">, </span><span class="default">$obj_thang</span><span class="keyword">-&gt;</span><span class="default">udate</span><span class="keyword">) . </span><span class="string">"&lt;/font&gt;&lt;/td&gt;<br />&lt;td bgcolor=#F8F8FF&gt;&lt;font face=Arial size=2 color=#800000&gt;From:&lt;/font&gt; &lt;font face=Arial size=2 color=#000000&gt;" </span><span class="keyword">. </span><span class="default">$obj_thang</span><span class="keyword">-&gt;</span><span class="default">fromaddress </span><span class="keyword">. </span><span class="string">"&lt;/font&gt;&lt;/td&gt;<br />&lt;td bgcolor=#F8F8FF&gt;&lt;font face=Arial size=2 color=#800000&gt;To:&lt;/font&gt; &lt;font face=Arial size=2 color=#000000&gt;" </span><span class="keyword">. </span><span class="default">$obj_thang</span><span class="keyword">-&gt;</span><span class="default">toaddress </span><span class="keyword">. </span><span class="string">" &lt;/font&gt;&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;tr&gt;<br />&lt;/table&gt;<br />&lt;/td&gt;<br />&lt;/tr&gt;&lt;tr&gt;&lt;td bgcolor=#F8F8FF&gt;&lt;font face=Arial size=2 color=#800000&gt;Subject:&lt;/font&gt; &lt;font face=Arial size=2 color=#000000&gt;" </span><span class="keyword">. </span><span class="default">$obj_thang</span><span class="keyword">-&gt;</span><span class="default">Subject </span><span class="keyword">. </span><span class="string">"&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;<br />&lt;/tr&gt;<br />&lt;/table&gt;&lt;/td&gt;<br />&lt;/tr&gt;<br />&lt;/table&gt;&lt;a href=<a href="http://gmail.com" rel="nofollow" target="_blank">http://gmail.com</a> target=_blank&gt;&lt;font face=Arial size=2 color=#800000&gt;Login to read message&lt;/a&gt;&lt;/font&gt;&lt;br /&gt;&lt;/div&gt;&lt;/body&gt;"</span><span class="keyword">;<br /><br />}} echo </span><span class="string">"&lt;div align=center&gt;&lt;font face=Arial size=4 color=#800000&gt;&lt;b&gt;" </span><span class="keyword">. </span><span class="default">$m_empty </span><span class="keyword">. </span><span class="string">"&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;"</span><span class="keyword">;<br /></span><span class="comment">//close mailbox bi by bye<br /></span><span class="default">imap_close</span><span class="keyword">(</span><span class="default">$m_mail</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="90943">  <div class="votes">
    <div id="Vu90943">
    <a href="https://www.php.net/manual/vote-note.php?id=90943&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd90943">
    <a href="https://www.php.net/manual/vote-note.php?id=90943&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V90943" title="28% like this...">
    -3
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#90943" class="name">
  <strong class="user"><em>aeolianmeson at exoyiga dot blitzeclipse dot com</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#90943"> &para;</a><div class="date" title="2009-05-17 10:56"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom90943">
<div class="phpcode"><code><span class="html">I typically use UID's to identify messages, and recently discovered that the headers I had been pulling using this function and a message-number didn't match the UID's. Instead of worrying about it, I just began using imap_fetchheader() and imap_ rfc822_ parse_ headers() on its output. The only significant difference I immediately noticed was that there is no "udate" property, so I assigned one with the result of strtotime() on the 'date' property.<br /><br />Dustin</span></code></div>
  </div>
 </div>
  <div class="note" id="88515">  <div class="votes">
    <div id="Vu88515">
    <a href="https://www.php.net/manual/vote-note.php?id=88515&amp;page=function.imap-headerinfo&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88515">
    <a href="https://www.php.net/manual/vote-note.php?id=88515&amp;page=function.imap-headerinfo&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88515" title="20% like this...">
    -3
    </div>
  </div>
  <a href="function.imap-headerinfo.php.html#88515" class="name">
  <strong class="user"><em>php at spacefish dot biz</em></strong></a><a class="genanchor" href="function.imap-headerinfo.php.html#88515"> &para;</a><div class="date" title="2009-01-27 10:57"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom88515">
<div class="phpcode"><code><span class="html">I had to pass the msgid as array($msgid) instead of an integer. the error "Invalid messageID" is generated if i pass an integer.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.imap-headerinfo&amp;redirect=https://www.php.net/manual/ru/function.imap-headerinfo.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.imap.php.html">Функции IMAP</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.imap-8bit.php.html" title="imap_&#8203;8bit">imap_&#8203;8bit</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-alerts.php.html" title="imap_&#8203;alerts">imap_&#8203;alerts</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-append.php.html" title="imap_&#8203;append">imap_&#8203;append</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-base64.php.html" title="imap_&#8203;base64">imap_&#8203;base64</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-binary.php.html" title="imap_&#8203;binary">imap_&#8203;binary</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-body.php.html" title="imap_&#8203;body">imap_&#8203;body</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-bodystruct.php.html" title="imap_&#8203;bodystruct">imap_&#8203;bodystruct</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-check.php.html" title="imap_&#8203;check">imap_&#8203;check</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-clearflag-full.php.html" title="imap_&#8203;clearflag_&#8203;full">imap_&#8203;clearflag_&#8203;full</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-close.php.html" title="imap_&#8203;close">imap_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-create.php.html" title="imap_&#8203;create">imap_&#8203;create</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-createmailbox.php.html" title="imap_&#8203;createmailbox">imap_&#8203;createmailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-delete.php.html" title="imap_&#8203;delete">imap_&#8203;delete</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-deletemailbox.php.html" title="imap_&#8203;deletemailbox">imap_&#8203;deletemailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-errors.php.html" title="imap_&#8203;errors">imap_&#8203;errors</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-expunge.php.html" title="imap_&#8203;expunge">imap_&#8203;expunge</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetch-overview.php.html" title="imap_&#8203;fetch_&#8203;overview">imap_&#8203;fetch_&#8203;overview</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchbody.php.html" title="imap_&#8203;fetchbody">imap_&#8203;fetchbody</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchheader.php.html" title="imap_&#8203;fetchheader">imap_&#8203;fetchheader</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchmime.php.html" title="imap_&#8203;fetchmime">imap_&#8203;fetchmime</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchstructure.php.html" title="imap_&#8203;fetchstructure">imap_&#8203;fetchstructure</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-fetchtext.php.html" title="imap_&#8203;fetchtext">imap_&#8203;fetchtext</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-gc.php.html" title="imap_&#8203;gc">imap_&#8203;gc</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-get-quota.php.html" title="imap_&#8203;get_&#8203;quota">imap_&#8203;get_&#8203;quota</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-get-quotaroot.php.html" title="imap_&#8203;get_&#8203;quotaroot">imap_&#8203;get_&#8203;quotaroot</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-getacl.php.html" title="imap_&#8203;getacl">imap_&#8203;getacl</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-getmailboxes.php.html" title="imap_&#8203;getmailboxes">imap_&#8203;getmailboxes</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-getsubscribed.php.html" title="imap_&#8203;getsubscribed">imap_&#8203;getsubscribed</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-header.php.html" title="imap_&#8203;header">imap_&#8203;header</a>
                        </li>
                                                <li class="current">
                            <a href="function.imap-headerinfo.php.html" title="imap_&#8203;headerinfo">imap_&#8203;headerinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-headers.php.html" title="imap_&#8203;headers">imap_&#8203;headers</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-is-open.php.html" title="imap_&#8203;is_&#8203;open">imap_&#8203;is_&#8203;open</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-last-error.php.html" title="imap_&#8203;last_&#8203;error">imap_&#8203;last_&#8203;error</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-list.php.html" title="imap_&#8203;list">imap_&#8203;list</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-listmailbox.php.html" title="imap_&#8203;listmailbox">imap_&#8203;listmailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-listscan.php.html" title="imap_&#8203;listscan">imap_&#8203;listscan</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-listsubscribed.php.html" title="imap_&#8203;listsubscribed">imap_&#8203;listsubscribed</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-lsub.php.html" title="imap_&#8203;lsub">imap_&#8203;lsub</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail-compose.php.html" title="imap_&#8203;mail_&#8203;compose">imap_&#8203;mail_&#8203;compose</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail-copy.php.html" title="imap_&#8203;mail_&#8203;copy">imap_&#8203;mail_&#8203;copy</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail-move.php.html" title="imap_&#8203;mail_&#8203;move">imap_&#8203;mail_&#8203;move</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mail.php.html" title="imap_&#8203;mail">imap_&#8203;mail</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mailboxmsginfo.php.html" title="imap_&#8203;mailboxmsginfo">imap_&#8203;mailboxmsginfo</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mime-header-decode.php.html" title="imap_&#8203;mime_&#8203;header_&#8203;decode">imap_&#8203;mime_&#8203;header_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-msgno.php.html" title="imap_&#8203;msgno">imap_&#8203;msgno</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-mutf7-to-utf8.php.html" title="imap_&#8203;mutf7_&#8203;to_&#8203;utf8">imap_&#8203;mutf7_&#8203;to_&#8203;utf8</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-num-msg.php.html" title="imap_&#8203;num_&#8203;msg">imap_&#8203;num_&#8203;msg</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-num-recent.php.html" title="imap_&#8203;num_&#8203;recent">imap_&#8203;num_&#8203;recent</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-open.php.html" title="imap_&#8203;open">imap_&#8203;open</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-ping.php.html" title="imap_&#8203;ping">imap_&#8203;ping</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-qprint.php.html" title="imap_&#8203;qprint">imap_&#8203;qprint</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rename.php.html" title="imap_&#8203;rename">imap_&#8203;rename</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-renamemailbox.php.html" title="imap_&#8203;renamemailbox">imap_&#8203;renamemailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-reopen.php.html" title="imap_&#8203;reopen">imap_&#8203;reopen</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rfc822-parse-adrlist.php.html" title="imap_&#8203;rfc822_&#8203;parse_&#8203;adrlist">imap_&#8203;rfc822_&#8203;parse_&#8203;adrlist</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rfc822-parse-headers.php.html" title="imap_&#8203;rfc822_&#8203;parse_&#8203;headers">imap_&#8203;rfc822_&#8203;parse_&#8203;headers</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-rfc822-write-address.php.html" title="imap_&#8203;rfc822_&#8203;write_&#8203;address">imap_&#8203;rfc822_&#8203;write_&#8203;address</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-savebody.php.html" title="imap_&#8203;savebody">imap_&#8203;savebody</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-scan.php.html" title="imap_&#8203;scan">imap_&#8203;scan</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-scanmailbox.php.html" title="imap_&#8203;scanmailbox">imap_&#8203;scanmailbox</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-search.php.html" title="imap_&#8203;search">imap_&#8203;search</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-set-quota.php.html" title="imap_&#8203;set_&#8203;quota">imap_&#8203;set_&#8203;quota</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-setacl.php.html" title="imap_&#8203;setacl">imap_&#8203;setacl</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-setflag-full.php.html" title="imap_&#8203;setflag_&#8203;full">imap_&#8203;setflag_&#8203;full</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-sort.php.html" title="imap_&#8203;sort">imap_&#8203;sort</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-status.php.html" title="imap_&#8203;status">imap_&#8203;status</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-subscribe.php.html" title="imap_&#8203;subscribe">imap_&#8203;subscribe</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-thread.php.html" title="imap_&#8203;thread">imap_&#8203;thread</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-timeout.php.html" title="imap_&#8203;timeout">imap_&#8203;timeout</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-uid.php.html" title="imap_&#8203;uid">imap_&#8203;uid</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-undelete.php.html" title="imap_&#8203;undelete">imap_&#8203;undelete</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-unsubscribe.php.html" title="imap_&#8203;unsubscribe">imap_&#8203;unsubscribe</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf7-decode.php.html" title="imap_&#8203;utf7_&#8203;decode">imap_&#8203;utf7_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf7-encode.php.html" title="imap_&#8203;utf7_&#8203;encode">imap_&#8203;utf7_&#8203;encode</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf8-to-mutf7.php.html" title="imap_&#8203;utf8_&#8203;to_&#8203;mutf7">imap_&#8203;utf8_&#8203;to_&#8203;mutf7</a>
                        </li>
                                                <li class="">
                            <a href="function.imap-utf8.php.html" title="imap_&#8203;utf8">imap_&#8203;utf8</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
