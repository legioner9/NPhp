<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: mcrypt_create_iv - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.mcrypt-create-iv.php.html">
 <link rel="shorturl" href="https://www.php.net/mcrypt-create-iv">
 <link rel="alternate" href="https://www.php.net/mcrypt-create-iv" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.mcrypt.php.html">
 <link rel="prev" href="ref.mcrypt.php.html">
 <link rel="next" href="function.mcrypt-decrypt.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.mcrypt-create-iv.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.mcrypt-create-iv.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.mcrypt-create-iv.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.mcrypt-create-iv.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.mcrypt-create-iv.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.mcrypt-create-iv.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.mcrypt-create-iv.php" hreflang="pt_BR">
 <link rel="alternate" href="function.mcrypt-create-iv.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.mcrypt-create-iv.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.mcrypt-create-iv.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.mcrypt-decrypt.php.html">
          mcrypt_decrypt &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="ref.mcrypt.php.html">
          &laquo; Mcrypt        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.crypto.php.html'>Криптографические модули</a></li>      <li><a href='book.mcrypt.php.html'>Mcrypt</a></li>      <li><a href='ref.mcrypt.php.html'>Mcrypt</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.mcrypt-create-iv.php'>English</option>
            <option value='de/function.mcrypt-create-iv.php'>German</option>
            <option value='es/function.mcrypt-create-iv.php'>Spanish</option>
            <option value='fr/function.mcrypt-create-iv.php'>French</option>
            <option value='it/function.mcrypt-create-iv.php'>Italian</option>
            <option value='ja/function.mcrypt-create-iv.php'>Japanese</option>
            <option value='pt_BR/function.mcrypt-create-iv.php'>Brazilian Portuguese</option>
            <option value='ru/function.mcrypt-create-iv.php' selected="selected">Russian</option>
            <option value='tr/function.mcrypt-create-iv.php'>Turkish</option>
            <option value='zh/function.mcrypt-create-iv.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/mcrypt/functions/mcrypt-create-iv.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.mcrypt-create-iv%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.mcrypt-create-iv" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mcrypt_create_iv</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7 &lt; 7.2.0, PECL mcrypt &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">mcrypt_create_iv</span> &mdash; <span class="dc-title">Создать инициализирующий вектор (Initialization Vector или IV) из случайного источника</span></p>

 </div>

 <div id="function.mcrypt-create-iv-refsynopsisdiv">
  <div class="warning"><strong class="warning">Внимание</strong>
   
<p class="para">
 Эта функция объявлена <em>УСТАРЕВШЕЙ</em> в PHP 7.1.0 и
 <em>УДАЛЕНА</em> в PHP 7.2.0.
</p>
<p class="para">
 Есть следующие альтернативы:
</p>

   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.random-bytes.php.html" class="function">random_bytes()</a></span></li>
   </ul>
  </div>
 </div>

 <div class="refsect1 description" id="refsect1-function.mcrypt-create-iv-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mcrypt_create_iv</strong></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$source</code><span class="initializer"> = MCRYPT_DEV_URANDOM</span></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Создаёт инициализирующий вектор из случайного источника.
  </p>
  <p class="para">
   IV предназначен только для задания альтернативного начального случайного числа для
   процедур шифрования. IV не обязательно должен быть секретным, хотя это и желательно.
   Вы даже можете отправить его вместе со своим зашифрованным текстом, не теряя при этом
   в безопасности.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mcrypt-create-iv-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">size</code></dt>

     <dd>

      <p class="para">
       Размер IV.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">source</code></dt>

     <dd>

      <p class="para">
       Источник IV. Источник может быть задан одной из констант:
       <strong><code>MCRYPT_RAND</code></strong> (системный генератор случайных чисел),
       <strong><code>MCRYPT_DEV_RANDOM</code></strong> (читает данные из
       <var class="filename">/dev/random</var>) или
       <strong><code>MCRYPT_DEV_URANDOM</code></strong> (читает данные из
       <var class="filename">/dev/urandom</var>). До версии 5.3.0, на Windows
       поддерживался только <strong><code>MCRYPT_RAND</code></strong>.
      </p>
      <p class="para">
       Обратите внимание, что до PHP 5.6.0 значением по умолчанию было
       <strong><code>MCRYPT_DEV_RANDOM</code></strong>.
      </p>
      <blockquote class="note"><p><strong class="note">Замечание</strong>: 
       <span class="simpara">
        Обратите внимание, что <strong><code>MCRYPT_DEV_RANDOM</code></strong> может
        блокироваться до появления достаточной энтропии.
       </span>
      </p></blockquote>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mcrypt-create-iv-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает инициализирующий вектор или <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mcrypt-create-iv-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="example-2734">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>mcrypt_create_iv()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />    $size </span><span style="color: #007700">= </span><span style="color: #0000BB">mcrypt_get_iv_size</span><span style="color: #007700">(</span><span style="color: #0000BB">MCRYPT_CAST_256</span><span style="color: #007700">, </span><span style="color: #0000BB">MCRYPT_MODE_CFB</span><span style="color: #007700">);<br />    </span><span style="color: #0000BB">$iv </span><span style="color: #007700">= </span><span style="color: #0000BB">mcrypt_create_iv</span><span style="color: #007700">(</span><span style="color: #0000BB">$size</span><span style="color: #007700">, </span><span style="color: #0000BB">MCRYPT_DEV_RANDOM</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mcrypt-create-iv-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="http://www.ciphersbyritter.com/GLOSSARY.HTM#IV" class="link external">&raquo;&nbsp;http://www.ciphersbyritter.com/GLOSSARY.HTM#IV</a></li>
    <li class="member"><a href="http://www.quadibloc.com/crypto/co0409.htm" class="link external">&raquo;&nbsp;http://www.quadibloc.com/crypto/co0409.htm</a></li>
    <li class="member">Applied Cryptography by Schneier (ISBN 0-471-11709-9), раздел 9.3 </li>
    <li class="member"><span class="function"><a href="function.random-bytes.php.html" class="function" rel="rdfs-seeAlso">random_bytes()</a> - Получает криптографически безопасные случайные байты</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.mcrypt-create-iv&amp;redirect=https://www.php.net/manual/ru/function.mcrypt-create-iv.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">13 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="114645">  <div class="votes">
    <div id="Vu114645">
    <a href="https://www.php.net/manual/vote-note.php?id=114645&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114645">
    <a href="https://www.php.net/manual/vote-note.php?id=114645&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114645" title="84% like this...">
    45
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#114645" class="name">
  <strong class="user"><em>Graham</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#114645"> &para;</a><div class="date" title="2014-03-16 11:35"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114645">
<div class="phpcode"><code><span class="html">In relation to all of the crypto "advice" seen here, my suggestion is that you ignore most of it. Some of it is good, some of it is bad, but most of it skips the critical issues.<br /><br />I had hoped to write out a nice long explanation, but PHP's commenting system tells me my essay is too long. Instead I will say this:<br /><br />You should use CBC, with a randomly chosen IV that is unique per key, and you should transmit that IV in the clear along with your ciphertext. You should also perform an authenticity check of that entire data blob, using something like HMAC-SHA256, with another independent key.<br /><br />Here's the full-text of what I was going to write: <a href="http://pastebin.com/sN6buivY" rel="nofollow" target="_blank">http://pastebin.com/sN6buivY</a><br /><br />If you're interested in this stuff, or just want more information, check out the Wikipedia articles around block cipher modes, block ciphers, HMAC, etc.<br /><br />I also suggest reading Practical Cryptography by Bruce Schneier, as well as Cryptography Engineering by Niels Ferguson, both of which are very easy-to-digest books on practical cryptography.</span></code></div>
  </div>
 </div>
  <div class="note" id="70947">  <div class="votes">
    <div id="Vu70947">
    <a href="https://www.php.net/manual/vote-note.php?id=70947&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd70947">
    <a href="https://www.php.net/manual/vote-note.php?id=70947&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V70947" title="76% like this...">
    16
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#70947" class="name">
  <strong class="user"><em>Chris</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#70947"> &para;</a><div class="date" title="2006-11-05 03:07"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom70947">
<div class="phpcode"><code><span class="html">&gt;First, the IV should be random and variable. The whole &gt;point of it is to ensure that the same plaintext does not &gt;encrypt to the same ciphertext every time. You most &gt;certainly do lose security if the IV is constant or public.<br /><br />Wrong, Wrong WRONG! The initialization vector is ALLOWED to be PUBLIC! It is generally sent along with the ciphertext, UNENCRYPTED.<br /><br />&gt;The ciphertext should be E(IV | plaintext, key)<br /><br />Wrong again! The initialization vector is NOT prepended to the plaintext before encryption. The IV is used to seed the feedback system! (which is why you don't need one in ECB mode - there is no feedback)<br /><br />&gt;Second, the IV should not be part of the decryption &gt;parameters at all. You should be able to decrypt the cipher &gt;text, throw away the initial vector at the front w/o even &gt;reading it, and have your plaintext:<br /><br />Nope. You need to seed the feedback mechanism during decryption to the SAME state as it was seeded during encryption. This means using the SAME IV!</span></code></div>
  </div>
 </div>
  <div class="note" id="109079">  <div class="votes">
    <div id="Vu109079">
    <a href="https://www.php.net/manual/vote-note.php?id=109079&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109079">
    <a href="https://www.php.net/manual/vote-note.php?id=109079&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109079" title="77% like this...">
    5
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#109079" class="name">
  <strong class="user"><em>nils at nm dot cx</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#109079"> &para;</a><div class="date" title="2012-06-19 12:26"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109079">
<div class="phpcode"><code><span class="html">If you use /dev/random you need a well filled entropy pool or the application will block until enough good entropy comes available</span></code></div>
  </div>
 </div>
  <div class="note" id="108479">  <div class="votes">
    <div id="Vu108479">
    <a href="https://www.php.net/manual/vote-note.php?id=108479&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108479">
    <a href="https://www.php.net/manual/vote-note.php?id=108479&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108479" title="68% like this...">
    6
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#108479" class="name">
  <strong class="user"><em>hans at llis dot nl</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#108479"> &para;</a><div class="date" title="2012-04-29 10:01"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108479">
<div class="phpcode"><code><span class="html">This does NOT generate randomly distributed IV's on all systems and therefore poses a big security risk. Using a script (based on the one that Alex Khimch's posted on the rand() page) one can easily check this:<br /><br /><span class="default">&lt;?php<br /><br />$td </span><span class="keyword">= </span><span class="default">mcrypt_module_open </span><span class="keyword">(</span><span class="default">MCRYPT_RIJNDAEL_256</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">, </span><span class="default">MCRYPT_MODE_CBC</span><span class="keyword">, </span><span class="string">""</span><span class="keyword">);<br /></span><span class="default">$iv </span><span class="keyword">= </span><span class="default">mcrypt_create_iv </span><span class="keyword">(</span><span class="default">mcrypt_enc_get_iv_size </span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">), </span><span class="default">MCRYPT_DEV_RANDOM</span><span class="keyword">);<br /><br /></span><span class="comment">// header("Content-type: image/png");<br /></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br /><br /></span><span class="default">$ink </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br />for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">255</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />  for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">255</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++) {<br />  </span><span class="default">$twobytes </span><span class="keyword">= </span><span class="default">substr </span><span class="keyword">(</span><span class="default">$iv</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />  </span><span class="default">$iv </span><span class="keyword">= </span><span class="default">substr </span><span class="keyword">(</span><span class="default">$iv</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />  if (!</span><span class="default">strlen </span><span class="keyword">(</span><span class="default">$iv</span><span class="keyword">)) </span><span class="default">$iv </span><span class="keyword">= </span><span class="default">mcrypt_create_iv </span><span class="keyword">(</span><span class="default">mcrypt_enc_get_iv_size </span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">), </span><span class="default">MCRYPT_RAND</span><span class="keyword">);<br /><br />  </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$twobytes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]), </span><span class="default">ord</span><span class="keyword">(</span><span class="default">$twobytes</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]), </span><span class="default">$ink</span><span class="keyword">);<br />  }<br />}<br /><br /></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />The resulting image should show random noise, but on the windows systems I tested (running PHP 5.3.x) it showed very distinct patterns.</span></code></div>
  </div>
 </div>
  <div class="note" id="40434">  <div class="votes">
    <div id="Vu40434">
    <a href="https://www.php.net/manual/vote-note.php?id=40434&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd40434">
    <a href="https://www.php.net/manual/vote-note.php?id=40434&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V40434" title="64% like this...">
    5
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#40434" class="name">
  <strong class="user"><em>robert at peakepro dot com</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#40434"> &para;</a><div class="date" title="2004-03-03 12:25"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom40434">
<div class="phpcode"><code><span class="html">It is important to note that all cipher modes except ecb require the same IV to be used in decryption as was used in encryption. <br /><br />You need to pass the key *and* the IV to your decrypt function. Initializing a new IV in the decrypt routine will not work.<br /><br />Since, "you even can send [the IV] along with your ciphertext without  loosing security," a nice way to handle this is to prepend your IV to your ciphertext. Since the IV is fixed-width, you can then easily recover the IV and original ciphertext using mcrypt_get_iv_size() and substr().<br /><br />Here is an example:<br /><br /><span class="default">&lt;?PHP<br /></span><span class="keyword">function </span><span class="default">my_encrypt</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">) {<br />   </span><span class="default">srand</span><span class="keyword">((double) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">1000000</span><span class="keyword">); </span><span class="comment">//for sake of MCRYPT_RAND<br />   </span><span class="default">$key </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">); </span><span class="comment">//to improve variance<br />  /* Open module, and create IV */<br />  </span><span class="default">$td </span><span class="keyword">= </span><span class="default">mcrypt_module_open</span><span class="keyword">(</span><span class="string">'des'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">,</span><span class="string">'cfb'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br />  </span><span class="default">$key </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">mcrypt_enc_get_key_size</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">));<br />  </span><span class="default">$iv_size </span><span class="keyword">= </span><span class="default">mcrypt_enc_get_iv_size</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">);<br />  </span><span class="default">$iv </span><span class="keyword">= </span><span class="default">mcrypt_create_iv</span><span class="keyword">(</span><span class="default">$iv_size</span><span class="keyword">, </span><span class="default">MCRYPT_RAND</span><span class="keyword">);<br />  </span><span class="comment">/* Initialize encryption handle */<br />   </span><span class="keyword">if (</span><span class="default">mcrypt_generic_init</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$iv</span><span class="keyword">) != -</span><span class="default">1</span><span class="keyword">) {<br /><br />      </span><span class="comment">/* Encrypt data */<br />      </span><span class="default">$c_t </span><span class="keyword">= </span><span class="default">mcrypt_generic</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />      </span><span class="default">mcrypt_generic_deinit</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">);<br />      </span><span class="default">mcrypt_module_close</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">);<br />       </span><span class="default">$c_t </span><span class="keyword">= </span><span class="default">$iv</span><span class="keyword">.</span><span class="default">$c_t</span><span class="keyword">;<br />       return </span><span class="default">$c_t</span><span class="keyword">;<br />   } </span><span class="comment">//end if<br /></span><span class="keyword">}<br /><br />function </span><span class="default">my_decrypt</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$key</span><span class="keyword">) {<br />   </span><span class="default">$key </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">); </span><span class="comment">//to improve variance<br />  /* Open module, and create IV */<br />  </span><span class="default">$td </span><span class="keyword">= </span><span class="default">mcrypt_module_open</span><span class="keyword">(</span><span class="string">'des'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">,</span><span class="string">'cfb'</span><span class="keyword">, </span><span class="string">''</span><span class="keyword">);<br />  </span><span class="default">$key </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">mcrypt_enc_get_key_size</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">));<br />  </span><span class="default">$iv_size </span><span class="keyword">= </span><span class="default">mcrypt_enc_get_iv_size</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">);<br />  </span><span class="default">$iv </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$iv_size</span><span class="keyword">);<br />  </span><span class="default">$string </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">,</span><span class="default">$iv_size</span><span class="keyword">);<br />  </span><span class="comment">/* Initialize encryption handle */<br />   </span><span class="keyword">if (</span><span class="default">mcrypt_generic_init</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$iv</span><span class="keyword">) != -</span><span class="default">1</span><span class="keyword">) {<br /><br />      </span><span class="comment">/* Encrypt data */<br />      </span><span class="default">$c_t </span><span class="keyword">= </span><span class="default">mdecrypt_generic</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />      </span><span class="default">mcrypt_generic_deinit</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">);<br />      </span><span class="default">mcrypt_module_close</span><span class="keyword">(</span><span class="default">$td</span><span class="keyword">);<br />       return </span><span class="default">$c_t</span><span class="keyword">;<br />   } </span><span class="comment">//end if<br /></span><span class="keyword">}<br /></span><span class="comment">// to test:<br />//print my_decrypt(my_encrypt("Hello, world.","foo"),"foo");<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="68054">  <div class="votes">
    <div id="Vu68054">
    <a href="https://www.php.net/manual/vote-note.php?id=68054&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68054">
    <a href="https://www.php.net/manual/vote-note.php?id=68054&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68054" title="66% like this...">
    2
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#68054" class="name">
  <strong class="user"><em>kkaiser at dataresolutions dot com</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#68054"> &para;</a><div class="date" title="2006-07-11 01:26"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom68054">
<div class="phpcode"><code><span class="html">After profiling a rather large, dynamic website I maintain to determine the cause of intermittent freezing in execution, I found that calls to mcrypt_create_iv() using MCRYPT_DEV_RANDOM as the source consistently halted execution for anywhere from 0.2 to ~12 seconds per call, ironically at random. I'm making the assumption that the halts were caused by insufficient random input being currently available in /dev/random due to its intended function to block until enough random input is provided back to the device. I've found it to be sufficient for my needs to use a modified version of the alt_mcrypt_create_iv() function found below.<br /><br />Although untested, I assume using MCRYPT_DEV_URANDOM or a combination of MCRYPT_DEV_RAND with srand() would've solved the problem as well; I found out after the fact that /dev/urandom's intended function is to seamlessly provide cryptographically secure output from the random number generator when the /dev/urandom buffer was empty, and MCRYPT_DEV_RAND would simply use the same rand() function as alt_mcrypt_create_iv().<br /><br />-Kevin Kaiser</span></code></div>
  </div>
 </div>
  <div class="note" id="40878">  <div class="votes">
    <div id="Vu40878">
    <a href="https://www.php.net/manual/vote-note.php?id=40878&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd40878">
    <a href="https://www.php.net/manual/vote-note.php?id=40878&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V40878" title="66% like this...">
    2
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#40878" class="name">
  <strong class="user"><em>tim at indigopixel dot com</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#40878"> &para;</a><div class="date" title="2004-03-17 04:32"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom40878">
<div class="phpcode"><code><span class="html">From <a href="http://www.ciphersbyritter.com/GLOSSARY.HTM#IV" rel="nofollow" target="_blank">http://www.ciphersbyritter.com/GLOSSARY.HTM#IV</a> (linked to above): <br /><br />"While it is often said that IV values need only be random-like or unpredictable, and need not be confidential, in the case of CBC mode, that advice can lead to man-in-the-middle attacks on the first plaintext block. If a MITM opponent knows the usual content of the first block, they can change the IV to manipulate that block (and only that block) to deliver a different address, or different dollar amounts, or different commands, or whatever. And while the conventional advice is to use a MAC at a higher level to detect changed plaintext, that is not always desirable or properly executed. But the CBC first-block problem is easily solved at the CBC level simply by enciphering the IV and otherwise keeping it confidential, and that can be reasonable even when a MAC will be used later."</span></code></div>
  </div>
 </div>
  <div class="note" id="117204">  <div class="votes">
    <div id="Vu117204">
    <a href="https://www.php.net/manual/vote-note.php?id=117204&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117204">
    <a href="https://www.php.net/manual/vote-note.php?id=117204&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117204" title="57% like this...">
    1
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#117204" class="name">
  <strong class="user"><em>wschalle at gmail dot com</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#117204"> &para;</a><div class="date" title="2015-05-01 02:21"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117204">
<div class="phpcode"><code><span class="html">hans at illis dot nl's demonstration code is incorrect. In the loop, he uses:<br /><br />$iv = mcrypt_create_iv (mcrypt_enc_get_iv_size ($td), MCRYPT_RAND);<br /><br />When it should actually be:<br /><br />$iv = mcrypt_create_iv (mcrypt_enc_get_iv_size ($td), MCRYPT_DEV_URANDOM);<br /><br />This produces consistent results on Windows.</span></code></div>
  </div>
 </div>
  <div class="note" id="116309">  <div class="votes">
    <div id="Vu116309">
    <a href="https://www.php.net/manual/vote-note.php?id=116309&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116309">
    <a href="https://www.php.net/manual/vote-note.php?id=116309&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116309" title="57% like this...">
    1
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#116309" class="name">
  <strong class="user"><em>joseph dot t dot fallon at gmail dot com</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#116309"> &para;</a><div class="date" title="2014-12-10 07:32"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116309">
<div class="phpcode"><code><span class="html">Block ciphers, at their core, are a pair of transformation algorithms, called transforms. One encrypts, one decrypts - in some cases the algorithms are one and the same, but that's not important. A block transform takes a fixed-length block of plaintext, transforms it using a secret key of some chosen size, and produces an identical-length block of ciphertext. Or, of course, vice versa (decryption).<br /> <br />The security model of a block cipher is, simplistically at least, defined to be "if you encrypt one block of plaintext with a randomly chosen key, it will be computationally infeasible for an attacker with knowledge of only the ciphertext (i.e. he does not know the key) to discover information about the contents of the plaintext". The reality is slightly different - there are also clauses around knowing part of the plaintext and not being able to discover any more of it - but that's another story.<br /> <br />Once you start encrypting more than one block of plaintext using the same block transform and the same key, all bets are off. In the Electronic Codebook (ECB) cipher mode, each block of plaintext is independently transformed using the same key. This leads to a problem: identical plaintext blocks produce identical ciphertext blocks, when the same key is used. This means that "patterns" in the data can be seen, especially in data formats that have repeating patterns or long sequences of identical data. This is best described visually, with an ECB-encrypted bitmap. See the Wikipedia article on ECB for a demonstration of this.</span></code></div>
  </div>
 </div>
  <div class="note" id="85954">  <div class="votes">
    <div id="Vu85954">
    <a href="https://www.php.net/manual/vote-note.php?id=85954&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85954">
    <a href="https://www.php.net/manual/vote-note.php?id=85954&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85954" title="57% like this...">
    1
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#85954" class="name">
  <strong class="user"><em>Matthew</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#85954"> &para;</a><div class="date" title="2008-09-25 07:09"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85954">
<div class="phpcode"><code><span class="html">I encrypt a few items on a page in a project i am working on and I have found the IV create function to introduce huge delays in rendering the page too (I noticed someone else here had this problem).<br /><br />It's quite common for a 4 second render time for what should be a snappy site. I would recommend that if speed is essential that an alternative method be used to create your IV (such as the one below if you feel it secure enough).<br /><br />After using an alternative IV creation method my page went from a 4 second render to a 0.01 second render time.</span></code></div>
  </div>
 </div>
  <div class="note" id="57873">  <div class="votes">
    <div id="Vu57873">
    <a href="https://www.php.net/manual/vote-note.php?id=57873&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd57873">
    <a href="https://www.php.net/manual/vote-note.php?id=57873&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V57873" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#57873" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#57873"> &para;</a><div class="date" title="2005-10-17 09:01"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom57873">
<div class="phpcode"><code><span class="html">At:<br />edwardzyang at thewritingpot dot com<br />19-Jul-2005 10:06<br /><br />This is because of the fact, that (like described in the manual above) this function does NOT reseed the random number generator, in contrary to rand(). Use srand() like suggested above to get correct IVs.</span></code></div>
  </div>
 </div>
  <div class="note" id="115606">  <div class="votes">
    <div id="Vu115606">
    <a href="https://www.php.net/manual/vote-note.php?id=115606&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115606">
    <a href="https://www.php.net/manual/vote-note.php?id=115606&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115606" title="37% like this...">
    -2
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#115606" class="name">
  <strong class="user"><em>Mahn</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#115606"> &para;</a><div class="date" title="2014-08-24 12:50"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115606">
<div class="phpcode"><code><span class="html">Specify MCRYPT_RAND in the second parameter if this function randomly hangs in your requests.</span></code></div>
  </div>
 </div>
  <div class="note" id="19647">  <div class="votes">
    <div id="Vu19647">
    <a href="https://www.php.net/manual/vote-note.php?id=19647&amp;page=function.mcrypt-create-iv&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd19647">
    <a href="https://www.php.net/manual/vote-note.php?id=19647&amp;page=function.mcrypt-create-iv&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V19647" title="23% like this...">
    -7
    </div>
  </div>
  <a href="function.mcrypt-create-iv.php.html#19647" class="name">
  <strong class="user"><em>fandelem at hotmail dot com</em></strong></a><a class="genanchor" href="function.mcrypt-create-iv.php.html#19647"> &para;</a><div class="date" title="2002-03-06 03:59"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom19647">
<div class="phpcode"><code><span class="html">note: if you are experiencing a problem about complaining that the second parameter has to be a 'long' and you are giving a 'string' (for me, it was using MCRYPT_URANDOM) you might want to try MCRYPT_DEV_URANDOM :)</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.mcrypt-create-iv&amp;redirect=https://www.php.net/manual/ru/function.mcrypt-create-iv.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.mcrypt.php.html">Mcrypt</a>

                                    <ul class='child-menu-list'>

                                                <li class="current">
                            <a href="function.mcrypt-create-iv.php.html" title="mcrypt_&#8203;create_&#8203;iv">mcrypt_&#8203;create_&#8203;iv</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-decrypt.php.html" title="mcrypt_&#8203;decrypt">mcrypt_&#8203;decrypt</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-get-algorithms-name.php.html" title="mcrypt_&#8203;enc_&#8203;get_&#8203;algorithms_&#8203;name">mcrypt_&#8203;enc_&#8203;get_&#8203;algorithms_&#8203;name</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-get-block-size.php.html" title="mcrypt_&#8203;enc_&#8203;get_&#8203;block_&#8203;size">mcrypt_&#8203;enc_&#8203;get_&#8203;block_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-get-iv-size.php.html" title="mcrypt_&#8203;enc_&#8203;get_&#8203;iv_&#8203;size">mcrypt_&#8203;enc_&#8203;get_&#8203;iv_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-get-key-size.php.html" title="mcrypt_&#8203;enc_&#8203;get_&#8203;key_&#8203;size">mcrypt_&#8203;enc_&#8203;get_&#8203;key_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-get-modes-name.php.html" title="mcrypt_&#8203;enc_&#8203;get_&#8203;modes_&#8203;name">mcrypt_&#8203;enc_&#8203;get_&#8203;modes_&#8203;name</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-get-supported-key-sizes.php.html" title="mcrypt_&#8203;enc_&#8203;get_&#8203;supported_&#8203;key_&#8203;sizes">mcrypt_&#8203;enc_&#8203;get_&#8203;supported_&#8203;key_&#8203;sizes</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-is-block-algorithm-mode.php.html" title="mcrypt_&#8203;enc_&#8203;is_&#8203;block_&#8203;algorithm_&#8203;mode">mcrypt_&#8203;enc_&#8203;is_&#8203;block_&#8203;algorithm_&#8203;mode</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-is-block-algorithm.php.html" title="mcrypt_&#8203;enc_&#8203;is_&#8203;block_&#8203;algorithm">mcrypt_&#8203;enc_&#8203;is_&#8203;block_&#8203;algorithm</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-is-block-mode.php.html" title="mcrypt_&#8203;enc_&#8203;is_&#8203;block_&#8203;mode">mcrypt_&#8203;enc_&#8203;is_&#8203;block_&#8203;mode</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-enc-self-test.php.html" title="mcrypt_&#8203;enc_&#8203;self_&#8203;test">mcrypt_&#8203;enc_&#8203;self_&#8203;test</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-encrypt.php.html" title="mcrypt_&#8203;encrypt">mcrypt_&#8203;encrypt</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-generic-deinit.php.html" title="mcrypt_&#8203;generic_&#8203;deinit">mcrypt_&#8203;generic_&#8203;deinit</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-generic-init.php.html" title="mcrypt_&#8203;generic_&#8203;init">mcrypt_&#8203;generic_&#8203;init</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-generic.php.html" title="mcrypt_&#8203;generic">mcrypt_&#8203;generic</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-get-block-size.php.html" title="mcrypt_&#8203;get_&#8203;block_&#8203;size">mcrypt_&#8203;get_&#8203;block_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-get-cipher-name.php.html" title="mcrypt_&#8203;get_&#8203;cipher_&#8203;name">mcrypt_&#8203;get_&#8203;cipher_&#8203;name</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-get-iv-size.php.html" title="mcrypt_&#8203;get_&#8203;iv_&#8203;size">mcrypt_&#8203;get_&#8203;iv_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-get-key-size.php.html" title="mcrypt_&#8203;get_&#8203;key_&#8203;size">mcrypt_&#8203;get_&#8203;key_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-list-algorithms.php.html" title="mcrypt_&#8203;list_&#8203;algorithms">mcrypt_&#8203;list_&#8203;algorithms</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-list-modes.php.html" title="mcrypt_&#8203;list_&#8203;modes">mcrypt_&#8203;list_&#8203;modes</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-close.php.html" title="mcrypt_&#8203;module_&#8203;close">mcrypt_&#8203;module_&#8203;close</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-get-algo-block-size.php.html" title="mcrypt_&#8203;module_&#8203;get_&#8203;algo_&#8203;block_&#8203;size">mcrypt_&#8203;module_&#8203;get_&#8203;algo_&#8203;block_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-get-algo-key-size.php.html" title="mcrypt_&#8203;module_&#8203;get_&#8203;algo_&#8203;key_&#8203;size">mcrypt_&#8203;module_&#8203;get_&#8203;algo_&#8203;key_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-get-supported-key-sizes.php.html" title="mcrypt_&#8203;module_&#8203;get_&#8203;supported_&#8203;key_&#8203;sizes">mcrypt_&#8203;module_&#8203;get_&#8203;supported_&#8203;key_&#8203;sizes</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-is-block-algorithm-mode.php.html" title="mcrypt_&#8203;module_&#8203;is_&#8203;block_&#8203;algorithm_&#8203;mode">mcrypt_&#8203;module_&#8203;is_&#8203;block_&#8203;algorithm_&#8203;mode</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-is-block-algorithm.php.html" title="mcrypt_&#8203;module_&#8203;is_&#8203;block_&#8203;algorithm">mcrypt_&#8203;module_&#8203;is_&#8203;block_&#8203;algorithm</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-is-block-mode.php.html" title="mcrypt_&#8203;module_&#8203;is_&#8203;block_&#8203;mode">mcrypt_&#8203;module_&#8203;is_&#8203;block_&#8203;mode</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-open.php.html" title="mcrypt_&#8203;module_&#8203;open">mcrypt_&#8203;module_&#8203;open</a>
                        </li>
                                                <li class="">
                            <a href="function.mcrypt-module-self-test.php.html" title="mcrypt_&#8203;module_&#8203;self_&#8203;test">mcrypt_&#8203;module_&#8203;self_&#8203;test</a>
                        </li>
                                                <li class="">
                            <a href="function.mdecrypt-generic.php.html" title="mdecrypt_&#8203;generic">mdecrypt_&#8203;generic</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
