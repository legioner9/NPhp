<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: mysql_connect - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.mysql-connect.php.html">
 <link rel="shorturl" href="https://www.php.net/mysql-connect">
 <link rel="alternate" href="https://www.php.net/mysql-connect" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.mysql.php.html">
 <link rel="prev" href="function.mysql-close.php.html">
 <link rel="next" href="function.mysql-create-db.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.mysql-connect.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.mysql-connect.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.mysql-connect.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.mysql-connect.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.mysql-connect.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.mysql-connect.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.mysql-connect.php" hreflang="pt_BR">
 <link rel="alternate" href="function.mysql-connect.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.mysql-connect.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.mysql-connect.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.mysql-create-db.php.html">
          mysql_create_db &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.mysql-close.php.html">
          &laquo; mysql_close        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.database.php.html'>Модули для работы с базами данных</a></li>      <li><a href='refs.database.vendors.php.html'>Модули для работы с базами данных отдельных производителей</a></li>      <li><a href='set.mysqlinfo.php.html'>MySQL</a></li>      <li><a href='book.mysql.php.html'>MySQL (Original)</a></li>      <li><a href='ref.mysql.php.html'>MySQL</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.mysql-connect.php'>English</option>
            <option value='de/function.mysql-connect.php'>German</option>
            <option value='es/function.mysql-connect.php'>Spanish</option>
            <option value='fr/function.mysql-connect.php'>French</option>
            <option value='it/function.mysql-connect.php'>Italian</option>
            <option value='ja/function.mysql-connect.php'>Japanese</option>
            <option value='pt_BR/function.mysql-connect.php'>Brazilian Portuguese</option>
            <option value='ru/function.mysql-connect.php' selected="selected">Russian</option>
            <option value='tr/function.mysql-connect.php'>Turkish</option>
            <option value='zh/function.mysql-connect.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/mysql/functions/mysql-connect.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.mysql-connect%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.mysql-connect" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysql_connect</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">mysql_connect</span> &mdash; <span class="dc-title">Открывает соединение с сервером MySQL</span></p>

 </div>

 <div id="function.mysql-connect-refsynopsisdiv">
  <div class="warning"><strong class="warning">Внимание</strong>
   <p class="para">Данный модуль устарел начиная с версии PHP 5.5.0, и удалён в PHP 7.0.0.
Используйте вместо него <a href="book.mysqli.php.html" class="link">MySQLi</a> или <a href="ref.pdo-mysql.php.html" class="link">PDO_MySQL</a>.
Смотрите также инструкцию <a href="mysqlinfo.api.choosing.php.html" class="link">MySQL: выбор API</a>.
Альтернативы для этой функции:</p>
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mysqli-connect.php.html" class="function">mysqli_connect()</a></span></li>
    <li class="member"><span class="methodname"><a href="pdo.construct.php.html" class="methodname">PDO::__construct()</a></span></li>
   </ul>
  </div>
 </div>

 <div class="refsect1 description" id="refsect1-function.mysql-connect-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mysql_connect</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$server</code><span class="initializer"> = ini_get(&quot;mysql.default_host&quot;)</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$username</code><span class="initializer"> = ini_get(&quot;mysql.default_user&quot;)</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code><span class="initializer"> = ini_get(&quot;mysql.default_password&quot;)</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">bool</span> <code class="parameter">$new_link</code><span class="initializer"> = <strong><code>false</code></strong></span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">int</span> <code class="parameter">$client_flags</code><span class="initializer"> = 0</span></span><br>): <span class="type"><span class="type">resource</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Открывает новое соединение с сервером MySQL или использует
   уже существующее.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mysql-connect-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">server</code></dt>

     <dd>

      <p class="para">
       Сервер MySQL. Может также включать номер порта, например,
       &quot;hostname:port&quot; или путь к локальному сокету, например,
       &quot;:/path/to/socket&quot; для локального сервера.
      </p>
      <p class="para">
       Если PHP-директива <a href="mysql.configuration.php.html#ini.mysql.default-host" class="link">
       mysql.default_host</a> не определена (по умолчанию), то
       значением по умолчанию является &#039;localhost:3306&#039;.
       В <a href="ini.core.php.html#ini.sql.safe-mode" class="link">SQL safe mode</a> этот параметр игнорируется и всегда используется
       значение &#039;localhost:3306&#039;.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">username</code></dt>

     <dd>

      <p class="para">
       Имя пользователя. Значение по умолчанию определяется
       директивой <a href="mysql.configuration.php.html#ini.mysql.default-user" class="link">mysql.default_user</a>.
       В <a href="ini.core.php.html#ini.sql.safe-mode" class="link">SQL safe mode</a> этот параметр будет проигнорирован и будет
       использован пользователь, владеющий процессом сервера.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">password</code></dt>

     <dd>

      <p class="para">
       Пароль. Значение по умолчанию определяется директивой
       <a href="mysql.configuration.php.html#ini.mysql.default-password" class="link">mysql.default_password</a>.
       В <a href="ini.core.php.html#ini.sql.safe-mode" class="link">SQL safe mode</a> этот параметр будет проигнорирован и в качестве
       пароля будет использована пустая строка.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">new_link</code></dt>

     <dd>

      <p class="para">
       Если второй вызов функции <span class="function"><strong>mysql_connect()</strong></span>
       произошёл с теми же аргументами, то новое соединение не будет
       установлено. Вместо этого функция вернёт ссылку
       на уже установленное соединение. Параметр
       <code class="parameter">new_link</code> может заставить
       функцию <span class="function"><strong>mysql_connect()</strong></span> открыть ещё одно
       соединение, даже если соединение с аналогичными параметрами
       уже открыто.
       В <a href="ini.core.php.html#ini.sql.safe-mode" class="link">SQL safe mode</a> этот параметр игнорируется.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">client_flags</code></dt>

     <dd>

      <p class="para">
       Параметр <code class="parameter">client_flags</code> должен быть комбинацией из
       следующих констант:
       128 (включает обработку <code class="literal">LOAD DATA LOCAL</code>),
       <strong><code>MYSQL_CLIENT_SSL</code></strong>,
       <strong><code>MYSQL_CLIENT_COMPRESS</code></strong>,
       <strong><code>MYSQL_CLIENT_IGNORE_SPACE</code></strong> or
       <strong><code>MYSQL_CLIENT_INTERACTIVE</code></strong>.
       Подробнее читайте в разделе <a href="mysql.constants.php.html#mysql.client-flags" class="xref">Клиентские константы MySQL</a>.
       В <a href="ini.core.php.html#ini.sql.safe-mode" class="link">SQL safe mode</a> этот параметр игнорируется.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mysql-connect-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает дескриптор соединения с MySQL в случае успешного
   выполнения или <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mysql-connect-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="example-5263">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>mysql_connect()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$link </span><span style="color: #007700">= </span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Ошибка соединения: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br />echo </span><span style="color: #DD0000">'Успешно соединились'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5266">
    <p><strong>Пример #2 Пример использования <span class="function"><strong>mysql_connect()</strong></span> с синтаксисом <code class="literal">hostname:port</code></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// соединяемся с example.com на порту 3307<br /></span><span style="color: #0000BB">$link </span><span style="color: #007700">= </span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'example.com:3307'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Ошибка соединения: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br />echo </span><span style="color: #DD0000">'Успешно соединились'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// соединяемся с localhost на порту 3307<br /></span><span style="color: #0000BB">$link </span><span style="color: #007700">= </span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'127.0.0.1:3307'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Ошибка соединения: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br />echo </span><span style="color: #DD0000">'Успешно соединились'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-5269">
    <p><strong>Пример #3 Пример использования <span class="function"><strong>mysql_connect()</strong></span> с синтаксисом &quot;:/path/to/socket&quot;</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// соединяемся к localhost по сокету, т.е. /tmp/mysql.sock<br /><br />// вариант 1: не указываем localhost<br /></span><span style="color: #0000BB">$link </span><span style="color: #007700">= </span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">':/tmp/mysql'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Ошибка соединения: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br />echo </span><span style="color: #DD0000">'Успешно соединились'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">// вариант 2: указываем localhost<br /></span><span style="color: #0000BB">$link </span><span style="color: #007700">= </span><span style="color: #0000BB">mysql_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'localhost:/tmp/mysql.sock'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_user'</span><span style="color: #007700">, </span><span style="color: #DD0000">'mysql_password'</span><span style="color: #007700">);<br />if (!</span><span style="color: #0000BB">$link</span><span style="color: #007700">) {<br />    die(</span><span style="color: #DD0000">'Ошибка соединения: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">mysql_error</span><span style="color: #007700">());<br />}<br />echo </span><span style="color: #DD0000">'Успешно соединились'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">mysql_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.mysql-connect-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    При указании параметру <code class="parameter">server</code> значения
    &quot;localhost&quot; или &quot;localhost:port&quot; клиентская
    библиотека MySQL будет пытаться соединиться с локальным сокетом.
    Если вы всё же хотите использовать TCP/IP, используйте адрес
    &quot;127.0.0.1&quot; вместо &quot;localhost&quot;. Если
    клиентская библиотека пытается подключиться не к тому
    локальному сокету, правильный путь должен быть установлен через указание директивы <var class="filename">php.ini</var>
    <a href="mysql.configuration.php.html#ini.mysql.default-host" class="link">mysql.default_host</a> в <var class="filename">php.ini</var>,
    после чего можно оставлять параметр <code class="parameter">server</code> пустым.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Соединение с сервером будет закрыто при завершении исполнения
    скрипта, если только до этого оно не было закрыто с помощью
    функции <span class="function"><a href="function.mysql-close.php.html" class="function">mysql_close()</a></span>.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Ошибка &quot;Can&#039;t create TCP/IP socket (10106)&quot;
    (Невозможно создать сокет TCP/IP) обычно означает, что
    конфигурационная директива <a href="ini.core.php.html#ini.variables-order" class="link">variables_order</a>
    не содержит символ <code class="literal">E</code>. В Windows, если в окружение
    не будет скопирована переменная окружения
    <code class="literal">SYSTEMROOT</code>, то PHP будет испытывать проблемы
    при загрузке Winsock.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mysql-connect-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mysql-pconnect.php.html" class="function" rel="rdfs-seeAlso">mysql_pconnect()</a> - Устанавливает постоянное соединение с сервером MySQL</span></li>
    <li class="member"><span class="function"><a href="function.mysql-close.php.html" class="function" rel="rdfs-seeAlso">mysql_close()</a> - Закрывает соединение с сервером MySQL</span></li>
   </ul>
  </p>
 </div>

</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.mysql-connect&amp;redirect=https://www.php.net/manual/ru/function.mysql-connect.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">36 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="108721">  <div class="votes">
    <div id="Vu108721">
    <a href="https://www.php.net/manual/vote-note.php?id=108721&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108721">
    <a href="https://www.php.net/manual/vote-note.php?id=108721&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108721" title="52% like this...">
    5
    </div>
  </div>
  <a href="function.mysql-connect.php.html#108721" class="name">
  <strong class="user"><em>nicodenboer at yahoo dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#108721"> &para;</a><div class="date" title="2012-05-20 01:50"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108721">
<div class="phpcode"><code><span class="html">Be carefull here if you use utf8.<br /><br />The file db.opt of your database should contain the following lines:<br />default-character-set=utf8<br />default-collation=utf8_general_ci<br /><br />It means that your database is created to use the utf8 characterset.<br />One way to accomplish this is:<br />CREATE DATABASE my_database DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;<br /><br />Then, after connecting to it from PHP you should use:<br />mysql_set_charset("UTF8", $connection);<br /><br />If you don't do this, you will get ugly problems in case other software is reading and writing to the same database!!!!!!</span></code></div>
  </div>
 </div>
  <div class="note" id="80024">  <div class="votes">
    <div id="Vu80024">
    <a href="https://www.php.net/manual/vote-note.php?id=80024&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80024">
    <a href="https://www.php.net/manual/vote-note.php?id=80024&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80024" title="51% like this...">
    3
    </div>
  </div>
  <a href="function.mysql-connect.php.html#80024" class="name">
  <strong class="user"><em>Steve</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#80024"> &para;</a><div class="date" title="2007-12-24 03:32"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80024">
<div class="phpcode"><code><span class="html">The too many connections issue can be due to several problems.<br /><br />1. you are using pconnect. This can tie up many connections and is not really needed for MySQL as new connections are really fast.<br /><br />2. Apache children are hanging around for too long - combine this with pconnect and you have recipe for disaster.<br /><br />Suggestions: reduce the amount of time apache child processes stay connected to the client and how many connections before they are killed off. And don't use pconnect.</span></code></div>
  </div>
 </div>
  <div class="note" id="120095">  <div class="votes">
    <div id="Vu120095">
    <a href="https://www.php.net/manual/vote-note.php?id=120095&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120095">
    <a href="https://www.php.net/manual/vote-note.php?id=120095&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120095" title="51% like this...">
    1
    </div>
  </div>
  <a href="function.mysql-connect.php.html#120095" class="name">
  <strong class="user"><em>VTool</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#120095"> &para;</a><div class="date" title="2016-10-27 07:11"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120095">
<div class="phpcode"><code><span class="html">fcgid_module modules/mod_fcgid.so<br />FcgidMaxRequestLen 209715200<br />FcgidConnectTimeout 240<br />FcgidIOTimeout 240<br />FcgidBusyScanInterval 240<br />FcgidBusyTimeout 240<br /># Esta línea instruye al servidor web para que reconozca un tipo nuevo (php)<br />AddHandler fcgid-script .php<br /># Esta línea indica al servidor web donde está instalado PHP.<br />FcgidInitialEnv PHPRC "c:/php"<br /># Esta línea indica al servidor web que debe ejecutar la aplicación<br /># php-cgi.exe cuando un cliente (navegador) solicite una página con<br /># extensión .php<br />FcgidWrapper "c:/php/php-cgi.exe" .php<br /># Con esta línea damos los permisos necesarios para que los clientes puedan<br /># acceder/ejecutar a los archivos .php<br />&lt;Directory "c:/Apache/htdocs"&gt;<br />Options Indexes FollowSymLinks Includes ExecCGI<br />AllowOverride None<br />Allow from all<br />&lt;/Directory&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="71703">  <div class="votes">
    <div id="Vu71703">
    <a href="https://www.php.net/manual/vote-note.php?id=71703&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71703">
    <a href="https://www.php.net/manual/vote-note.php?id=71703&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71703" title="46% like this...">
    -4
    </div>
  </div>
  <a href="function.mysql-connect.php.html#71703" class="name">
  <strong class="user"><em>sky dot sama dot remove dot dots at Gmail dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#71703"> &para;</a><div class="date" title="2006-12-12 08:42"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71703">
<div class="phpcode"><code><span class="html">In case anyone else is getting "Client does not support authentication protocol requested by server; consider upgrading MySQL client" error. The problem is the new password hashing method used by MySQL &gt;= 4.1 mentioned below.<br /><br />Either update your PHP to v5 where the new password hashing is supported or use old_password() in MySQL 4.1.<br /><br />FROM: <a href="http://www.digitalpeer.com/id/mysql" rel="nofollow" target="_blank">http://www.digitalpeer.com/id/mysql</a> <br /><br />UPDATE mysql.user SET password=old_password("youroldhashpassword") WHERE user ='youruserid' and host ='yourhost'<br /><br />then do<br /><br />FLUSH PRIVILEGES</span></code></div>
  </div>
 </div>
  <div class="note" id="112461">  <div class="votes">
    <div id="Vu112461">
    <a href="https://www.php.net/manual/vote-note.php?id=112461&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112461">
    <a href="https://www.php.net/manual/vote-note.php?id=112461&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112461" title="45% like this...">
    -5
    </div>
  </div>
  <a href="function.mysql-connect.php.html#112461" class="name">
  <strong class="user"><em>pepik at gmail dot cz</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#112461"> &para;</a><div class="date" title="2013-06-19 11:50"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112461">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /> $server </span><span class="keyword">= </span><span class="string">'y.com'</span><span class="keyword">;<br /> </span><span class="default">$login</span><span class="keyword">=</span><span class="string">'x'</span><span class="keyword">;<br /> </span><span class="default">$pass</span><span class="keyword">=</span><span class="string">'x'</span><span class="keyword">;<br /> </span><span class="default">$db</span><span class="keyword">=</span><span class="string">'x'</span><span class="keyword">;<br /> <br /> </span><span class="default">$spojeni</span><span class="keyword">=</span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">,</span><span class="default">$login</span><span class="keyword">,</span><span class="default">$pass</span><span class="keyword">) or die (</span><span class="string">'nelze se pripojit'</span><span class="keyword">);<br /> </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">,</span><span class="default">$spojeni</span><span class="keyword">);<br /> </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"Set names 'utf8'"</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="77000">  <div class="votes">
    <div id="Vu77000">
    <a href="https://www.php.net/manual/vote-note.php?id=77000&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd77000">
    <a href="https://www.php.net/manual/vote-note.php?id=77000&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V77000" title="44% like this...">
    -5
    </div>
  </div>
  <a href="function.mysql-connect.php.html#77000" class="name">
  <strong class="user"><em>martin</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#77000"> &para;</a><div class="date" title="2007-08-09 07:35"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom77000">
<div class="phpcode"><code><span class="html">MYSQL_CLIENT_SSL is not working, use MySQLi and mysqli-&gt;ssl_set()</span></code></div>
  </div>
 </div>
  <div class="note" id="91965">  <div class="votes">
    <div id="Vu91965">
    <a href="https://www.php.net/manual/vote-note.php?id=91965&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91965">
    <a href="https://www.php.net/manual/vote-note.php?id=91965&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91965" title="45% like this...">
    -6
    </div>
  </div>
  <a href="function.mysql-connect.php.html#91965" class="name">
  <strong class="user"><em>cory dot mawhorter  gmail.com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#91965"> &para;</a><div class="date" title="2009-07-02 04:38"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom91965">
<div class="phpcode"><code><span class="html">Hopefully this saves someone some grief.<br /><br />My dev computer is windows and runs wampserver.  I have frequent problems with PHP being unable to connect to MySQL after periods of extreme DB activity.<br /><br />Long story short, it was because I was not running mysql via named-pipes and Windows was running out of available ports to serve PHP.  Apparently, on windows, you have 5000 ports to work with and once they are opened, they remain so for 120 seconds before being released.  This causes problems with mysql/networking because a new port is requested for each connection.<br /><br />You can read more about the problem at:<br />(Link too long and had to be broken up)<br /><a href="http://dev.mysql.com/doc/refman/5.0/en" rel="nofollow" target="_blank">http://dev.mysql.com/doc/refman/5.0/en</a><br />/can-not-connect-to-server.html#can-not-connect-to-server-on-windows<br />?&gt;<br /><br />Since mysql is on localhost, I can just enable named-pipes (which is how you should have mysql setup if you don't need networking) to get around the problem instead of the workaround listed on that page.<br /><br />For details, see:<br /><a href="http://dev.mysql.com/tech-resources" rel="nofollow" target="_blank">http://dev.mysql.com/tech-resources</a><br />/articles/securing_mysql_windows.html</span></code></div>
  </div>
 </div>
  <div class="note" id="30243">  <div class="votes">
    <div id="Vu30243">
    <a href="https://www.php.net/manual/vote-note.php?id=30243&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd30243">
    <a href="https://www.php.net/manual/vote-note.php?id=30243&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V30243" title="45% like this...">
    -6
    </div>
  </div>
  <a href="function.mysql-connect.php.html#30243" class="name">
  <strong class="user"><em>amn -at- frognet.net</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#30243"> &para;</a><div class="date" title="2003-03-11 10:40"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom30243">
<div class="phpcode"><code><span class="html">Just in case you didn't know. You can use mysql_connect in a function to connect to a database and the connection is a super-global... meaning you can use mysql_query in other functions or in no function at all and PHP will use the connection that you opened. This is a handy bit of knowledge that helps if you have a large site with lots of scripts. If you create one function to connect to a db, and call that function in all your scripts, it makes for easier code maintenance since you only have to update one line of code to change your mysql connection instead of updating all your scripts individually.</span></code></div>
  </div>
 </div>
  <div class="note" id="78187">  <div class="votes">
    <div id="Vu78187">
    <a href="https://www.php.net/manual/vote-note.php?id=78187&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78187">
    <a href="https://www.php.net/manual/vote-note.php?id=78187&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78187" title="45% like this...">
    -7
    </div>
  </div>
  <a href="function.mysql-connect.php.html#78187" class="name">
  <strong class="user"><em>Peter Robinett</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#78187"> &para;</a><div class="date" title="2007-10-02 06:20"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78187">
<div class="phpcode"><code><span class="html">The use of mysql connections can become tricky with objects. I am using mysql_connect() in a database class I wrote and the class destructor calls mysql_close. Because I have several of these database objects, mysql_connect reuses existing connections. This is fine except when the script reaches the end of execution and PHP's garabage collection calls all the objects' __destruct() functions. mysql_close() throws a warning that the connection is invalid, in my case for one object. This is happening with objects which use an existing connection, as the connection has already been closed. I solved the problem by forcing mysql_connect() to create a new connection each time. This is not efficient but is sufficient for my purposes for now.<br /><br />I wouldn't say this is a bug per-se, but it's something to look out for. I imagine using mysqli is the ultimate solution...</span></code></div>
  </div>
 </div>
  <div class="note" id="78638">  <div class="votes">
    <div id="Vu78638">
    <a href="https://www.php.net/manual/vote-note.php?id=78638&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78638">
    <a href="https://www.php.net/manual/vote-note.php?id=78638&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78638" title="44% like this...">
    -7
    </div>
  </div>
  <a href="function.mysql-connect.php.html#78638" class="name">
  <strong class="user"><em>Ignacio Casinelli Esviza</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#78638"> &para;</a><div class="date" title="2007-10-20 10:51"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78638">
<div class="phpcode"><code><span class="html">Sometimes, I want that MySQL service start automatically when my app need it. This is specially true if you work in a development PC and/or in an small intranet environment.<br /><br />You can do something like this: if the mysql_connect() function returns FALSE, try to force the initialization of the MySQL service!<br /><br />For example, under Windows:<br /><br /><span class="default">&lt;?php<br /><br />$link </span><span class="keyword">= @</span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$server</span><span class="keyword">,</span><span class="default">$user</span><span class="keyword">,</span><span class="default">$pass</span><span class="keyword">);<br />if (empty(</span><span class="default">$link</span><span class="keyword">)){<br />    @</span><span class="default">exec</span><span class="keyword">(</span><span class="string">"%SystemRoot%\\system32\\net.exe start mysql"</span><span class="keyword">);<br />    </span><span class="default">sleep</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">);<br />    </span><span class="default">$link </span><span class="keyword">= @</span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$servidor</span><span class="keyword">,</span><span class="default">$usuario</span><span class="keyword">,</span><span class="default">$clave</span><span class="keyword">);<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />In Linux of course you can try "/etc/init.d/mysqld start" but you will need special permissions.<br /><br />Regards.</span></code></div>
  </div>
 </div>
  <div class="note" id="74375">  <div class="votes">
    <div id="Vu74375">
    <a href="https://www.php.net/manual/vote-note.php?id=74375&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74375">
    <a href="https://www.php.net/manual/vote-note.php?id=74375&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74375" title="43% like this...">
    -7
    </div>
  </div>
  <a href="function.mysql-connect.php.html#74375" class="name">
  <strong class="user"><em>jslakva at gmail dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#74375"> &para;</a><div class="date" title="2007-04-08 06:05"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74375">
<div class="phpcode"><code><span class="html">if between first and second call with same arguments there was another call with another argument, initial connection link is not reused, but new connection is created instead, regardless of new_link argument.<br /><br />for example, here only one single link will be opened and then reused:<br /><span class="default">&lt;?php<br />$link1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br /></span><span class="default">$link2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />and here _three_ separate links will be opened:<br /><span class="default">&lt;?php<br />$link1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br /></span><span class="default">$link3 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"127.0.0.1"</span><span class="keyword">);<br /></span><span class="default">$link2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />so if you wanted to switch between connections just by call to mysql_connect, and rely on its internal link caching, you can be wasting your database connections.</span></code></div>
  </div>
 </div>
  <div class="note" id="97657">  <div class="votes">
    <div id="Vu97657">
    <a href="https://www.php.net/manual/vote-note.php?id=97657&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97657">
    <a href="https://www.php.net/manual/vote-note.php?id=97657&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97657" title="41% like this...">
    -7
    </div>
  </div>
  <a href="function.mysql-connect.php.html#97657" class="name">
  <strong class="user"><em>tpl99 at yandex dot ru</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#97657"> &para;</a><div class="date" title="2010-04-30 01:56"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom97657">
<div class="phpcode"><code><span class="html">Whenever you open two connections to a single database,<br />you are likely not to get any error when selecting not existing db.<br /><br /><span class="default">&lt;?php<br />$db1 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( ... );<br /></span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'existing_db'</span><span class="keyword">,</span><span class="default">$db1</span><span class="keyword">);<br /><br /></span><span class="default">$db2 </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( ... );<br /></span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'not_existing_db'</span><span class="keyword">, </span><span class="default">$db2</span><span class="keyword">);<br /><br /></span><span class="default">mysql_query</span><span class="keyword">(... , </span><span class="default">$db2</span><span class="keyword">);<br /></span><span class="comment">//will return no errors and the query wouldn't be executed.<br /></span><span class="default">?&gt;<br /></span><br />Pay attention and you may save few hours of debugging.</span></code></div>
  </div>
 </div>
  <div class="note" id="102131">  <div class="votes">
    <div id="Vu102131">
    <a href="https://www.php.net/manual/vote-note.php?id=102131&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd102131">
    <a href="https://www.php.net/manual/vote-note.php?id=102131&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V102131" title="44% like this...">
    -9
    </div>
  </div>
  <a href="function.mysql-connect.php.html#102131" class="name">
  <strong class="user"><em>Harouk</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#102131"> &para;</a><div class="date" title="2011-01-28 06:11"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom102131">
<div class="phpcode"><code><span class="html">If you encounter speed problems using this command to a distant server, you can add the line "skip-name-resolve" in your my.cnf to fix it.</span></code></div>
  </div>
 </div>
  <div class="note" id="37029">  <div class="votes">
    <div id="Vu37029">
    <a href="https://www.php.net/manual/vote-note.php?id=37029&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd37029">
    <a href="https://www.php.net/manual/vote-note.php?id=37029&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V37029" title="43% like this...">
    -8
    </div>
  </div>
  <a href="function.mysql-connect.php.html#37029" class="name">
  <strong class="user"><em>martinnitram at excite dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#37029"> &para;</a><div class="date" title="2003-10-31 02:22"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom37029">
<div class="phpcode"><code><span class="html">to use load data local infile function from mysql (at mysql 4.0.16, php 4.3.3), set fifth parameter of mysql_connect() to CLIENT_LOCAL_FILES(128), which based on MYSQL C API ( also mysql server support load file, check by "show variables like 'local_infile' ")<br /><br />Thank  'phpweb at eden2 dot com' to point this out</span></code></div>
  </div>
 </div>
  <div class="note" id="71078">  <div class="votes">
    <div id="Vu71078">
    <a href="https://www.php.net/manual/vote-note.php?id=71078&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71078">
    <a href="https://www.php.net/manual/vote-note.php?id=71078&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71078" title="43% like this...">
    -8
    </div>
  </div>
  <a href="function.mysql-connect.php.html#71078" class="name">
  <strong class="user"><em>Graham_Rule at ed dot ac dot uk</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#71078"> &para;</a><div class="date" title="2006-11-10 01:43"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71078">
<div class="phpcode"><code><span class="html">The addition of entries to httpd.conf to stop .inc files being served by Apache is certainly useful and to be recommended.<br /><br />But it doesn't change the fact that these files have to be readable by Apache so that the PHP processor can get at them.<br /><br />As long as your don't have multiple, possibly untrusted, users on your machine then that's OK.  But when you are running a large multi-user service with thousands of users its always possible that one of them will look at your .inc files and take a note of the passwords you have in them.  They could even copy them into their own scripts and modify your databases!<br /><br />Even if local users are trusted, there is always the possibility of a rogue script (PHP or some nastier language) being installed by an ignorant user.  That script might then read your .inc files (whether or not they are in the web publishing tree) and expose your password.</span></code></div>
  </div>
 </div>
  <div class="note" id="32035">  <div class="votes">
    <div id="Vu32035">
    <a href="https://www.php.net/manual/vote-note.php?id=32035&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd32035">
    <a href="https://www.php.net/manual/vote-note.php?id=32035&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V32035" title="43% like this...">
    -8
    </div>
  </div>
  <a href="function.mysql-connect.php.html#32035" class="name">
  <strong class="user"><em>Graham_Rule at ed dot ac dot uk</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#32035"> &para;</a><div class="date" title="2003-05-14 08:43"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom32035">
<div class="phpcode"><code><span class="html">Another solution to the security problems of putting usernames and passwords into scripts. I haven't found this documented anywhere else so thought I'd suggest it for the online documentation. ........<br /><br />Don't put passwords for mysql into scripts which may be read by any user on the machine.  Instead put them into an Apache configuration file and make sure that it is not world-readable. (Apache reads its main config files as root.)<br /><br />For example, add this to your httpd.conf (and chmod it to 600 or 660) then tell your apache to reload itself (apachectl graceful).<br /><br />&lt;Directory /var/www/html/mydatabase&gt;<br />    php_value mysql.default_user fred<br />    php_value mysql.default_password secret<br />    php_value mysql.default_host server.example.com<br />&lt;/Directory&gt;<br /><br />Then all you need in your PHP code is<br /><br />$handle = mysql_connect() or die(mysql_error());<br /><br />The passwords etc will only be picked up by scripts running in the named directory (or a sub-directory).  The same may be done for virtualhosts etc.<br /><br />If you don't want to keep reloading your Apache server then you ay test things putting the php_value directives into a (world readable) .htaccess file. (Clearly not for production use.)<br /><br />If you need to debug the values that are being supplied (or not) then use this snippet:<br /><br />@syslog(LOG_DEBUG, "Using user=".ini_get("mysql.default_user").<br />            " pass=".ini_get("mysql.default_password").<br />            " host=".ini_get("mysql.default_host"));<br /><br />(This assumes that you are not running in 'safe_mode' and that you are on a unix of some sort.)</span></code></div>
  </div>
 </div>
  <div class="note" id="103536">  <div class="votes">
    <div id="Vu103536">
    <a href="https://www.php.net/manual/vote-note.php?id=103536&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd103536">
    <a href="https://www.php.net/manual/vote-note.php?id=103536&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V103536" title="42% like this...">
    -9
    </div>
  </div>
  <a href="function.mysql-connect.php.html#103536" class="name">
  <strong class="user"><em>avinc@live,hk</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#103536"> &para;</a><div class="date" title="2011-04-18 05:47"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom103536">
<div class="phpcode"><code><span class="html">My situation: "I could connect to MySQL from the PHP via Apache and MySQL via the MySQL console, and could not connect via the PHP"<br /><br />But, PHP only can connect to MySQL using mysql_connect("localhost", "root", "password");<br /><br />"Its selinux not allowing apache to make remote connections"<br /><br />Solution:<br />setsebool -P httpd_can_network_connect=1</span></code></div>
  </div>
 </div>
  <div class="note" id="81554">  <div class="votes">
    <div id="Vu81554">
    <a href="https://www.php.net/manual/vote-note.php?id=81554&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81554">
    <a href="https://www.php.net/manual/vote-note.php?id=81554&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81554" title="42% like this...">
    -8
    </div>
  </div>
  <a href="function.mysql-connect.php.html#81554" class="name">
  <strong class="user"><em>aeolianmeson at blitzeclipse dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#81554"> &para;</a><div class="date" title="2008-03-03 12:15"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom81554">
<div class="phpcode"><code><span class="html">Recently, I saw an obscure problem where I could connect to MySQL from the PHP via Apache and MySQL via the MySQL console, and could not connect via the PHP-CLI. This was in Windows (XP). I usually use MySQLi extension, but also tried MySQL, and both refused to work.<br /><br />I restarted the service multiple times, and the PHP-CLI still would not connect.<br /><br />This eventually cleared up.<br /><br />I made sure to stop the service. Then, I downloaded a zipped binary-package from dev.mysql.com and started the server a few times from the commandline (mysqld/mysqld-nt, where mysqld-nt is tuned specifically for Windows) and stopped it ("mysqladmin shutdown"). I was then able to successfully connect from the PHP-CLI ("php -r "mysql_connect('localhost', 'root', ''); ").<br /><br />Making sure it was stopped, I started the regular server from the commandline, and that was then successful. I then stopped it and started it via the Services panel, and everything still worked.<br /><br />I'm assuming that when the service was restarted initially, there was a component that had died and refused to be shutdown even though the service appeared to be stopped, but shutting it down via mysqladmin killed everything entirely.</span></code></div>
  </div>
 </div>
  <div class="note" id="96824">  <div class="votes">
    <div id="Vu96824">
    <a href="https://www.php.net/manual/vote-note.php?id=96824&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd96824">
    <a href="https://www.php.net/manual/vote-note.php?id=96824&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V96824" title="42% like this...">
    -10
    </div>
  </div>
  <a href="function.mysql-connect.php.html#96824" class="name">
  <strong class="user"><em>abelcheung at gmail dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#96824"> &para;</a><div class="date" title="2010-03-17 10:37"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom96824">
<div class="phpcode"><code><span class="html">Note that named pipe on Windows is unusable since PHP 5.3, and TCP connection shall be used even in localhost.</span></code></div>
  </div>
 </div>
  <div class="note" id="73983">  <div class="votes">
    <div id="Vu73983">
    <a href="https://www.php.net/manual/vote-note.php?id=73983&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73983">
    <a href="https://www.php.net/manual/vote-note.php?id=73983&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73983" title="45% like this...">
    -12
    </div>
  </div>
  <a href="function.mysql-connect.php.html#73983" class="name">
  <strong class="user"><em>angelo [at] mandato &lt;dot&gt; com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#73983"> &para;</a><div class="date" title="2007-03-19 01:07"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73983">
<div class="phpcode"><code><span class="html">The post from 'Graham_Rule at ed dot ac dot uk' should include the following WARNING:<br /><br />WARING: THE VALUES OF THESE DIRECTIVES WILL BE EXPOSED IF ANY OF THE CODE INCLUDES THE phpinfo() FUNCTION.<br /><br />The phpinfo() function will print these values clear as day.  I highly suggest against this method of storing MySQL authentication information.<br /><br />I recommend creating connect and cleanup functions in a separate include file.  If security is a concern, locate the include file outside of your web root folder.<br /><br /><span class="default">&lt;?php<br />    $g_link </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />    <br />    function </span><span class="default">GetMyConnection</span><span class="keyword">()<br />    {<br />        global </span><span class="default">$g_link</span><span class="keyword">;<br />        if( </span><span class="default">$g_link </span><span class="keyword">)<br />            return </span><span class="default">$g_link</span><span class="keyword">;<br />        </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">( </span><span class="string">'host.name'</span><span class="keyword">, </span><span class="string">'user'</span><span class="keyword">, </span><span class="string">'password'</span><span class="keyword">) or die(</span><span class="string">'Could not connect to server.' </span><span class="keyword">);<br />        </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'database_name'</span><span class="keyword">, </span><span class="default">$g_link</span><span class="keyword">) or die(</span><span class="string">'Could not select database.'</span><span class="keyword">);<br />        return </span><span class="default">$g_link</span><span class="keyword">;<br />    }<br />    <br />    function </span><span class="default">CleanUpDB</span><span class="keyword">()<br />    {<br />        global </span><span class="default">$g_link</span><span class="keyword">;<br />        if( </span><span class="default">$g_link </span><span class="keyword">!= </span><span class="default">false </span><span class="keyword">)<br />            </span><span class="default">mysql_close</span><span class="keyword">(</span><span class="default">$g_link</span><span class="keyword">);<br />        </span><span class="default">$g_link </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />    }<br />    <br /></span><span class="default">?&gt;<br /></span><br />Simply include your connnection.php file in your script and anywhere you use the mysql_query() function include a call to the GetMyConnection() function.<br /><br /><span class="default">&lt;?php<br />    $res </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT ..."</span><span class="keyword">, </span><span class="default">GetMyConnection</span><span class="keyword">() );<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="82040">  <div class="votes">
    <div id="Vu82040">
    <a href="https://www.php.net/manual/vote-note.php?id=82040&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd82040">
    <a href="https://www.php.net/manual/vote-note.php?id=82040&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V82040" title="42% like this...">
    -10
    </div>
  </div>
  <a href="function.mysql-connect.php.html#82040" class="name">
  <strong class="user"><em>arithmetric at gmail dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#82040"> &para;</a><div class="date" title="2008-03-25 10:59"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom82040">
<div class="phpcode"><code><span class="html">If you are trying to open multiple, separate MySQL connections with the same MySQL user, password, and hostname, you must set $new_link = TRUE to prevent mysql_connect from using an existing connection.<br /><br />For example, you are opening two separate connections to two different databases (but on the same host, and with the same user and password):<br /><br />$db1 = mysql_connect($dbhost, $dbuser, $dbpass);<br />$rv = mysql_select_db($dbname1, $db1);<br />$db2 = mysql_connect($dbhost, $dbuser, $dbpass);<br />$rv = mysql_select_db($dbname2, $db2);<br /><br />At this point, both $db1 and $db2 will have selected the database named by $dbname2.<br /><br />The workaround is to require that the second MySQL connection is new:<br /><br />$db1 = mysql_connect($dbhost, $dbuser, $dbpass);<br />$rv = mysql_select_db($dbname1, $db1);<br />$db2 = mysql_connect($dbhost, $dbuser, $dbpass, TRUE);<br />$rv = mysql_select_db($dbname2, $db2);<br /><br />Now, $db1 should have selected $dbname1, and $db2 should have selected $dbname2.<br /><br />This has been documented on the mysql_select_db page as well.<br /><br />Note: This occurs only when the server, username, and password parameters are identical for each mysql_connect statement.</span></code></div>
  </div>
 </div>
  <div class="note" id="104284">  <div class="votes">
    <div id="Vu104284">
    <a href="https://www.php.net/manual/vote-note.php?id=104284&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104284">
    <a href="https://www.php.net/manual/vote-note.php?id=104284&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104284" title="39% like this...">
    -9
    </div>
  </div>
  <a href="function.mysql-connect.php.html#104284" class="name">
  <strong class="user"><em>bimal at sanjaal dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#104284"> &para;</a><div class="date" title="2011-06-05 12:15"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104284">
<div class="phpcode"><code><span class="html">Portable connections: If you migrate your source code from one to different servers and you would like to avoid re-configuration on a new serve, user the $_SERVER['SERVER_NAME'] flag as:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">switch(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SERVER_NAME'</span><span class="keyword">])<br />{<br />case </span><span class="string">'server1.example.com'</span><span class="keyword">:<br />  </span><span class="default">mysqlconnect</span><span class="keyword">(</span><span class="string">'host1'</span><span class="keyword">, </span><span class="string">'user1'</span><span class="keyword">, </span><span class="string">'password1'</span><span class="keyword">);<br />  </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'db1'</span><span class="keyword">);<br />  break;<br />case </span><span class="string">'server2.example.com'</span><span class="keyword">:<br />  </span><span class="default">mysqlconnect</span><span class="keyword">(</span><span class="string">'host2'</span><span class="keyword">, </span><span class="string">'user2'</span><span class="keyword">, </span><span class="string">'password2'</span><span class="keyword">);<br />  </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="string">'db2'</span><span class="keyword">);<br />  break;<br />}<br /></span><span class="default">?&gt;<br /></span><br />This makes a conditional connection to mysql database. It automatically chooses the correct server according to the server name from where your script runs.<br /><br />Hopefully, you like this portable configuration.</span></code></div>
  </div>
 </div>
  <div class="note" id="71046">  <div class="votes">
    <div id="Vu71046">
    <a href="https://www.php.net/manual/vote-note.php?id=71046&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71046">
    <a href="https://www.php.net/manual/vote-note.php?id=71046&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71046" title="40% like this...">
    -9
    </div>
  </div>
  <a href="function.mysql-connect.php.html#71046" class="name">
  <strong class="user"><em>brinca at substancia dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#71046"> &para;</a><div class="date" title="2006-11-09 07:43"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71046">
<div class="phpcode"><code><span class="html">If you prefer to use a hostname instead of an ip on your connection string in a script (to be able to change the ip at will), but don't want the overhead of dns lookups, just add it to your /etc/hosts file (in windows: %WINDIR%/system32/drivers/etc/hosts).<br /><br />For example, add the following to your hosts file (changing the bogus ip to your server's real ip):<br /><br />123.123.123.123   mysqlserver1<br /><br />Note: On linux, make sure you have "order: hosts,bind" on your /etc/host.conf file.<br /><br />On a script, make the mysql connection like so:<br /><br />&lt;?<br />  $sid = mysql_connect ("mysqlserver1", "user", "pass");<br />?&gt;<br /><br />Note: this sample is in php, but it can be any other programming language (just type "ping mysqlserver1" on a prompt, on your server)<br /><br />And there you have it! If your server ever gets assigned a different ip, just update the hosts file with the new one (every script will work as-is, even if under different hostnames).</span></code></div>
  </div>
 </div>
  <div class="note" id="109668">  <div class="votes">
    <div id="Vu109668">
    <a href="https://www.php.net/manual/vote-note.php?id=109668&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109668">
    <a href="https://www.php.net/manual/vote-note.php?id=109668&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109668" title="40% like this...">
    -10
    </div>
  </div>
  <a href="function.mysql-connect.php.html#109668" class="name">
  <strong class="user"><em>trev at dedicate dot co dot uk</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#109668"> &para;</a><div class="date" title="2012-08-07 04:42"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109668">
<div class="phpcode"><code><span class="html">A little note if your scripts sleep a lot, you want to run exactly the same SQL statement 2+ times and you have the "MySQL has gone away" error a lot.<br /><br />Try setting the 4th parameter to TRUE as it seems sometimes PHP doesn't spot that resource ID x which it used for the last identical lookup is now dud and so tries to use it, thus bypassing tests such as is_resource() and causing a failure.<br /><br />This is for when mysql_ping() doesn't work for your situation of course.</span></code></div>
  </div>
 </div>
  <div class="note" id="45029">  <div class="votes">
    <div id="Vu45029">
    <a href="https://www.php.net/manual/vote-note.php?id=45029&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd45029">
    <a href="https://www.php.net/manual/vote-note.php?id=45029&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V45029" title="38% like this...">
    -8
    </div>
  </div>
  <a href="function.mysql-connect.php.html#45029" class="name">
  <strong class="user"><em>chaoscontrol_hq at yahoo dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#45029"> &para;</a><div class="date" title="2004-08-23 02:10"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom45029">
<div class="phpcode"><code><span class="html">In MySQL4.1 and later, the default password hashing format has changed making it incompatible with 3.x clients.<br />I found out mysql_connect() works on server versions &gt;= 4.1 when your MySQL user password is blank because password authentication isn't done in that case, otherwise you need to use another connection method (e.g. mysqli).<br />Also if you are using old MySQL tables on a new server (i.e. the passwords are stored in the old format), then the server will use the old auth method automatically and this function should work in all cases.<br />Hopefully this will help someone, it had me confused for a while because some of the users on my 4.1 server could connect and some couldn't.</span></code></div>
  </div>
 </div>
  <div class="note" id="66893">  <div class="votes">
    <div id="Vu66893">
    <a href="https://www.php.net/manual/vote-note.php?id=66893&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd66893">
    <a href="https://www.php.net/manual/vote-note.php?id=66893&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V66893" title="40% like this...">
    -10
    </div>
  </div>
  <a href="function.mysql-connect.php.html#66893" class="name">
  <strong class="user"><em>rui dot batista at netcabo dot pt</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#66893"> &para;</a><div class="date" title="2006-05-31 08:42"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom66893">
<div class="phpcode"><code><span class="html">Ever wonder what "default username" is?<br /><span class="default">&lt;?php<br />$link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">() or die(</span><span class="default">mysql_error</span><span class="keyword">());<br /></span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT SESSION_USER(), CURRENT_USER();"</span><span class="keyword">);<br /></span><span class="default">$row </span><span class="keyword">= </span><span class="default">mysql_fetch_row</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">);<br />echo </span><span class="string">"SESSION USER: "</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br />echo </span><span class="string">"CURRENT USER: "</span><span class="keyword">, </span><span class="default">$row</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span>Both are ODBC@localhost in my win2k install, so my advice for windows is:<br />- create a MySQL user named ODBC with no password<br />- add localhost to ODBC user [right-click ODBC]<br />- set schema previleges to ODBC@localhost<br />- use mysql_connect() with no parms, or do not use ;)<br />This turns to work also with odbc_connect:<br />odbc_connect("myDSN", "", "")</span></code></div>
  </div>
 </div>
  <div class="note" id="112223">  <div class="votes">
    <div id="Vu112223">
    <a href="https://www.php.net/manual/vote-note.php?id=112223&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112223">
    <a href="https://www.php.net/manual/vote-note.php?id=112223&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112223" title="39% like this...">
    -11
    </div>
  </div>
  <a href="function.mysql-connect.php.html#112223" class="name">
  <strong class="user"><em>yangqingrong at wudimei dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#112223"> &para;</a><div class="date" title="2013-05-18 02:17"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112223">
<div class="phpcode"><code><span class="html">hello,every one.<br />  do use "127.0.0.1" instead of "localhost" for php5.4-win7 if you feel the speed is slow.because win7 use ipv6 default.<br />   "localhost" is for ipv4.<br /><br />  <span class="default">&lt;?php<br />   $conn </span><span class="keyword">=</span><span class="default">mysql_connect</span><span class="keyword">( </span><span class="string">"127.0.0.1"</span><span class="keyword">, <br />                                       </span><span class="string">"root"</span><span class="keyword">,<br />                                       </span><span class="string">"pass"</span><span class="keyword">);<br /> </span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="85255">  <div class="votes">
    <div id="Vu85255">
    <a href="https://www.php.net/manual/vote-note.php?id=85255&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85255">
    <a href="https://www.php.net/manual/vote-note.php?id=85255&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85255" title="37% like this...">
    -9
    </div>
  </div>
  <a href="function.mysql-connect.php.html#85255" class="name">
  <strong class="user"><em>pascalxusNOSPAM at yahoo dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#85255"> &para;</a><div class="date" title="2008-08-22 12:08"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85255">
<div class="phpcode"><code><span class="html">I just wanted to share a common wrapper that I use for executing one line SQL statements.  Its an easy wrapper to use that takes care of the connection open/close.  Optionally, the mysql_connect can be replaced with mysql_pconnect for persistent connections.<br /><br />  function executeQuery( $query, $db, $nocon )<br />  {<br />      if( $nocon != "nocon" )<br />        if( $db != "" ) connect( $db );<br />        else connect( "pascal_crm" );<br /><br />      $result= mysql_query( $query );<br />      $err   = mysql_error();<br />      if( $err != "" ) echo "error=$err  ";<br /><br />      if( $nocon != "nocon" )<br />        mysql_close();<br />      return $result;<br />  }<br /><br />Here's a related mysql_pconnect trivia question:<br /><a href="http://www.codesplunk.com/nr/questions/php17.html" rel="nofollow" target="_blank">http://www.codesplunk.com/nr/questions/php17.html</a></span></code></div>
  </div>
 </div>
  <div class="note" id="54160">  <div class="votes">
    <div id="Vu54160">
    <a href="https://www.php.net/manual/vote-note.php?id=54160&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd54160">
    <a href="https://www.php.net/manual/vote-note.php?id=54160&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V54160" title="40% like this...">
    -11
    </div>
  </div>
  <a href="function.mysql-connect.php.html#54160" class="name"><strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#54160"> &para;</a><div class="date" title="2005-06-25 03:18"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom54160">
<div class="phpcode"><code><span class="html">connect to mysql via named pipe under windows :<br /><br />in my.ini, add this:<br /><br />[mysqld]<br />enable-named-pipe<br /><br />then connect to the server, then connect to mysql using<br /><br />mysql_connect('.')</span></code></div>
  </div>
 </div>
  <div class="note" id="86645">  <div class="votes">
    <div id="Vu86645">
    <a href="https://www.php.net/manual/vote-note.php?id=86645&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd86645">
    <a href="https://www.php.net/manual/vote-note.php?id=86645&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V86645" title="38% like this...">
    -11
    </div>
  </div>
  <a href="function.mysql-connect.php.html#86645" class="name">
  <strong class="user"><em>Contact at LinuxIntro dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#86645"> &para;</a><div class="date" title="2008-10-27 09:34"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom86645">
<div class="phpcode"><code><span class="html">When you connect and expect to use a stored procedure,you must pass a special flag to MySQL via the connect command, otherwise you will not get the results returned, and it will result in this error:<br />PROCEDURE AlexGrim.GetStats_ForumCategories can't return a result set in the given context<br /><br />To fix this, change you connection string, adding ",false,65536" as the last 2 fields:<br />$this-&gt;con = mysql_connect($this-&gt;h,$this-&gt;u,$this-&gt;p,false,65536);</span></code></div>
  </div>
 </div>
  <div class="note" id="94927">  <div class="votes">
    <div id="Vu94927">
    <a href="https://www.php.net/manual/vote-note.php?id=94927&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd94927">
    <a href="https://www.php.net/manual/vote-note.php?id=94927&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V94927" title="36% like this...">
    -11
    </div>
  </div>
  <a href="function.mysql-connect.php.html#94927" class="name">
  <strong class="user"><em>sholland at napervillegi dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#94927"> &para;</a><div class="date" title="2009-12-02 09:18"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom94927">
<div class="phpcode"><code><span class="html">If you are getting an error "Can't assign requested address" you may have a problem with the mysql port.  I had just moved my server to Mac OS X 10.6 and mysql_connect was giving this error.  Going into the /etc/php.ini file and setting the default port number to 3306 fixed the problem.  <br /><br />mysql.default_port = 3306<br /><br />The php.ini file suggests that PHP will select the port by using the $MYSQL_TCP_PORT or the mysql-tcp entry in /etc/services, but in this case it is not so.  /etc/services on my machine has 3306 listed, but it didn't get picked up.<br /><br />This is sort of a bug report, in that the documented feature isn't working.  Please don't delete this until the community decides how to address the problem.  This is one of those hair pulling exercises to get fixed.</span></code></div>
  </div>
 </div>
  <div class="note" id="93476">  <div class="votes">
    <div id="Vu93476">
    <a href="https://www.php.net/manual/vote-note.php?id=93476&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93476">
    <a href="https://www.php.net/manual/vote-note.php?id=93476&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93476" title="36% like this...">
    -11
    </div>
  </div>
  <a href="function.mysql-connect.php.html#93476" class="name">
  <strong class="user"><em>david dot schueler at wapkamera dot de</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#93476"> &para;</a><div class="date" title="2009-09-11 08:51"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93476">
<div class="phpcode"><code><span class="html">If you are getting MySQL Errors like #2006: MySQL server has gone away, and you are using mysql_connect() and pcntl_fork() then make shure that you are reconnecting to the mysql server with each created child which you fork()ed.<br /><br />I pulled my hair out for many days because i was using the same mysql connection for each child and was getting that "MySQL server has gone away" errors.<br /><br />Here is a simple example:<br /><span class="default">&lt;?php<br />$link </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$db_server</span><span class="keyword">, </span><span class="default">$db_user</span><span class="keyword">, </span><span class="default">$db_pass</span><span class="keyword">);<br /></span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="default">$db_database</span><span class="keyword">,</span><span class="default">$link</span><span class="keyword">));<br /><br /></span><span class="default">$pid </span><span class="keyword">= </span><span class="default">pcntl_fork</span><span class="keyword">();<br />if (</span><span class="default">$pid </span><span class="keyword">== -</span><span class="default">1</span><span class="keyword">)<br />  </span><span class="comment">// Error forking child<br /></span><span class="keyword">elseif (</span><span class="default">$pid</span><span class="keyword">) {<br />  </span><span class="comment">// Parent will be here<br /></span><span class="keyword">} else {<br />  </span><span class="comment">// The child has to esablish a *new* mysql connection.<br />  // if you use mysql_connect without the 4th parameter<br />  // then it will use the connection from the parent. But<br />  // if the child dies, the connection will be unaviable in<br />  // the parent too.<br />  // So, note the "true" as 4th parameter.<br />  </span><span class="default">$newlink </span><span class="keyword">= </span><span class="default">mysql_connect</span><span class="keyword">(</span><span class="default">$db_server</span><span class="keyword">, </span><span class="default">$db_user</span><span class="keyword">, </span><span class="default">$db_pass</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br />  </span><span class="default">mysql_select_db</span><span class="keyword">(</span><span class="default">$db_database</span><span class="keyword">,</span><span class="default">$newlink</span><span class="keyword">));<br />  </span><span class="comment">// ...<br /></span><span class="keyword">}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="81028">  <div class="votes">
    <div id="Vu81028">
    <a href="https://www.php.net/manual/vote-note.php?id=81028&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd81028">
    <a href="https://www.php.net/manual/vote-note.php?id=81028&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V81028" title="34% like this...">
    -12
    </div>
  </div>
  <a href="function.mysql-connect.php.html#81028" class="name">
  <strong class="user"><em>dan at novapulsar dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#81028"> &para;</a><div class="date" title="2008-02-11 11:24"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom81028">
<div class="phpcode"><code><span class="html">[EDIT by danbrown AT php DOT net: The issue this user is illustrating is a common problem when dealing with multiple databases from PHP.  Note his comments at the end of the code for an explanation.]<br /><br /><br />Looks like I learned this the hard way:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="comment">//establish connection to master db server<br /></span><span class="default">mysql_connect </span><span class="keyword">(</span><span class="default">DB_HOST</span><span class="keyword">, </span><span class="default">DB_USER</span><span class="keyword">, </span><span class="default">DB_PASSWORD</span><span class="keyword">);<br /></span><span class="default">mysql_select_db </span><span class="keyword">(</span><span class="default">DB_NAME</span><span class="keyword">);<br /><br /></span><span class="comment">//establish connection to read-only slave cluster<br /></span><span class="default">$objMySQL_Read </span><span class="keyword">= </span><span class="default">mysql_connect </span><span class="keyword">(</span><span class="default">SLAVE_DB_HOST</span><span class="keyword">, </span><span class="default">SLAVE_DB_USER</span><span class="keyword">, </span><span class="default">SLAVE_DB_PASSWORD</span><span class="keyword">);<br /></span><span class="default">mysql_select_db </span><span class="keyword">(</span><span class="default">DB_NAME</span><span class="keyword">, </span><span class="default">$objMySQL_Read</span><span class="keyword">);<br /><br /></span><span class="default">$strSQL </span><span class="keyword">= </span><span class="string">"SELECT col1,col2 FROM "  </span><span class="keyword">. </span><span class="default">DB_NAME </span><span class="keyword">. </span><span class="string">"." </span><span class="keyword">. </span><span class="string">"tbl1 WHERE 1=1"</span><span class="keyword">;<br /><br /></span><span class="default">$objRS </span><span class="keyword">= </span><span class="default">mysql_query </span><span class="keyword">(</span><span class="default">$strSQL</span><span class="keyword">, </span><span class="default">$objMySQL_Read</span><span class="keyword">); </span><span class="comment">//returns data from slaves<br /><br /></span><span class="default">$strSQL </span><span class="keyword">= </span><span class="string">"INSERT INTO " </span><span class="keyword">. </span><span class="default">DB_NAME </span><span class="keyword">. </span><span class="string">"." </span><span class="keyword">. </span><span class="string">"tbl1 (col1,col2) VALUES (val1,val2)"</span><span class="keyword">;<br /><br /></span><span class="default">mysql_query </span><span class="keyword">(</span><span class="default">$strSQL</span><span class="keyword">);<br /><br /></span><span class="comment">//expected behavior, to insert the last statement into the master db, since it doesn't reference the read-only resource explicitly. instead, it inserts the record into the last connection, even though it shouldn't, since the last connection is not a global/anonymous connection like the first one, it's $objMySQL_Read.<br /><br />//you'll get out of sync db's across your cluster unless you explicitly define all connection resources<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="108292">  <div class="votes">
    <div id="Vu108292">
    <a href="https://www.php.net/manual/vote-note.php?id=108292&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108292">
    <a href="https://www.php.net/manual/vote-note.php?id=108292&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108292" title="34% like this...">
    -13
    </div>
  </div>
  <a href="function.mysql-connect.php.html#108292" class="name">
  <strong class="user"><em>php at lanar dot com dot au</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#108292"> &para;</a><div class="date" title="2012-04-15 01:11"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108292">
<div class="phpcode"><code><span class="html">After upgrading mysql sever to 5.5.21 from 5.0.9 on centos, my WinXP stopped being able to connect with host with the error message <br />'Bad Handshake'. <br /><br />Eventual solution to problem was to remove MYSQL_CLIENT_SSL from the call to mysql_connect().<br /><br />I will also report this as a bug.</span></code></div>
  </div>
 </div>
  <div class="note" id="85539">  <div class="votes">
    <div id="Vu85539">
    <a href="https://www.php.net/manual/vote-note.php?id=85539&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd85539">
    <a href="https://www.php.net/manual/vote-note.php?id=85539&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V85539" title="32% like this...">
    -19
    </div>
  </div>
  <a href="function.mysql-connect.php.html#85539" class="name">
  <strong class="user"><em>bmagilavy at avalon-internet dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#85539"> &para;</a><div class="date" title="2008-09-04 01:00"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom85539">
<div class="phpcode"><code><span class="html">If you trying to connect to a remote server, here are a few things that can go wrong. Perhaps this list will save someone some time:<br /><br />1. You may need to get in touch with the remote server's tech support: <br /><br /> a. to ensure that you can get through its firewall. It is not necessarily enough to have your server number listed in the recipient site's cpanel remote access host list. It depends on how the server company has things set up;<br /><br /> b. to find out what port number they are using for database connections, which may not be the default used by mysql_connect;<br /><br /> c. If you are using ODBC, the host to which you are trying to connect may or may not have any ODBC drivers installed; and<br /><br /> d. If you are working from a dynamic IP, they may be set up to accommodate it, or you may have to use a proxy. See <a href="http://forge.mysql.com/wiki/MySQL_Proxy" rel="nofollow" target="_blank">http://forge.mysql.com/wiki/MySQL_Proxy</a> .<br /><br />2. If you are working from a shared server yourself, the server number you were sent in the sign-up letter is probably NOT the server number you should be using to connect to a remote database. You need the server number of the machine on which your site is sitting, not your virtual account server number on that machine. You can get this from your own tech support.<br /><br />I am grateful to Jonathan Jones at Bluehost for this analysis.</span></code></div>
  </div>
 </div>
  <div class="note" id="100896">  <div class="votes">
    <div id="Vu100896">
    <a href="https://www.php.net/manual/vote-note.php?id=100896&amp;page=function.mysql-connect&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd100896">
    <a href="https://www.php.net/manual/vote-note.php?id=100896&amp;page=function.mysql-connect&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V100896" title="28% like this...">
    -25
    </div>
  </div>
  <a href="function.mysql-connect.php.html#100896" class="name">
  <strong class="user"><em>i dot linker at gmail dot com</em></strong></a><a class="genanchor" href="function.mysql-connect.php.html#100896"> &para;</a><div class="date" title="2010-11-13 10:55"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom100896">
<div class="phpcode"><code><span class="html">MySQL connection string regexp:<br />~mysql://([^:@/]*):?([^@/]*)@?([^/]*)/?([^/]*)~</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.mysql-connect&amp;redirect=https://www.php.net/manual/ru/function.mysql-connect.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.mysql.php.html">MySQL</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.mysql-affected-rows.php.html" title="mysql_&#8203;affected_&#8203;rows">mysql_&#8203;affected_&#8203;rows</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-client-encoding.php.html" title="mysql_&#8203;client_&#8203;encoding">mysql_&#8203;client_&#8203;encoding</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-close.php.html" title="mysql_&#8203;close">mysql_&#8203;close</a>
                        </li>
                                                <li class="current">
                            <a href="function.mysql-connect.php.html" title="mysql_&#8203;connect">mysql_&#8203;connect</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-create-db.php.html" title="mysql_&#8203;create_&#8203;db">mysql_&#8203;create_&#8203;db</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-data-seek.php.html" title="mysql_&#8203;data_&#8203;seek">mysql_&#8203;data_&#8203;seek</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-db-name.php.html" title="mysql_&#8203;db_&#8203;name">mysql_&#8203;db_&#8203;name</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-db-query.php.html" title="mysql_&#8203;db_&#8203;query">mysql_&#8203;db_&#8203;query</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-drop-db.php.html" title="mysql_&#8203;drop_&#8203;db">mysql_&#8203;drop_&#8203;db</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-errno.php.html" title="mysql_&#8203;errno">mysql_&#8203;errno</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-error.php.html" title="mysql_&#8203;error">mysql_&#8203;error</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-escape-string.php.html" title="mysql_&#8203;escape_&#8203;string">mysql_&#8203;escape_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-fetch-array.php.html" title="mysql_&#8203;fetch_&#8203;array">mysql_&#8203;fetch_&#8203;array</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-fetch-assoc.php.html" title="mysql_&#8203;fetch_&#8203;assoc">mysql_&#8203;fetch_&#8203;assoc</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-fetch-field.php.html" title="mysql_&#8203;fetch_&#8203;field">mysql_&#8203;fetch_&#8203;field</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-fetch-lengths.php.html" title="mysql_&#8203;fetch_&#8203;lengths">mysql_&#8203;fetch_&#8203;lengths</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-fetch-object.php.html" title="mysql_&#8203;fetch_&#8203;object">mysql_&#8203;fetch_&#8203;object</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-fetch-row.php.html" title="mysql_&#8203;fetch_&#8203;row">mysql_&#8203;fetch_&#8203;row</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-field-flags.php.html" title="mysql_&#8203;field_&#8203;flags">mysql_&#8203;field_&#8203;flags</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-field-len.php.html" title="mysql_&#8203;field_&#8203;len">mysql_&#8203;field_&#8203;len</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-field-name.php.html" title="mysql_&#8203;field_&#8203;name">mysql_&#8203;field_&#8203;name</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-field-seek.php.html" title="mysql_&#8203;field_&#8203;seek">mysql_&#8203;field_&#8203;seek</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-field-table.php.html" title="mysql_&#8203;field_&#8203;table">mysql_&#8203;field_&#8203;table</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-field-type.php.html" title="mysql_&#8203;field_&#8203;type">mysql_&#8203;field_&#8203;type</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-free-result.php.html" title="mysql_&#8203;free_&#8203;result">mysql_&#8203;free_&#8203;result</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-get-client-info.php.html" title="mysql_&#8203;get_&#8203;client_&#8203;info">mysql_&#8203;get_&#8203;client_&#8203;info</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-get-host-info.php.html" title="mysql_&#8203;get_&#8203;host_&#8203;info">mysql_&#8203;get_&#8203;host_&#8203;info</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-get-proto-info.php.html" title="mysql_&#8203;get_&#8203;proto_&#8203;info">mysql_&#8203;get_&#8203;proto_&#8203;info</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-get-server-info.php.html" title="mysql_&#8203;get_&#8203;server_&#8203;info">mysql_&#8203;get_&#8203;server_&#8203;info</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-info.php.html" title="mysql_&#8203;info">mysql_&#8203;info</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-insert-id.php.html" title="mysql_&#8203;insert_&#8203;id">mysql_&#8203;insert_&#8203;id</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-list-dbs.php.html" title="mysql_&#8203;list_&#8203;dbs">mysql_&#8203;list_&#8203;dbs</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-list-fields.php.html" title="mysql_&#8203;list_&#8203;fields">mysql_&#8203;list_&#8203;fields</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-list-processes.php.html" title="mysql_&#8203;list_&#8203;processes">mysql_&#8203;list_&#8203;processes</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-list-tables.php.html" title="mysql_&#8203;list_&#8203;tables">mysql_&#8203;list_&#8203;tables</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-num-fields.php.html" title="mysql_&#8203;num_&#8203;fields">mysql_&#8203;num_&#8203;fields</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-num-rows.php.html" title="mysql_&#8203;num_&#8203;rows">mysql_&#8203;num_&#8203;rows</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-pconnect.php.html" title="mysql_&#8203;pconnect">mysql_&#8203;pconnect</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-ping.php.html" title="mysql_&#8203;ping">mysql_&#8203;ping</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-query.php.html" title="mysql_&#8203;query">mysql_&#8203;query</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-real-escape-string.php.html" title="mysql_&#8203;real_&#8203;escape_&#8203;string">mysql_&#8203;real_&#8203;escape_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-result.php.html" title="mysql_&#8203;result">mysql_&#8203;result</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-select-db.php.html" title="mysql_&#8203;select_&#8203;db">mysql_&#8203;select_&#8203;db</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-set-charset.php.html" title="mysql_&#8203;set_&#8203;charset">mysql_&#8203;set_&#8203;charset</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-stat.php.html" title="mysql_&#8203;stat">mysql_&#8203;stat</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-tablename.php.html" title="mysql_&#8203;tablename">mysql_&#8203;tablename</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-thread-id.php.html" title="mysql_&#8203;thread_&#8203;id">mysql_&#8203;thread_&#8203;id</a>
                        </li>
                                                <li class="">
                            <a href="function.mysql-unbuffered-query.php.html" title="mysql_&#8203;unbuffered_&#8203;query">mysql_&#8203;unbuffered_&#8203;query</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
