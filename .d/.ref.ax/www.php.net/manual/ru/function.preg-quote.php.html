<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: preg_quote - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.preg-quote.php.html">
 <link rel="shorturl" href="https://www.php.net/preg-quote">
 <link rel="alternate" href="https://www.php.net/preg-quote" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.pcre.php.html">
 <link rel="prev" href="function.preg-match.php.html">
 <link rel="next" href="function.preg-replace-callback-array.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.preg-quote.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.preg-quote.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.preg-quote.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.preg-quote.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.preg-quote.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.preg-quote.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.preg-quote.php" hreflang="pt_BR">
 <link rel="alternate" href="function.preg-quote.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.preg-quote.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.preg-quote.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.preg-replace-callback-array.php.html">
          preg_replace_callback_array &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.preg-match.php.html">
          &laquo; preg_match        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.text.php.html'>Обработка текста</a></li>      <li><a href='book.pcre.php.html'>PCRE</a></li>      <li><a href='ref.pcre.php.html'>Функции PCRE</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.preg-quote.php'>English</option>
            <option value='de/function.preg-quote.php'>German</option>
            <option value='es/function.preg-quote.php'>Spanish</option>
            <option value='fr/function.preg-quote.php'>French</option>
            <option value='it/function.preg-quote.php'>Italian</option>
            <option value='ja/function.preg-quote.php'>Japanese</option>
            <option value='pt_BR/function.preg-quote.php'>Brazilian Portuguese</option>
            <option value='ru/function.preg-quote.php' selected="selected">Russian</option>
            <option value='tr/function.preg-quote.php'>Turkish</option>
            <option value='zh/function.preg-quote.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/pcre/functions/preg-quote.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.preg-quote%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.preg-quote" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">preg_quote</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">preg_quote</span> &mdash; <span class="dc-title">Экранирует символы в регулярных выражениях</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.preg-quote-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>preg_quote</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$str</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$delimiter</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Функция <span class="function"><strong>preg_quote()</strong></span> принимает строку <code class="parameter">str</code>
   и добавляет обратный слеш перед каждым служебным символом.
   Это бывает полезно, если в составлении шаблона участвуют строковые переменные,
   значение которых в процессе работы скрипта может меняться.
  </p>
  <p class="para">
   В регулярных выражениях служебными считаются следующие символы:
   <code class="literal">. \ + * ? [ ^ ] $ ( ) { } = ! &lt; &gt; | : - #</code>
  </p>
  <p class="para">
   Обратите внимание, что символ <code class="literal">/</code> не является служебным.
  </p>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Обратите внимание, что <span class="function"><strong>preg_quote()</strong></span> не предназначена для применения
    к строкам $replacement функции <span class="function"><a href="function.preg-replace.php.html" class="function">preg_replace()</a></span> и т.д.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.preg-quote-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">str</code></dt>

     <dd>

      <p class="para">
       Входная строка.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">delimiter</code></dt>

     <dd>

      <p class="para">
       В случае, если указан необязательный параметр <code class="parameter">delimiter</code>,
       он будет также экранироваться. Это удобно для экранирования
       разделителя, который используется в PCRE-функциях. Наиболее
       распространённым разделителем является символ <code class="literal">/</code>.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.preg-quote-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает экранированную строку.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.preg-quote-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.3.0</td>
       <td>
        Символ <code class="literal">#</code> теперь экранируется
       </td>
      </tr>

      <tr>
       <td>7.2.0</td>
       <td>
        <code class="parameter">delimiter</code> теперь допускает значение null.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.preg-quote-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>preg_quote()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$keywords </span><span style="color: #007700">= </span><span style="color: #DD0000">'$40 за g3/400'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$keywords </span><span style="color: #007700">= </span><span style="color: #0000BB">preg_quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">, </span><span style="color: #DD0000">'/'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$keywords</span><span style="color: #007700">; </span><span style="color: #FF8000">// возвращает \$40 за g3\/400<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #2 Выделение курсивом слова в тексте</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// В данном примере preg_quote($word) используется, чтобы<br />// избежать трактовки символа '*' как спец. символа.<br /><br /></span><span style="color: #0000BB">$textbody </span><span style="color: #007700">= </span><span style="color: #DD0000">"Эту книгу *очень* тяжело найти."</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$word </span><span style="color: #007700">= </span><span style="color: #DD0000">"*очень*"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$textbody </span><span style="color: #007700">= </span><span style="color: #0000BB">preg_replace </span><span style="color: #007700">(</span><span style="color: #DD0000">"/" </span><span style="color: #007700">. </span><span style="color: #0000BB">preg_quote</span><span style="color: #007700">(</span><span style="color: #0000BB">$word</span><span style="color: #007700">, </span><span style="color: #DD0000">'/'</span><span style="color: #007700">) . </span><span style="color: #DD0000">"/"</span><span style="color: #007700">,<br />                          </span><span style="color: #DD0000">"&lt;i&gt;" </span><span style="color: #007700">. </span><span style="color: #0000BB">$word </span><span style="color: #007700">. </span><span style="color: #DD0000">"&lt;/i&gt;"</span><span style="color: #007700">,<br />                          </span><span style="color: #0000BB">$textbody</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.preg-quote-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: <span class="simpara">Эта функция
безопасна для обработки данных в двоичной форме.</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.preg-quote-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="pcre.pattern.php.html" class="link">Регулярные выражения PCRE</a></li>
    <li class="member"><span class="function"><a href="function.escapeshellcmd.php.html" class="function" rel="rdfs-seeAlso">escapeshellcmd()</a> - Экранировать метасимволы командной строки</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.preg-quote&amp;redirect=https://www.php.net/manual/ru/function.preg-quote.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">7 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="80049">  <div class="votes">
    <div id="Vu80049">
    <a href="https://www.php.net/manual/vote-note.php?id=80049&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80049">
    <a href="https://www.php.net/manual/vote-note.php?id=80049&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80049" title="80% like this...">
    72
    </div>
  </div>
  <a href="function.preg-quote.php.html#80049" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#80049"> &para;</a><div class="date" title="2007-12-26 03:13"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80049">
<div class="phpcode"><code><span class="html">Wondering why your preg_replace fails, even if you have used preg_quote?<br /><br />Try adding the delimiter / - preg_quote($string, '/');</span></code></div>
  </div>
 </div>
  <div class="note" id="125779">  <div class="votes">
    <div id="Vu125779">
    <a href="https://www.php.net/manual/vote-note.php?id=125779&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125779">
    <a href="https://www.php.net/manual/vote-note.php?id=125779&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125779" title="75% like this...">
    4
    </div>
  </div>
  <a href="function.preg-quote.php.html#125779" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#125779"> &para;</a><div class="date" title="2021-02-05 09:34"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125779">
<div class="phpcode"><code><span class="html">I discovered that, in addition to escaping the special regular expression characters, preg_quote() encodes the NUL byte to its octal representation:<br /><br /><span class="default">&lt;?php<br />var_dump</span><span class="keyword">(</span><span class="default">preg_quote</span><span class="keyword">(</span><span class="string">"\0"</span><span class="keyword">));<br /></span><span class="default">?&gt;<br /></span><br />Output:<br /><br />string(4) "\000"</span></code></div>
  </div>
 </div>
  <div class="note" id="92350">  <div class="votes">
    <div id="Vu92350">
    <a href="https://www.php.net/manual/vote-note.php?id=92350&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92350">
    <a href="https://www.php.net/manual/vote-note.php?id=92350&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92350" title="69% like this...">
    16
    </div>
  </div>
  <a href="function.preg-quote.php.html#92350" class="name">
  <strong class="user"><em>zooly</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#92350"> &para;</a><div class="date" title="2009-07-21 01:07"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92350">
<div class="phpcode"><code><span class="html">To escape characters with special meaning, like: .-[]() and so on, use \Q and \E.<br /><br />For example:<br /><br /><span class="default">&lt;?php </span><span class="keyword">echo ( </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^'</span><span class="keyword">.( </span><span class="default">$myvar </span><span class="keyword">= </span><span class="string">'te.t' </span><span class="keyword">).</span><span class="string">'$/i'</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">) ? </span><span class="string">'match' </span><span class="keyword">: </span><span class="string">'nomatch' </span><span class="keyword">); </span><span class="default">?&gt;<br /></span><br />Will result in: match<br /><br />But:<br /><br /><span class="default">&lt;?php </span><span class="keyword">echo ( </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^\Q'</span><span class="keyword">.( </span><span class="default">$myvar </span><span class="keyword">= </span><span class="string">'te.t' </span><span class="keyword">).</span><span class="string">'\E$/i'</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">) ? </span><span class="string">'match' </span><span class="keyword">: </span><span class="string">'nomatch' </span><span class="keyword">); </span><span class="default">?&gt;<br /></span><br />Will result in: nomatch</span></code></div>
  </div>
 </div>
  <div class="note" id="123876">  <div class="votes">
    <div id="Vu123876">
    <a href="https://www.php.net/manual/vote-note.php?id=123876&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123876">
    <a href="https://www.php.net/manual/vote-note.php?id=123876&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123876" title="68% like this...">
    6
    </div>
  </div>
  <a href="function.preg-quote.php.html#123876" class="name">
  <strong class="user"><em>ed at happysoftware dot com</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#123876"> &para;</a><div class="date" title="2019-05-22 07:31"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom123876">
<div class="phpcode"><code><span class="html">It should be noted that the forward slash is not escaped.  Since many regexes are surrounded by forward slashes, if you have one in your regex as  text you must escape it yourself otherwise it'll terminat the regex.</span></code></div>
  </div>
 </div>
  <div class="note" id="121568">  <div class="votes">
    <div id="Vu121568">
    <a href="https://www.php.net/manual/vote-note.php?id=121568&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121568">
    <a href="https://www.php.net/manual/vote-note.php?id=121568&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121568" title="58% like this...">
    3
    </div>
  </div>
  <a href="function.preg-quote.php.html#121568" class="name">
  <strong class="user"><em>rwillmann at crooce dot com</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#121568"> &para;</a><div class="date" title="2017-08-25 11:53"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121568">
<div class="phpcode"><code><span class="html">List of specials is incomplete:<br /><br />--- sample code ---<br /><br />$specials = '.\+*?[^]$(){}=!&lt;&gt;|:-';<br /><br />for ($i = 0; $i &lt;= 255; $i++) {<br /><br />    if (chr($i) !== preg_quote(chr($i))) {<br /><br />        printf("Character 0x%02x quoted%s\n",<br />               $i,<br />               (strpos($specials, chr($i)) === FALSE) ? ' (+)' : '');<br />    } /* if */<br />} /* for */<br /><br />--- sample code ---<br /><br />--- output ---<br /><br />Character 0x00 quoted (+)<br />Character 0x21 quoted<br />Character 0x24 quoted<br />Character 0x28 quoted<br />Character 0x29 quoted<br />Character 0x2a quoted<br />Character 0x2b quoted<br />Character 0x2d quoted<br />Character 0x2e quoted<br />Character 0x3a quoted<br />Character 0x3c quoted<br />Character 0x3d quoted<br />Character 0x3e quoted<br />Character 0x3f quoted<br />Character 0x5b quoted<br />Character 0x5c quoted<br />Character 0x5d quoted<br />Character 0x5e quoted<br />Character 0x7b quoted<br />Character 0x7c quoted<br />Character 0x7d quoted<br /><br />--- output ---</span></code></div>
  </div>
 </div>
  <div class="note" id="125730">  <div class="votes">
    <div id="Vu125730">
    <a href="https://www.php.net/manual/vote-note.php?id=125730&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125730">
    <a href="https://www.php.net/manual/vote-note.php?id=125730&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125730" title="47% like this...">
    -1
    </div>
  </div>
  <a href="function.preg-quote.php.html#125730" class="name">
  <strong class="user"><em>rawr at t-regx dot com</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#125730"> &para;</a><div class="date" title="2021-01-28 12:56"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125730">
<div class="phpcode"><code><span class="html">To have a higher level control of what your pattern looks like, try T-Regx:<br /><br />Pattern::inject('This is (my|our) pattern: @', [$_GET['name']]);</span></code></div>
  </div>
 </div>
  <div class="note" id="123862">  <div class="votes">
    <div id="Vu123862">
    <a href="https://www.php.net/manual/vote-note.php?id=123862&amp;page=function.preg-quote&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123862">
    <a href="https://www.php.net/manual/vote-note.php?id=123862&amp;page=function.preg-quote&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123862" title="33% like this...">
    -10
    </div>
  </div>
  <a href="function.preg-quote.php.html#123862" class="name">
  <strong class="user"><em>noreply at t-regx dot com</em></strong></a><a class="genanchor" href="function.preg-quote.php.html#123862"> &para;</a><div class="date" title="2019-05-20 08:28"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom123862">
<div class="phpcode"><code><span class="html">If you find yourself using too much of preg_quote(), it's a good sign you might want to use Prepared Patterns from T-Regx library: <a href="https://t-regx.com/docs/handling-user-input" rel="nofollow" target="_blank">https://t-regx.com/docs/handling-user-input</a></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.preg-quote&amp;redirect=https://www.php.net/manual/ru/function.preg-quote.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.pcre.php.html">Функции PCRE</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.preg-filter.php.html" title="preg_&#8203;filter">preg_&#8203;filter</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-grep.php.html" title="preg_&#8203;grep">preg_&#8203;grep</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-last-error-msg.php.html" title="preg_&#8203;last_&#8203;error_&#8203;msg">preg_&#8203;last_&#8203;error_&#8203;msg</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-last-error.php.html" title="preg_&#8203;last_&#8203;error">preg_&#8203;last_&#8203;error</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-match-all.php.html" title="preg_&#8203;match_&#8203;all">preg_&#8203;match_&#8203;all</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-match.php.html" title="preg_&#8203;match">preg_&#8203;match</a>
                        </li>
                                                <li class="current">
                            <a href="function.preg-quote.php.html" title="preg_&#8203;quote">preg_&#8203;quote</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-replace-callback-array.php.html" title="preg_&#8203;replace_&#8203;callback_&#8203;array">preg_&#8203;replace_&#8203;callback_&#8203;array</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-replace-callback.php.html" title="preg_&#8203;replace_&#8203;callback">preg_&#8203;replace_&#8203;callback</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-replace.php.html" title="preg_&#8203;replace">preg_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.preg-split.php.html" title="preg_&#8203;split">preg_&#8203;split</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
