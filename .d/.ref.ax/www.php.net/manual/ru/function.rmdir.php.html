<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: rmdir - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.rmdir.php.html">
 <link rel="shorturl" href="https://www.php.net/rmdir">
 <link rel="alternate" href="https://www.php.net/rmdir" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.filesystem.php.html">
 <link rel="prev" href="function.rewind.php.html">
 <link rel="next" href="function.set-file-buffer.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.rmdir.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.rmdir.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.rmdir.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.rmdir.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.rmdir.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.rmdir.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.rmdir.php" hreflang="pt_BR">
 <link rel="alternate" href="function.rmdir.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.rmdir.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.rmdir.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.set-file-buffer.php.html">
          set_file_buffer &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.rewind.php.html">
          &laquo; rewind        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.fileprocess.file.php.html'>Модули для работы с файловой системой</a></li>      <li><a href='book.filesystem.php.html'>Файловая система</a></li>      <li><a href='ref.filesystem.php.html'>Функции файловой системы</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.rmdir.php'>English</option>
            <option value='de/function.rmdir.php'>German</option>
            <option value='es/function.rmdir.php'>Spanish</option>
            <option value='fr/function.rmdir.php'>French</option>
            <option value='it/function.rmdir.php'>Italian</option>
            <option value='ja/function.rmdir.php'>Japanese</option>
            <option value='pt_BR/function.rmdir.php'>Brazilian Portuguese</option>
            <option value='ru/function.rmdir.php' selected="selected">Russian</option>
            <option value='tr/function.rmdir.php'>Turkish</option>
            <option value='zh/function.rmdir.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/filesystem/functions/rmdir.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.rmdir%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.rmdir" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">rmdir</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">rmdir</span> &mdash; <span class="dc-title">Удаляет директорию</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.rmdir-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>rmdir</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$directory</code></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">resource</span><span class="type"></span></span> <code class="parameter">$context</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type">bool</span></div>

  <p class="para rdfs-comment">
   Пытается удалить директорию с именем <code class="parameter">directory</code>.
   Директория должна быть пустой и должны иметься необходимые для этого права.
   При неудачном выполнении будет сгенерирована ошибка уровня <strong><code>E_WARNING</code></strong>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.rmdir-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">directory</code></dt>

     <dd>

      <p class="para">
       Путь к директории.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">context</code></dt>

     <dd>

      <p class="para">Ресурс (<span class="type">resource</span>)
с <a href="stream.contexts.php.html" class="link">контекстом потока</a>.</p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.rmdir-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает <strong><code>true</code></strong> в случае успешного выполнения или <strong><code>false</code></strong> в случае возникновения ошибки.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.rmdir-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>rmdir()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if (!</span><span style="color: #0000BB">is_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'examples'</span><span style="color: #007700">)) {<br />    </span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #DD0000">'examples'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">rmdir</span><span style="color: #007700">(</span><span style="color: #DD0000">'examples'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.rmdir-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.is-dir.php.html" class="function" rel="rdfs-seeAlso">is_dir()</a> - Определяет, является ли имя файла директорией</span></li>
    <li class="member"><span class="function"><a href="function.mkdir.php.html" class="function" rel="rdfs-seeAlso">mkdir()</a> - Создаёт директорию</span></li>
    <li class="member"><span class="function"><a href="function.unlink.php.html" class="function" rel="rdfs-seeAlso">unlink()</a> - Удаляет файл</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.rmdir&amp;redirect=https://www.php.net/manual/ru/function.rmdir.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">29 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="110489">  <div class="votes">
    <div id="Vu110489">
    <a href="https://www.php.net/manual/vote-note.php?id=110489&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd110489">
    <a href="https://www.php.net/manual/vote-note.php?id=110489&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V110489" title="73% like this...">
    201
    </div>
  </div>
  <a href="function.rmdir.php.html#110489" class="name">
  <strong class="user"><em>nbari at dalmp dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#110489"> &para;</a><div class="date" title="2012-10-28 10:36"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom110489">
<div class="phpcode"><code><span class="html">Glob function doesn't return the hidden files, therefore scandir can be more useful, when trying to delete recursively a tree.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">public static function </span><span class="default">delTree</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />   </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">), array(</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">'..'</span><span class="keyword">));<br />    foreach (</span><span class="default">$files </span><span class="keyword">as </span><span class="default">$file</span><span class="keyword">) {<br />      (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">)) ? </span><span class="default">delTree</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">) : </span><span class="default">unlink</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">);<br />    }<br />    return </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />  }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="97618">  <div class="votes">
    <div id="Vu97618">
    <a href="https://www.php.net/manual/vote-note.php?id=97618&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd97618">
    <a href="https://www.php.net/manual/vote-note.php?id=97618&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V97618" title="74% like this...">
    49
    </div>
  </div>
  <a href="function.rmdir.php.html#97618" class="name">
  <strong class="user"><em>info at top-info dot org</em></strong></a><a class="genanchor" href="function.rmdir.php.html#97618"> &para;</a><div class="date" title="2010-04-28 04:15"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom97618">
<div class="phpcode"><code><span class="html">The function delTree is dangerous when you dont take really care. I for example always deleted a temporary directory with it. Everthing went fine until the moment where the var containing this temporary directory wasnt set. The var didnt contain the path but an empty string. The function delTree  was called and deleted all the files at my host!<br />So dont use this function when you dont have a proper handling coded. Dont think about using this function only for testing without such a handling.<br />Luckily nothing is lost because I had the local copy...</span></code></div>
  </div>
 </div>
  <div class="note" id="118821">  <div class="votes">
    <div id="Vu118821">
    <a href="https://www.php.net/manual/vote-note.php?id=118821&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118821">
    <a href="https://www.php.net/manual/vote-note.php?id=118821&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118821" title="73% like this...">
    36
    </div>
  </div>
  <a href="function.rmdir.php.html#118821" class="name">
  <strong class="user"><em>dj dot thd at hotmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#118821"> &para;</a><div class="date" title="2016-02-11 09:16"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118821">
<div class="phpcode"><code><span class="html">Never ever use jurchiks101 at gmail dot com code!!! It contains command injection vulnerability!!!<br />If you want to do it that way, use something like this instead:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">if (</span><span class="default">PHP_OS </span><span class="keyword">=== </span><span class="string">'Windows'</span><span class="keyword">)<br />{<br />    </span><span class="default">exec</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"rd /s /q %s"</span><span class="keyword">, </span><span class="default">escapeshellarg</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)));<br />}<br />else<br />{<br />    </span><span class="default">exec</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"rm -rf %s"</span><span class="keyword">, </span><span class="default">escapeshellarg</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)));<br />}<br /></span><span class="default">?&gt;<br /></span><br />Note the escapeshellarg usage to escape any possible unwanted character, this avoids putting commands in $path variable so the possibility of someone "pwning" the server with this code</span></code></div>
  </div>
 </div>
  <div class="note" id="117354">  <div class="votes">
    <div id="Vu117354">
    <a href="https://www.php.net/manual/vote-note.php?id=117354&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117354">
    <a href="https://www.php.net/manual/vote-note.php?id=117354&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117354" title="73% like this...">
    33
    </div>
  </div>
  <a href="function.rmdir.php.html#117354" class="name">
  <strong class="user"><em>itay at itgoldman dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#117354"> &para;</a><div class="date" title="2015-05-26 05:07"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117354">
<div class="phpcode"><code><span class="html">some implementations of recursive folder delete don't work so well (some give warnings, other don't delete hidden files etc).<br /><br />this one is working fine:<br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">rrmdir</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">) {<br />    </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">);<br />    while(</span><span class="default">false </span><span class="keyword">!== ( </span><span class="default">$file </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) ) {<br />        if (( </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">'.' </span><span class="keyword">) &amp;&amp; ( </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">'..' </span><span class="keyword">)) {<br />            </span><span class="default">$full </span><span class="keyword">= </span><span class="default">$src </span><span class="keyword">. </span><span class="string">'/' </span><span class="keyword">. </span><span class="default">$file</span><span class="keyword">;<br />            if ( </span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$full</span><span class="keyword">) ) {<br />                </span><span class="default">rrmdir</span><span class="keyword">(</span><span class="default">$full</span><span class="keyword">);<br />            }<br />            else {<br />                </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$full</span><span class="keyword">);<br />            }<br />        }<br />    }<br />    </span><span class="default">closedir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />    </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$src</span><span class="keyword">);<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="116585">  <div class="votes">
    <div id="Vu116585">
    <a href="https://www.php.net/manual/vote-note.php?id=116585&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116585">
    <a href="https://www.php.net/manual/vote-note.php?id=116585&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116585" title="75% like this...">
    14
    </div>
  </div>
  <a href="function.rmdir.php.html#116585" class="name">
  <strong class="user"><em>wolfoneil at gmx.de</em></strong></a><a class="genanchor" href="function.rmdir.php.html#116585"> &para;</a><div class="date" title="2015-01-26 08:31"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116585">
<div class="phpcode"><code><span class="html">I was working on some Dataoperation, and just wanted to share an OOP method with you.<br /><br />It just removes any contents of a Directory but not the target Directory itself! Its really nice if you want to clean a BackupDirectory or Log.<br /><br />Also you can test on it if something went wrong or if it just done its Work!<br /><br />I have it in a FileHandler class for example, enjoy!<br /><br /><span class="default">&lt;?php <br /><br />  </span><span class="keyword">public function </span><span class="default">deleteContent</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">){<br />      try{<br />        </span><span class="default">$iterator </span><span class="keyword">= new </span><span class="default">DirectoryIterator</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />        foreach ( </span><span class="default">$iterator </span><span class="keyword">as </span><span class="default">$fileinfo </span><span class="keyword">) {<br />          if(</span><span class="default">$fileinfo</span><span class="keyword">-&gt;</span><span class="default">isDot</span><span class="keyword">())continue;<br />          if(</span><span class="default">$fileinfo</span><span class="keyword">-&gt;</span><span class="default">isDir</span><span class="keyword">()){<br />            if(</span><span class="default">deleteContent</span><span class="keyword">(</span><span class="default">$fileinfo</span><span class="keyword">-&gt;</span><span class="default">getPathname</span><span class="keyword">()))<br />              @</span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$fileinfo</span><span class="keyword">-&gt;</span><span class="default">getPathname</span><span class="keyword">());<br />          }<br />          if(</span><span class="default">$fileinfo</span><span class="keyword">-&gt;</span><span class="default">isFile</span><span class="keyword">()){<br />            @</span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$fileinfo</span><span class="keyword">-&gt;</span><span class="default">getPathname</span><span class="keyword">());<br />          }<br />        }<br />      } catch ( </span><span class="default">Exception $e </span><span class="keyword">){<br />         </span><span class="comment">// write log<br />         </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />      }<br />      return </span><span class="default">true</span><span class="keyword">;<br />    }<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98622">  <div class="votes">
    <div id="Vu98622">
    <a href="https://www.php.net/manual/vote-note.php?id=98622&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98622">
    <a href="https://www.php.net/manual/vote-note.php?id=98622&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98622" title="69% like this...">
    41
    </div>
  </div>
  <a href="function.rmdir.php.html#98622" class="name">
  <strong class="user"><em>holger1 at NOSPAMzentralplan dot de</em></strong></a><a class="genanchor" href="function.rmdir.php.html#98622"> &para;</a><div class="date" title="2010-06-26 02:00"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98622">
<div class="phpcode"><code><span class="html">Another simple way to recursively delete a directory that is not empty:<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">function </span><span class="default">rrmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />   if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) {<br />     </span><span class="default">$objects </span><span class="keyword">= </span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />     foreach (</span><span class="default">$objects </span><span class="keyword">as </span><span class="default">$object</span><span class="keyword">) {<br />       if (</span><span class="default">$object </span><span class="keyword">!= </span><span class="string">"." </span><span class="keyword">&amp;&amp; </span><span class="default">$object </span><span class="keyword">!= </span><span class="string">".."</span><span class="keyword">) {<br />         if (</span><span class="default">filetype</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$object</span><span class="keyword">) == </span><span class="string">"dir"</span><span class="keyword">) </span><span class="default">rrmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$object</span><span class="keyword">); else </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$object</span><span class="keyword">);<br />       }<br />     }<br />     </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$objects</span><span class="keyword">);<br />     </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />   }<br /> }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="119949">  <div class="votes">
    <div id="Vu119949">
    <a href="https://www.php.net/manual/vote-note.php?id=119949&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119949">
    <a href="https://www.php.net/manual/vote-note.php?id=119949&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119949" title="70% like this...">
    7
    </div>
  </div>
  <a href="function.rmdir.php.html#119949" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.rmdir.php.html#119949"> &para;</a><div class="date" title="2016-09-25 10:44"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119949">
<div class="phpcode"><code><span class="html">itay at itgoldman's function falls into an infinite loop if the $src directory doesn't exist.<br />Here's a fix - one should do at least a file_exists() check before the loop:<br /><br />function rrmdir($src) {<br />    if (file_exists($src)) {<br />        $dir = opendir($src);<br />        while (false !== ($file = readdir($dir))) {<br />            if (($file != '.') &amp;&amp; ($file != '..')) {<br />                $full = $src . '/' . $file;<br />                if (is_dir($full)) {<br />                    rrmdir($full);<br />                } else {<br />                    unlink($full);<br />                }<br />            }<br />        }<br />        closedir($dir);<br />        rmdir($src);<br />    }<br />}<br /><br />Thanks to itay for the original function, though, it was helpful.</span></code></div>
  </div>
 </div>
  <div class="note" id="95703">  <div class="votes">
    <div id="Vu95703">
    <a href="https://www.php.net/manual/vote-note.php?id=95703&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd95703">
    <a href="https://www.php.net/manual/vote-note.php?id=95703&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V95703" title="71% like this...">
    6
    </div>
  </div>
  <a href="function.rmdir.php.html#95703" class="name">
  <strong class="user"><em>steffen at wirsching-idstein dot de</em></strong></a><a class="genanchor" href="function.rmdir.php.html#95703"> &para;</a><div class="date" title="2010-01-16 05:40"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom95703">
<div class="phpcode"><code><span class="html">Say, you're working on Windows and continue to get a permission's error without a reason. Then it may be that a different Windows program is working on the folder (see earlier notes also). In the case that you can't find that program, the line<br /><br /><span class="default">&lt;?php closedir</span><span class="keyword">(</span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$dirname</span><span class="keyword">)); </span><span class="default">?&gt;<br /></span><br />may solve the problem!<br />Make sure to write this before rmdir($dirname);.</span></code></div>
  </div>
 </div>
  <div class="note" id="109901">  <div class="votes">
    <div id="Vu109901">
    <a href="https://www.php.net/manual/vote-note.php?id=109901&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109901">
    <a href="https://www.php.net/manual/vote-note.php?id=109901&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109901" title="66% like this...">
    5
    </div>
  </div>
  <a href="function.rmdir.php.html#109901" class="name">
  <strong class="user"><em>Chris Wren</em></strong></a><a class="genanchor" href="function.rmdir.php.html#109901"> &para;</a><div class="date" title="2012-09-01 08:29"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109901">
<div class="phpcode"><code><span class="html">I also ran into the permissions issue in Windows when deleting a folder and the solution was to close all editors which had files opened which were located in the folder structure.</span></code></div>
  </div>
 </div>
  <div class="note" id="105311">  <div class="votes">
    <div id="Vu105311">
    <a href="https://www.php.net/manual/vote-note.php?id=105311&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd105311">
    <a href="https://www.php.net/manual/vote-note.php?id=105311&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V105311" title="66% like this...">
    5
    </div>
  </div>
  <a href="function.rmdir.php.html#105311" class="name">
  <strong class="user"><em>shane dot ray87 at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#105311"> &para;</a><div class="date" title="2011-08-08 01:50"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom105311">
<div class="phpcode"><code><span class="html">This issue has been driving me nuts for hours.<br /><br />I am running PHP on IIS, I had the wincache module installed, when running a recursive delete a certain folder would get "stuck" and throw permissions errors.  I was not able to delete them with PHP or in windows itself.  The only way to delete the folder was to wait 5 min and run the script again, or stop the IIS server and the folder would delete on its own.  Disabling the wincachce module resolved the issue.<br /><br />Hope this helps.</span></code></div>
  </div>
 </div>
  <div class="note" id="79898">  <div class="votes">
    <div id="Vu79898">
    <a href="https://www.php.net/manual/vote-note.php?id=79898&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd79898">
    <a href="https://www.php.net/manual/vote-note.php?id=79898&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V79898" title="66% like this...">
    4
    </div>
  </div>
  <a href="function.rmdir.php.html#79898" class="name">
  <strong class="user"><em>rn at clubfl dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#79898"> &para;</a><div class="date" title="2007-12-18 10:16"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom79898">
<div class="phpcode"><code><span class="html">I've noticed that when using this command on a windows platform you may encounter a permissions error which may seem unwarranted. This commonly occurs if you are or were using a program to edit something in the to be deleted folder and either the item is still in the folder or the program that was accessing the file in that folder is still running(causing it to hold onto the folder).<br /><br />SO... if you get a permissions error and there shouldn't be an issue with folder permissions check if there are files in there then check if there is a program running that is or was using a file that was in that folder and kill it.</span></code></div>
  </div>
 </div>
  <div class="note" id="114183">  <div class="votes">
    <div id="Vu114183">
    <a href="https://www.php.net/manual/vote-note.php?id=114183&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114183">
    <a href="https://www.php.net/manual/vote-note.php?id=114183&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114183" title="62% like this...">
    13
    </div>
  </div>
  <a href="function.rmdir.php.html#114183" class="name">
  <strong class="user"><em>lprent at primary dot geek dot nz</em></strong></a><a class="genanchor" href="function.rmdir.php.html#114183"> &para;</a><div class="date" title="2014-01-21 10:10"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom114183">
<div class="phpcode"><code><span class="html">It is rather dangerous to recurse into symbolically linked directories. The delTree should be modified to check for links.<br /><br /><span class="default">&lt;?php <br /></span><span class="keyword">public static function </span><span class="default">delTree</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) { <br />   </span><span class="default">$files </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">), array(</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">'..'</span><span class="keyword">)); <br />    foreach (</span><span class="default">$files </span><span class="keyword">as </span><span class="default">$file</span><span class="keyword">) { <br />      (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">) &amp;&amp; !</span><span class="default">is_link</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) ? </span><span class="default">delTree</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">) : </span><span class="default">unlink</span><span class="keyword">(</span><span class="string">"</span><span class="default">$dir</span><span class="string">/</span><span class="default">$file</span><span class="string">"</span><span class="keyword">); <br />    } <br />    return </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">); <br />  } <br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="106587">  <div class="votes">
    <div id="Vu106587">
    <a href="https://www.php.net/manual/vote-note.php?id=106587&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106587">
    <a href="https://www.php.net/manual/vote-note.php?id=106587&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106587" title="64% like this...">
    4
    </div>
  </div>
  <a href="function.rmdir.php.html#106587" class="name">
  <strong class="user"><em>thomas</em></strong></a><a class="genanchor" href="function.rmdir.php.html#106587"> &para;</a><div class="date" title="2011-11-21 12:44"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106587">
<div class="phpcode"><code><span class="html">Function deleteAll given by O S on 18-Jun-2010 11:30 will fail at line<br /><br />while ($contents = readdir($directoryHandle)) {...<br /><br />if a folder named 0 (zero) is found during traversing the hierarchy</span></code></div>
  </div>
 </div>
  <div class="note" id="115067">  <div class="votes">
    <div id="Vu115067">
    <a href="https://www.php.net/manual/vote-note.php?id=115067&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115067">
    <a href="https://www.php.net/manual/vote-note.php?id=115067&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115067" title="63% like this...">
    5
    </div>
  </div>
  <a href="function.rmdir.php.html#115067" class="name">
  <strong class="user"><em>tuxedobob</em></strong></a><a class="genanchor" href="function.rmdir.php.html#115067"> &para;</a><div class="date" title="2014-05-21 07:13"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115067">
<div class="phpcode"><code><span class="html">Keep in mind that if you know what your host OS is, you can always just call the appropriate system call using exec() or the like. For example:<br /><br />exec('rmdir folder-to-delete /s /q'); //windows<br />exec('rmdir -rf folder-to-delete'); //OS X/*nix?</span></code></div>
  </div>
 </div>
  <div class="note" id="115832">  <div class="votes">
    <div id="Vu115832">
    <a href="https://www.php.net/manual/vote-note.php?id=115832&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115832">
    <a href="https://www.php.net/manual/vote-note.php?id=115832&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115832" title="60% like this...">
    3
    </div>
  </div>
  <a href="function.rmdir.php.html#115832" class="name">
  <strong class="user"><em>ahmadmarafa at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#115832"> &para;</a><div class="date" title="2014-10-01 10:32"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115832">
<div class="phpcode"><code><span class="html">function unlinkDir($dir)<br />{<br />    $dirs = array($dir);<br />    $files = array() ;<br />    for($i=0;;$i++)<br />    {<br />        if(isset($dirs[$i]))<br />            $dir =  $dirs[$i];<br />        else<br />            break ;<br />    <br />        if($openDir = opendir($dir))<br />        {<br />            while($readDir = @readdir($openDir))<br />            {<br />                if($readDir != "." &amp;&amp; $readDir != "..")<br />                {<br />                 <br />                    if(is_dir($dir."/".$readDir))<br />                    {<br />                        $dirs[] = $dir."/".$readDir ;<br />                    }<br />                    else<br />                    {<br />                        <br />                        $files[] = $dir."/".$readDir ; <br />                    }<br />                }<br />            }<br />        <br />        }<br />        <br />    }<br />    <br />    <br />    <br />    foreach($files as $file)<br />    {<br />        unlink($file) ;<br />     <br />    }<br />    $dirs = array_reverse($dirs) ;<br />    foreach($dirs as $dir)<br />    {<br />        rmdir($dir) ;<br />    }<br />    <br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="115618">  <div class="votes">
    <div id="Vu115618">
    <a href="https://www.php.net/manual/vote-note.php?id=115618&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115618">
    <a href="https://www.php.net/manual/vote-note.php?id=115618&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115618" title="58% like this...">
    3
    </div>
  </div>
  <a href="function.rmdir.php.html#115618" class="name">
  <strong class="user"><em>Baraka Mghumba</em></strong></a><a class="genanchor" href="function.rmdir.php.html#115618"> &para;</a><div class="date" title="2014-08-27 06:42"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115618">
<div class="phpcode"><code><span class="html">Works fine, tested on PHP 5.4(EasyPHP server)<br />function deletedir($dir)<br />    {<br />        if (is_dir($dir))<br />        { <br />            $files = scandir($dir); <br />            foreach ($files as $file)<br />            { <br />                if ($file != "." &amp;&amp; $file != "..")<br />                { <br />                    if (filetype($dir."/".$file) == "dir")<br />                    {<br />                        $this-&gt;deletedir($dir."/".$file);<br />                    }<br />                    else<br />                    {<br />                        unlink($dir."/".$file); <br />                    }<br />                } <br />            } <br />            reset($objects); <br />            if(rmdir($dir))<br />            {<br />                return 'deleted successfully!';<br />            }<br />            else<br />            {<br />                return 'delete failed!';<br />            }<br />        } <br />        else<br />        {<br />            return 'doesn\'t exist or inaccessible!';<br />        }<br />    }<br />Something to note:<br />You have to take care of file permission if necessary</span></code></div>
  </div>
 </div>
  <div class="note" id="123670">  <div class="votes">
    <div id="Vu123670">
    <a href="https://www.php.net/manual/vote-note.php?id=123670&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123670">
    <a href="https://www.php.net/manual/vote-note.php?id=123670&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123670" title="55% like this...">
    1
    </div>
  </div>
  <a href="function.rmdir.php.html#123670" class="name">
  <strong class="user"><em>mmakshita2398 at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#123670"> &para;</a><div class="date" title="2019-03-08 08:19"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom123670">
<div class="phpcode"><code><span class="html">it Will Delete All Fildes in folder and that folder too...<br /><br />echo $path = 'D:\xampp\htdocs\New folder\New folder';<br /><br />function rmdir_recursive($dir) {<br />    $it = new RecursiveDirectoryIterator($dir, FilesystemIterator::SKIP_DOTS);<br />    $it = new RecursiveIteratorIterator($it, RecursiveIteratorIterator::CHILD_FIRST);<br />    foreach($it as $file) {<br />        if ($file-&gt;isDir()) rmdir($file-&gt;getPathname());<br />        else unlink($file-&gt;getPathname());<br />    }<br />    rmdir($dir);<br />}<br />rmdir_recursive($path);</span></code></div>
  </div>
 </div>
  <div class="note" id="92050">  <div class="votes">
    <div id="Vu92050">
    <a href="https://www.php.net/manual/vote-note.php?id=92050&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92050">
    <a href="https://www.php.net/manual/vote-note.php?id=92050&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92050" title="56% like this...">
    4
    </div>
  </div>
  <a href="function.rmdir.php.html#92050" class="name">
  <strong class="user"><em>asn at asn24 dot dk</em></strong></a><a class="genanchor" href="function.rmdir.php.html#92050"> &para;</a><div class="date" title="2009-07-06 09:08"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92050">
<div class="phpcode"><code><span class="html">A patch to previous script to make sure rights for deletion is set:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">//Delete folder function<br /></span><span class="keyword">function </span><span class="default">deleteDirectory</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />    if (!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) return </span><span class="default">true</span><span class="keyword">;<br />    if (!</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) || </span><span class="default">is_link</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) return </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />        foreach (</span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) as </span><span class="default">$item</span><span class="keyword">) {<br />            if (</span><span class="default">$item </span><span class="keyword">== </span><span class="string">'.' </span><span class="keyword">|| </span><span class="default">$item </span><span class="keyword">== </span><span class="string">'..'</span><span class="keyword">) continue;<br />            if (!</span><span class="default">deleteDirectory</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$item</span><span class="keyword">)) {<br />                </span><span class="default">chmod</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$item</span><span class="keyword">, </span><span class="default">0777</span><span class="keyword">);<br />                if (!</span><span class="default">deleteDirectory</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$item</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />            };<br />        }<br />        return </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />    }<br /></span><span class="default">?&gt;<br /></span><br />[EDITOR NOTE: "Credits to erkethan at free dot fr." - thiago]</span></code></div>
  </div>
 </div>
  <div class="note" id="93971">  <div class="votes">
    <div id="Vu93971">
    <a href="https://www.php.net/manual/vote-note.php?id=93971&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93971">
    <a href="https://www.php.net/manual/vote-note.php?id=93971&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93971" title="56% like this...">
    3
    </div>
  </div>
  <a href="function.rmdir.php.html#93971" class="name">
  <strong class="user"><em>omikrosys at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#93971"> &para;</a><div class="date" title="2009-10-08 09:52"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93971">
<div class="phpcode"><code><span class="html">Sometimes you would face situations in which rmdir($dirname) would give "permission denied" errors though you may have changed $dirname permissions. In such situations just change the permissions of the directory which contains $dirname and rmdir($dirname) would work like a charm.<br />Say you use rmdir('dirr'); then change the permissions of the folder that contains 'dirr'.</span></code></div>
  </div>
 </div>
  <div class="note" id="127559">  <div class="votes">
    <div id="Vu127559">
    <a href="https://www.php.net/manual/vote-note.php?id=127559&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd127559">
    <a href="https://www.php.net/manual/vote-note.php?id=127559&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V127559" title="no votes...">
    0
    </div>
  </div>
  <a href="function.rmdir.php.html#127559" class="name">
  <strong class="user"><em>dev dot abi dot log at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#127559"> &para;</a><div class="date" title="2022-08-31 12:23"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom127559">
<div class="phpcode"><code><span class="html">a simple snipped for removing empty dirs recursive :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">removeEmptyDirs</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">)<br />    {<br />        if(!</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">)){<br />            return;<br />        }<br /><br />        </span><span class="default">$children </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">), [</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">'..'</span><span class="keyword">]);<br /><br />        foreach(</span><span class="default">$children </span><span class="keyword">as </span><span class="default">$child</span><span class="keyword">){<br />            </span><span class="default">removeEmptyDirs</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">. </span><span class="default">$child</span><span class="keyword">. </span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">);<br />        }<br /><br />        </span><span class="default">$children </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">), [</span><span class="string">'.'</span><span class="keyword">,</span><span class="string">'..'</span><span class="keyword">]);<br />        if(empty(</span><span class="default">$children</span><span class="keyword">)){<br />            echo </span><span class="string">"the </span><span class="default">$fullPath</span><span class="string"> empty directory has been removed.\n"</span><span class="keyword">;<br />            </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$fullPath</span><span class="keyword">);<br />        }<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="84982">  <div class="votes">
    <div id="Vu84982">
    <a href="https://www.php.net/manual/vote-note.php?id=84982&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd84982">
    <a href="https://www.php.net/manual/vote-note.php?id=84982&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V84982" title="52% like this...">
    1
    </div>
  </div>
  <a href="function.rmdir.php.html#84982" class="name">
  <strong class="user"><em>TrashF at taistelumarsu dot org</em></strong></a><a class="genanchor" href="function.rmdir.php.html#84982"> &para;</a><div class="date" title="2008-08-08 03:21"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom84982">
<div class="phpcode"><code><span class="html">In case you're trying to rmdir() and you keep getting 'Permission denied' errors, make sure you don't have the directory still open after using opendir(). Especially when writing recursive functions for deleting directories, make sure you have closedir() BEFORE rmdir().</span></code></div>
  </div>
 </div>
  <div class="note" id="108113">  <div class="votes">
    <div id="Vu108113">
    <a href="https://www.php.net/manual/vote-note.php?id=108113&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd108113">
    <a href="https://www.php.net/manual/vote-note.php?id=108113&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V108113" title="51% like this...">
    1
    </div>
  </div>
  <a href="function.rmdir.php.html#108113" class="name">
  <strong class="user"><em>longears at BLERG dot gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#108113"> &para;</a><div class="date" title="2012-03-29 07:10"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom108113">
<div class="phpcode"><code><span class="html">Concise way to recursively remove a directory:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment"># recursively remove a directory<br /></span><span class="keyword">function </span><span class="default">rrmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />    foreach(</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'/*'</span><span class="keyword">) as </span><span class="default">$file</span><span class="keyword">) {<br />        if(</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">))<br />            </span><span class="default">rrmdir</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />        else<br />            </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />    }<br />    </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="104631">  <div class="votes">
    <div id="Vu104631">
    <a href="https://www.php.net/manual/vote-note.php?id=104631&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104631">
    <a href="https://www.php.net/manual/vote-note.php?id=104631&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104631" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.rmdir.php.html#104631" class="name">
  <strong class="user"><em>samy dot see at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#104631"> &para;</a><div class="date" title="2011-06-27 03:38"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104631">
<div class="phpcode"><code><span class="html">if you get this problem Permission denied in windows testing your site maybe this will resolve the problem <br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">if(</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">.</span><span class="string">'/Thumbs.db'</span><span class="keyword">)){<br />    </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">.</span><span class="string">'/Thumbs.db'</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />and then<br /><br /><span class="default">&lt;?php rmdir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">); </span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98499">  <div class="votes">
    <div id="Vu98499">
    <a href="https://www.php.net/manual/vote-note.php?id=98499&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98499">
    <a href="https://www.php.net/manual/vote-note.php?id=98499&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98499" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.rmdir.php.html#98499" class="name">
  <strong class="user"><em>O S</em></strong></a><a class="genanchor" href="function.rmdir.php.html#98499"> &para;</a><div class="date" title="2010-06-18 03:30"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98499">
<div class="phpcode"><code><span class="html">This isn't my code, but just thought I would share, since it took me so long to find. This is a function to delete a folder, all sub-folders, and files in one clean move.<br /><br />Just tell it what directory you want deleted, in relation to the page that this function is executed. Then set $empty = true if you want the folder just emptied, but not deleted. If you set $empty = false, or just simply leave it out, the given directory will be deleted, as well.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">deleteAll</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">, </span><span class="default">$empty </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />    if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">) == </span><span class="string">"/"</span><span class="keyword">) {<br />        </span><span class="default">$directory </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">1</span><span class="keyword">);<br />    }<br /><br />    if(!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">) || !</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">)) {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    } elseif(!</span><span class="default">is_readable</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">)) {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    } else {<br />        </span><span class="default">$directoryHandle </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">);<br />        <br />        while (</span><span class="default">$contents </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$directoryHandle</span><span class="keyword">)) {<br />            if(</span><span class="default">$contents </span><span class="keyword">!= </span><span class="string">'.' </span><span class="keyword">&amp;&amp; </span><span class="default">$contents </span><span class="keyword">!= </span><span class="string">'..'</span><span class="keyword">) {<br />                </span><span class="default">$path </span><span class="keyword">= </span><span class="default">$directory </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$contents</span><span class="keyword">;<br />                <br />                if(</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)) {<br />                    </span><span class="default">deleteAll</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />                } else {<br />                    </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />                }<br />            }<br />        }<br />        <br />        </span><span class="default">closedir</span><span class="keyword">(</span><span class="default">$directoryHandle</span><span class="keyword">);<br /><br />        if(</span><span class="default">$empty </span><span class="keyword">== </span><span class="default">false</span><span class="keyword">) {<br />            if(!</span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">)) {<br />                return </span><span class="default">false</span><span class="keyword">;<br />            }<br />        }<br />        <br />        return </span><span class="default">true</span><span class="keyword">;<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="92661">  <div class="votes">
    <div id="Vu92661">
    <a href="https://www.php.net/manual/vote-note.php?id=92661&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92661">
    <a href="https://www.php.net/manual/vote-note.php?id=92661&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92661" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.rmdir.php.html#92661" class="name">
  <strong class="user"><em>bcairns at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#92661"> &para;</a><div class="date" title="2009-08-02 09:59"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92661">
<div class="phpcode"><code><span class="html">I wasn't having much luck with the recursive delete functions below, so I wrote my own:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">// ensure $dir ends with a slash<br /></span><span class="keyword">function </span><span class="default">delTree</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />    </span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">( </span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'*'</span><span class="keyword">, </span><span class="default">GLOB_MARK </span><span class="keyword">);<br />    foreach( </span><span class="default">$files </span><span class="keyword">as </span><span class="default">$file </span><span class="keyword">){<br />        if( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$file</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">) == </span><span class="string">'/' </span><span class="keyword">)<br />            </span><span class="default">delTree</span><span class="keyword">( </span><span class="default">$file </span><span class="keyword">);<br />        else<br />            </span><span class="default">unlink</span><span class="keyword">( </span><span class="default">$file </span><span class="keyword">);<br />    }<br />    </span><span class="default">rmdir</span><span class="keyword">( </span><span class="default">$dir </span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />Simple.  Works.</span></code></div>
  </div>
 </div>
  <div class="note" id="93836">  <div class="votes">
    <div id="Vu93836">
    <a href="https://www.php.net/manual/vote-note.php?id=93836&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd93836">
    <a href="https://www.php.net/manual/vote-note.php?id=93836&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V93836" title="47% like this...">
    -1
    </div>
  </div>
  <a href="function.rmdir.php.html#93836" class="name">
  <strong class="user"><em>kevin at web-power dot co dot uk</em></strong></a><a class="genanchor" href="function.rmdir.php.html#93836"> &para;</a><div class="date" title="2009-10-02 05:51"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom93836">
<div class="phpcode"><code><span class="html">I had situation where the rmdir was returning warning message as within last loop it was already removed. So here is quick fix by adding is_dir to the DelTree routine below<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">delTree</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) {<br />    </span><span class="default">$files </span><span class="keyword">= </span><span class="default">glob</span><span class="keyword">( </span><span class="default">$dir </span><span class="keyword">. </span><span class="string">'*'</span><span class="keyword">, </span><span class="default">GLOB_MARK </span><span class="keyword">);<br />    foreach( </span><span class="default">$files </span><span class="keyword">as </span><span class="default">$file </span><span class="keyword">){<br />        if( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$file</span><span class="keyword">, -</span><span class="default">1 </span><span class="keyword">) == </span><span class="string">'/' </span><span class="keyword">)<br />            </span><span class="default">delTree</span><span class="keyword">( </span><span class="default">$file </span><span class="keyword">);<br />        else<br />            </span><span class="default">unlink</span><span class="keyword">( </span><span class="default">$file </span><span class="keyword">);<br />    }<br />    <br />    if (</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">)) </span><span class="default">rmdir</span><span class="keyword">( </span><span class="default">$dir </span><span class="keyword">);<br />    <br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="125812">  <div class="votes">
    <div id="Vu125812">
    <a href="https://www.php.net/manual/vote-note.php?id=125812&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125812">
    <a href="https://www.php.net/manual/vote-note.php?id=125812&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125812" title="40% like this...">
    -1
    </div>
  </div>
  <a href="function.rmdir.php.html#125812" class="name">
  <strong class="user"><em>anonymous_user</em></strong></a><a class="genanchor" href="function.rmdir.php.html#125812"> &para;</a><div class="date" title="2021-02-12 02:48"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125812">
<div class="phpcode"><code><span class="html">// Recursive PHP function to completely remove a directory<br /><br />function delete_directory_recursively( $path ) {<br /><br />      $dir = new \DirectoryIterator( $path );<br /><br />      // Iterate through the subdirectories / files of the provided directory<br />      foreach ( $dir as $dir_info ) {<br /><br />        // Exclude the . (current directory) and .. (parent directory) paths<br />        // from the directory iteration<br />        if ( ! $dir_info-&gt;isDot() ) {<br /><br />          // Get the full currently iterated path<br />          $iterated_path = $dir_info-&gt;getPathname();<br /><br />          // If the currently iterated path is a directory<br />          if ( $dir_info-&gt;isDir() ) {<br /><br />            // which is not empty (in which case scandir returns an array of not 2 (. and ..) elements)<br />            if ( count( scandir( $iterated_path ) ) !== 2 ) {<br /><br />              // Call the function recursively<br />              self::remove_directory_recursively( $iterated_path );<br /><br />            } else {<br /><br />              // if the currently iterated path is an empty directory, remove it<br />              rmdir( $iterated_path );<br /><br />            }<br /><br />          } elseif ( $dir_info-&gt;isFile() ) {<br /><br />            // If the currently iterated path describes a file, we need to<br />            // delete that file<br />            unlink( $iterated_path );<br /><br />          }<br /><br />        } // loop which opens if the currently iterated directory is neither . nor ..<br /><br />      } // end of iteration through directories / files of provided path<br /><br />      // After iterating through the subpaths of the provided path, remove the<br />      // concerned path<br />      rmdir( $path );<br /><br />    } // end of delete_directory_recursively() function definition</span></code></div>
  </div>
 </div>
  <div class="note" id="119545">  <div class="votes">
    <div id="Vu119545">
    <a href="https://www.php.net/manual/vote-note.php?id=119545&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119545">
    <a href="https://www.php.net/manual/vote-note.php?id=119545&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119545" title="37% like this...">
    -2
    </div>
  </div>
  <a href="function.rmdir.php.html#119545" class="name">
  <strong class="user"><em>YAPs</em></strong></a><a class="genanchor" href="function.rmdir.php.html#119545"> &para;</a><div class="date" title="2016-07-03 09:48"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119545">
<div class="phpcode"><code><span class="html">This version delete tree<br /><br /><span class="default">&lt;?PHP<br /><br /></span><span class="keyword">if(!</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'DS'</span><span class="keyword">))</span><span class="default">define</span><span class="keyword">(</span><span class="string">"DS"</span><span class="keyword">,</span><span class="default">DIRECTORY_SEPARATOR</span><span class="keyword">);<br /><br />function </span><span class="default">delTree</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">,</span><span class="default">$del_root</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">)<br />{<br />    </span><span class="default">$folder</span><span class="keyword">=</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">,</span><span class="default">DS</span><span class="keyword">).</span><span class="default">DS</span><span class="keyword">;<br />    </span><span class="default">$f</span><span class="keyword">=</span><span class="default">glob</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">.</span><span class="string">'*'</span><span class="keyword">,</span><span class="default">GLOB_MARK</span><span class="keyword">);<br />    if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">)&gt;</span><span class="default">0</span><span class="keyword">)<br />        foreach(</span><span class="default">$f </span><span class="keyword">as </span><span class="default">$e</span><span class="keyword">)<br />        {<br />            if(</span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">))<br />                </span><span class="default">delTree</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">);<br />            else <br />                </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$e</span><span class="keyword">);<br />        }<br />        if(</span><span class="default">$del_root</span><span class="keyword">)<br />            </span><span class="default">rmdir</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">);<br />        if(!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$folder</span><span class="keyword">))<br />            return </span><span class="default">$folder</span><span class="keyword">.</span><span class="string">" is deleted"</span><span class="keyword">;<br />        else<br />            return </span><span class="default">$folder</span><span class="keyword">.</span><span class="string">" not deleted"</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="119320">  <div class="votes">
    <div id="Vu119320">
    <a href="https://www.php.net/manual/vote-note.php?id=119320&amp;page=function.rmdir&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119320">
    <a href="https://www.php.net/manual/vote-note.php?id=119320&amp;page=function.rmdir&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119320" title="33% like this...">
    -3
    </div>
  </div>
  <a href="function.rmdir.php.html#119320" class="name">
  <strong class="user"><em>frederico05 dot figueira at gmail dot com</em></strong></a><a class="genanchor" href="function.rmdir.php.html#119320"> &para;</a><div class="date" title="2016-05-12 02:00"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119320">
<div class="phpcode"><code><span class="html">//This is one example to delete full directory with all files inside there<br /><br />function delDir($path){<br />        if(is_dir($path) == TRUE){<br />            $rootFolder = scandir($path);<br />            if(sizeof($rootFolder) &gt; 2){<br />                foreach($rootFolder as $folder){<br />                    if($folder != "." &amp;&amp; $folder != ".."){<br />//Pass the subfolder to function<br />                        delDir($path."/".$folder);<br />                    }<br />                }<br />//On the end of foreach the directory will be cleaned, and you will can use rmdir, to remove it<br />                rmdir($path);<br />            }<br />        }else{<br />            if(file_exists($path) == TRUE){<br />                unlink($path);<br />            }<br />        }<br />    }</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.rmdir&amp;redirect=https://www.php.net/manual/ru/function.rmdir.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.filesystem.php.html">Функции файловой системы</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.basename.php.html" title="basename">basename</a>
                        </li>
                                                <li class="">
                            <a href="function.chgrp.php.html" title="chgrp">chgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.chmod.php.html" title="chmod">chmod</a>
                        </li>
                                                <li class="">
                            <a href="function.chown.php.html" title="chown">chown</a>
                        </li>
                                                <li class="">
                            <a href="function.clearstatcache.php.html" title="clearstatcache">clearstatcache</a>
                        </li>
                                                <li class="">
                            <a href="function.copy.php.html" title="copy">copy</a>
                        </li>
                                                <li class="">
                            <a href="function.delete.php.html" title="delete">delete</a>
                        </li>
                                                <li class="">
                            <a href="function.dirname.php.html" title="dirname">dirname</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-free-space.php.html" title="disk_&#8203;free_&#8203;space">disk_&#8203;free_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.disk-total-space.php.html" title="disk_&#8203;total_&#8203;space">disk_&#8203;total_&#8203;space</a>
                        </li>
                                                <li class="">
                            <a href="function.diskfreespace.php.html" title="diskfreespace">diskfreespace</a>
                        </li>
                                                <li class="">
                            <a href="function.fclose.php.html" title="fclose">fclose</a>
                        </li>
                                                <li class="">
                            <a href="function.fdatasync.php.html" title="fdatasync">fdatasync</a>
                        </li>
                                                <li class="">
                            <a href="function.feof.php.html" title="feof">feof</a>
                        </li>
                                                <li class="">
                            <a href="function.fflush.php.html" title="fflush">fflush</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetc.php.html" title="fgetc">fgetc</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetcsv.php.html" title="fgetcsv">fgetcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fgets.php.html" title="fgets">fgets</a>
                        </li>
                                                <li class="">
                            <a href="function.fgetss.php.html" title="fgetss">fgetss</a>
                        </li>
                                                <li class="">
                            <a href="function.file-exists.php.html" title="file_&#8203;exists">file_&#8203;exists</a>
                        </li>
                                                <li class="">
                            <a href="function.file-get-contents.php.html" title="file_&#8203;get_&#8203;contents">file_&#8203;get_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file-put-contents.php.html" title="file_&#8203;put_&#8203;contents">file_&#8203;put_&#8203;contents</a>
                        </li>
                                                <li class="">
                            <a href="function.file.php.html" title="file">file</a>
                        </li>
                                                <li class="">
                            <a href="function.fileatime.php.html" title="fileatime">fileatime</a>
                        </li>
                                                <li class="">
                            <a href="function.filectime.php.html" title="filectime">filectime</a>
                        </li>
                                                <li class="">
                            <a href="function.filegroup.php.html" title="filegroup">filegroup</a>
                        </li>
                                                <li class="">
                            <a href="function.fileinode.php.html" title="fileinode">fileinode</a>
                        </li>
                                                <li class="">
                            <a href="function.filemtime.php.html" title="filemtime">filemtime</a>
                        </li>
                                                <li class="">
                            <a href="function.fileowner.php.html" title="fileowner">fileowner</a>
                        </li>
                                                <li class="">
                            <a href="function.fileperms.php.html" title="fileperms">fileperms</a>
                        </li>
                                                <li class="">
                            <a href="function.filesize.php.html" title="filesize">filesize</a>
                        </li>
                                                <li class="">
                            <a href="function.filetype.php.html" title="filetype">filetype</a>
                        </li>
                                                <li class="">
                            <a href="function.flock.php.html" title="flock">flock</a>
                        </li>
                                                <li class="">
                            <a href="function.fnmatch.php.html" title="fnmatch">fnmatch</a>
                        </li>
                                                <li class="">
                            <a href="function.fopen.php.html" title="fopen">fopen</a>
                        </li>
                                                <li class="">
                            <a href="function.fpassthru.php.html" title="fpassthru">fpassthru</a>
                        </li>
                                                <li class="">
                            <a href="function.fputcsv.php.html" title="fputcsv">fputcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.fputs.php.html" title="fputs">fputs</a>
                        </li>
                                                <li class="">
                            <a href="function.fread.php.html" title="fread">fread</a>
                        </li>
                                                <li class="">
                            <a href="function.fscanf.php.html" title="fscanf">fscanf</a>
                        </li>
                                                <li class="">
                            <a href="function.fseek.php.html" title="fseek">fseek</a>
                        </li>
                                                <li class="">
                            <a href="function.fstat.php.html" title="fstat">fstat</a>
                        </li>
                                                <li class="">
                            <a href="function.fsync.php.html" title="fsync">fsync</a>
                        </li>
                                                <li class="">
                            <a href="function.ftell.php.html" title="ftell">ftell</a>
                        </li>
                                                <li class="">
                            <a href="function.ftruncate.php.html" title="ftruncate">ftruncate</a>
                        </li>
                                                <li class="">
                            <a href="function.fwrite.php.html" title="fwrite">fwrite</a>
                        </li>
                                                <li class="">
                            <a href="function.glob.php.html" title="glob">glob</a>
                        </li>
                                                <li class="">
                            <a href="function.is-dir.php.html" title="is_&#8203;dir">is_&#8203;dir</a>
                        </li>
                                                <li class="">
                            <a href="function.is-executable.php.html" title="is_&#8203;executable">is_&#8203;executable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-file.php.html" title="is_&#8203;file">is_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-link.php.html" title="is_&#8203;link">is_&#8203;link</a>
                        </li>
                                                <li class="">
                            <a href="function.is-readable.php.html" title="is_&#8203;readable">is_&#8203;readable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-uploaded-file.php.html" title="is_&#8203;uploaded_&#8203;file">is_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writable.php.html" title="is_&#8203;writable">is_&#8203;writable</a>
                        </li>
                                                <li class="">
                            <a href="function.is-writeable.php.html" title="is_&#8203;writeable">is_&#8203;writeable</a>
                        </li>
                                                <li class="">
                            <a href="function.lchgrp.php.html" title="lchgrp">lchgrp</a>
                        </li>
                                                <li class="">
                            <a href="function.lchown.php.html" title="lchown">lchown</a>
                        </li>
                                                <li class="">
                            <a href="function.link.php.html" title="link">link</a>
                        </li>
                                                <li class="">
                            <a href="function.linkinfo.php.html" title="linkinfo">linkinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.lstat.php.html" title="lstat">lstat</a>
                        </li>
                                                <li class="">
                            <a href="function.mkdir.php.html" title="mkdir">mkdir</a>
                        </li>
                                                <li class="">
                            <a href="function.move-uploaded-file.php.html" title="move_&#8203;uploaded_&#8203;file">move_&#8203;uploaded_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-file.php.html" title="parse_&#8203;ini_&#8203;file">parse_&#8203;ini_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-ini-string.php.html" title="parse_&#8203;ini_&#8203;string">parse_&#8203;ini_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.pathinfo.php.html" title="pathinfo">pathinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.pclose.php.html" title="pclose">pclose</a>
                        </li>
                                                <li class="">
                            <a href="function.popen.php.html" title="popen">popen</a>
                        </li>
                                                <li class="">
                            <a href="function.readfile.php.html" title="readfile">readfile</a>
                        </li>
                                                <li class="">
                            <a href="function.readlink.php.html" title="readlink">readlink</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-get.php.html" title="realpath_&#8203;cache_&#8203;get">realpath_&#8203;cache_&#8203;get</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath-cache-size.php.html" title="realpath_&#8203;cache_&#8203;size">realpath_&#8203;cache_&#8203;size</a>
                        </li>
                                                <li class="">
                            <a href="function.realpath.php.html" title="realpath">realpath</a>
                        </li>
                                                <li class="">
                            <a href="function.rename.php.html" title="rename">rename</a>
                        </li>
                                                <li class="">
                            <a href="function.rewind.php.html" title="rewind">rewind</a>
                        </li>
                                                <li class="current">
                            <a href="function.rmdir.php.html" title="rmdir">rmdir</a>
                        </li>
                                                <li class="">
                            <a href="function.set-file-buffer.php.html" title="set_&#8203;file_&#8203;buffer">set_&#8203;file_&#8203;buffer</a>
                        </li>
                                                <li class="">
                            <a href="function.stat.php.html" title="stat">stat</a>
                        </li>
                                                <li class="">
                            <a href="function.symlink.php.html" title="symlink">symlink</a>
                        </li>
                                                <li class="">
                            <a href="function.tempnam.php.html" title="tempnam">tempnam</a>
                        </li>
                                                <li class="">
                            <a href="function.tmpfile.php.html" title="tmpfile">tmpfile</a>
                        </li>
                                                <li class="">
                            <a href="function.touch.php.html" title="touch">touch</a>
                        </li>
                                                <li class="">
                            <a href="function.umask.php.html" title="umask">umask</a>
                        </li>
                                                <li class="">
                            <a href="function.unlink.php.html" title="unlink">unlink</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
