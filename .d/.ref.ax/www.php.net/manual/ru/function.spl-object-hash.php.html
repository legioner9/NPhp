<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: spl_object_hash - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.spl-object-hash.php.html">
 <link rel="shorturl" href="https://www.php.net/spl-object-hash">
 <link rel="alternate" href="https://www.php.net/spl-object-hash" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.spl.php.html">
 <link rel="prev" href="function.spl-classes.php.html">
 <link rel="next" href="function.spl-object-id.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.spl-object-hash.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.spl-object-hash.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.spl-object-hash.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.spl-object-hash.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.spl-object-hash.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.spl-object-hash.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.spl-object-hash.php" hreflang="pt_BR">
 <link rel="alternate" href="function.spl-object-hash.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.spl-object-hash.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.spl-object-hash.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.spl-object-id.php.html">
          spl_object_id &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.spl-classes.php.html">
          &laquo; spl_classes        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.other.php.html'>Другие базовые модули</a></li>      <li><a href='book.spl.php.html'>SPL</a></li>      <li><a href='ref.spl.php.html'>Функции SPL</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.spl-object-hash.php'>English</option>
            <option value='de/function.spl-object-hash.php'>German</option>
            <option value='es/function.spl-object-hash.php'>Spanish</option>
            <option value='fr/function.spl-object-hash.php'>French</option>
            <option value='it/function.spl-object-hash.php'>Italian</option>
            <option value='ja/function.spl-object-hash.php'>Japanese</option>
            <option value='pt_BR/function.spl-object-hash.php'>Brazilian Portuguese</option>
            <option value='ru/function.spl-object-hash.php' selected="selected">Russian</option>
            <option value='tr/function.spl-object-hash.php'>Turkish</option>
            <option value='zh/function.spl-object-hash.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/spl/functions/spl-object-hash.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.spl-object-hash%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.spl-object-hash" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">spl_object_hash</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.2.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">spl_object_hash</span> &mdash; <span class="dc-title">
   Возвращает хеш-идентификатор для объекта
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.spl-object-hash-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>spl_object_hash</strong></span>(<span class="methodparam"><span class="type">object</span> <code class="parameter">$object</code></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Функция возвращает уникальный идентификатор для заданного объекта. Этот
   идентификатор можно использовать в качестве хеш-ключа для хранения объектов или для
   идентификации объектов, пока объект не будет уничтожен. Как только объект будет уничтожен,
   его хеш может быть повторно использован для других объектов.
   Поведение похоже на функцию <span class="function"><a href="function.spl-object-id.php.html" class="function">spl_object_id()</a></span>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.spl-object-hash-parameters">
   <h3 class="title">Список параметров</h3>
   <p class="para">
    <dl>
     
      <dt>
<code class="parameter">object</code></dt>

      <dd>

       <p class="para">
        Какой-либо объект.
       </p>
      </dd>

     
    </dl>

   </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.spl-object-hash-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Уникальная строка символов для каждого существующего на данный момент
   объекта и всегда одинаковая для каждого конкретного объекта.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.spl-object-hash-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>spl_object_hash()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$id </span><span style="color: #007700">= </span><span style="color: #0000BB">spl_object_hash</span><span style="color: #007700">(</span><span style="color: #0000BB">$object</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$storage</span><span style="color: #007700">[</span><span style="color: #0000BB">$id</span><span style="color: #007700">] = </span><span style="color: #0000BB">$object</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.spl-object-hash-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    После уничтожения объекта, его хеш-идентификатор может быть использован
    для других объектов.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    Хеши объектов следует сравнивать на идентичность с помощью <code class="code">===</code>
    и <code class="code">!==</code>, поскольку возвращаемый хеш может быть <a href="language.types.numeric-strings.php.html" class="link">числовой строкой</a>.
    Например, <code class="literal">0000000000000e600000000000000000</code>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.spl-object-hash-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.spl-object-id.php.html" class="function" rel="rdfs-seeAlso">spl_object_id()</a> - Получить целочисленный идентификатор объекта</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.spl-object-hash&amp;redirect=https://www.php.net/manual/ru/function.spl-object-hash.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">12 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="76220">  <div class="votes">
    <div id="Vu76220">
    <a href="https://www.php.net/manual/vote-note.php?id=76220&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76220">
    <a href="https://www.php.net/manual/vote-note.php?id=76220&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76220" title="91% like this...">
    107
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#76220" class="name">
  <strong class="user"><em>planetbeing</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#76220"> &para;</a><div class="date" title="2007-07-05 04:40"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom76220">
<div class="phpcode"><code><span class="html">Note that the contents (properties) of the object are NOT hashed by the function, merely its internal handle and handler table pointer. This is sufficient to guarantee that any two objects simultaneously co-residing in memory will have different hashes. Uniqueness is not guaranteed between objects that did not reside in memory simultaneously, for example:<br /><br />var_dump(spl_object_hash(new stdClass()), spl_object_hash(new stdClass()));<br /><br />Running this alone will usually generate the same hashes, since PHP reuses the internal handle for the first stdClass after it has been dereferenced and destroyed when it creates the second stdClass.</span></code></div>
  </div>
 </div>
  <div class="note" id="112199">  <div class="votes">
    <div id="Vu112199">
    <a href="https://www.php.net/manual/vote-note.php?id=112199&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd112199">
    <a href="https://www.php.net/manual/vote-note.php?id=112199&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V112199" title="78% like this...">
    70
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#112199" class="name">
  <strong class="user"><em>mjs at beebo dot org</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#112199"> &para;</a><div class="date" title="2013-05-16 11:20"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom112199">
<div class="phpcode"><code><span class="html">Note that given two different objects spl_object_hash() can return values that look very similar, and in fact both the most significant *and* least significant digits are likely to be identical!  e.g. "000000003cc56d770000000007fa48c5" and "000000003cc56d0d0000000007fa48c5".<br /><br />Therefore (especially if using this function for debugging), you may wish to pass the hash into a cryptographic hash function like md5() to get to facilitate visual comparisons, and make it more likely that the first few or last few digits are unique.<br /><br />md5("000000003cc56d770000000007fa48c5") -&gt; "619a799747d348fa1caf181a72b65d9f"<br /><br />md5("000000003cc56d0d0000000007fa48c5") -&gt; "ae964bc912281e7804fe5a88b4546cb2"</span></code></div>
  </div>
 </div>
  <div class="note" id="128374">  <div class="votes">
    <div id="Vu128374">
    <a href="https://www.php.net/manual/vote-note.php?id=128374&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128374">
    <a href="https://www.php.net/manual/vote-note.php?id=128374&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128374" title="100% like this...">
    3
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#128374" class="name">
  <strong class="user"><em>A simple developer</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#128374"> &para;</a><div class="date" title="2023-04-06 08:10"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom128374">
<div class="phpcode"><code><span class="html">Attention when comparing object hashes in PHP &gt;= 8.1<br /><br />In PHP 8.1 (I think) the output of spl_object_hash() changed (see pull request <a href="https://github.com/php/php-src/pull/7010" rel="nofollow" target="_blank">https://github.com/php/php-src/pull/7010</a>).<br />This lead to a strange misbehaviour of our application, as we stored object hashes in an array to check, if we processed object already. A simple in_array() check returned true, even though the current object hash was NOT actually in array.<br /><br />Actual problem: New hashes are much more simple and can be something like "0000000000000e600000000000000000" or "0000000000000e490000000000000000", which PHP will interpret as numeric (exponent).<br />in_array() will compare non type-safe by default and will interpret named hashes as "0".</span></code></div>
  </div>
 </div>
  <div class="note" id="122217">  <div class="votes">
    <div id="Vu122217">
    <a href="https://www.php.net/manual/vote-note.php?id=122217&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122217">
    <a href="https://www.php.net/manual/vote-note.php?id=122217&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122217" title="89% like this...">
    29
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#122217" class="name">
  <strong class="user"><em>aa dot vasilenko at gmail dot com</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#122217"> &para;</a><div class="date" title="2018-01-03 07:21"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom122217">
<div class="phpcode"><code><span class="html">Please note that since PHP 7.2 there's new function available spl_object_id() which returns int instead of string. It's (supposed to be) more performant. Due to lack of documentation I recommend you reading the PR <a href="https://github.com/php/php-src/pull/2611" rel="nofollow" target="_blank">https://github.com/php/php-src/pull/2611</a></span></code></div>
  </div>
 </div>
  <div class="note" id="122852">  <div class="votes">
    <div id="Vu122852">
    <a href="https://www.php.net/manual/vote-note.php?id=122852&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122852">
    <a href="https://www.php.net/manual/vote-note.php?id=122852&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122852" title="87% like this...">
    12
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#122852" class="name">
  <strong class="user"><em>DimeCadmium</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#122852"> &para;</a><div class="date" title="2018-06-18 03:45"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122852">
<div class="phpcode"><code><span class="html">For those who believe this function is misnamed, I would like to direct you to <a href="https://en.wikipedia.org/wiki/Hash_function" rel="nofollow" target="_blank">https://en.wikipedia.org/wiki/Hash_function</a> . Also, for those who think it's misnamed and supply a comparison to Python, I would like to direct you to <a href="https://docs.python.org/2/library/functions.html#hash" rel="nofollow" target="_blank">https://docs.python.org/2/library/functions.html#hash</a> which does the same thing as this function. (From Python's data-model docs: "User-defined classes have __cmp__() and __hash__() methods by default; ... x.__hash__() returns a result derived from id(x)." - id(x) returns the memory address of the object.)<br /><br />The cryptographic hash functions you are familiar with, like MD5 or SHA1, are named hash functions because they have a similar design goal: low chance of collisions.</span></code></div>
  </div>
 </div>
  <div class="note" id="121491">  <div class="votes">
    <div id="Vu121491">
    <a href="https://www.php.net/manual/vote-note.php?id=121491&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121491">
    <a href="https://www.php.net/manual/vote-note.php?id=121491&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121491" title="77% like this...">
    10
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#121491" class="name">
  <strong class="user"><em>Hayleu Watson</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#121491"> &para;</a><div class="date" title="2017-08-06 10:55"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121491">
<div class="phpcode"><code><span class="html">The "hash" mentioned in the name of this function refers to the storage structure known as a "hash table", not to any sort of "message digest". The string returned by this function is little more than the object's address in the (hash) table PHP maintains of all existing objects.</span></code></div>
  </div>
 </div>
  <div class="note" id="128395">  <div class="votes">
    <div id="Vu128395">
    <a href="https://www.php.net/manual/vote-note.php?id=128395&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128395">
    <a href="https://www.php.net/manual/vote-note.php?id=128395&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128395" title="100% like this...">
    2
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#128395" class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#128395"> &para;</a><div class="date" title="2023-04-14 12:17"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom128395">
<div class="phpcode"><code><span class="html">This function is slightly older than spl_object_id. Its output is more complex but doesn't actually provide any more information than the newer function. It used to be a lot more complex (without being any more informative) but now it's merely the object's ID number written in hex with a lot of padding to maintain the old format. spl_object_id just gives the ID number as a plain integer.<br /><br />You're probably better off using spl_object_id, and thinking about migrating if you're already using spl_object_hash; there is a chance this function will be deprecated and subsequently removed in the future.</span></code></div>
  </div>
 </div>
  <div class="note" id="129141">  <div class="votes">
    <div id="Vu129141">
    <a href="https://www.php.net/manual/vote-note.php?id=129141&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd129141">
    <a href="https://www.php.net/manual/vote-note.php?id=129141&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V129141" title="100% like this...">
    1
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#129141" class="name">
  <strong class="user"><em>Numety</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#129141"> &para;</a><div class="date" title="2024-01-04 10:36"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom129141">
<div class="phpcode"><code><span class="html">As others have noted, this function now returns the ID, padded with zeroes.<br />It does not produce a cryptographic hash (which is not what the name hints at, either), nor does it hide it which order the objects were created.<br /><br />If you wish to give your objects unique identifiers while hiding in which order they were created, you can achieve this by hashing their ID together with other predictable values:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">objectHash</span><span class="keyword">(</span><span class="default">object $object</span><span class="keyword">): </span><span class="default">string<br /></span><span class="keyword">{<br />    return </span><span class="default">hash</span><span class="keyword">(</span><span class="string">'sha512'</span><span class="keyword">, </span><span class="default">$object</span><span class="keyword">::class . </span><span class="default">spl_object_id</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">));<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />Here's an example usage:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">class </span><span class="default">Person<br /></span><span class="keyword">{<br />    function </span><span class="default">__construct</span><span class="keyword">(public </span><span class="default">string $name</span><span class="keyword">) {}<br />}<br /><br /></span><span class="default">$anna </span><span class="keyword">= new </span><span class="default">Person</span><span class="keyword">(</span><span class="string">'Anna'</span><span class="keyword">);<br /></span><span class="default">$bob </span><span class="keyword">= new </span><span class="default">Person</span><span class="keyword">(</span><span class="string">'Bob'</span><span class="keyword">);<br /><br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">objectHash</span><span class="keyword">(</span><span class="default">$anna</span><span class="keyword">));   </span><span class="comment">// '077d33c1 etc.<br /></span><span class="keyword">echo </span><span class="string">"\n"</span><span class="keyword">;<br /></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">objectHash</span><span class="keyword">(</span><span class="default">$bob</span><span class="keyword">));    </span><span class="comment">// 'ea3c1319 etc.<br /><br /></span><span class="default">?&gt;<br /></span><br />Feel free to choose another hash, or hash other values along with their ID, for it to better suit your environment.</span></code></div>
  </div>
 </div>
  <div class="note" id="129125">  <div class="votes">
    <div id="Vu129125">
    <a href="https://www.php.net/manual/vote-note.php?id=129125&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd129125">
    <a href="https://www.php.net/manual/vote-note.php?id=129125&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V129125" title="0% like this...">
    -1
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#129125" class="name">
  <strong class="user"><em>jasonlester at nope dot com</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#129125"> &para;</a><div class="date" title="2023-12-24 05:24"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom129125">
<div class="phpcode"><code><span class="html">obj-&gt;handle is an unsigned long that starts a 0 and is incremented by 1 every time an object is created, it is not a true pointer such as if created by mallaoc() or similar.<br /><br />/* {{{ Returns the integer object handle for the given object */<br />PHP_FUNCTION(spl_object_id)<br />{<br />    zend_object *obj;<br /><br />    ZEND_PARSE_PARAMETERS_START(1, 1)<br />        Z_PARAM_OBJ(obj)<br />    ZEND_PARSE_PARAMETERS_END();<br /><br />    RETURN_LONG((zend_long)obj-&gt;handle);<br />}<br />/* }}} */<br /><br />PHPAPI zend_string *php_spl_object_hash(zend_object *obj) /* {{{*/<br />{<br />    return strpprintf(32, "%016zx0000000000000000", (intptr_t)obj-&gt;handle);<br />}<br />/* }}} */</span></code></div>
  </div>
 </div>
  <div class="note" id="121490">  <div class="votes">
    <div id="Vu121490">
    <a href="https://www.php.net/manual/vote-note.php?id=121490&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121490">
    <a href="https://www.php.net/manual/vote-note.php?id=121490&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121490" title="46% like this...">
    -2
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#121490" class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#121490"> &para;</a><div class="date" title="2017-08-06 10:26"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121490">
<div class="phpcode"><code><span class="html">The "hash" mentioned in this function is used in the sense of the storage structure known as a "hash table", not in the sense of "message digest".</span></code></div>
  </div>
 </div>
  <div class="note" id="121277">  <div class="votes">
    <div id="Vu121277">
    <a href="https://www.php.net/manual/vote-note.php?id=121277&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121277">
    <a href="https://www.php.net/manual/vote-note.php?id=121277&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121277" title="42% like this...">
    -5
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#121277" class="name">
  <strong class="user"><em>Ulrich Eckhardt</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#121277"> &para;</a><div class="date" title="2017-06-27 07:56"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121277">
<div class="phpcode"><code><span class="html">Calling this a hash is very misleading:<br /><br />1. This function gives an object identifier (ID), which uniquely identifies the object for its whole lifetime. This is similar to the address of an object in C or the id() function in Python. I'm sure other languages have similar constructs.<br />2. This is not a hash and has nothing to do with it. A hash takes data and algorithmically reduces that data to some kind of scalar value. The only guarantee is that two equal inputs provide the same output, but not that two different inputs provide different outputs (hint: hash collisions). spl_object_hash() guarantees different outputs for non-identical objects though.<br />3. As someone mentioned already, this does not look at the content of the object. If you consider the difference between equality and identity, it only allows determining identity. If you serialize and unserialize an object, it will not be identical to its former self, but it will be equal, just to give an example. If you want a key to use in a response cache, using this function on the request is not only useless, because equal requests have different IDs, but possibly even harmful, because when a request object is garbage collected, its ID can be reused.</span></code></div>
  </div>
 </div>
  <div class="note" id="121489">  <div class="votes">
    <div id="Vu121489">
    <a href="https://www.php.net/manual/vote-note.php?id=121489&amp;page=function.spl-object-hash&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121489">
    <a href="https://www.php.net/manual/vote-note.php?id=121489&amp;page=function.spl-object-hash&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121489" title="25% like this...">
    -14
    </div>
  </div>
  <a href="function.spl-object-hash.php.html#121489" class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><a class="genanchor" href="function.spl-object-hash.php.html#121489"> &para;</a><div class="date" title="2017-08-06 10:26"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121489">
<div class="phpcode"><code><span class="html">The "hash" mentioned in this function is used in the sense of the storage structure known as a "hash table", not in the sense of "message digest".</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.spl-object-hash&amp;redirect=https://www.php.net/manual/ru/function.spl-object-hash.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.spl.php.html">Функции SPL</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.class-implements.php.html" title="class_&#8203;implements">class_&#8203;implements</a>
                        </li>
                                                <li class="">
                            <a href="function.class-parents.php.html" title="class_&#8203;parents">class_&#8203;parents</a>
                        </li>
                                                <li class="">
                            <a href="function.class-uses.php.html" title="class_&#8203;uses">class_&#8203;uses</a>
                        </li>
                                                <li class="">
                            <a href="function.iterator-apply.php.html" title="iterator_&#8203;apply">iterator_&#8203;apply</a>
                        </li>
                                                <li class="">
                            <a href="function.iterator-count.php.html" title="iterator_&#8203;count">iterator_&#8203;count</a>
                        </li>
                                                <li class="">
                            <a href="function.iterator-to-array.php.html" title="iterator_&#8203;to_&#8203;array">iterator_&#8203;to_&#8203;array</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-autoload-call.php.html" title="spl_&#8203;autoload_&#8203;call">spl_&#8203;autoload_&#8203;call</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-autoload-extensions.php.html" title="spl_&#8203;autoload_&#8203;extensions">spl_&#8203;autoload_&#8203;extensions</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-autoload-functions.php.html" title="spl_&#8203;autoload_&#8203;functions">spl_&#8203;autoload_&#8203;functions</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-autoload-register.php.html" title="spl_&#8203;autoload_&#8203;register">spl_&#8203;autoload_&#8203;register</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-autoload-unregister.php.html" title="spl_&#8203;autoload_&#8203;unregister">spl_&#8203;autoload_&#8203;unregister</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-autoload.php.html" title="spl_&#8203;autoload">spl_&#8203;autoload</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-classes.php.html" title="spl_&#8203;classes">spl_&#8203;classes</a>
                        </li>
                                                <li class="current">
                            <a href="function.spl-object-hash.php.html" title="spl_&#8203;object_&#8203;hash">spl_&#8203;object_&#8203;hash</a>
                        </li>
                                                <li class="">
                            <a href="function.spl-object-id.php.html" title="spl_&#8203;object_&#8203;id">spl_&#8203;object_&#8203;id</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
