<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: strrpos - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.strrpos.php.html">
 <link rel="shorturl" href="https://www.php.net/strrpos">
 <link rel="alternate" href="https://www.php.net/strrpos" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.strings.php.html">
 <link rel="prev" href="function.strripos.php.html">
 <link rel="next" href="function.strspn.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.strrpos.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.strrpos.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.strrpos.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.strrpos.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.strrpos.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.strrpos.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.strrpos.php" hreflang="pt_BR">
 <link rel="alternate" href="function.strrpos.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.strrpos.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.strrpos.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.strspn.php.html">
          strspn &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.strripos.php.html">
          &laquo; strripos        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.text.php.html'>Обработка текста</a></li>      <li><a href='book.strings.php.html'>Строки</a></li>      <li><a href='ref.strings.php.html'>Функции для работы со строками</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.strrpos.php'>English</option>
            <option value='de/function.strrpos.php'>German</option>
            <option value='es/function.strrpos.php'>Spanish</option>
            <option value='fr/function.strrpos.php'>French</option>
            <option value='it/function.strrpos.php'>Italian</option>
            <option value='ja/function.strrpos.php'>Japanese</option>
            <option value='pt_BR/function.strrpos.php'>Brazilian Portuguese</option>
            <option value='ru/function.strrpos.php' selected="selected">Russian</option>
            <option value='tr/function.strrpos.php'>Turkish</option>
            <option value='zh/function.strrpos.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/strings/functions/strrpos.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.strrpos%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.strrpos" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">strrpos</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">strrpos</span> &mdash; <span class="dc-title">Возвращает позицию последнего вхождения подстроки в строке</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.strrpos-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>strrpos</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$haystack</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$needle</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$offset</code><span class="initializer"> = 0</span></span>): <span class="type"><span class="type">int</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Ищет позицию последнего вхождения подстроки <code class="parameter">needle</code>
   в строку <code class="parameter">haystack</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.strrpos-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">haystack</code></dt>

     <dd>

      <p class="para">
       Строка, в которой производится поиск.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">needle</code></dt>

     <dd>

      <p class="para">
       Строка для поиска.
      </p>
      
<p class="para">
 До PHP 8.0.0, если параметр <code class="parameter">needle</code> — не строка,
 он преобразовывается в целое число и трактуется как код символа.
 Это поведение устарело с PHP 7.3.0 и полагаться на него крайне не рекомендуется.
 В зависимости от предполагаемого поведения,
 параметр <code class="parameter">needle</code> должен быть либо явно приведён к строке,
 либо должен быть выполнен явный вызов функции <span class="function"><a href="function.chr.php.html" class="function">chr()</a></span>.
</p>

     </dd>

    
    
     <dt>
<code class="parameter">offset</code></dt>

     <dd>

      <p class="para">
       Если равно или больше ноля, то поиск будет идти слева направо
       и, при этом, будут пропущены первые <code class="parameter">offset</code>
       байт строки <code class="parameter">haystack</code>.
      </p>
      <p class="para">
       Если меньше ноля, то поиск начинается с <code class="parameter">offset</code> байта справа,
       а не с начала <code class="parameter">haystack</code>.
       Поиск выполняется справа налево, ищется первое
       вхождение <code class="parameter">needle</code> от выбранного байта.
       <blockquote class="note"><p><strong class="note">Замечание</strong>: 
        <p class="para">
         Фактически это будет последнее вхождение
         <code class="parameter">needle</code> без учёта
         <code class="parameter">offset</code> последних байт.
        </p>
       </p></blockquote>
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.strrpos-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает номер позиции последнего вхождения needle
   относительно начала строки <code class="parameter">haystack</code> (независимо от направления поиска и смещения (offset)).
   <blockquote class="note"><p><strong class="note">Замечание</strong>: 
    <span class="simpara">
     Позиция в строке строки отсчитывается от 0, а не от 1.
    </span>
   </p></blockquote>
  </p>
  <p class="para">
   Возвращает <strong><code>false</code></strong>, если искомая строка не найдена.
  </p>
  <div class="warning"><strong class="warning">Внимание</strong><p class="simpara">Функция
возвращает как логическое значение <strong><code>false</code></strong>,
так и нелогическое значение, которое приводится к <strong><code>false</code></strong>.
Прочитайте раздел
«<a href="language.types.boolean.php.html" class="link">Логический тип</a>»,
чтобы получить дополнительную информацию.
Используйте <a href="language.operators.comparison.php.html" class="link">оператор ===</a>
для проверки значения, которое возвращает функция.</p></div>

 </div>


 <div class="refsect1 changelog" id="refsect1-function.strrpos-changelog">
  <h3 class="title">Список изменений</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Версия</th>
      <th>Описание</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
 <td>8.0.0</td>
 <td>
  Параметр <code class="parameter">needle</code> теперь допускает пустую строку.
 </td>
</tr>

     <tr>
      <td>8.0.0</td>
      <td>
       Передача целого числа (<span class="type">int</span>) в <code class="parameter">needle</code> больше не поддерживается.
      </td>
     </tr>

     <tr>
      <td>7.3.0</td>
      <td>
       Передача целого числа (<span class="type">int</span>) в <code class="parameter">needle</code> объявлена устаревшей.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-function.strrpos-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Проверка существования искомой строки</strong></p>
    <div class="example-contents"><p>
     Легко ошибиться и перепутать возвращаемые значения в случаях
     &quot;символ найден в нулевой позиции&quot; и &quot;символ не найден&quot;.
     Вот так можно узнать разницу:
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$pos </span><span style="color: #007700">= </span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$mystring</span><span style="color: #007700">, </span><span style="color: #DD0000">"b"</span><span style="color: #007700">);<br />if (</span><span style="color: #0000BB">$pos </span><span style="color: #007700">=== </span><span style="color: #0000BB">false</span><span style="color: #007700">) { </span><span style="color: #FF8000">// обратите внимание: три знака равенства<br />    // не найдено...<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #2 Поиск со смещением</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$foo </span><span style="color: #007700">= </span><span style="color: #DD0000">"0123456789a123456789b123456789c"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, </span><span style="color: #DD0000">'7'</span><span style="color: #007700">, -</span><span style="color: #0000BB">5</span><span style="color: #007700">));  </span><span style="color: #FF8000">// Поиск происходит в обратном направлении и<br />                                   // начинается с пятой позиции с конца. Результат: int(17)<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, </span><span style="color: #DD0000">'7'</span><span style="color: #007700">, </span><span style="color: #0000BB">20</span><span style="color: #007700">));  </span><span style="color: #FF8000">// Начинает поиск с 20 позиции в строке.<br />                                   // Результат: int(27)<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">strrpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">, </span><span style="color: #DD0000">'7'</span><span style="color: #007700">, </span><span style="color: #0000BB">28</span><span style="color: #007700">));  </span><span style="color: #FF8000">// Результат: bool(false)<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    
<div class="example-contents"><p>
 Результат выполнения приведённого примера:
</p></div>

    <div class="example-contents screen">
<div class="cdata"><pre>
int(0)
bool(false)
int(27)
bool(false)
int(17)
bool(false)
int(29)
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.strrpos-seealso">
  <h3 class="title">Смотрите также</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.strpos.php.html" class="function" rel="rdfs-seeAlso">strpos()</a> - Возвращает позицию первого вхождения подстроки</span></li>
    <li class="member"><span class="function"><a href="function.stripos.php.html" class="function" rel="rdfs-seeAlso">stripos()</a> - Возвращает позицию первого вхождения подстроки без учёта регистра</span></li>
    <li class="member"><span class="function"><a href="function.strripos.php.html" class="function" rel="rdfs-seeAlso">strripos()</a> - Возвращает позицию последнего вхождения подстроки без учёта регистра</span></li>
    <li class="member"><span class="function"><a href="function.strrchr.php.html" class="function" rel="rdfs-seeAlso">strrchr()</a> - Находит последнее вхождение символа в строке</span></li>
    <li class="member"><span class="function"><a href="function.substr.php.html" class="function" rel="rdfs-seeAlso">substr()</a> - Возвращает подстроку</span></li>
   </ul>
  </p>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.strrpos&amp;redirect=https://www.php.net/manual/ru/function.strrpos.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">35 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="76447">  <div class="votes">
    <div id="Vu76447">
    <a href="https://www.php.net/manual/vote-note.php?id=76447&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd76447">
    <a href="https://www.php.net/manual/vote-note.php?id=76447&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V76447" title="83% like this...">
    77
    </div>
  </div>
  <a href="function.strrpos.php.html#76447" class="name">
  <strong class="user"><em>brian at enchanter dot net</em></strong></a><a class="genanchor" href="function.strrpos.php.html#76447"> &para;</a><div class="date" title="2007-07-16 07:47"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom76447">
<div class="phpcode"><code><span class="html">The documentation for 'offset' is misleading.<br /><br />It says, "offset may be specified to begin searching an arbitrary number of characters into the string. Negative values will stop searching at an arbitrary point prior to the end of the string."<br /><br />This is confusing if you think of strrpos as starting at the end of the string and working backwards.<br /><br />A better way to think of offset is:<br /><br />- If offset is positive, then strrpos only operates on the part of the string from offset to the end. This will usually have the same results as not specifying an offset, unless the only occurences of needle are before offset (in which case specifying the offset won't find the needle).<br /><br />- If offset is negative, then strrpos only operates on that many characters at the end of the string. If the needle is farther away from the end of the string, it won't be found.<br /><br />If, for example, you want to find the last space in a string before the 50th character, you'll need to do something like this:<br /><br />strrpos($text, " ", -(strlen($text) - 50));<br /><br />If instead you used strrpos($text, " ", 50), then you would find the last space between the 50th character and the end of the string, which may not have been what you were intending.</span></code></div>
  </div>
 </div>
  <div class="note" id="122559">  <div class="votes">
    <div id="Vu122559">
    <a href="https://www.php.net/manual/vote-note.php?id=122559&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122559">
    <a href="https://www.php.net/manual/vote-note.php?id=122559&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122559" title="70% like this...">
    4
    </div>
  </div>
  <a href="function.strrpos.php.html#122559" class="name">
  <strong class="user"><em>david dot mann at djmann dot co dot uk</em></strong></a><a class="genanchor" href="function.strrpos.php.html#122559"> &para;</a><div class="date" title="2018-03-28 02:16"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom122559">
<div class="phpcode"><code><span class="html">Ten years on, Brian's note is still a good overview of how offsets work, but a shorter and simpler summary is:<br /><br />    strrpos($x, $y, 50);  // 1: this tells strrpos() when to STOP, counting from the START of $x<br />    strrpos($x, $y, -50); // 2: this tells strrpos() when to START, counting from the END of $x<br /><br />Or to put it another way, a positive number lets you search the rightmost section of the string, while a negative number lets you search the leftmost section of the string.<br /><br />Both these variations are useful, but picking the wrong one can cause some highly confusing results!</span></code></div>
  </div>
 </div>
  <div class="note" id="124027">  <div class="votes">
    <div id="Vu124027">
    <a href="https://www.php.net/manual/vote-note.php?id=124027&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124027">
    <a href="https://www.php.net/manual/vote-note.php?id=124027&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124027" title="66% like this...">
    3
    </div>
  </div>
  <a href="function.strrpos.php.html#124027" class="name">
  <strong class="user"><em>dave at pixelmetrics dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#124027"> &para;</a><div class="date" title="2019-07-09 10:22"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124027">
<div class="phpcode"><code><span class="html">The description of offset is wrong. Here’s how it works, with supporting examples.<br /><br />Offset effects both the starting point and stopping point of the search. The direction is always right to left. (The description wrongly says PHP searches left to right when offset is positive.)<br /><br />Here’s how it works:<br />When offset is positive, PHP searches right to left from the end of haystack to offset. This ignores the left side of haystack.<br /><br />When offset is negative, PHP searches right to left, starting offset bytes from the end, to the start of haystack. This ignores the right side of haystack.<br /><br />Example 1:<br />$foo = ‘aaaaaaaaaa’;<br />var_dump(strrpos($foo, 'a', 5));<br />Result: int(10)<br /><br />Example 2:<br />$foo = "aaaaaa67890";<br />var_dump(strrpos($foo, 'a', 5));<br />Result: int(5)<br /><br />Conclusion: When offset is positive, PHP searches right to left from the end of haystack.<br /><br />Example 3:<br />$foo = "aaaaa567890";<br />var_dump(strrpos($foo, 'a', 5));<br />Result: bool(false)<br /><br />Conclusion: When offset is positive, PHP stops searching at offset.<br /><br />Example 4:<br />$foo = ‘aaaaaaaaaa’;<br />var_dump(strrpos($foo, 'a', -5));<br />Result: int(6) <br /><br />Conclusion: When offset is negative, PHP searches right to left, starting offset bytes from the end. <br /><br />Example 5:<br />$foo = "a234567890";<br />var_dump(strrpos($foo, 'a', -5));<br />Result: int(0)<br /><br />Conclusion: When offset is negative, PHP searches right to left, all the way to the start of haystack.</span></code></div>
  </div>
 </div>
  <div class="note" id="78499">  <div class="votes">
    <div id="Vu78499">
    <a href="https://www.php.net/manual/vote-note.php?id=78499&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78499">
    <a href="https://www.php.net/manual/vote-note.php?id=78499&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78499" title="60% like this...">
    6
    </div>
  </div>
  <a href="function.strrpos.php.html#78499" class="name">
  <strong class="user"><em>Daniel Brinca</em></strong></a><a class="genanchor" href="function.strrpos.php.html#78499"> &para;</a><div class="date" title="2007-10-15 05:41"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78499">
<div class="phpcode"><code><span class="html">Here is a simple function to find the position of the next occurrence of needle in haystack, but searching backwards  (lastIndexOf type function):<br /><br />//search backwards for needle in haystack, and return its position<br />function rstrpos ($haystack, $needle, $offset){<br />    $size = strlen ($haystack);<br />    $pos = strpos (strrev($haystack), $needle, $size - $offset);<br />    <br />    if ($pos === false)<br />        return false;<br />    <br />    return $size - $pos;<br />}<br /><br />Note: supports full strings as needle</span></code></div>
  </div>
 </div>
  <div class="note" id="118396">  <div class="votes">
    <div id="Vu118396">
    <a href="https://www.php.net/manual/vote-note.php?id=118396&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd118396">
    <a href="https://www.php.net/manual/vote-note.php?id=118396&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V118396" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.strrpos.php.html#118396" class="name">
  <strong class="user"><em>islandispeace at hotmail dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#118396"> &para;</a><div class="date" title="2015-11-29 07:30"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom118396">
<div class="phpcode"><code><span class="html">$offset is very misleading, here is my understanding:<br /><br />function mystrrpos($haystack, $needle, $offset = 0) {<br />    if ($offset == 0) {<br />        return strrpos ($haystack, $needle);<br />    } else {<br />        return strrpos (substr($haystack, 0, $offset), $needle);<br />    }<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="70925">  <div class="votes">
    <div id="Vu70925">
    <a href="https://www.php.net/manual/vote-note.php?id=70925&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd70925">
    <a href="https://www.php.net/manual/vote-note.php?id=70925&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V70925" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.strrpos.php.html#70925" class="name">
  <strong class="user"><em>dmitry dot polushkin at gmail dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#70925"> &para;</a><div class="date" title="2006-11-03 10:05"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom70925">
<div class="phpcode"><code><span class="html">Returns the filename's string extension, else if no extension found returns false.<br />Example: filename_extension('some_file.mp3'); // mp3<br />Faster than the pathinfo() analogue in two times.<br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">filename_extension</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">) {<br />    </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">);<br />    if(</span><span class="default">$pos</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    } else {<br />        return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">);<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="55670">  <div class="votes">
    <div id="Vu55670">
    <a href="https://www.php.net/manual/vote-note.php?id=55670&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd55670">
    <a href="https://www.php.net/manual/vote-note.php?id=55670&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V55670" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.strrpos.php.html#55670" class="name">
  <strong class="user"><em>fab</em></strong></a><a class="genanchor" href="function.strrpos.php.html#55670"> &para;</a><div class="date" title="2005-08-10 04:07"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom55670">
<div class="phpcode"><code><span class="html">RE: hao2lian<br /><br />There are a lot of alternative - and unfortunately buggy - implementations of strrpos() (or last_index_of as it was called) on this page. This one is a slight modifiaction of the one below, but it should world like a *real* strrpos(), because it returns false if there is no needle in the haystack.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">my_strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) {<br />   </span><span class="default">$index </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">), </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">));<br />   if(</span><span class="default">$index </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />        return </span><span class="default">false</span><span class="keyword">;<br />   }<br />   </span><span class="default">$index </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) - </span><span class="default">$index</span><span class="keyword">;<br />   return </span><span class="default">$index</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="48886">  <div class="votes">
    <div id="Vu48886">
    <a href="https://www.php.net/manual/vote-note.php?id=48886&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd48886">
    <a href="https://www.php.net/manual/vote-note.php?id=48886&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V48886" title="47% like this...">
    -1
    </div>
  </div>
  <a href="function.strrpos.php.html#48886" class="name">
  <strong class="user"><em>escii at hotmail dot com ( Brendan )</em></strong></a><a class="genanchor" href="function.strrpos.php.html#48886"> &para;</a><div class="date" title="2005-01-10 07:12"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom48886">
<div class="phpcode"><code><span class="html">I was immediatley pissed when i found the behaviour of strrpos ( shouldnt it be called charrpos ?) the way it is, so i made my own implement to search for strings.<br /><br />&lt;?<br />function proper_strrpos($haystack,$needle){<br />        while($ret = strrpos($haystack,$needle))<br />        {       <br />                if(strncmp(substr($haystack,$ret,strlen($needle)),<br />                                $needle,strlen($needle)) == 0 )<br />                        return $ret;<br />                $haystack = substr($haystack,0,$ret -1 );<br />        }<br />        return $ret;<br />}<br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="109282">  <div class="votes">
    <div id="Vu109282">
    <a href="https://www.php.net/manual/vote-note.php?id=109282&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109282">
    <a href="https://www.php.net/manual/vote-note.php?id=109282&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109282" title="45% like this...">
    -2
    </div>
  </div>
  <a href="function.strrpos.php.html#109282" class="name">
  <strong class="user"><em>arlaud pierre</em></strong></a><a class="genanchor" href="function.strrpos.php.html#109282"> &para;</a><div class="date" title="2012-07-02 01:51"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109282">
<div class="phpcode"><code><span class="html">This seems to behave like the exact equivalent to the PHP 5 offset parameter for a PHP 4 version.<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">function </span><span class="default">strrpos_handmade</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br /><br />  if(</span><span class="default">$offset </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">) return </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br />  <br />  </span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />  </span><span class="default">$size </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br /><br />  if(</span><span class="default">$offset </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) {<br />    </span><span class="default">$virtual_cut </span><span class="keyword">= </span><span class="default">$length</span><span class="keyword">+</span><span class="default">$offset</span><span class="keyword">;<br />    </span><span class="default">$haystack </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$virtual_cut</span><span class="keyword">+</span><span class="default">$size</span><span class="keyword">);<br />    </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br />    return </span><span class="default">$ret </span><span class="keyword">&gt; </span><span class="default">$virtual_cut </span><span class="keyword">? </span><span class="default">false </span><span class="keyword">: </span><span class="default">$ret</span><span class="keyword">;<br />  } else {<br />    </span><span class="default">$haystack </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">);<br />    </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br />    return </span><span class="default">$ret </span><span class="keyword">=== </span><span class="default">false </span><span class="keyword">? </span><span class="default">$ret </span><span class="keyword">: </span><span class="default">$ret</span><span class="keyword">+</span><span class="default">$offset</span><span class="keyword">;<br />  }<br /><br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="56735">  <div class="votes">
    <div id="Vu56735">
    <a href="https://www.php.net/manual/vote-note.php?id=56735&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56735">
    <a href="https://www.php.net/manual/vote-note.php?id=56735&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56735" title="45% like this...">
    -1
    </div>
  </div>
  <a href="function.strrpos.php.html#56735" class="name">
  <strong class="user"><em>gordon at kanazawa-gu dot ac dot jp</em></strong></a><a class="genanchor" href="function.strrpos.php.html#56735"> &para;</a><div class="date" title="2005-09-13 09:56"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56735">
<div class="phpcode"><code><span class="html">The "find-last-occurrence-of-a-string" functions suggested here do not allow for a starting offset, so here's one, tried and tested, that does:<br /><br />function my_strrpos($haystack, $needle, $offset=0) {<br />    // same as strrpos, except $needle can be a string<br />    $strrpos = false;<br />    if (is_string($haystack) &amp;&amp; is_string($needle) &amp;&amp; is_numeric($offset)) {<br />        $strlen = strlen($haystack);<br />        $strpos = strpos(strrev(substr($haystack, $offset)), strrev($needle));<br />        if (is_numeric($strpos)) {<br />            $strrpos = $strlen - $strpos - strlen($needle);<br />        }<br />    }<br />    return $strrpos;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="65569">  <div class="votes">
    <div id="Vu65569">
    <a href="https://www.php.net/manual/vote-note.php?id=65569&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd65569">
    <a href="https://www.php.net/manual/vote-note.php?id=65569&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V65569" title="42% like this...">
    -1
    </div>
  </div>
  <a href="function.strrpos.php.html#65569" class="name">
  <strong class="user"><em>shimon at schoolportal dot co dot il</em></strong></a><a class="genanchor" href="function.strrpos.php.html#65569"> &para;</a><div class="date" title="2006-05-03 11:31"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom65569">
<div class="phpcode"><code><span class="html">In strrstr function in php 4 there is also no offset.<br />&lt;?<br />// by Shimon Doodkin<br />function chrrpos($haystack, $needle, $offset=false)<br />{<br /> $needle=$needle[0];<br /> $l=strlen($haystack);<br /> if($l==0)  return false;<br /> if($offset===false)  $offset=$l-1;<br /> else<br /> {<br />  if($offset&gt;$l) $offset=$l-1;<br />  if($offset&lt;0) return false;<br /> }<br /> for(;$offset&gt;0;$offset--)<br />  if($haystack[$offset]==$needle)<br />   return $offset;<br /> return false;<br />}<br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="125474">  <div class="votes">
    <div id="Vu125474">
    <a href="https://www.php.net/manual/vote-note.php?id=125474&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125474">
    <a href="https://www.php.net/manual/vote-note.php?id=125474&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125474" title="40% like this...">
    -1
    </div>
  </div>
  <a href="function.strrpos.php.html#125474" class="name">
  <strong class="user"><em>anonymous</em></strong></a><a class="genanchor" href="function.strrpos.php.html#125474"> &para;</a><div class="date" title="2020-10-29 03:46"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125474">
<div class="phpcode"><code><span class="html">There is a lot of confusion around how $offset works and I feel it's really quite simple.<br /><br />If $offset is positive, the operation ignores the first $offset characters of the haystack.<br />If $offset is negative, the operation ignores the last $offset-1 characters of the haystack (don't ask why -1...).<br /><br />To understand this instinctively, just imagine the characters being replaced with invalid symbols. Here's an example:<br /><br /><span class="default">&lt;?php<br />$hackstack </span><span class="keyword">= </span><span class="string">'0123456789'</span><span class="keyword">;<br /><br /></span><span class="comment">// Search the entire sequence 0123456789<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$hackstack</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">)); </span><span class="comment">// int(0)<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$hackstack</span><span class="keyword">, </span><span class="string">'9'</span><span class="keyword">)); </span><span class="comment">// int(9)<br /><br />// Only search ##23456789<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$hackstack</span><span class="keyword">, </span><span class="string">'1'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)); </span><span class="comment">// bool(false)<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$hackstack</span><span class="keyword">, </span><span class="string">'2'</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)); </span><span class="comment">// int(2)<br /><br />// Only search 0123456###<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$hackstack</span><span class="keyword">, </span><span class="string">'6'</span><span class="keyword">, -</span><span class="default">4</span><span class="keyword">)); </span><span class="comment">// int(6)<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$hackstack</span><span class="keyword">, </span><span class="string">'7'</span><span class="keyword">, -</span><span class="default">4</span><span class="keyword">)); </span><span class="comment">// bool(false)<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="27634">  <div class="votes">
    <div id="Vu27634">
    <a href="https://www.php.net/manual/vote-note.php?id=27634&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd27634">
    <a href="https://www.php.net/manual/vote-note.php?id=27634&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V27634" title="37% like this...">
    -2
    </div>
  </div>
  <a href="function.strrpos.php.html#27634" class="name">
  <strong class="user"><em>su.noseelg@naes, only backwards</em></strong></a><a class="genanchor" href="function.strrpos.php.html#27634"> &para;</a><div class="date" title="2002-12-13 10:39"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom27634">
<div class="phpcode"><code><span class="html">Maybe I'm the only one who's bothered by it, but it really bugs me when the last line in a paragraph is a single word. Here's an example to explain what I don't like:<br /><br />The quick brown fox jumps over the lazy<br />dog.<br /><br />So that's why I wrote this function. In any paragraph that contains more than 1 space (i.e., more than two words), it will replace the last space with '&amp;nbsp;'.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">no_orphans</span><span class="keyword">(</span><span class="default">$TheParagraph</span><span class="keyword">) {<br />    if (</span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$TheParagraph</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">) &gt; </span><span class="default">1</span><span class="keyword">) {<br />    </span><span class="default">$lastspace </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$TheParagraph</span><span class="keyword">,</span><span class="string">" "</span><span class="keyword">);<br />    </span><span class="default">$TheParagraph </span><span class="keyword">= </span><span class="default">substr_replace</span><span class="keyword">(</span><span class="default">$TheParagraph</span><span class="keyword">,</span><span class="string">"&amp;nbsp;"</span><span class="keyword">,</span><span class="default">$lastspace</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />    }<br />return </span><span class="default">$TheParagraph</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />So, it would change "The quick brown fox jumps over the lazy dog." to "The quick brown fox jumps over the lazy&amp;nbsp;dog." That way, the last two words will always stay together.</span></code></div>
  </div>
 </div>
  <div class="note" id="92158">  <div class="votes">
    <div id="Vu92158">
    <a href="https://www.php.net/manual/vote-note.php?id=92158&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92158">
    <a href="https://www.php.net/manual/vote-note.php?id=92158&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92158" title="33% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#92158" class="name">
  <strong class="user"><em>maxmike at gmail dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#92158"> &para;</a><div class="date" title="2009-07-11 10:05"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92158">
<div class="phpcode"><code><span class="html">I've got a simple method of performing a reverse strpos which may be of use.  This version I have treats the offset very simply:<br />Positive offsets search backwards from the supplied string index.<br />Negative offsets search backwards from the position of the character that many characters from the end of the string.<br /><br />Here is an example of backwards stepping through instances of a string with this function:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">backwardStrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br />    </span><span class="default">$length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />    </span><span class="default">$offset </span><span class="keyword">= (</span><span class="default">$offset </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)?(</span><span class="default">$length </span><span class="keyword">- </span><span class="default">$offset</span><span class="keyword">):</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">);<br />    </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">), </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">), </span><span class="default">$offset</span><span class="keyword">);<br />    return (</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)?</span><span class="default">false</span><span class="keyword">:( </span><span class="default">$length </span><span class="keyword">- </span><span class="default">$pos </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) );<br />}<br /><br /></span><span class="default">$pos </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br /></span><span class="default">$count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />echo </span><span class="string">"Test1&lt;br/&gt;"</span><span class="keyword">;<br />while((</span><span class="default">$pos </span><span class="keyword">= </span><span class="default">backwardStrpos</span><span class="keyword">(</span><span class="string">"012340567890"</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">){<br />     echo </span><span class="default">$pos</span><span class="keyword">.</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />    </span><span class="default">$pos</span><span class="keyword">--;<br />    if(</span><span class="default">$pos </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">){<br />        echo </span><span class="string">"Done&lt;br/&gt;"</span><span class="keyword">;break;<br />    }<br />}<br />echo </span><span class="string">"---===---&lt;br/&gt;\nTest2&lt;br/&gt;"</span><span class="keyword">;<br />echo </span><span class="default">backwardStrpos</span><span class="keyword">(</span><span class="string">"12341234"</span><span class="keyword">, </span><span class="string">"1"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">).</span><span class="string">"&lt;br/&gt;"</span><span class="keyword">;<br />echo </span><span class="default">backwardStrpos</span><span class="keyword">(</span><span class="string">"12341234"</span><span class="keyword">, </span><span class="string">"1"</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />Outputs:<br />Test1<br />11<br />5<br />0<br />Done<br />---===---<br />Test2<br />0<br />4<br /><br />With Test2 the first line checks from the first 3 in "12341234" and runs backwards until it finds a 1 (at position 0)<br /><br />The second line checks from the second 2 in "12341234" and seeks towards the beginning for the first 1 it finds (at position 4).<br /><br />This function is useful for php4 and also useful if the offset parameter in the existing strrpos is equally confusing to you as it is for me.</span></code></div>
  </div>
 </div>
  <div class="note" id="87769">  <div class="votes">
    <div id="Vu87769">
    <a href="https://www.php.net/manual/vote-note.php?id=87769&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87769">
    <a href="https://www.php.net/manual/vote-note.php?id=87769&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87769" title="33% like this...">
    -5
    </div>
  </div>
  <a href="function.strrpos.php.html#87769" class="name">
  <strong class="user"><em>alexandre at NOSPAM dot pixeline dot be</em></strong></a><a class="genanchor" href="function.strrpos.php.html#87769"> &para;</a><div class="date" title="2008-12-20 08:35"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87769">
<div class="phpcode"><code><span class="html">I needed to check if a variable that contains a generated folder name based on user input had a trailing slash.<br /><br />This did the trick:<br /><br /><span class="default">&lt;?php<br />    </span><span class="comment">// Detect and remove a trailing slash<br />    </span><span class="default">$root_folder </span><span class="keyword">= ((</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$root_folder</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">) + </span><span class="default">1</span><span class="keyword">) == </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$root_folder</span><span class="keyword">)) ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$root_folder</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, - </span><span class="default">1</span><span class="keyword">) : </span><span class="default">$root_folder</span><span class="keyword">;<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="29495">  <div class="votes">
    <div id="Vu29495">
    <a href="https://www.php.net/manual/vote-note.php?id=29495&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd29495">
    <a href="https://www.php.net/manual/vote-note.php?id=29495&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V29495" title="33% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#29495" class="name">
  <strong class="user"><em>FIE</em></strong></a><a class="genanchor" href="function.strrpos.php.html#29495"> &para;</a><div class="date" title="2003-02-15 05:03"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom29495">
<div class="phpcode"><code><span class="html">refering to the comment and function about lastIndexOf()...<br />It seemed not to work for me the only reason I could find was the haystack was reversed and the string wasnt therefore it returnt the length of the haystack rather than the position of the last needle... i rewrote it as fallows:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">strlpos</span><span class="keyword">(</span><span class="default">$f_haystack</span><span class="keyword">,</span><span class="default">$f_needle</span><span class="keyword">) {<br />      </span><span class="default">$rev_str </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$f_needle</span><span class="keyword">);<br />      </span><span class="default">$rev_hay </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$f_haystack</span><span class="keyword">);<br />      </span><span class="default">$hay_len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$f_haystack</span><span class="keyword">);<br />      </span><span class="default">$ned_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$rev_hay</span><span class="keyword">,</span><span class="default">$rev_str</span><span class="keyword">);<br />      </span><span class="default">$result  </span><span class="keyword">= </span><span class="default">$hay_len </span><span class="keyword">- </span><span class="default">$ned_pos </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$rev_str</span><span class="keyword">);<br />      return </span><span class="default">$result</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />this one fallows the strpos syntax rather than java's lastIndexOf.<br />I'm not positive if it takes more resources assigning all of those variables in there but you can put it all in return if you want, i dont care if i crash my server ;).<br /><br />~SILENT WIND OF DOOM WOOSH!</span></code></div>
  </div>
 </div>
  <div class="note" id="74454">  <div class="votes">
    <div id="Vu74454">
    <a href="https://www.php.net/manual/vote-note.php?id=74454&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd74454">
    <a href="https://www.php.net/manual/vote-note.php?id=74454&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V74454" title="30% like this...">
    -5
    </div>
  </div>
  <a href="function.strrpos.php.html#74454" class="name">
  <strong class="user"><em>jafet at g dot m dot a dot i dot l dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#74454"> &para;</a><div class="date" title="2007-04-12 01:57"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom74454">
<div class="phpcode"><code><span class="html">Full strpos() functionality, by yours truly.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">conforming_strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)<br />{<br />    </span><span class="comment"># Why does strpos() do this? Anyway...<br />    </span><span class="keyword">if(!</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">)) </span><span class="default">$needle </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">intval</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">));<br />    </span><span class="default">$haystack </span><span class="keyword">= </span><span class="default">strval</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />    </span><span class="comment"># Parameters<br />    </span><span class="default">$hlen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />    </span><span class="default">$nlen </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />    </span><span class="comment"># Come on, this is a feature too<br />    </span><span class="keyword">if(</span><span class="default">$nlen </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />    {<br />        </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">__FUNCTION__</span><span class="keyword">.</span><span class="string">'(): Empty delimiter.'</span><span class="keyword">, </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />        return </span><span class="default">false</span><span class="keyword">;<br />    }<br />    </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$offset</span><span class="keyword">);<br />    </span><span class="default">$hrev </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />    </span><span class="default">$nrev </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />    </span><span class="comment"># Search<br />    </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$hrev</span><span class="keyword">, </span><span class="default">$nrev</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">);<br />    if(</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />    else return </span><span class="default">$hlen </span><span class="keyword">- </span><span class="default">$nlen </span><span class="keyword">- </span><span class="default">$pos</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Note that $offset is evaluated from the end of the string.<br /><br />Also note that conforming_strrpos() performs some five times slower than strpos(). Just a thought.</span></code></div>
  </div>
 </div>
  <div class="note" id="80008">  <div class="votes">
    <div id="Vu80008">
    <a href="https://www.php.net/manual/vote-note.php?id=80008&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80008">
    <a href="https://www.php.net/manual/vote-note.php?id=80008&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80008" title="28% like this...">
    -3
    </div>
  </div>
  <a href="function.strrpos.php.html#80008" class="name">
  <strong class="user"><em>dixonmd at gmail dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#80008"> &para;</a><div class="date" title="2007-12-24 02:42"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80008">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br />        $pos </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">string $haystack</span><span class="keyword">) - </span><span class="default">strpos </span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">string $haystack</span><span class="keyword">), </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">string $needle</span><span class="keyword">)) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">string $needle</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />         If in the needle there is more than one character then in php 4 we can use the above statement for finding the position of last occurrence of a substring in a string instead of strrpos. Because in php 4 strrpos uses the first character of the substring.<br /><br />eg : <br /><span class="default">&lt;?php<br />        $haystack </span><span class="keyword">= </span><span class="string">"you you you you you"</span><span class="keyword">;<br />        </span><span class="default">$needle </span><span class="keyword">= </span><span class="string">"you"</span><span class="keyword">;<br />        </span><span class="default">$pos1 </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">) - </span><span class="default">strpos </span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">), </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">)) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />        echo </span><span class="default">$pos1 </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />        </span><span class="default">$pos2 strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br />        echo </span><span class="default">$pos2 </span><span class="keyword">. </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="120052">  <div class="votes">
    <div id="Vu120052">
    <a href="https://www.php.net/manual/vote-note.php?id=120052&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120052">
    <a href="https://www.php.net/manual/vote-note.php?id=120052&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120052" title="25% like this...">
    -2
    </div>
  </div>
  <a href="function.strrpos.php.html#120052" class="name">
  <strong class="user"><em>stevewa</em></strong></a><a class="genanchor" href="function.strrpos.php.html#120052"> &para;</a><div class="date" title="2016-10-17 07:25"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120052">
<div class="phpcode"><code><span class="html">i wanted to find a leading space BEFORE a hyphen<br /><br />Crude Oil (Dec) 51.00-56.00 <br /><br />so I had to find the position of the hyphen <br /><br />then subtract that position from the length of the string (to make it a negative number)<br />and then walk left toward the beginning of the string, looking for the first space before the hyphen<br /><br />ex:<br />$str_position_hyphen  = strpos($line_new,"-",$str_position_spread);<br /><br />$line_new_length = strlen($line_new);<br /><br />$str_position_hyphen_from_end = $str_position_hyphen - $line_new_length;<br /><br />echo "hyphen position from end = " . $str_position_hyphen_from_end . "&lt;br /&gt;\n";<br />            <br />            <br />$str_position_space_before_hyphen  = strrpos($line_new, " ", $str_position_hyphen_from_end);<br /><br />echo "*** previous space= " . $str_position_space_before_hyphen . "&lt;br /&gt;\n";<br />            <br />$line_new = substr_replace($line_new, ",", $str_position_space_before_hyphen, 1  );    <br />    <br />echo $line_new . "&lt;br /&gt;&lt;br /&gt;\n";</span></code></div>
  </div>
 </div>
  <div class="note" id="35387">  <div class="votes">
    <div id="Vu35387">
    <a href="https://www.php.net/manual/vote-note.php?id=35387&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd35387">
    <a href="https://www.php.net/manual/vote-note.php?id=35387&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V35387" title="27% like this...">
    -5
    </div>
  </div>
  <a href="function.strrpos.php.html#35387" class="name">
  <strong class="user"><em>lee at 5ss dot net</em></strong></a><a class="genanchor" href="function.strrpos.php.html#35387"> &para;</a><div class="date" title="2003-08-29 07:21"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom35387">
<div class="phpcode"><code><span class="html">I should have looked here first, but instead I wrote my own version of strrpos that supports searching for entire strings, rather than individual characters.  This is a recursive function.  I have not tested to see if it is more or less efficient than the others on the page.  I hope this helps someone!<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">//Find last occurance of needle in haystack<br /></span><span class="keyword">function </span><span class="default">str_rpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$start </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br />    </span><span class="default">$tempPos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br />    if(</span><span class="default">$tempPos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">){<br />        if(</span><span class="default">$start </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">){<br />            </span><span class="comment">//Needle not in string at all<br />            </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />        }else{<br />            </span><span class="comment">//No more occurances found<br />            </span><span class="keyword">return </span><span class="default">$start </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />        }<br />    }else{<br />        </span><span class="comment">//Find the next occurance<br />        </span><span class="keyword">return </span><span class="default">str_rpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$tempPos </span><span class="keyword">+ </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">));<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="72682">  <div class="votes">
    <div id="Vu72682">
    <a href="https://www.php.net/manual/vote-note.php?id=72682&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd72682">
    <a href="https://www.php.net/manual/vote-note.php?id=72682&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V72682" title="25% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#72682" class="name">
  <strong class="user"><em>Christ Off</em></strong></a><a class="genanchor" href="function.strrpos.php.html#72682"> &para;</a><div class="date" title="2007-01-29 10:50"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom72682">
<div class="phpcode"><code><span class="html">Function to truncate a string<br />Removing dot and comma<br />Adding ... only if a is character found<br /><br />function TruncateString($phrase, $longueurMax = 150) {<br />    $phrase = substr(trim($phrase), 0, $longueurMax);<br />    $pos = strrpos($phrase, " ");<br />    $phrase = substr($phrase, 0, $pos);<br />    if ((substr($phrase,-1,1) == ",") or (substr($phrase,-1,1) == ".")) {<br />        $phrase = substr($phrase,0,-1);<br />    }<br />    if ($pos === false) {<br />        $phrase = $phrase;<br />    }<br />    else {<br />        $phrase = $phrase . "...";<br />    }<br />return $phrase;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="67559">  <div class="votes">
    <div id="Vu67559">
    <a href="https://www.php.net/manual/vote-note.php?id=67559&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd67559">
    <a href="https://www.php.net/manual/vote-note.php?id=67559&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V67559" title="25% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#67559" class="name">
  <strong class="user"><em>kavih7 at yahoo dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#67559"> &para;</a><div class="date" title="2006-06-08 12:53"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom67559">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="comment">###################################################<br />#<br /># DESCRIPTION:<br /># This function returns the last occurance of a string,<br /># rather than the last occurance of a single character like<br /># strrpos does. It also supports an offset from where to<br /># start the searching in the haystack string.<br />#<br /># ARGS:<br /># $haystack (required) -- the string to search upon<br /># $needle (required) -- the string you are looking for<br /># $offset (optional) -- the offset to start from<br />#<br /># RETURN VALS:<br /># returns integer on success<br /># returns false on failure to find the string at all<br />#<br />###################################################<br /><br /></span><span class="keyword">function </span><span class="default">strrpos_string</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">)<br />{<br />    if(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">) != </span><span class="string">"" </span><span class="keyword">&amp;&amp; </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) != </span><span class="string">"" </span><span class="keyword">&amp;&amp; </span><span class="default">$offset </span><span class="keyword">&lt;= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">))<br />    {<br />        </span><span class="default">$last_pos </span><span class="keyword">= </span><span class="default">$offset</span><span class="keyword">;<br />        </span><span class="default">$found </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />        while((</span><span class="default">$curr_pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$last_pos</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">)<br />        {<br />            </span><span class="default">$found </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />            </span><span class="default">$last_pos </span><span class="keyword">= </span><span class="default">$curr_pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">;<br />        }<br />        if(</span><span class="default">$found</span><span class="keyword">)<br />        {<br />            return </span><span class="default">$last_pos </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">;<br />        }<br />        else<br />        {<br />            return </span><span class="default">false</span><span class="keyword">;<br />        }<br />    }<br />    else <br />    {<br />        return </span><span class="default">false</span><span class="keyword">;<br />    }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="51636">  <div class="votes">
    <div id="Vu51636">
    <a href="https://www.php.net/manual/vote-note.php?id=51636&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd51636">
    <a href="https://www.php.net/manual/vote-note.php?id=51636&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V51636" title="25% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#51636" class="name">
  <strong class="user"><em>jonas at jonasbjork dot net</em></strong></a><a class="genanchor" href="function.strrpos.php.html#51636"> &para;</a><div class="date" title="2005-04-06 01:25"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom51636">
<div class="phpcode"><code><span class="html">I needed to remove last directory from an path, and came up with this solution:<br /><br /><span class="default">&lt;?php<br /><br />  $path_dir </span><span class="keyword">= </span><span class="string">"/my/sweet/home/"</span><span class="keyword">;<br />  </span><span class="default">$path_up </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$path_dir</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">( </span><span class="default">$path_dir</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">, -</span><span class="default">2 </span><span class="keyword">) ).</span><span class="string">"/"</span><span class="keyword">;<br />  echo </span><span class="default">$path_up</span><span class="keyword">;<br /><br /></span><span class="default">?&gt;<br /></span><br />Might be helpful for someone..</span></code></div>
  </div>
 </div>
  <div class="note" id="46342">  <div class="votes">
    <div id="Vu46342">
    <a href="https://www.php.net/manual/vote-note.php?id=46342&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd46342">
    <a href="https://www.php.net/manual/vote-note.php?id=46342&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V46342" title="22% like this...">
    -5
    </div>
  </div>
  <a href="function.strrpos.php.html#46342" class="name">
  <strong class="user"><em>nexman at playoutloud dot net</em></strong></a><a class="genanchor" href="function.strrpos.php.html#46342"> &para;</a><div class="date" title="2004-10-07 09:22"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom46342">
<div class="phpcode"><code><span class="html">Function like the 5.0 version of strrpos for 4.x.<br />This will return the *last* occurence of a string within a string.<br /><br />    function strepos($haystack, $needle, $offset=0) {        <br />        $pos_rule = ($offset&lt;0)?strlen($haystack)+($offset-1):$offset;<br />        $last_pos = false; $first_run = true;<br />        do {<br />            $pos=strpos($haystack, $needle, (intval($last_pos)+(($first_run)?0:strlen($needle))));<br />            if ($pos!==false &amp;&amp; (($offset&lt;0 &amp;&amp; $pos &lt;= $pos_rule)||$offset &gt;= 0)) {<br />                $last_pos = $pos;<br />            } else { break; }<br />            $first_run = false;<br />        } while ($pos !== false);<br />        if ($offset&gt;0 &amp;&amp; $last_pos&lt;$pos_rule) { $last_pos = false; }<br />        return $last_pos;<br />    }<br /><br />If my math is off, please feel free to correct.<br />  - A positive offset will be the minimum character index position of the first character allowed.<br />  - A negative offset will be subtracted from the total length and the position directly before will be the maximum index of the first character being searched.<br /><br />returns the character index ( 0+ ) of the last occurence of the needle. <br /><br />* boolean FALSE will return no matches within the haystack, or outside boundries specified by the offset.</span></code></div>
  </div>
 </div>
  <div class="note" id="27750">  <div class="votes">
    <div id="Vu27750">
    <a href="https://www.php.net/manual/vote-note.php?id=27750&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd27750">
    <a href="https://www.php.net/manual/vote-note.php?id=27750&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V27750" title="22% like this...">
    -5
    </div>
  </div>
  <a href="function.strrpos.php.html#27750" class="name">
  <strong class="user"><em>php dot net at insite-out dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#27750"> &para;</a><div class="date" title="2002-12-17 11:47"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom27750">
<div class="phpcode"><code><span class="html">I was looking for the equivalent of Java's lastIndexOf(). I couldn't find it so I wrote this:<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/*<br />Method to return the last occurrence of a substring within a <br />string<br />*/<br /></span><span class="keyword">function </span><span class="default">last_index_of</span><span class="keyword">(</span><span class="default">$sub_str</span><span class="keyword">,</span><span class="default">$instr</span><span class="keyword">) {<br />    if(</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$instr</span><span class="keyword">,</span><span class="default">$sub_str</span><span class="keyword">)!=</span><span class="string">""</span><span class="keyword">) {<br />        return(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$instr</span><span class="keyword">)-</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$instr</span><span class="keyword">),</span><span class="default">$sub_str</span><span class="keyword">));<br />    }<br />    return(-</span><span class="default">1</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />It returns the numerical index of the substring you're searching for, or -1 if the substring doesn't exist within the string.</span></code></div>
  </div>
 </div>
  <div class="note" id="71882">  <div class="votes">
    <div id="Vu71882">
    <a href="https://www.php.net/manual/vote-note.php?id=71882&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71882">
    <a href="https://www.php.net/manual/vote-note.php?id=71882&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71882" title="20% like this...">
    -3
    </div>
  </div>
  <a href="function.strrpos.php.html#71882" class="name">
  <strong class="user"><em>php NO at SPAMMERS willfris SREMMAPS dot ON nl</em></strong></a><a class="genanchor" href="function.strrpos.php.html#71882"> &para;</a><div class="date" title="2006-12-20 06:48"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71882">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /></span><span class="comment">/*******<br /> ** Maybe the shortest code to find the last occurence of a string, even in php4<br /> *******/<br /></span><span class="keyword">function </span><span class="default">stringrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$offset</span><span class="keyword">=</span><span class="default">NULL</span><span class="keyword">)<br />{<br />    return </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">)<br />           - </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">) , </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">) , </span><span class="default">$offset</span><span class="keyword">)<br />           - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$needle</span><span class="keyword">);<br />}<br /></span><span class="comment">// @return   -&gt;   chopped up for readability.<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="36548">  <div class="votes">
    <div id="Vu36548">
    <a href="https://www.php.net/manual/vote-note.php?id=36548&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd36548">
    <a href="https://www.php.net/manual/vote-note.php?id=36548&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V36548" title="20% like this...">
    -3
    </div>
  </div>
  <a href="function.strrpos.php.html#36548" class="name">
  <strong class="user"><em>ZaraWebFX</em></strong></a><a class="genanchor" href="function.strrpos.php.html#36548"> &para;</a><div class="date" title="2003-10-14 11:06"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom36548">
<div class="phpcode"><code><span class="html">this could be, what derek mentioned:<br /><br />&lt;?<br />function cut_last_occurence($string,$cut_off) {<br />    return strrev(substr(strstr(strrev($string), strrev($cut_off)),strlen($cut_off)));<br />}    <br /><br />//    example: cut off the last occurence of "limit"<br />    $str = "select delta_limit1, delta_limit2, delta_limit3 from table limit 1,7";<br />    $search = " limit";<br />    echo $str."\n";<br />    echo cut_last_occurence($str,"limit");<br />?&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="47482">  <div class="votes">
    <div id="Vu47482">
    <a href="https://www.php.net/manual/vote-note.php?id=47482&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd47482">
    <a href="https://www.php.net/manual/vote-note.php?id=47482&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V47482" title="20% like this...">
    -6
    </div>
  </div>
  <a href="function.strrpos.php.html#47482" class="name">
  <strong class="user"><em>griffioen at justdesign dot nl</em></strong></a><a class="genanchor" href="function.strrpos.php.html#47482"> &para;</a><div class="date" title="2004-11-17 10:57"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom47482">
<div class="phpcode"><code><span class="html">If you wish to look for the last occurrence of a STRING in a string (instead of a single character) and don't have mb_strrpos working, try this:<br /><br />    function lastIndexOf($haystack, $needle) {<br />        $index        = strpos(strrev($haystack), strrev($needle));<br />        $index        = strlen($haystack) - strlen(index) - $index;<br />        return $index;<br />    }</span></code></div>
  </div>
 </div>
  <div class="note" id="73666">  <div class="votes">
    <div id="Vu73666">
    <a href="https://www.php.net/manual/vote-note.php?id=73666&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd73666">
    <a href="https://www.php.net/manual/vote-note.php?id=73666&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V73666" title="16% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#73666" class="name">
  <strong class="user"><em>mijsoot_at_gmail_dot_com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#73666"> &para;</a><div class="date" title="2007-03-06 01:43"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom73666">
<div class="phpcode"><code><span class="html">To begin, i'm sorry for my English.<br />So, I needed of one function which gives me the front last position of a character. <br />Then I said myself that it should be better to make one which gives the "N" last position.<br /><br />$return_context = "1173120681_0__0_0_Mijsoot_Thierry";<br /><br />// Here i need to find = "Mijsoot_Thierry"<br /><br />//echo $return_context."&lt;br /&gt;";// -- DEBUG<br /><br />function findPos($haystack,$needle,$position){<br />    $pos = strrpos($haystack, $needle);<br />    if($position&gt;1){<br />        $position --;<br />        $haystack = substr($haystack, 0, $pos);<br />        $pos = findPos($haystack,$needle,$position);<br />    }else{<br />        // echo $haystack."&lt;br /&gt;"; // -- DEBUG<br />        return $pos;<br />    }<br />    return $pos;<br />}<br /><br />var_dump(findPos($return_context,"_",2)); // -- TEST</span></code></div>
  </div>
 </div>
  <div class="note" id="56069">  <div class="votes">
    <div id="Vu56069">
    <a href="https://www.php.net/manual/vote-note.php?id=56069&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd56069">
    <a href="https://www.php.net/manual/vote-note.php?id=56069&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V56069" title="16% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#56069" class="name">
  <strong class="user"><em>genetically altered mastermind at gmail</em></strong></a><a class="genanchor" href="function.strrpos.php.html#56069"> &para;</a><div class="date" title="2005-08-22 10:30"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom56069">
<div class="phpcode"><code><span class="html">Very handy to get a file extension:<br />$this-&gt;data['extension'] = substr($this-&gt;data['name'],strrpos($this-&gt;data['name'],'.')+1);</span></code></div>
  </div>
 </div>
  <div class="note" id="42637">  <div class="votes">
    <div id="Vu42637">
    <a href="https://www.php.net/manual/vote-note.php?id=42637&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd42637">
    <a href="https://www.php.net/manual/vote-note.php?id=42637&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V42637" title="16% like this...">
    -4
    </div>
  </div>
  <a href="function.strrpos.php.html#42637" class="name">
  <strong class="user"><em>tsa at medicine dot wisc dot edu</em></strong></a><a class="genanchor" href="function.strrpos.php.html#42637"> &para;</a><div class="date" title="2004-05-24 05:17"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom42637">
<div class="phpcode"><code><span class="html">What the heck, I thought I'd throw another function in the mix.  It's not pretty but the following function counts backwards from your starting point and tells you the last occurrance of a mixed char string:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">strrposmixed </span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">) {<br />   </span><span class="comment">// init start as the end of the str if not set<br />   </span><span class="keyword">if(</span><span class="default">$start </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) {<br />       </span><span class="default">$start </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">);<br />   }<br />   <br />   </span><span class="comment">// searches backward from $start<br />   </span><span class="default">$currentStrPos</span><span class="keyword">=</span><span class="default">$start</span><span class="keyword">;<br />   </span><span class="default">$lastFoundPos</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;<br />   <br />   while(</span><span class="default">$currentStrPos </span><span class="keyword">!= </span><span class="default">0</span><span class="keyword">) {<br />       if(!(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$currentStrPos</span><span class="keyword">) === </span><span class="default">false</span><span class="keyword">)) {<br />           </span><span class="default">$lastFoundPos</span><span class="keyword">=</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">,</span><span class="default">$needle</span><span class="keyword">,</span><span class="default">$currentStrPos</span><span class="keyword">);<br />           break;<br />       }<br />       </span><span class="default">$currentStrPos</span><span class="keyword">--;<br />   }<br />   <br />   if(</span><span class="default">$lastFoundPos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />       return </span><span class="default">false</span><span class="keyword">;<br />   } else {<br />       return </span><span class="default">$lastFoundPos</span><span class="keyword">;<br />   }<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="71401">  <div class="votes">
    <div id="Vu71401">
    <a href="https://www.php.net/manual/vote-note.php?id=71401&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd71401">
    <a href="https://www.php.net/manual/vote-note.php?id=71401&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V71401" title="14% like this...">
    -5
    </div>
  </div>
  <a href="function.strrpos.php.html#71401" class="name">
  <strong class="user"><em>purpleidea</em></strong></a><a class="genanchor" href="function.strrpos.php.html#71401"> &para;</a><div class="date" title="2006-11-27 12:07"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom71401">
<div class="phpcode"><code><span class="html">I was having some issues when I moved my code to run it on a different server.<br />The earlier php version didn't support more than one character needles, so tada, bugs. It's in the docs, i'm just pointing it out in case you're scratching your head for a while.</span></code></div>
  </div>
 </div>
  <div class="note" id="116059">  <div class="votes">
    <div id="Vu116059">
    <a href="https://www.php.net/manual/vote-note.php?id=116059&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd116059">
    <a href="https://www.php.net/manual/vote-note.php?id=116059&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V116059" title="12% like this...">
    -6
    </div>
  </div>
  <a href="function.strrpos.php.html#116059" class="name">
  <strong class="user"><em>info at qrworld dot net</em></strong></a><a class="genanchor" href="function.strrpos.php.html#116059"> &para;</a><div class="date" title="2014-11-04 02:52"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom116059">
<div class="phpcode"><code><span class="html">I made a function using strrpos to get the extension of a file.<br /><br />function getExtension($file) {<br />  $pos = strrpos($file, '.');<br />  if($pos===false){<br />    return false;<br />  } else {  <br />    return substr($file, $pos+1);<br />  }<br />}<br /><br />The link of the post where I took the code is:<br /><br /><a href="http://softontherocks.blogspot.com/2013/07/obtener-la-extension-de-un-fichero-con.html" rel="nofollow" target="_blank">http://softontherocks.blogspot.com/2013/07/obtener-la-extension-de-un-fichero-con.html</a></span></code></div>
  </div>
 </div>
  <div class="note" id="78001">  <div class="votes">
    <div id="Vu78001">
    <a href="https://www.php.net/manual/vote-note.php?id=78001&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd78001">
    <a href="https://www.php.net/manual/vote-note.php?id=78001&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V78001" title="12% like this...">
    -6
    </div>
  </div>
  <a href="function.strrpos.php.html#78001" class="name">
  <strong class="user"><em>pb at tdcspace dot dk</em></strong></a><a class="genanchor" href="function.strrpos.php.html#78001"> &para;</a><div class="date" title="2007-09-23 07:26"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom78001">
<div class="phpcode"><code><span class="html">what the hell are you all doing. Wanna find the *next* last from a specific position because strrpos is useless with the "offset" option, then....<br /><br />ex: find 'Z' in $str from position $p,  backward...<br /><br />while($p &gt; -1 and $str{$p} &lt;&gt; 'Z') $p--;<br /><br />Anyone will notice $p = -1 means: *not found* and that you must ensure a valid start offset in $p, that is &gt;=0 and &lt; string length. Doh</span></code></div>
  </div>
 </div>
  <div class="note" id="115013">  <div class="votes">
    <div id="Vu115013">
    <a href="https://www.php.net/manual/vote-note.php?id=115013&amp;page=function.strrpos&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115013">
    <a href="https://www.php.net/manual/vote-note.php?id=115013&amp;page=function.strrpos&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115013" title="0% like this...">
    -6
    </div>
  </div>
  <a href="function.strrpos.php.html#115013" class="name">
  <strong class="user"><em>tremblay dot jf at gmail dot com</em></strong></a><a class="genanchor" href="function.strrpos.php.html#115013"> &para;</a><div class="date" title="2014-05-12 06:57"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115013">
<div class="phpcode"><code><span class="html">I created an easy function that search a substring inside a string.<br />It reverse the string and the substring inside an strpos and substract the result to the length of the string.<br /><br />if (!function_exists("real_strrpos")) {<br />   function real_strrpos($haystack,$needle) {<br />      $pos  = strlen($haystack);<br />      $pos -= strpos(strrev($haystack), strrev($needle) );<br />      $pos -= strlen($needle);<br />      return $pos;<br />   }<br />}</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.strrpos&amp;redirect=https://www.php.net/manual/ru/function.strrpos.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.strings.php.html">Функции для работы со строками</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.addcslashes.php.html" title="addcslashes">addcslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.addslashes.php.html" title="addslashes">addslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.bin2hex.php.html" title="bin2hex">bin2hex</a>
                        </li>
                                                <li class="">
                            <a href="function.chop.php.html" title="chop">chop</a>
                        </li>
                                                <li class="">
                            <a href="function.chr.php.html" title="chr">chr</a>
                        </li>
                                                <li class="">
                            <a href="function.chunk-split.php.html" title="chunk_&#8203;split">chunk_&#8203;split</a>
                        </li>
                                                <li class="">
                            <a href="function.convert-uudecode.php.html" title="convert_&#8203;uudecode">convert_&#8203;uudecode</a>
                        </li>
                                                <li class="">
                            <a href="function.convert-uuencode.php.html" title="convert_&#8203;uuencode">convert_&#8203;uuencode</a>
                        </li>
                                                <li class="">
                            <a href="function.count-chars.php.html" title="count_&#8203;chars">count_&#8203;chars</a>
                        </li>
                                                <li class="">
                            <a href="function.crc32.php.html" title="crc32">crc32</a>
                        </li>
                                                <li class="">
                            <a href="function.crypt.php.html" title="crypt">crypt</a>
                        </li>
                                                <li class="">
                            <a href="function.echo.php.html" title="echo">echo</a>
                        </li>
                                                <li class="">
                            <a href="function.explode.php.html" title="explode">explode</a>
                        </li>
                                                <li class="">
                            <a href="function.fprintf.php.html" title="fprintf">fprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.get-html-translation-table.php.html" title="get_&#8203;html_&#8203;translation_&#8203;table">get_&#8203;html_&#8203;translation_&#8203;table</a>
                        </li>
                                                <li class="">
                            <a href="function.hebrev.php.html" title="hebrev">hebrev</a>
                        </li>
                                                <li class="">
                            <a href="function.hex2bin.php.html" title="hex2bin">hex2bin</a>
                        </li>
                                                <li class="">
                            <a href="function.html-entity-decode.php.html" title="html_&#8203;entity_&#8203;decode">html_&#8203;entity_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.htmlentities.php.html" title="htmlentities">htmlentities</a>
                        </li>
                                                <li class="">
                            <a href="function.htmlspecialchars-decode.php.html" title="htmlspecialchars_&#8203;decode">htmlspecialchars_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.htmlspecialchars.php.html" title="htmlspecialchars">htmlspecialchars</a>
                        </li>
                                                <li class="">
                            <a href="function.implode.php.html" title="implode">implode</a>
                        </li>
                                                <li class="">
                            <a href="function.join.php.html" title="join">join</a>
                        </li>
                                                <li class="">
                            <a href="function.lcfirst.php.html" title="lcfirst">lcfirst</a>
                        </li>
                                                <li class="">
                            <a href="function.levenshtein.php.html" title="levenshtein">levenshtein</a>
                        </li>
                                                <li class="">
                            <a href="function.localeconv.php.html" title="localeconv">localeconv</a>
                        </li>
                                                <li class="">
                            <a href="function.ltrim.php.html" title="ltrim">ltrim</a>
                        </li>
                                                <li class="">
                            <a href="function.md5-file.php.html" title="md5_&#8203;file">md5_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.md5.php.html" title="md5">md5</a>
                        </li>
                                                <li class="">
                            <a href="function.metaphone.php.html" title="metaphone">metaphone</a>
                        </li>
                                                <li class="">
                            <a href="function.money-format.php.html" title="money_&#8203;format">money_&#8203;format</a>
                        </li>
                                                <li class="">
                            <a href="function.nl-langinfo.php.html" title="nl_&#8203;langinfo">nl_&#8203;langinfo</a>
                        </li>
                                                <li class="">
                            <a href="function.nl2br.php.html" title="nl2br">nl2br</a>
                        </li>
                                                <li class="">
                            <a href="function.number-format.php.html" title="number_&#8203;format">number_&#8203;format</a>
                        </li>
                                                <li class="">
                            <a href="function.ord.php.html" title="ord">ord</a>
                        </li>
                                                <li class="">
                            <a href="function.parse-str.php.html" title="parse_&#8203;str">parse_&#8203;str</a>
                        </li>
                                                <li class="">
                            <a href="function.print.php.html" title="print">print</a>
                        </li>
                                                <li class="">
                            <a href="function.printf.php.html" title="printf">printf</a>
                        </li>
                                                <li class="">
                            <a href="function.quoted-printable-decode.php.html" title="quoted_&#8203;printable_&#8203;decode">quoted_&#8203;printable_&#8203;decode</a>
                        </li>
                                                <li class="">
                            <a href="function.quoted-printable-encode.php.html" title="quoted_&#8203;printable_&#8203;encode">quoted_&#8203;printable_&#8203;encode</a>
                        </li>
                                                <li class="">
                            <a href="function.quotemeta.php.html" title="quotemeta">quotemeta</a>
                        </li>
                                                <li class="">
                            <a href="function.rtrim.php.html" title="rtrim">rtrim</a>
                        </li>
                                                <li class="">
                            <a href="function.setlocale.php.html" title="setlocale">setlocale</a>
                        </li>
                                                <li class="">
                            <a href="function.sha1-file.php.html" title="sha1_&#8203;file">sha1_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.sha1.php.html" title="sha1">sha1</a>
                        </li>
                                                <li class="">
                            <a href="function.similar-text.php.html" title="similar_&#8203;text">similar_&#8203;text</a>
                        </li>
                                                <li class="">
                            <a href="function.soundex.php.html" title="soundex">soundex</a>
                        </li>
                                                <li class="">
                            <a href="function.sprintf.php.html" title="sprintf">sprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.sscanf.php.html" title="sscanf">sscanf</a>
                        </li>
                                                <li class="">
                            <a href="function.str-contains.php.html" title="str_&#8203;contains">str_&#8203;contains</a>
                        </li>
                                                <li class="">
                            <a href="function.str-decrement.php.html" title="str_&#8203;decrement">str_&#8203;decrement</a>
                        </li>
                                                <li class="">
                            <a href="function.str-ends-with.php.html" title="str_&#8203;ends_&#8203;with">str_&#8203;ends_&#8203;with</a>
                        </li>
                                                <li class="">
                            <a href="function.str-getcsv.php.html" title="str_&#8203;getcsv">str_&#8203;getcsv</a>
                        </li>
                                                <li class="">
                            <a href="function.str-increment.php.html" title="str_&#8203;increment">str_&#8203;increment</a>
                        </li>
                                                <li class="">
                            <a href="function.str-ireplace.php.html" title="str_&#8203;ireplace">str_&#8203;ireplace</a>
                        </li>
                                                <li class="">
                            <a href="function.str-pad.php.html" title="str_&#8203;pad">str_&#8203;pad</a>
                        </li>
                                                <li class="">
                            <a href="function.str-repeat.php.html" title="str_&#8203;repeat">str_&#8203;repeat</a>
                        </li>
                                                <li class="">
                            <a href="function.str-replace.php.html" title="str_&#8203;replace">str_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.str-rot13.php.html" title="str_&#8203;rot13">str_&#8203;rot13</a>
                        </li>
                                                <li class="">
                            <a href="function.str-shuffle.php.html" title="str_&#8203;shuffle">str_&#8203;shuffle</a>
                        </li>
                                                <li class="">
                            <a href="function.str-split.php.html" title="str_&#8203;split">str_&#8203;split</a>
                        </li>
                                                <li class="">
                            <a href="function.str-starts-with.php.html" title="str_&#8203;starts_&#8203;with">str_&#8203;starts_&#8203;with</a>
                        </li>
                                                <li class="">
                            <a href="function.str-word-count.php.html" title="str_&#8203;word_&#8203;count">str_&#8203;word_&#8203;count</a>
                        </li>
                                                <li class="">
                            <a href="function.strcasecmp.php.html" title="strcasecmp">strcasecmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strchr.php.html" title="strchr">strchr</a>
                        </li>
                                                <li class="">
                            <a href="function.strcmp.php.html" title="strcmp">strcmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strcoll.php.html" title="strcoll">strcoll</a>
                        </li>
                                                <li class="">
                            <a href="function.strcspn.php.html" title="strcspn">strcspn</a>
                        </li>
                                                <li class="">
                            <a href="function.strip-tags.php.html" title="strip_&#8203;tags">strip_&#8203;tags</a>
                        </li>
                                                <li class="">
                            <a href="function.stripcslashes.php.html" title="stripcslashes">stripcslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.stripos.php.html" title="stripos">stripos</a>
                        </li>
                                                <li class="">
                            <a href="function.stripslashes.php.html" title="stripslashes">stripslashes</a>
                        </li>
                                                <li class="">
                            <a href="function.stristr.php.html" title="stristr">stristr</a>
                        </li>
                                                <li class="">
                            <a href="function.strlen.php.html" title="strlen">strlen</a>
                        </li>
                                                <li class="">
                            <a href="function.strnatcasecmp.php.html" title="strnatcasecmp">strnatcasecmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strnatcmp.php.html" title="strnatcmp">strnatcmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strncasecmp.php.html" title="strncasecmp">strncasecmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strncmp.php.html" title="strncmp">strncmp</a>
                        </li>
                                                <li class="">
                            <a href="function.strpbrk.php.html" title="strpbrk">strpbrk</a>
                        </li>
                                                <li class="">
                            <a href="function.strpos.php.html" title="strpos">strpos</a>
                        </li>
                                                <li class="">
                            <a href="function.strrchr.php.html" title="strrchr">strrchr</a>
                        </li>
                                                <li class="">
                            <a href="function.strrev.php.html" title="strrev">strrev</a>
                        </li>
                                                <li class="">
                            <a href="function.strripos.php.html" title="strripos">strripos</a>
                        </li>
                                                <li class="current">
                            <a href="function.strrpos.php.html" title="strrpos">strrpos</a>
                        </li>
                                                <li class="">
                            <a href="function.strspn.php.html" title="strspn">strspn</a>
                        </li>
                                                <li class="">
                            <a href="function.strstr.php.html" title="strstr">strstr</a>
                        </li>
                                                <li class="">
                            <a href="function.strtok.php.html" title="strtok">strtok</a>
                        </li>
                                                <li class="">
                            <a href="function.strtolower.php.html" title="strtolower">strtolower</a>
                        </li>
                                                <li class="">
                            <a href="function.strtoupper.php.html" title="strtoupper">strtoupper</a>
                        </li>
                                                <li class="">
                            <a href="function.strtr.php.html" title="strtr">strtr</a>
                        </li>
                                                <li class="">
                            <a href="function.substr-compare.php.html" title="substr_&#8203;compare">substr_&#8203;compare</a>
                        </li>
                                                <li class="">
                            <a href="function.substr-count.php.html" title="substr_&#8203;count">substr_&#8203;count</a>
                        </li>
                                                <li class="">
                            <a href="function.substr-replace.php.html" title="substr_&#8203;replace">substr_&#8203;replace</a>
                        </li>
                                                <li class="">
                            <a href="function.substr.php.html" title="substr">substr</a>
                        </li>
                                                <li class="">
                            <a href="function.trim.php.html" title="trim">trim</a>
                        </li>
                                                <li class="">
                            <a href="function.ucfirst.php.html" title="ucfirst">ucfirst</a>
                        </li>
                                                <li class="">
                            <a href="function.ucwords.php.html" title="ucwords">ucwords</a>
                        </li>
                                                <li class="">
                            <a href="function.vfprintf.php.html" title="vfprintf">vfprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.vprintf.php.html" title="vprintf">vprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.vsprintf.php.html" title="vsprintf">vsprintf</a>
                        </li>
                                                <li class="">
                            <a href="function.wordwrap.php.html" title="wordwrap">wordwrap</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                        <li>
                <span class="header">Deprecated</span>
                <ul class="child-menu-list">
                                    <li class="">
                        <a href="function.convert-cyr-string.php.html" title="convert_&#8203;cyr_&#8203;string">convert_&#8203;cyr_&#8203;string</a>
                    </li>
                                    <li class="">
                        <a href="function.hebrevc.php.html" title="hebrevc">hebrevc</a>
                    </li>
                                    <li class="">
                        <a href="function.utf8-decode.php.html" title="utf8_&#8203;decode">utf8_&#8203;decode</a>
                    </li>
                                    <li class="">
                        <a href="function.utf8-encode.php.html" title="utf8_&#8203;encode">utf8_&#8203;encode</a>
                    </li>
                                </ul>
            </li>
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
