<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: uniqid - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.uniqid.php.html">
 <link rel="shorturl" href="https://www.php.net/uniqid">
 <link rel="alternate" href="https://www.php.net/uniqid" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="ref.misc.php.html">
 <link rel="prev" href="function.time-sleep-until.php.html">
 <link rel="next" href="function.unpack.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/function.uniqid.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/function.uniqid.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/function.uniqid.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.uniqid.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/function.uniqid.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.uniqid.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.uniqid.php" hreflang="pt_BR">
 <link rel="alternate" href="function.uniqid.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.uniqid.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.uniqid.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="function.unpack.php.html">
          unpack &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.time-sleep-until.php.html">
          &laquo; time_sleep_until        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.basic.other.php.html'>Другие базовые модули</a></li>      <li><a href='book.misc.php.html'>Misc.</a></li>      <li><a href='ref.misc.php.html'>Разные функции</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/function.uniqid.php'>English</option>
            <option value='de/function.uniqid.php'>German</option>
            <option value='es/function.uniqid.php'>Spanish</option>
            <option value='fr/function.uniqid.php'>French</option>
            <option value='it/function.uniqid.php'>Italian</option>
            <option value='ja/function.uniqid.php'>Japanese</option>
            <option value='pt_BR/function.uniqid.php'>Brazilian Portuguese</option>
            <option value='ru/function.uniqid.php' selected="selected">Russian</option>
            <option value='tr/function.uniqid.php'>Turkish</option>
            <option value='zh/function.uniqid.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/misc/functions/uniqid.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Ffunction.uniqid%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="function.uniqid" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">uniqid</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">uniqid</span> &mdash; <span class="dc-title">Сгенерировать уникальный ID</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.uniqid-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>uniqid</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$prefix</code><span class="initializer"> = &quot;&quot;</span></span>, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$more_entropy</code><span class="initializer"> = <strong><code>false</code></strong></span></span>): <span class="type">string</span></div>

  <p class="para rdfs-comment">
   Получает уникальный идентификатор с префиксом, основанный на текущем
   времени в микросекундах.
  </p>
  <div class="caution"><strong class="caution">Предостережение</strong>
 <p class="para">
  Функция не создаёт криптографически безопасные значения и <em>не должна</em> использоваться
  в криптографических целях или целях, которые требуют, чтобы возвращаемые значения были недоступны для разгадывания.
 </p>
 <p class="para">
  Если нужна криптографически безопасная случайная последовательность,
  можно использовать класс <span class="classname"><a href="class.random-randomizer.php.html" class="classname">Random\Randomizer</a></span>
  с движком <span class="classname"><a href="class.random-engine-secure.php.html" class="classname">Random\Engine\Secure</a></span>.
  Для простых сценариев существуют функции <span class="function"><a href="function.random-int.php.html" class="function">random_int()</a></span> и <span class="function"><a href="function.random-bytes.php.html" class="function">random_bytes()</a></span>
  с удобным API криптографически безопасного генератора псевдослучайных чисел (<abbr title="Cryptographically Secure PseudoRandom Number Generator">CSPRNG</abbr>),
  поддерживаемого операционной системой.
 </p>
</div>
  <div class="warning"><strong class="warning">Внимание</strong>
   <p class="para">
    Эта функция не гарантирует получения уникального значения. Большинство
    операционных систем синхронизирует время с NTP, либо его аналогами,
    так что системное время постоянно меняется. Следовательно возможна
    ситуация, когда эта функция вернёт неуникальный идентификатор для
    процесса/потока. Для увеличения вероятности получения уникального
     значения используйте параметр <code class="parameter">more_entropy</code>.
   </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.uniqid-parameters">
  <h3 class="title">Список параметров</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">prefix</code></dt>

     <dd>

      <p class="para">
       Может быть полезно, к примеру, если идентификаторы генерируются
       одновременно на нескольких хостах и генерация идентификаторов производится
       в одну и ту же микросекунду.
      </p>
      <p class="para">
       С пустым параметром <code class="parameter">prefix</code>, возвращаемая строка
       будет длиной в 13 символов. Если параметр <code class="parameter">more_entropy</code>
       равен <strong><code>true</code></strong>, то строка будет длиной в 23 символа.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">more_entropy</code></dt>

     <dd>

      <p class="para">
       Если равен <strong><code>true</code></strong>, то функция <span class="function"><strong>uniqid()</strong></span> добавит
       дополнительную энтропию (используя комбинированный линейный конгруэнтный
       генератор) в конце возвращаемого значения, что увеличивает вероятность
       уникальности результата.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.uniqid-returnvalues">
  <h3 class="title">Возвращаемые значения</h3>
  <p class="para">
   Возвращает уникальный идентификатор в виде строки.
  </p>
  <div class="warning"><strong class="warning">Внимание</strong>
   <p class="para">
    Эта функция пытается создать уникальный идентификатор,
    но не даёт 100% гарантии уникальности.
   </p>
  </div>
 </div>


 <div class="refsect1 examples" id="refsect1-function.uniqid-examples">
  <h3 class="title">Примеры</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Пример #1 Пример использования <span class="function"><strong>uniqid()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/* Уникальный id, например: 4b3403665fea6 */<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"uniqid(): %s\r\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">uniqid</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">/* Префикс к уникальному id можно добавить одним<br /> * из следующих способов:<br /> *<br /> * $uniqid = $prefix . uniqid();<br /> * $uniqid = uniqid($prefix);<br /> */<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"uniqid('php_'): %s\r\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">uniqid</span><span style="color: #007700">(</span><span style="color: #DD0000">'php_'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">/* Также можно активировать параметр большей энтропии, который<br /> * требуется на некоторых системах, таких как Cygwin. Таким образом<br /> * функция uniqid() сгенерирует значение: 4b340550242239.64159797<br /> */<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"uniqid('', true): %s\r\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">uniqid</span><span style="color: #007700">(</span><span style="color: #DD0000">''</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.uniqid-notes">
  <h3 class="title">Примечания</h3>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <p class="para">
    В Cygwin параметр <code class="parameter">more_entropy</code> должен быть задан
    как <strong><code>true</code></strong> для работы этой функции.
   </p>
  </p></blockquote>

 </div>


 <div class="refsect1 seealso" id="refsect1-function.uniqid-seealso">
  <h3 class="title">Смотрите также</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="function.random-bytes.php.html" class="function" rel="rdfs-seeAlso">random_bytes()</a> - Получает криптографически безопасные случайные байты</span></li>
  </ul>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=function.uniqid&amp;redirect=https://www.php.net/manual/ru/function.uniqid.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">16 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="95001">  <div class="votes">
    <div id="Vu95001">
    <a href="https://www.php.net/manual/vote-note.php?id=95001&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd95001">
    <a href="https://www.php.net/manual/vote-note.php?id=95001&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V95001" title="71% like this...">
    173
    </div>
  </div>
  <a href="function.uniqid.php.html#95001" class="name">
  <strong class="user"><em>keith at keithtyler dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#95001"> &para;</a><div class="date" title="2009-12-07 06:18"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom95001">
<div class="phpcode"><code><span class="html">For the record, the underlying function to uniqid() appears to be roughly as follows:<br /><br />$m=microtime(true);<br />sprintf("%8x%05x\n",floor($m),($m-floor($m))*1000000);<br /><br />In other words, first 8 hex chars = Unixtime, last 5 hex chars = microseconds. This is why it has microsecond precision. Also, it provides a means by which to reverse-engineer the time when a uniqid was generated: <br /><br />date("r",hexdec(substr(uniqid(),0,8)));<br /><br />Increasingly as you go further down the string, the number becomes "more unique" over time, with the exception of digit 9, where numeral prevalence is 0..3&gt;4&gt;5..f, because of the difference between 10^6 and 16^5 (this is presumably true for the remaining digits as well but much less noticeable).</span></code></div>
  </div>
 </div>
  <div class="note" id="120123">  <div class="votes">
    <div id="Vu120123">
    <a href="https://www.php.net/manual/vote-note.php?id=120123&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120123">
    <a href="https://www.php.net/manual/vote-note.php?id=120123&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120123" title="73% like this...">
    135
    </div>
  </div>
  <a href="function.uniqid.php.html#120123" class="name">
  <strong class="user"><em>hackan at gmail dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#120123"> &para;</a><div class="date" title="2016-11-05 07:17"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120123">
<div class="phpcode"><code><span class="html">Seriously, avoid using this function. Here's an example of why:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">20</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />    echo </span><span class="default">uniqid</span><span class="keyword">(), </span><span class="default">PHP_EOL</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Output:<br /><br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c0ce<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br />5819f3ad1c4b6<br /><br />As you can see, using it w/ a DB can cause the creation of documents with repeated ID's. You should instead opt for:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">uniqidReal</span><span class="keyword">(</span><span class="default">$lenght </span><span class="keyword">= </span><span class="default">13</span><span class="keyword">) {<br />    </span><span class="comment">// uniqid gives 13 chars, but you could adjust it to your needs.<br />    </span><span class="keyword">if (</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"random_bytes"</span><span class="keyword">)) {<br />        </span><span class="default">$bytes </span><span class="keyword">= </span><span class="default">random_bytes</span><span class="keyword">(</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$lenght </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">));<br />    } elseif (</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">"openssl_random_pseudo_bytes"</span><span class="keyword">)) {<br />        </span><span class="default">$bytes </span><span class="keyword">= </span><span class="default">openssl_random_pseudo_bytes</span><span class="keyword">(</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$lenght </span><span class="keyword">/ </span><span class="default">2</span><span class="keyword">));<br />    } else {<br />        throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"no cryptographically secure random function available"</span><span class="keyword">);<br />    }<br />    return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">$bytes</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">$lenght</span><span class="keyword">);<br />}<br /></span><span class="default">?&gt;<br /></span><br />Test:<br /><span class="default">&lt;?php<br /></span><span class="keyword">for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">20</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />    echo </span><span class="default">uniqid</span><span class="keyword">(), </span><span class="string">"\t"</span><span class="keyword">, </span><span class="default">uniqidReal</span><span class="keyword">(), </span><span class="default">PHP_EOL</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />Output:<br /><br />5819fa0b63be3   9f39aa0ecd89d<br />5819fa0b70ed3   2c0735cabfcce<br />5819fa0b712bb   15e45d1ca1e90<br />5819fa0b712bb   89593dc230eb3<br />5819fa0b712bb   449795704aeef<br />5819fa0b712bb   b046877b80ac9<br />5819fa0b712bb   0a6fa0ae3ec7b<br />5819fa0b712bb   ba2f3f4d6afe0<br />5819fa0b712bb   af03cfac83fd6<br />5819fa0b712bb   eb9c3c6d475c0<br />5819fa0b712bb   edfbbf59d5e1b<br />5819fa0b712bb   500dca18888d4<br />5819fa0b716a3   4f5a40ef715f1<br />5819fa0b716a3   154e42b616825<br />5819fa0b716a3   a879a22663c9b<br />5819fa0b716a3   ea7c044ddda8a<br />5819fa0b716a3   2c81a44dc674e<br />5819fa0b716a3   bb32f37304fd9<br />5819fa0b716a3   30cdf6c0317d7<br />5819fa0b716a3   d25f529d126ae</span></code></div>
  </div>
 </div>
  <div class="note" id="94959">  <div class="votes">
    <div id="Vu94959">
    <a href="https://www.php.net/manual/vote-note.php?id=94959&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd94959">
    <a href="https://www.php.net/manual/vote-note.php?id=94959&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V94959" title="70% like this...">
    142
    </div>
  </div>
  <a href="function.uniqid.php.html#94959" class="name">
  <strong class="user"><em>Andrew Moore</em></strong></a><a class="genanchor" href="function.uniqid.php.html#94959"> &para;</a><div class="date" title="2009-12-04 08:45"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom94959">
<div class="phpcode"><code><span class="html">The following class generates VALID RFC 4211 COMPLIANT Universally Unique IDentifiers (UUID) version 3, 4 and 5.<br /><br />Version 3 and 5 UUIDs are named based. They require a namespace (another valid UUID) and a value (the name). Given the same namespace and name, the output is always the same.<br /><br />Version 4 UUIDs are pseudo-random.<br /><br />UUIDs generated below validates using OSSP UUID Tool, and output for named-based UUIDs are exactly the same. This is a pure PHP implementation.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">UUID </span><span class="keyword">{<br />  public static function </span><span class="default">v3</span><span class="keyword">(</span><span class="default">$namespace</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">) {<br />    if(!</span><span class="default">self</span><span class="keyword">::</span><span class="default">is_valid</span><span class="keyword">(</span><span class="default">$namespace</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br /><br />    </span><span class="comment">// Get hexadecimal components of namespace<br />    </span><span class="default">$nhex </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">'-'</span><span class="keyword">,</span><span class="string">'{'</span><span class="keyword">,</span><span class="string">'}'</span><span class="keyword">), </span><span class="string">''</span><span class="keyword">, </span><span class="default">$namespace</span><span class="keyword">);<br /><br />    </span><span class="comment">// Binary Value<br />    </span><span class="default">$nstr </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br /><br />    </span><span class="comment">// Convert Namespace UUID to bits<br />    </span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$nhex</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">) {<br />      </span><span class="default">$nstr </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$nhex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="default">$nhex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]));<br />    }<br /><br />    </span><span class="comment">// Calculate hash value<br />    </span><span class="default">$hash </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$nstr </span><span class="keyword">. </span><span class="default">$name</span><span class="keyword">);<br /><br />    return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%08s-%04s-%04x-%04x-%12s'</span><span class="keyword">,<br /><br />      </span><span class="comment">// 32 bits for "time_low"<br />      </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">),<br /><br />      </span><span class="comment">// 16 bits for "time_mid"<br />      </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">),<br /><br />      </span><span class="comment">// 16 bits for "time_hi_and_version",<br />      // four most significant bits holds version number 3<br />      </span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">)) &amp; </span><span class="default">0x0fff</span><span class="keyword">) | </span><span class="default">0x3000</span><span class="keyword">,<br /><br />      </span><span class="comment">// 16 bits, 8 bits for "clk_seq_hi_res",<br />      // 8 bits for "clk_seq_low",<br />      // two most significant bits holds zero and one for variant DCE1.1<br />      </span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">)) &amp; </span><span class="default">0x3fff</span><span class="keyword">) | </span><span class="default">0x8000</span><span class="keyword">,<br /><br />      </span><span class="comment">// 48 bits for "node"<br />      </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">)<br />    );<br />  }<br /><br />  public static function </span><span class="default">v4</span><span class="keyword">() {<br />    return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%04x%04x-%04x-%04x-%04x-%04x%04x%04x'</span><span class="keyword">,<br /><br />      </span><span class="comment">// 32 bits for "time_low"<br />      </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffff</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffff</span><span class="keyword">),<br /><br />      </span><span class="comment">// 16 bits for "time_mid"<br />      </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffff</span><span class="keyword">),<br /><br />      </span><span class="comment">// 16 bits for "time_hi_and_version",<br />      // four most significant bits holds version number 4<br />      </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0x0fff</span><span class="keyword">) | </span><span class="default">0x4000</span><span class="keyword">,<br /><br />      </span><span class="comment">// 16 bits, 8 bits for "clk_seq_hi_res",<br />      // 8 bits for "clk_seq_low",<br />      // two most significant bits holds zero and one for variant DCE1.1<br />      </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0x3fff</span><span class="keyword">) | </span><span class="default">0x8000</span><span class="keyword">,<br /><br />      </span><span class="comment">// 48 bits for "node"<br />      </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffff</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffff</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffff</span><span class="keyword">)<br />    );<br />  }<br /><br />  public static function </span><span class="default">v5</span><span class="keyword">(</span><span class="default">$namespace</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">) {<br />    if(!</span><span class="default">self</span><span class="keyword">::</span><span class="default">is_valid</span><span class="keyword">(</span><span class="default">$namespace</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br /><br />    </span><span class="comment">// Get hexadecimal components of namespace<br />    </span><span class="default">$nhex </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(array(</span><span class="string">'-'</span><span class="keyword">,</span><span class="string">'{'</span><span class="keyword">,</span><span class="string">'}'</span><span class="keyword">), </span><span class="string">''</span><span class="keyword">, </span><span class="default">$namespace</span><span class="keyword">);<br /><br />    </span><span class="comment">// Binary Value<br />    </span><span class="default">$nstr </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br /><br />    </span><span class="comment">// Convert Namespace UUID to bits<br />    </span><span class="keyword">for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$nhex</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">+=</span><span class="default">2</span><span class="keyword">) {<br />      </span><span class="default">$nstr </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$nhex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="default">$nhex</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">]));<br />    }<br /><br />    </span><span class="comment">// Calculate hash value<br />    </span><span class="default">$hash </span><span class="keyword">= </span><span class="default">sha1</span><span class="keyword">(</span><span class="default">$nstr </span><span class="keyword">. </span><span class="default">$name</span><span class="keyword">);<br /><br />    return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%08s-%04s-%04x-%04x-%12s'</span><span class="keyword">,<br /><br />      </span><span class="comment">// 32 bits for "time_low"<br />      </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">),<br /><br />      </span><span class="comment">// 16 bits for "time_mid"<br />      </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">),<br /><br />      </span><span class="comment">// 16 bits for "time_hi_and_version",<br />      // four most significant bits holds version number 5<br />      </span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">)) &amp; </span><span class="default">0x0fff</span><span class="keyword">) | </span><span class="default">0x5000</span><span class="keyword">,<br /><br />      </span><span class="comment">// 16 bits, 8 bits for "clk_seq_hi_res",<br />      // 8 bits for "clk_seq_low",<br />      // two most significant bits holds zero and one for variant DCE1.1<br />      </span><span class="keyword">(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">)) &amp; </span><span class="default">0x3fff</span><span class="keyword">) | </span><span class="default">0x8000</span><span class="keyword">,<br /><br />      </span><span class="comment">// 48 bits for "node"<br />      </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">)<br />    );<br />  }<br /><br />  public static function </span><span class="default">is_valid</span><span class="keyword">(</span><span class="default">$uuid</span><span class="keyword">) {<br />    return </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/^\{?[0-9a-f]{8}\-?[0-9a-f]{4}\-?[0-9a-f]{4}\-?'</span><span class="keyword">.<br />                      </span><span class="string">'[0-9a-f]{4}\-?[0-9a-f]{12}\}?$/i'</span><span class="keyword">, </span><span class="default">$uuid</span><span class="keyword">) === </span><span class="default">1</span><span class="keyword">;<br />  }<br />}<br /><br /></span><span class="comment">// Usage<br />// Named-based UUID.<br /><br /></span><span class="default">$v3uuid </span><span class="keyword">= </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v3</span><span class="keyword">(</span><span class="string">'1546058f-5a25-4334-85ae-e68f2a44bbaf'</span><span class="keyword">, </span><span class="string">'SomeRandomString'</span><span class="keyword">);<br /></span><span class="default">$v5uuid </span><span class="keyword">= </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v5</span><span class="keyword">(</span><span class="string">'1546058f-5a25-4334-85ae-e68f2a44bbaf'</span><span class="keyword">, </span><span class="string">'SomeRandomString'</span><span class="keyword">);<br /><br /></span><span class="comment">// Pseudo-random UUID<br /><br /></span><span class="default">$v4uuid </span><span class="keyword">= </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v4</span><span class="keyword">();<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="104166">  <div class="votes">
    <div id="Vu104166">
    <a href="https://www.php.net/manual/vote-note.php?id=104166&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104166">
    <a href="https://www.php.net/manual/vote-note.php?id=104166&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104166" title="64% like this...">
    16
    </div>
  </div>
  <a href="function.uniqid.php.html#104166" class="name">
  <strong class="user"><em>rommel at rommelsantor dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#104166"> &para;</a><div class="date" title="2011-05-28 03:29"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104166">
<div class="phpcode"><code><span class="html">The php5-uuid functions could definitely use some documentation to clarify how they should be used, but here's what I've gleaned by examining the OSSP source code (found here: <a href="http://ossp-uuid.sourcearchive.com/documentation/1.5.1-1ubuntu1/php_2uuid_8c-source.html" rel="nofollow" target="_blank">http://ossp-uuid.sourcearchive.com/documentation/1.5.1-1ubuntu1/php_2uuid_8c-source.html</a>).<br /><br />The uuid_make() function takes two arguments when generating v1 or v4, but four arguments are required when generating v3 or v5. The first two arguments have been demonstrated below and are straightforward, so I'll skip to the as-yet non-described arguments.<br /><br />The third argument to uuid_make() is: $namespace<br />  - this is a secondary resource created with uuid_create(); it is apparently used to generate an internal UUID, which is used as the namespace of the output UUID<br /><br />The fourth argument to uuid_make() is: $url<br />  - this is the value that is to be hashed (MD5 for v3, SHA-1 for v5); it may be any string or even null<br /><br />Here's a simple class illustrating the proper usage (note that if php5-uuid is not installed on your system, each function call will just return false):<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">UUID </span><span class="keyword">{<br />  </span><span class="comment">/**<br />   * Generates version 1: MAC address<br />   */<br />  </span><span class="keyword">public static function </span><span class="default">v1</span><span class="keyword">() {<br />    if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'uuid_create'</span><span class="keyword">))<br />      return </span><span class="default">false</span><span class="keyword">;<br /><br />    </span><span class="default">uuid_create</span><span class="keyword">(&amp;</span><span class="default">$context</span><span class="keyword">);<br />    </span><span class="default">uuid_make</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_MAKE_V1</span><span class="keyword">);<br />    </span><span class="default">uuid_export</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_FMT_STR</span><span class="keyword">, &amp;</span><span class="default">$uuid</span><span class="keyword">);<br />    return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$uuid</span><span class="keyword">);<br />  }<br /><br />  </span><span class="comment">/**<br />   * Generates version 3 UUID: MD5 hash of URL<br />   */<br />  </span><span class="keyword">public static function </span><span class="default">v3</span><span class="keyword">(</span><span class="default">$i_url</span><span class="keyword">) {<br />    if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'uuid_create'</span><span class="keyword">))<br />      return </span><span class="default">false</span><span class="keyword">;<br /><br />    if (!</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$i_url</span><span class="keyword">))<br />      </span><span class="default">$i_url </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">v1</span><span class="keyword">();<br /><br />    </span><span class="default">uuid_create</span><span class="keyword">(&amp;</span><span class="default">$context</span><span class="keyword">);<br />    </span><span class="default">uuid_create</span><span class="keyword">(&amp;</span><span class="default">$namespace</span><span class="keyword">);<br /><br />    </span><span class="default">uuid_make</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_MAKE_V3</span><span class="keyword">, </span><span class="default">$namespace</span><span class="keyword">, </span><span class="default">$i_url</span><span class="keyword">);<br />    </span><span class="default">uuid_export</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_FMT_STR</span><span class="keyword">, &amp;</span><span class="default">$uuid</span><span class="keyword">);<br />    return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$uuid</span><span class="keyword">);<br />  }<br /><br />  </span><span class="comment">/**<br />   * Generates version 4 UUID: random<br />   */<br />  </span><span class="keyword">public static function </span><span class="default">v4</span><span class="keyword">() {<br />    if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'uuid_create'</span><span class="keyword">))<br />      return </span><span class="default">false</span><span class="keyword">;<br /><br />    </span><span class="default">uuid_create</span><span class="keyword">(&amp;</span><span class="default">$context</span><span class="keyword">);<br /><br />    </span><span class="default">uuid_make</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_MAKE_V4</span><span class="keyword">);<br />    </span><span class="default">uuid_export</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_FMT_STR</span><span class="keyword">, &amp;</span><span class="default">$uuid</span><span class="keyword">);<br />    return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$uuid</span><span class="keyword">);<br />  }<br /><br />  </span><span class="comment">/**<br />   * Generates version 5 UUID: SHA-1 hash of URL<br />   */<br />  </span><span class="keyword">public static function </span><span class="default">v5</span><span class="keyword">(</span><span class="default">$i_url</span><span class="keyword">) {<br />    if (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="string">'uuid_create'</span><span class="keyword">))<br />      return </span><span class="default">false</span><span class="keyword">;<br /><br />    if (!</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$i_url</span><span class="keyword">))<br />      </span><span class="default">$i_url </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">v1</span><span class="keyword">();<br /><br />    </span><span class="default">uuid_create</span><span class="keyword">(&amp;</span><span class="default">$context</span><span class="keyword">);<br />    </span><span class="default">uuid_create</span><span class="keyword">(&amp;</span><span class="default">$namespace</span><span class="keyword">);<br /><br />    </span><span class="default">uuid_make</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_MAKE_V5</span><span class="keyword">, </span><span class="default">$namespace</span><span class="keyword">, </span><span class="default">$i_url</span><span class="keyword">);<br />    </span><span class="default">uuid_export</span><span class="keyword">(</span><span class="default">$context</span><span class="keyword">, </span><span class="default">UUID_FMT_STR</span><span class="keyword">, &amp;</span><span class="default">$uuid</span><span class="keyword">);<br />    return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$uuid</span><span class="keyword">);<br />  }<br />}<br /></span><span class="default">?&gt;<br /></span><br />And here's a demonstration:<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">3</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) {<br />  echo </span><span class="string">'microtime = ' </span><span class="keyword">. </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) . </span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />  echo </span><span class="string">"V1 UUID: " </span><span class="keyword">. </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v1</span><span class="keyword">() . </span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />  echo </span><span class="string">"V3 UUID of URL='abc': " </span><span class="keyword">. </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v3</span><span class="keyword">(</span><span class="string">'abc'</span><span class="keyword">) . </span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />  echo </span><span class="string">"V4 UUID: " </span><span class="keyword">. </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v4</span><span class="keyword">() . </span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />  echo </span><span class="string">"V5 UUID of URL=null: " </span><span class="keyword">. </span><span class="default">UUID</span><span class="keyword">::</span><span class="default">v5</span><span class="keyword">(</span><span class="default">null</span><span class="keyword">) . </span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;<br />  echo </span><span class="string">'&lt;hr/&gt;'</span><span class="keyword">;<br />}<br /></span><span class="default">?&gt;<br /></span><br />And the output:<br /><br />microtime = 1306620716.0457<br />V1 UUID: 7fddae8e-8977-11e0-bc11-003048c3b1f2<br />V3 UUID of URL='abc': 522ec739-ca63-3ec5-b082-08ce08ad65e2<br />V4 UUID: b3851ec7-4871-4527-92b5-ef5616bae1e6<br />V5 UUID of URL=null: e129f27c-5103-5c5c-844b-cdf0a15e160d<br />-------------------<br />microtime = 1306620716.0465<br />V1 UUID: 7fddb83e-8977-11e0-9e6e-003048c3b1f2<br />V3 UUID of URL='abc': 522ec739-ca63-3ec5-b082-08ce08ad65e2<br />V4 UUID: 7e78fe0d-59b8-4637-af7f-e88d221a7d1e<br />V5 UUID of URL=null: e129f27c-5103-5c5c-844b-cdf0a15e160d<br />-------------------<br />microtime = 1306620716.0467<br />V1 UUID: 7fddbfb4-8977-11e0-a2bc-003048c3b1f2<br />V3 UUID of URL='abc': 522ec739-ca63-3ec5-b082-08ce08ad65e2<br />V4 UUID: 12a940c7-0f3f-46a1-bb5f-bdd602e10654<br />V5 UUID of URL=null: e129f27c-5103-5c5c-844b-cdf0a15e160d<br /><br />As you can see, the calls to v3() always return the same UUID because the same URL parameter, "abc", is always supplied. The same goes for the v5() function which is always supplied a null URL.<br /><br />The v4() UUIDs are always entirely different because they are (pseudo)random. And the v1() calls are very similar but just slightly different because it's based on the computer's MAC address and the current time.</span></code></div>
  </div>
 </div>
  <div class="note" id="80419">  <div class="votes">
    <div id="Vu80419">
    <a href="https://www.php.net/manual/vote-note.php?id=80419&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd80419">
    <a href="https://www.php.net/manual/vote-note.php?id=80419&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V80419" title="65% like this...">
    11
    </div>
  </div>
  <a href="function.uniqid.php.html#80419" class="name">
  <strong class="user"><em>nodkz at mail dot ru</em></strong></a><a class="genanchor" href="function.uniqid.php.html#80419"> &para;</a><div class="date" title="2008-01-15 02:00"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom80419">
<div class="phpcode"><code><span class="html">I use such UUID (it not RFC!!!)<br />(server_id)-(clientIP)-(unixtime)-(milliseconds)-(random)<br /><br /> I can easyly determine which server at which time and who initiate creating of object.<br /><br /><span class="default">&lt;?php<br /><br />$u</span><span class="keyword">=</span><span class="default">uuid</span><span class="keyword">();   </span><span class="comment">// 0001-7f000001-478c8000-4801-47242987<br /></span><span class="keyword">echo </span><span class="default">$u</span><span class="keyword">;<br />echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">uuidDecode</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">)); </span><span class="comment">// Array ( [serverID] =&gt; 0001 [ip] =&gt; 127.0.0.1 [unixtime] =&gt; 1200390144 [micro] =&gt; 0.28126525878906 ) <br /><br /></span><span class="keyword">function </span><span class="default">uuid</span><span class="keyword">(</span><span class="default">$serverID</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">)<br />{<br />    </span><span class="default">$t</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">,</span><span class="default">microtime</span><span class="keyword">());<br />    return </span><span class="default">sprintf</span><span class="keyword">( </span><span class="string">'%04x-%08s-%08s-%04s-%04x%04x'</span><span class="keyword">,<br />        </span><span class="default">$serverID</span><span class="keyword">,<br />        </span><span class="default">clientIPToHex</span><span class="keyword">(),<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="string">"00000000"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]),-</span><span class="default">8</span><span class="keyword">),   </span><span class="comment">// get 8HEX of unixtime<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="string">"0000"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">round</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]*</span><span class="default">65536</span><span class="keyword">)),-</span><span class="default">4</span><span class="keyword">), </span><span class="comment">// get 4HEX of microtime<br />        </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0xffff</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0xffff</span><span class="keyword">));<br />}<br /><br />function </span><span class="default">uuidDecode</span><span class="keyword">(</span><span class="default">$uuid</span><span class="keyword">) {<br />    </span><span class="default">$rez</span><span class="keyword">=Array();<br />    </span><span class="default">$u</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"-"</span><span class="keyword">,</span><span class="default">$uuid</span><span class="keyword">);<br />    if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">)&amp;&amp;</span><span class="default">count</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">)==</span><span class="default">5</span><span class="keyword">) {<br />        </span><span class="default">$rez</span><span class="keyword">=Array(<br />            </span><span class="string">'serverID'</span><span class="keyword">=&gt;</span><span class="default">$u</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],<br />            </span><span class="string">'ip'</span><span class="keyword">=&gt;</span><span class="default">clientIPFromHex</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]),<br />            </span><span class="string">'unixtime'</span><span class="keyword">=&gt;</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]),<br />            </span><span class="string">'micro'</span><span class="keyword">=&gt;(</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">])/</span><span class="default">65536</span><span class="keyword">)<br />        );<br />    }<br />    return </span><span class="default">$rez</span><span class="keyword">;<br />}<br /><br />function </span><span class="default">clientIPToHex</span><span class="keyword">(</span><span class="default">$ip</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">) {<br />    </span><span class="default">$hex</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />    if(</span><span class="default">$ip</span><span class="keyword">==</span><span class="string">""</span><span class="keyword">) </span><span class="default">$ip</span><span class="keyword">=</span><span class="default">getEnv</span><span class="keyword">(</span><span class="string">"REMOTE_ADDR"</span><span class="keyword">);<br />    </span><span class="default">$part</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$ip</span><span class="keyword">);<br />    for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">count</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />        </span><span class="default">$hex</span><span class="keyword">.=</span><span class="default">substr</span><span class="keyword">(</span><span class="string">"0"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$part</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]),-</span><span class="default">2</span><span class="keyword">);<br />    }<br />    return </span><span class="default">$hex</span><span class="keyword">;<br />}<br /><br />function </span><span class="default">clientIPFromHex</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">) {<br />    </span><span class="default">$ip</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />    if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">)==</span><span class="default">8</span><span class="keyword">) {<br />        </span><span class="default">$ip</span><span class="keyword">.=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)).</span><span class="string">"."</span><span class="keyword">;<br />        </span><span class="default">$ip</span><span class="keyword">.=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)).</span><span class="string">"."</span><span class="keyword">;<br />        </span><span class="default">$ip</span><span class="keyword">.=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)).</span><span class="string">"."</span><span class="keyword">;<br />        </span><span class="default">$ip</span><span class="keyword">.=</span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">));<br />    }<br />    return </span><span class="default">$ip</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="96898">  <div class="votes">
    <div id="Vu96898">
    <a href="https://www.php.net/manual/vote-note.php?id=96898&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd96898">
    <a href="https://www.php.net/manual/vote-note.php?id=96898&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V96898" title="59% like this...">
    7
    </div>
  </div>
  <a href="function.uniqid.php.html#96898" class="name">
  <strong class="user"><em>Enrico Pallazzo</em></strong></a><a class="genanchor" href="function.uniqid.php.html#96898"> &para;</a><div class="date" title="2010-03-21 02:45"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom96898">
<div class="phpcode"><code><span class="html">Running:<br /><br />rand_uniqid(9007199254740989);<br /><br />will return 'PpQXn7COf' and:<br /><br />rand_uniqid('PpQXn7COf', true);<br /><br />will return '9007199254740989'<br /><br />---<br /><br />If you want the rand_uniqid to be at least 6 letter long, use the $pad_up = 6 argument<br /><br />---<br /><br />You can support even more characters (making the resulting rand_uniqid even smaller) by adding characters to the $index var at the top of the function body.<br /><br />---<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">rand_uniqid</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">$to_num </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$pad_up </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">, </span><span class="default">$passKey </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />{<br />    </span><span class="default">$index </span><span class="keyword">= </span><span class="string">"abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="keyword">;<br />    if (</span><span class="default">$passKey </span><span class="keyword">!== </span><span class="default">null</span><span class="keyword">) {<br />        </span><span class="comment">// Although this function's purpose is to just make the<br />        // ID short - and not so much secure,<br />        // you can optionally supply a password to make it harder<br />        // to calculate the corresponding numeric ID<br /><br />        </span><span class="keyword">for (</span><span class="default">$n </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$n</span><span class="keyword">&lt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">); </span><span class="default">$n</span><span class="keyword">++) {<br />            </span><span class="default">$i</span><span class="keyword">[] = </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$index</span><span class="keyword">,</span><span class="default">$n </span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />        }<br /><br />        </span><span class="default">$passhash </span><span class="keyword">= </span><span class="default">hash</span><span class="keyword">(</span><span class="string">'sha256'</span><span class="keyword">,</span><span class="default">$passKey</span><span class="keyword">);<br />        </span><span class="default">$passhash </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$passhash</span><span class="keyword">) &lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">))<br />            ? </span><span class="default">hash</span><span class="keyword">(</span><span class="string">'sha512'</span><span class="keyword">,</span><span class="default">$passKey</span><span class="keyword">)<br />            : </span><span class="default">$passhash</span><span class="keyword">;<br /><br />        for (</span><span class="default">$n</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$n </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">); </span><span class="default">$n</span><span class="keyword">++) {<br />            </span><span class="default">$p</span><span class="keyword">[] =  </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$passhash</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />        }<br /><br />        </span><span class="default">array_multisort</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">,  </span><span class="default">SORT_DESC</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">);<br />        </span><span class="default">$index </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />    }<br /><br />    </span><span class="default">$base  </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">);<br /><br />    if (</span><span class="default">$to_num</span><span class="keyword">) {<br />        </span><span class="comment">// Digital number  &lt;&lt;--  alphabet letter code<br />        </span><span class="default">$in  </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">);<br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />        </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />        for (</span><span class="default">$t </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$t </span><span class="keyword">&lt;= </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$t</span><span class="keyword">++) {<br />            </span><span class="default">$bcpow </span><span class="keyword">= </span><span class="default">bcpow</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">, </span><span class="default">$len </span><span class="keyword">- </span><span class="default">$t</span><span class="keyword">);<br />            </span><span class="default">$out   </span><span class="keyword">= </span><span class="default">$out </span><span class="keyword">+ </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">, </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)) * </span><span class="default">$bcpow</span><span class="keyword">;<br />        }<br /><br />        if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$pad_up</span><span class="keyword">)) {<br />            </span><span class="default">$pad_up</span><span class="keyword">--;<br />            if (</span><span class="default">$pad_up </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />                </span><span class="default">$out </span><span class="keyword">-= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">, </span><span class="default">$pad_up</span><span class="keyword">);<br />            }<br />        }<br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%F'</span><span class="keyword">, </span><span class="default">$out</span><span class="keyword">);<br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">));<br />    } else {<br />        </span><span class="comment">// Digital number  --&gt;&gt;  alphabet letter code<br />        </span><span class="keyword">if (</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$pad_up</span><span class="keyword">)) {<br />            </span><span class="default">$pad_up</span><span class="keyword">--;<br />            if (</span><span class="default">$pad_up </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />                </span><span class="default">$in </span><span class="keyword">+= </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">, </span><span class="default">$pad_up</span><span class="keyword">);<br />            }<br />        }<br /><br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />        for (</span><span class="default">$t </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">log</span><span class="keyword">(</span><span class="default">$in</span><span class="keyword">, </span><span class="default">$base</span><span class="keyword">)); </span><span class="default">$t </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$t</span><span class="keyword">--) {<br />            </span><span class="default">$bcp </span><span class="keyword">= </span><span class="default">bcpow</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">);<br />            </span><span class="default">$a   </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$in </span><span class="keyword">/ </span><span class="default">$bcp</span><span class="keyword">) % </span><span class="default">$base</span><span class="keyword">;<br />            </span><span class="default">$out </span><span class="keyword">= </span><span class="default">$out </span><span class="keyword">. </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />            </span><span class="default">$in  </span><span class="keyword">= </span><span class="default">$in </span><span class="keyword">- (</span><span class="default">$a </span><span class="keyword">* </span><span class="default">$bcp</span><span class="keyword">);<br />        }<br />        </span><span class="default">$out </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">(</span><span class="default">$out</span><span class="keyword">); </span><span class="comment">// reverse<br />    </span><span class="keyword">}<br /><br />    return </span><span class="default">$out</span><span class="keyword">;<br />}<br /><br />echo </span><span class="default">rand_uniqid</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="124072">  <div class="votes">
    <div id="Vu124072">
    <a href="https://www.php.net/manual/vote-note.php?id=124072&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124072">
    <a href="https://www.php.net/manual/vote-note.php?id=124072&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124072" title="58% like this...">
    2
    </div>
  </div>
  <a href="function.uniqid.php.html#124072" class="name">
  <strong class="user"><em>DimeCadmium</em></strong></a><a class="genanchor" href="function.uniqid.php.html#124072"> &para;</a><div class="date" title="2019-07-25 07:00"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124072">
<div class="phpcode"><code><span class="html">Most of these notes are grossly wrong.<br /><br />First: you probably shouldn't be using uniqid at all. I can't think of a good reason to use it. Maybe to use as an identifier for a particular run of your script in logging, where you don't particularly care if there's a collision? I don't know.<br /><br />Second: don't rely on the output of uniqid to be, in any way, unique. This will break if you use it twice in quick succession, or if you have two different users at the same time, or if the phase of the moon is wrong.<br /><br />Third: to nodkz who wrote the clientIPToHex function - you reinvented so many wheels. bin2hex(inet_pton($ip)) will do the same thing.<br /><br />Fourth: do not use random bytes for a unique identifier (like hackan suggests). That only serves to virtually guarantee that you will eventually have a collision. (You can use random bytes, and get another set of random bytes if there's a collision... but it's a lot easier to just use a sequential identifier like you should, possibly along with a random key)</span></code></div>
  </div>
 </div>
  <div class="note" id="104478">  <div class="votes">
    <div id="Vu104478">
    <a href="https://www.php.net/manual/vote-note.php?id=104478&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd104478">
    <a href="https://www.php.net/manual/vote-note.php?id=104478&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V104478" title="58% like this...">
    5
    </div>
  </div>
  <a href="function.uniqid.php.html#104478" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="function.uniqid.php.html#104478"> &para;</a><div class="date" title="2011-06-16 04:08"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom104478">
<div class="phpcode"><code><span class="html">Prefix can be useful, for instance, if you generate identifiers simultaneously on several hosts that might happen to generate the identifier at the same microsecond.<br />So we can include the hostname / servername in the id.<br /><span class="default">&lt;?php<br /></span><span class="keyword">echo </span><span class="default">uniqid</span><span class="keyword">(</span><span class="default">php_uname</span><span class="keyword">(</span><span class="string">'n'</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">);<br /></span><span class="comment">// Output: darkstar4dfa8c27aea106.40781203<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="107512">  <div class="votes">
    <div id="Vu107512">
    <a href="https://www.php.net/manual/vote-note.php?id=107512&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd107512">
    <a href="https://www.php.net/manual/vote-note.php?id=107512&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V107512" title="56% like this...">
    8
    </div>
  </div>
  <a href="function.uniqid.php.html#107512" class="name">
  <strong class="user"><em>redtraider at gmail dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#107512"> &para;</a><div class="date" title="2012-02-14 12:37"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom107512">
<div class="phpcode"><code><span class="html">I use this function to generate microsoft-compatible GUID's.<br /><br /><span class="default">&lt;?php<br /> </span><span class="keyword">public function </span><span class="default">create_guid</span><span class="keyword">(</span><span class="default">$namespace </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">) {     <br />    static </span><span class="default">$guid </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />    </span><span class="default">$uid </span><span class="keyword">= </span><span class="default">uniqid</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">);<br />    </span><span class="default">$data </span><span class="keyword">= </span><span class="default">$namespace</span><span class="keyword">;<br />    </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REQUEST_TIME'</span><span class="keyword">];<br />    </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">];<br />    </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'LOCAL_ADDR'</span><span class="keyword">];<br />    </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'LOCAL_PORT'</span><span class="keyword">];<br />    </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_ADDR'</span><span class="keyword">];<br />    </span><span class="default">$data </span><span class="keyword">.= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_PORT'</span><span class="keyword">];<br />    </span><span class="default">$hash </span><span class="keyword">= </span><span class="default">strtoupper</span><span class="keyword">(</span><span class="default">hash</span><span class="keyword">(</span><span class="string">'ripemd128'</span><span class="keyword">, </span><span class="default">$uid </span><span class="keyword">. </span><span class="default">$guid </span><span class="keyword">. </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">)));<br />    </span><span class="default">$guid </span><span class="keyword">= </span><span class="string">'{' </span><span class="keyword">.   <br />            </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">,  </span><span class="default">0</span><span class="keyword">,  </span><span class="default">8</span><span class="keyword">) . <br />            </span><span class="string">'-' </span><span class="keyword">.<br />            </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">,  </span><span class="default">8</span><span class="keyword">,  </span><span class="default">4</span><span class="keyword">) .<br />            </span><span class="string">'-' </span><span class="keyword">.<br />            </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">,  </span><span class="default">4</span><span class="keyword">) .<br />            </span><span class="string">'-' </span><span class="keyword">.<br />            </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">,  </span><span class="default">4</span><span class="keyword">) .<br />            </span><span class="string">'-' </span><span class="keyword">.<br />            </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">) .<br />            </span><span class="string">'}'</span><span class="keyword">;<br />    return </span><span class="default">$guid</span><span class="keyword">;<br />  }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="119219">  <div class="votes">
    <div id="Vu119219">
    <a href="https://www.php.net/manual/vote-note.php?id=119219&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd119219">
    <a href="https://www.php.net/manual/vote-note.php?id=119219&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V119219" title="55% like this...">
    2
    </div>
  </div>
  <a href="function.uniqid.php.html#119219" class="name">
  <strong class="user"><em>php at  dot  dot  dot metehanarslan dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#119219"> &para;</a><div class="date" title="2016-04-21 12:33"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom119219">
<div class="phpcode"><code><span class="html">Here is my approach to generate short string unique id. I am just increasing base of UUID. If you need even shorter keys you may add more chars to $index . When $index gets longer $out will be shorter.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">struuid</span><span class="keyword">(</span><span class="default">$entropy</span><span class="keyword">)<br />{<br />    </span><span class="default">$s</span><span class="keyword">=</span><span class="default">uniqid</span><span class="keyword">(</span><span class="string">""</span><span class="keyword">,</span><span class="default">$entropy</span><span class="keyword">);<br />    </span><span class="default">$num</span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,(string)</span><span class="default">$s</span><span class="keyword">));<br />    </span><span class="default">$index </span><span class="keyword">= </span><span class="string">'1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class="keyword">;<br />    </span><span class="default">$base</span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">);<br />    </span><span class="default">$out </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />        for(</span><span class="default">$t </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">log10</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) / </span><span class="default">log10</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">)); </span><span class="default">$t </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$t</span><span class="keyword">--) {<br />            </span><span class="default">$a </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$num </span><span class="keyword">/ </span><span class="default">pow</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">));<br />            </span><span class="default">$out </span><span class="keyword">= </span><span class="default">$out</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$index</span><span class="keyword">,</span><span class="default">$a</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />            </span><span class="default">$num </span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">-(</span><span class="default">$a</span><span class="keyword">*</span><span class="default">pow</span><span class="keyword">(</span><span class="default">$base</span><span class="keyword">,</span><span class="default">$t</span><span class="keyword">));<br />        }<br />    return </span><span class="default">$out</span><span class="keyword">;<br />}<br /><br />echo </span><span class="default">struuid</span><span class="keyword">(</span><span class="default">false</span><span class="keyword">); </span><span class="comment">//Return sample: F4518NTQTQ<br /></span><span class="keyword">echo </span><span class="default">struuid</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);  </span><span class="comment">//Return sample: F451FAHSUCD90N6YNRBQHLZ9E1W<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="75201">  <div class="votes">
    <div id="Vu75201">
    <a href="https://www.php.net/manual/vote-note.php?id=75201&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd75201">
    <a href="https://www.php.net/manual/vote-note.php?id=75201&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V75201" title="56% like this...">
    3
    </div>
  </div>
  <a href="function.uniqid.php.html#75201" class="name">
  <strong class="user"><em>ken at smallboxsoftware</em></strong></a><a class="genanchor" href="function.uniqid.php.html#75201"> &para;</a><div class="date" title="2007-05-17 09:34"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom75201">
<div class="phpcode"><code><span class="html">Just to note this function is fairly slow, and can bring your script to a crawl if it is in a loop. Strangely if you run it as uniqid('', true) it runs much more quickly</span></code></div>
  </div>
 </div>
  <div class="note" id="113808">  <div class="votes">
    <div id="Vu113808">
    <a href="https://www.php.net/manual/vote-note.php?id=113808&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd113808">
    <a href="https://www.php.net/manual/vote-note.php?id=113808&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V113808" title="54% like this...">
    2
    </div>
  </div>
  <a href="function.uniqid.php.html#113808" class="name">
  <strong class="user"><em>ciantic at NOSPAM dot oksidi dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#113808"> &para;</a><div class="date" title="2013-12-05 03:34"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom113808">
<div class="phpcode"><code><span class="html">If you are storing the value to database it might be more efficient to use more letters than in hexadecimal, for me I decided 0-9a-z is good enough.<br /><br />Notice also that many databases are case insensitive by default so using capitals maybe unwise anyway:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">uniqid_base36</span><span class="keyword">(</span><span class="default">$more_entropy</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br />    </span><span class="default">$s </span><span class="keyword">= </span><span class="default">uniqid</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">, </span><span class="default">$more_entropy</span><span class="keyword">);<br />    if (!</span><span class="default">$more_entropy</span><span class="keyword">)<br />        return </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">);<br />        <br />    </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">13</span><span class="keyword">);<br />    </span><span class="default">$dec </span><span class="keyword">= </span><span class="default">$s</span><span class="keyword">[</span><span class="default">13</span><span class="keyword">] . </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">); </span><span class="comment">// skip the dot<br />    </span><span class="keyword">return </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$hex</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">) . </span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$dec</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">);<br />}<br /><br />echo </span><span class="default">uniqid_base36</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// ﻿eb98xzzhq7<br /></span><span class="keyword">echo </span><span class="default">uniqid_base36</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// eb98xzzhr8dervre<br /><br /></span><span class="default">?&gt;<br /></span><br />String length may vary with this method.</span></code></div>
  </div>
 </div>
  <div class="note" id="87992">  <div class="votes">
    <div id="Vu87992">
    <a href="https://www.php.net/manual/vote-note.php?id=87992&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd87992">
    <a href="https://www.php.net/manual/vote-note.php?id=87992&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V87992" title="55% like this...">
    2
    </div>
  </div>
  <a href="function.uniqid.php.html#87992" class="name">
  <strong class="user"><em>david at ramaboo dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#87992"> &para;</a><div class="date" title="2009-01-05 12:51"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom87992">
<div class="phpcode"><code><span class="html">Another UUID function. This time using /dev/random<br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br />     * @brief Generates a Universally Unique IDentifier, version 4.<br />     * <br />     * This function generates a truly random UUID. The built in CakePHP String::uuid() function<br />     * is not cryptographically secure. You should uses this function instead.<br />     * <br />     * @see <a href="http://tools.ietf.org/html/rfc4122#section-4.4" rel="nofollow" target="_blank">http://tools.ietf.org/html/rfc4122#section-4.4</a><br />     * @see <a href="http://en.wikipedia.org/wiki/UUID" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/UUID</a><br />     * @return string A UUID, made up of 32 hex digits and 4 hyphens.<br />     */<br />    </span><span class="keyword">public function </span><span class="default">uuidSecure</span><span class="keyword">() {<br />        <br />        </span><span class="default">$pr_bits </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />        </span><span class="default">$fp </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'/dev/urandom'</span><span class="keyword">,</span><span class="string">'rb'</span><span class="keyword">);<br />        if (</span><span class="default">$fp </span><span class="keyword">!== </span><span class="default">false</span><span class="keyword">) {<br />            </span><span class="default">$pr_bits </span><span class="keyword">.= @</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />            @</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />        } else {<br />            </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cakeError</span><span class="keyword">(</span><span class="string">'randomNumber'</span><span class="keyword">);<br />        }<br />        <br />        </span><span class="default">$time_low </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">));<br />        </span><span class="default">$time_mid </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />        </span><span class="default">$time_hi_and_version </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />        </span><span class="default">$clock_seq_hi_and_reserved </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">8</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));<br />        </span><span class="default">$node </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">));<br />        <br />        </span><span class="comment">/**<br />         * Set the four most significant bits (bits 12 through 15) of the<br />         * time_hi_and_version field to the 4-bit version number from<br />         * Section 4.1.3.<br />         * @see <a href="http://tools.ietf.org/html/rfc4122#section-4.1.3" rel="nofollow" target="_blank">http://tools.ietf.org/html/rfc4122#section-4.1.3</a><br />         */<br />        </span><span class="default">$time_hi_and_version </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$time_hi_and_version</span><span class="keyword">);<br />        </span><span class="default">$time_hi_and_version </span><span class="keyword">= </span><span class="default">$time_hi_and_version </span><span class="keyword">&gt;&gt; </span><span class="default">4</span><span class="keyword">;<br />        </span><span class="default">$time_hi_and_version </span><span class="keyword">= </span><span class="default">$time_hi_and_version </span><span class="keyword">| </span><span class="default">0x4000</span><span class="keyword">;<br />        <br />        </span><span class="comment">/**<br />         * Set the two most significant bits (bits 6 and 7) of the<br />         * clock_seq_hi_and_reserved to zero and one, respectively.<br />         */<br />        </span><span class="default">$clock_seq_hi_and_reserved </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="default">$clock_seq_hi_and_reserved</span><span class="keyword">);<br />        </span><span class="default">$clock_seq_hi_and_reserved </span><span class="keyword">= </span><span class="default">$clock_seq_hi_and_reserved </span><span class="keyword">&gt;&gt; </span><span class="default">2</span><span class="keyword">;<br />        </span><span class="default">$clock_seq_hi_and_reserved </span><span class="keyword">= </span><span class="default">$clock_seq_hi_and_reserved </span><span class="keyword">| </span><span class="default">0x8000</span><span class="keyword">;<br />        <br />        return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%08s-%04s-%04x-%04x-%012s'</span><span class="keyword">,<br />            </span><span class="default">$time_low</span><span class="keyword">, </span><span class="default">$time_mid</span><span class="keyword">, </span><span class="default">$time_hi_and_version</span><span class="keyword">, </span><span class="default">$clock_seq_hi_and_reserved</span><span class="keyword">, </span><span class="default">$node</span><span class="keyword">);<br />    }<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="98662">  <div class="votes">
    <div id="Vu98662">
    <a href="https://www.php.net/manual/vote-note.php?id=98662&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd98662">
    <a href="https://www.php.net/manual/vote-note.php?id=98662&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V98662" title="54% like this...">
    1
    </div>
  </div>
  <a href="function.uniqid.php.html#98662" class="name">
  <strong class="user"><em>php at ryanmckeel dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#98662"> &para;</a><div class="date" title="2010-06-29 10:15"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom98662">
<div class="phpcode"><code><span class="html">Calls to uuid_make that use the constants UUID_MAKE_V5 or UUID_MAKE_V3 (using Debian package php5-uuid available June 2010) will not work with only two variables.<br /><br />I could not find good documentation, so I read some source code and figured out that this would work:<br /><br />uuid_create(&amp;$v5);<br />//uuid_make($v5, UUID_MAKE_V5);<br />uuid_make($v5, UUID_MAKE_V5,$v5,$uniqid());<br />uuid_export($v5, UUID_FMT_STR, &amp;$v5String);<br /><br />Please use at your own risk.  This may not be the best way to give this param variables, but it at least makes it work what appears to be properly (generating unique ID's).<br /><br />I imagine that UUID_MAKE_V3 is similar in what it needs.<br /><br />  Ryan</span></code></div>
  </div>
 </div>
  <div class="note" id="128295">  <div class="votes">
    <div id="Vu128295">
    <a href="https://www.php.net/manual/vote-note.php?id=128295&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128295">
    <a href="https://www.php.net/manual/vote-note.php?id=128295&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128295" title="50% like this...">
    0
    </div>
  </div>
  <a href="function.uniqid.php.html#128295" class="name">
  <strong class="user"><em>Albert Rolando</em></strong></a><a class="genanchor" href="function.uniqid.php.html#128295"> &para;</a><div class="date" title="2023-03-06 05:30"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom128295">
<div class="phpcode"><code><span class="html">Don't try to overthink UUID V4 generation…<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">generateUuid4</span><span class="keyword">() {<br />    </span><span class="default">$randomBytes </span><span class="keyword">= </span><span class="default">bin2hex</span><span class="keyword">(</span><span class="default">random_bytes</span><span class="keyword">(</span><span class="default">16</span><span class="keyword">));<br />    return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%s-%s-%s-%s-%s"</span><span class="keyword">,<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$randomBytes</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">),<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$randomBytes</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">),<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$randomBytes</span><span class="keyword">, </span><span class="default">12</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">),<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$randomBytes</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">),<br />        </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$randomBytes</span><span class="keyword">, </span><span class="default">20</span><span class="keyword">)<br />    );<br />}<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="72538">  <div class="votes">
    <div id="Vu72538">
    <a href="https://www.php.net/manual/vote-note.php?id=72538&amp;page=function.uniqid&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd72538">
    <a href="https://www.php.net/manual/vote-note.php?id=72538&amp;page=function.uniqid&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V72538" title="36% like this...">
    -3
    </div>
  </div>
  <a href="function.uniqid.php.html#72538" class="name">
  <strong class="user"><em>lance_rushing at hotmail dot com</em></strong></a><a class="genanchor" href="function.uniqid.php.html#72538"> &para;</a><div class="date" title="2007-01-23 12:43"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom72538">
<div class="phpcode"><code><span class="html">wooshoofoo, the reason mimec is calling mt_rand multiple times is because the largest number mt_rand can produce is 2^31 (2147483647, as reported by mt_getrandmax() on my server).  RFC 4122 requires a 128 bit value.<br /><br />Also they are not "4 digit sequeces", but 4 digit hexadecimal numbers.  16^4 == 2^16.<br /><br />mimec's limiting each random result to 2^16 avoids problem of PHP's 2^32 integer max (<a href="http://php.net/manual/en/language.types.integer.php" rel="nofollow" target="_blank">http://php.net/manual/en/language.types.integer.php</a>).<br /><br />If you want to call mt_rand fewer times:  mimec's version calls mt_rand 8 times ( 16 bits * 8 = 128 bits ).  You *could* call mt_rand 5 times ( 31 bits + 31 bits + 31 bits + 31 bits + 4 bits = 128 bits ).  But then you would have keep all your values as strings.<br /><br />Something like: <br /><br /><span class="default">&lt;?php<br /></span><span class="comment">/**<br /> * Another (ugly) "random or pseudo-random" version of RFC 4122<br /> *<br /> * This version calls mt_rand() the fewest possible times.<br /> * if mt_getrandmax() == 2^31 then this will call mt_rand() 5 times YMMV<br /> *<br /> * Personally, I would use mimec's version<br /> * To handle the large values, we'll keep everything as strings.<br /> *<br /> * @return string<br /> */<br /></span><span class="keyword">function </span><span class="default">uuid</span><span class="keyword">() {    <br /><br />     </span><span class="comment">// Generate 128 bit random sequence <br />     </span><span class="default">$randmax_bits </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">mt_getrandmax</span><span class="keyword">(), </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">));  </span><span class="comment">// how many bits is mt_getrandmax()<br />     </span><span class="default">$x </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />     while (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) &lt; </span><span class="default">128</span><span class="keyword">) {<br />         </span><span class="default">$maxbits </span><span class="keyword">= (</span><span class="default">128 </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) &lt; </span><span class="default">$randmax_bits</span><span class="keyword">) ? </span><span class="default">128 </span><span class="keyword">- </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">) :  </span><span class="default">$randmax_bits</span><span class="keyword">;<br />         </span><span class="default">$x </span><span class="keyword">.= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">,</span><span class="default">$maxbits</span><span class="keyword">)), </span><span class="default">10</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">), </span><span class="default">$maxbits</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">);<br />     }<br /><br />     </span><span class="comment">// break into fields<br />     </span><span class="default">$a </span><span class="keyword">= array();<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_low_part'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">);<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_mid'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">32</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_hi_and_version'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">48</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'clock_seq'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">64</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">);<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'node_part'</span><span class="keyword">] =  </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">80</span><span class="keyword">, </span><span class="default">48</span><span class="keyword">);<br />     <br />     </span><span class="comment">// Apply bit masks for "random or pseudo-random" version per RFC<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_hi_and_version'</span><span class="keyword">] = </span><span class="default">substr_replace</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_hi_and_version'</span><span class="keyword">], </span><span class="string">'0100'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);<br />     </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'clock_seq'</span><span class="keyword">] = </span><span class="default">substr_replace</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'clock_seq'</span><span class="keyword">], </span><span class="string">'10'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br /><br />    </span><span class="comment">// Format output<br />    </span><span class="keyword">return </span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'%s-%s-%s-%s-%s'</span><span class="keyword">,<br />        </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_low_part'</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">), </span><span class="default">8</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">),<br />        </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_mid'</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">), </span><span class="default">4</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">),<br />        </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'time_hi_and_version'</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">), </span><span class="default">4</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">),<br />        </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'clock_seq'</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">), </span><span class="default">4</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">),<br />        </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">base_convert</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'node_part'</span><span class="keyword">], </span><span class="default">2</span><span class="keyword">, </span><span class="default">16</span><span class="keyword">), </span><span class="default">12</span><span class="keyword">, </span><span class="string">"0"</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">));<br />}<br /><br /></span><span class="default">?&gt;<br /></span><br />However, I think mimec's version is much more elegant.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=function.uniqid&amp;redirect=https://www.php.net/manual/ru/function.uniqid.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="ref.misc.php.html">Разные функции</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="function.connection-aborted.php.html" title="connection_&#8203;aborted">connection_&#8203;aborted</a>
                        </li>
                                                <li class="">
                            <a href="function.connection-status.php.html" title="connection_&#8203;status">connection_&#8203;status</a>
                        </li>
                                                <li class="">
                            <a href="function.constant.php.html" title="constant">constant</a>
                        </li>
                                                <li class="">
                            <a href="function.define.php.html" title="define">define</a>
                        </li>
                                                <li class="">
                            <a href="function.defined.php.html" title="defined">defined</a>
                        </li>
                                                <li class="">
                            <a href="function.die.php.html" title="die">die</a>
                        </li>
                                                <li class="">
                            <a href="function.eval.php.html" title="eval">eval</a>
                        </li>
                                                <li class="">
                            <a href="function.exit.php.html" title="exit">exit</a>
                        </li>
                                                <li class="">
                            <a href="function.get-browser.php.html" title="get_&#8203;browser">get_&#8203;browser</a>
                        </li>
                                                <li class="">
                            <a href="function.halt-compiler.php.html" title="_&#8203;_&#8203;halt_&#8203;compiler">_&#8203;_&#8203;halt_&#8203;compiler</a>
                        </li>
                                                <li class="">
                            <a href="function.highlight-file.php.html" title="highlight_&#8203;file">highlight_&#8203;file</a>
                        </li>
                                                <li class="">
                            <a href="function.highlight-string.php.html" title="highlight_&#8203;string">highlight_&#8203;string</a>
                        </li>
                                                <li class="">
                            <a href="function.hrtime.php.html" title="hrtime">hrtime</a>
                        </li>
                                                <li class="">
                            <a href="function.ignore-user-abort.php.html" title="ignore_&#8203;user_&#8203;abort">ignore_&#8203;user_&#8203;abort</a>
                        </li>
                                                <li class="">
                            <a href="function.pack.php.html" title="pack">pack</a>
                        </li>
                                                <li class="">
                            <a href="function.php-strip-whitespace.php.html" title="php_&#8203;strip_&#8203;whitespace">php_&#8203;strip_&#8203;whitespace</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-cp-conv.php.html" title="sapi_&#8203;windows_&#8203;cp_&#8203;conv">sapi_&#8203;windows_&#8203;cp_&#8203;conv</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-cp-get.php.html" title="sapi_&#8203;windows_&#8203;cp_&#8203;get">sapi_&#8203;windows_&#8203;cp_&#8203;get</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-cp-is-utf8.php.html" title="sapi_&#8203;windows_&#8203;cp_&#8203;is_&#8203;utf8">sapi_&#8203;windows_&#8203;cp_&#8203;is_&#8203;utf8</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-cp-set.php.html" title="sapi_&#8203;windows_&#8203;cp_&#8203;set">sapi_&#8203;windows_&#8203;cp_&#8203;set</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-generate-ctrl-event.php.html" title="sapi_&#8203;windows_&#8203;generate_&#8203;ctrl_&#8203;event">sapi_&#8203;windows_&#8203;generate_&#8203;ctrl_&#8203;event</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-set-ctrl-handler.php.html" title="sapi_&#8203;windows_&#8203;set_&#8203;ctrl_&#8203;handler">sapi_&#8203;windows_&#8203;set_&#8203;ctrl_&#8203;handler</a>
                        </li>
                                                <li class="">
                            <a href="function.sapi-windows-vt100-support.php.html" title="sapi_&#8203;windows_&#8203;vt100_&#8203;support">sapi_&#8203;windows_&#8203;vt100_&#8203;support</a>
                        </li>
                                                <li class="">
                            <a href="function.show-source.php.html" title="show_&#8203;source">show_&#8203;source</a>
                        </li>
                                                <li class="">
                            <a href="function.sleep.php.html" title="sleep">sleep</a>
                        </li>
                                                <li class="">
                            <a href="function.sys-getloadavg.php.html" title="sys_&#8203;getloadavg">sys_&#8203;getloadavg</a>
                        </li>
                                                <li class="">
                            <a href="function.time-nanosleep.php.html" title="time_&#8203;nanosleep">time_&#8203;nanosleep</a>
                        </li>
                                                <li class="">
                            <a href="function.time-sleep-until.php.html" title="time_&#8203;sleep_&#8203;until">time_&#8203;sleep_&#8203;until</a>
                        </li>
                                                <li class="current">
                            <a href="function.uniqid.php.html" title="uniqid">uniqid</a>
                        </li>
                                                <li class="">
                            <a href="function.unpack.php.html" title="unpack">unpack</a>
                        </li>
                                                <li class="">
                            <a href="function.usleep.php.html" title="usleep">usleep</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
