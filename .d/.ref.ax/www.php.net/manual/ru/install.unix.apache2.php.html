<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: Apache 2.x на Unix системах - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="install.unix.apache2.php.html">
 <link rel="shorturl" href="install.unix.apache2.php.html">
 <link rel="alternate" href="install.unix.apache2.php.html" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="install.unix.php.html">
 <link rel="prev" href="install.unix.php.html">
 <link rel="next" href="install.unix.nginx.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/install.unix.apache2.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/install.unix.apache2.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/install.unix.apache2.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/install.unix.apache2.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/install.unix.apache2.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/install.unix.apache2.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/install.unix.apache2.php" hreflang="pt_BR">
 <link rel="alternate" href="install.unix.apache2.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/install.unix.apache2.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/install.unix.apache2.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="install.unix.nginx.php.html">
          Установка Nginx 1.4.x на систему Unix &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="install.unix.php.html">
          &laquo; Установка на Unix-системы        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='install.php.html'>Установка и настройка</a></li>      <li><a href='install.unix.php.html'>Установка на Unix-системы</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/install.unix.apache2.php'>English</option>
            <option value='de/install.unix.apache2.php'>German</option>
            <option value='es/install.unix.apache2.php'>Spanish</option>
            <option value='fr/install.unix.apache2.php'>French</option>
            <option value='it/install.unix.apache2.php'>Italian</option>
            <option value='ja/install.unix.apache2.php'>Japanese</option>
            <option value='pt_BR/install.unix.apache2.php'>Brazilian Portuguese</option>
            <option value='ru/install.unix.apache2.php' selected="selected">Russian</option>
            <option value='tr/install.unix.apache2.php'>Turkish</option>
            <option value='zh/install.unix.apache2.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/install/unix/apache2.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Finstall.unix.apache2%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="install.unix.apache2" class="sect1">
 <h2 class="title">Apache 2.x на Unix системах</h2>
 <p class="para">
  Этот раздел описывает установку PHP c Apache 2.x на Unix системах.
 </p>

 <div class="warning"><strong class="warning">Внимание</strong><p class="para">Мы не рекомендуем использовать
потоковый MPM в промышленной среде вместе с Apache 2. Вместо этого, используйте prefork MPM, используемый по умолчанию
в Apache 2.0 и 2.2. Подробную информацию по этому вопросу вы можете найти в соответствующем разделе FAQ
<a href="faq.installation.php.html#faq.installation.apache2" class="link">Apache2 и потоковый MPM</a></p></div>

 <p class="para">
  Самым авторитетным источником информации по Apache 2.x является
  <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;документация Apache</a>.
  Более подробная информация о настройках при установке может быть найдена
  там.
 </p>

 <p class="para">
  Самая последняя версия Apache Http Server может быть получена
  на <a href="http://httpd.apache.org/" class="link external">&raquo;&nbsp;странице загрузки Apache</a>,
  а адрес соответствующей версии PHP был указан выше.
  Это краткое руководство описывает лишь базовую установку Apache 2.x и PHP.
  Для получения более детальной информации прочитайте
  <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;документацию Apache</a>.
  В инструкции ниже опущены номера версий - замените &#039;NN&#039; на
  номер, соответствующий скачанной вами версии Apache.
 </p>

 <p class="para">
  На данный момент есть две версии Apache 2.x - 2.4 и 2.2.
  Хотя для выбора каждой из них существуют отдельные доводы, 2.4 является
  наиболее свежей и рекомендуемой версией, если вас устраивает такой выбор.
  Тем не менее, данные инструкции будут работать как для 2.4, так и для 2.2.
  Обратите внимание, что Apache httpd 2.2 официально больше не поддерживается,
  поэтому дальнейшая разработка не будет продолжаться, также как и приниматься новые патчи.
 </p>

 <ol type="1">
  <li class="listitem">
   <p class="para">Скачайте Apache HTTP server как было указано выше и распакуйте его:</p>

   <div class="informalexample">
    <div class="example-contents screen">
<div class="cdata"><pre>
tar -xzf httpd-2.x.NN.tar.gz
</pre></div>
      </div>
      </div>
      </li>

      <li class="listitem">
       <p class="para">Аналогично, скачайте и распакуйте исходные коды PHP:</p>

       <div class="informalexample">
        <div class="example-contents screen">
<div class="cdata"><pre>
tar -xzf php-NN.tar.gz
</pre></div>
      </div>
      </div>
      </li>

      <li class="listitem">
       <p class="para">
        Скомпилируйте и установите Apache. Более подробную информацию по сборке
        Apache смотрите в его документации.
       </p>

       <div class="informalexample">
        <div class="example-contents screen">
<div class="cdata"><pre>
cd httpd-2_x_NN
./configure --enable-so
make
make install
</pre></div>
      </div>
      </div>
      </li>

      <li class="listitem">
       <p class="para">
        Теперь ваш Apache 2.x.NN доступен как /usr/local/apache2,
        сконфигурирован с поддержкой подгружаемых модулей и стандартным
        мульти-процессным модулем (MPM) prefork.
        Чтобы протестировать правильность установки используйте стандартную
        процедуру запуска Apache, такую как:

        <div class="informalexample">
         <div class="example-contents screen">
<div class="cdata"><pre>
/usr/local/apache2/bin/apachectl start
</pre></div>
     </div>
  </div>

  Затем остановите сервер, чтобы сконфигурировать и установить PHP:

  <div class="informalexample">
   <div class="example-contents screen">
<div class="cdata"><pre>
/usr/local/apache2/bin/apachectl stop
</pre></div>
     </div>
  </div>
      </p>
      </li>

      <li class="listitem">

       <p class="para">
        Теперь мы сконфигурируем и соберём PHP. Здесь вы можете настроить установку
        PHP с помощью различных опций, указывающих, например, какие модули нужно включить.
        Просмотрите вывод команды ./configure --help для получения полного списка параметров
        конфигурации. В нашем примере мы сконфигурируем PHP очень просто -
        с поддержкой Apache и MySQL.
       </p>

       <p class="para">
        Если вы собирали Apache из исходников, как было описано выше, то используйте
        путь до apxs как указано в следующем примере, иначе, корректируйте этот путь
        соответствующим вашей установке образом. Учтите также, что в некоторых
        дистрибутивах apxs может иметь имя apxs2.
       </p>
       <div class="informalexample">
        <div class="example-contents screen">
<div class="cdata"><pre>
cd ../php-NN
./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-pdo-mysql
make
make install
</pre></div>
      </div>
  </div>

  <p class="para">
   Если вы решите изменить параметры конфигурации после установки, вам надо
   будет повторить только три последних шага (configure, make, make install).
   Вам нужно будет только перезапустить Apache, чтобы новые модули подгрузились и начали работать.
   Перекомпиляция Apache для этого не требуется.
  </p>

  <p class="para">
   Заметьте, что если не указано обратное, то &#039;make install&#039; установит так же PEAR,
   различные инструменты PHP - такие как phpize, версию PHP для командной
   строки (PHP CLI) и т.д.
  </p>

      </li>

      <li class="listitem">
       <p class="para">
        Настройка вашего php.ini
       </p>

       <div class="informalexample">
        <div class="example-contents screen">
<div class="cdata"><pre>
cp php.ini-development /usr/local/lib/php.ini
</pre></div>
      </div>
   </div>

   <p class="para">
    Вероятно, вы захотите изменить некоторые настройки в php.ini.
     Если вы предпочитаете держать файл php.ini в другом месте, используйте
     параметр --with-config-file-path=/some/path в шаге 5.
   </p>

   <p class="para">
    Если же вы используете php.ini-production, прочитайте его, чтобы знать какие изменения в
    поведении PHP это повлечёт.
   </p>

      </li>

      <li class="listitem">
       <p class="para">
        Отредактируйте ваш httpd.conf, чтобы Apache загружал модуль PHP. Путь в
        правой части инструкции LoadModule должен указывать на модуль PHP. Команда make
        install может добавить эту инструкцию автоматически, но этого может и не
        произойти, поэтому проверьте, чтобы убедиться.
       </p>

       <div class="informalexample">
       <p class="para">
        Для PHP 8:
       </p>
       <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">LoadModule php_module modules/libphp.so</pre>
</div>
       </div>

     </div>

     <div class="informalexample">
       <p class="para">
        Для PHP 7:
       </p>
       <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">LoadModule php7_module modules/libphp7.so</pre>
</div>
       </div>

     </div>

      </li>

      <li class="listitem">

       <p class="para">
        Теперь следует сконфигурировать Apache, чтобы он передавал файлы с
        некоторыми расширениями на обработку модулю PHP. В нашем примере сделаем
        это для .php файлов. Вместо обычного использования директивы
        Apache AddType, мы хотим избежать интерпретации как PHP потенциально опасных загрузок и
        файлов наподобие exploit.php.jpg. С помощью данного примера можно
        указать для интерпретации PHP любые расширения, просто добавив их
        в конец списка. Продемонстрируем это на расширении .php.
       </p>


       <div class="informalexample">
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
&lt;/FilesMatch&gt;</pre>
</div>
       </div>

       </div>

       <p class="para">
        Или, если мы хотим добавить расширения .php, .php2, .php3, .php4, .php5, .php6 и
        .phtml, это можно записать так:
       </p>

       <div class="informalexample">
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
    SetHandler application/x-httpd-php
&lt;/FilesMatch&gt;</pre>
</div>
       </div>

       </div>

       <p class="para">
        Чтобы PHP отображал содержимое файлов .phps с подсветкой синтаксиса, нужно
        внести соответствующую директиву
       </p>

       <div class="informalexample">
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch &quot;\.phps$&quot;&gt;
    SetHandler application/x-httpd-php-source
&lt;/FilesMatch&gt;</pre>
</div>
       </div>

       </div>

       <p class="para">
        Можно использовать mod_rewrite для отображения любого .php файла
        с подсветкой синтаксиса, без нужды его переименования в .phps:
       </p>

       <div class="informalexample">
        <div class="example-contents">
<div class="apache-confcode"><pre class="apache-confcode">RewriteEngine On
RewriteRule (.*\.php)s$ $1 [H=application/x-httpd-php-source]</pre>
</div>
       </div>

       </div>

       <p class="para">
        Данный фильтр, отображающий исходный код, должен быть отключён в
        промышленном использовании, так как он может открыть конфиденциальную
        или другую важную информацию, включённую в исходный код.
       </p>

      </li>

      <li class="listitem">
       <p class="para">
        Используйте стандартную процедуру запуска Apache, например:
       </p>

       <div class="informalexample">
        <div class="example-contents screen">
<div class="cdata"><pre>
/usr/local/apache2/bin/apachectl start
</pre></div>
    </div>
     </div>

     <p class="para">ИЛИ</p>

     <div class="informalexample">
      <div class="example-contents screen">
<div class="cdata"><pre>
service httpd restart
</pre></div>
    </div>
     </div>

      </li>
    </ol>

    <p class="para">
     Если вы следовали инструкциям выше, то на данном этапе должны иметь запущенный
     веб-сервер Apache2 с поддержкой PHP, как модуля <code class="literal">SAPI</code>.
     Конечно, для PHP и Apache доступно гораздо больше параметров конфигурации.
     Используйте <strong class="command">./configure --help</strong> в соответствующей папке с
     исходными кодами для получения полного списка параметров конфигурации.
    </p>
    <p class="para">
     Если вы хотите собрать многопоточную версию Apache,
     то при сборке вам следует указать модуль MPM <var class="filename">worker</var>
     вместо стандартного модуля MPM <var class="filename">prefork</var>.
     Чтобы сделать это, нужно добавить следующий аргумент к ./configure на шаге 3:
    </p>
    <div class="informalexample">
     <div class="example-contents screen">
<div class="cdata"><pre>
--with-mpm=worker
</pre></div>
     </div>
    </div>
    <p class="para">
     Не следует бездумно использовать эту настройку, используйте её только если вы
     понимаете все последствия этого решения. Документация Apache
     по <a href="http://httpd.apache.org/docs/current/mpm.html" class="link external">&raquo;&nbsp;модулям MPM</a>
     значительно глубже раскрывает эту тему.
    </p>
    <blockquote class="note"><p><strong class="note">Замечание</strong>: 
     <p class="para">
      Если вы хотите использовать зависимый контент (content negotiation),
      прочитайте
      <a href="faq.installation.php.html#faq.installation.apache.multiviews" class="link">Apache MultiViews
       FAQ</a>.
     </p>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">Замечание</strong>: 
     <p class="para">
      Для сборки многопоточной версии Apache, ваша система должна
      поддерживать потоки. Это так же подразумевает сборку PHP c
      поддержкой Zend Thread Safety (ZTS). И, как следствие, не все модули PHP смогут работать.
      Рекомендуется установка Apache с модулем MPM по умолчанию - <var class="filename">prefork</var>.
     </p>
    </p></blockquote>
</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=install.unix.apache2&amp;redirect=https://www.php.net/manual/ru/install.unix.apache2.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">17 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="92797">  <div class="votes">
    <div id="Vu92797">
    <a href="https://www.php.net/manual/vote-note.php?id=92797&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd92797">
    <a href="https://www.php.net/manual/vote-note.php?id=92797&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V92797" title="56% like this...">
    20
    </div>
  </div>
  <a href="install.unix.apache2.php.html#92797" class="name">
  <strong class="user"><em>nmmm at nmmm dot nu</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#92797"> &para;</a><div class="date" title="2009-08-09 01:13"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom92797">
<div class="phpcode"><code><span class="html">When I upgrade to apache 2.2, this:<br /><br />AddType application/x-httpd-php .php5<br />AddType application/x-httpd-php .php42<br />AddType application/x-httpd-php .php4<br />AddType application/x-httpd-php .php3<br />AddType application/x-httpd-php .php<br />AddType application/x-httpd-php .phtm<br />AddType application/x-httpd-php .phtml<br />AddType application/x-httpd-php .asp<br /><br />...does not worked for me, so I did this:<br /><br />&lt;FilesMatch "\.(php*|phtm|phtml|asp|aspx)$"&gt;<br />SetHandler application/x-httpd-php<br />&lt;/FilesMatch&gt;<br /><br />Another interesting point with Apache 2.2 is following.<br />Let suppose we installed PHP as module. But for some directory, we need to use PHP as CGI (probably because of custom configuration). This can be done using:<br /><br />&lt;FilesMatch "\.(php*|phtm|phtml|asp|aspx)$"&gt;<br />SetHandler none<br />&lt;/FilesMatch&gt;<br /><br />AddType application/x-httpd-php-custom .php<br />Action  application/x-httpd-php-custom  /cgi-bin/php-huge<br /><br />Note type must be different than "application/x-httpd-php" and also you need to deactivate the handler on sertain extention. You can do mixed configuration:<br /><br />&lt;FilesMatch "\.(php)$"&gt;<br />SetHandler none<br />&lt;/FilesMatch&gt;<br /><br />AddType application/x-httpd-php-custom .php<br />Action  application/x-httpd-php-custom  /cgi-bin/php-huge<br /><br />in such case files like *.php5 and so on will be parsed via module, but *.php will go to php-huge executable.</span></code></div>
  </div>
 </div>
  <div class="note" id="127890">  <div class="votes">
    <div id="Vu127890">
    <a href="https://www.php.net/manual/vote-note.php?id=127890&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd127890">
    <a href="https://www.php.net/manual/vote-note.php?id=127890&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V127890" title="71% like this...">
    9
    </div>
  </div>
  <a href="install.unix.apache2.php.html#127890" class="name">
  <strong class="user"><em>Morning Star</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#127890"> &para;</a><div class="date" title="2022-11-03 06:46"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom127890">
<div class="phpcode"><code><span class="html">I had just installed php8.1.12 on a machine used for writing C code. <br /><br />Below are some libraries that I needed to download on a debian-based OS. <br /><br />apt-get install libpcre3 libpcre3-dev <br />apt-get install apache2-dev<br />apt-get install libxml2-dev<br />apt-get install libsqlite3-dev<br /><br />These were the missing packages that I required. <br />If you get an error regarding a missing package or library, for example when I needed sqlite3, run the command: <br /><br />apt search sqlite3<br /><br />And you'll be able to see if there's any dev or lib packages. <br /><br />The apache2 instructions worked flawlessly at the time of php8.1.12; and in order to get certain requirements for an application, I had to run the php configure file like so:<br /><br />./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-pdo-mysql --with-mysqli --with-zip --enable-gd<br /><br />The extra flags allowed me to use both types of mysql, allowed me to utilize PHP zip archiving, and allowed me to use Gnatt stuff.</span></code></div>
  </div>
 </div>
  <div class="note" id="123730">  <div class="votes">
    <div id="Vu123730">
    <a href="https://www.php.net/manual/vote-note.php?id=123730&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123730">
    <a href="https://www.php.net/manual/vote-note.php?id=123730&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123730" title="61% like this...">
    5
    </div>
  </div>
  <a href="install.unix.apache2.php.html#123730" class="name">
  <strong class="user"><em>1097625354 at qq dot com</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#123730"> &para;</a><div class="date" title="2019-04-03 01:09"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom123730">
<div class="phpcode"><code><span class="html">解析PHP,需要Apache 2.4.9  以后<br />&lt;FilesMatch \.php$&gt;<br />     SetHandler "proxy:fcgi://127.0.0.1:9000"<br />&lt;/FilesMatch&gt;</span></code></div>
  </div>
 </div>
  <div class="note" id="55446">  <div class="votes">
    <div id="Vu55446">
    <a href="https://www.php.net/manual/vote-note.php?id=55446&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd55446">
    <a href="https://www.php.net/manual/vote-note.php?id=55446&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V55446" title="61% like this...">
    6
    </div>
  </div>
  <a href="install.unix.apache2.php.html#55446" class="name">
  <strong class="user"><em>happyboy at php dot org</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#55446"> &para;</a><div class="date" title="2005-08-03 04:30"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom55446">
<div class="phpcode"><code><span class="html">FILE TRUNCATED!!<br /><br />during the make process should u receive an error declaring ext/ctype/ctype.lo (or another file) is truncated then you need to 'make clean' prior to a healthy 'make' and 'make install.'<br /><br />looking into your ext/ directory you may find the offensive file to be 1 byte long.</span></code></div>
  </div>
 </div>
  <div class="note" id="63753">  <div class="votes">
    <div id="Vu63753">
    <a href="https://www.php.net/manual/vote-note.php?id=63753&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd63753">
    <a href="https://www.php.net/manual/vote-note.php?id=63753&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V63753" title="60% like this...">
    5
    </div>
  </div>
  <a href="install.unix.apache2.php.html#63753" class="name">
  <strong class="user"><em>felixcca at yahoo dot ca</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#63753"> &para;</a><div class="date" title="2006-03-29 06:13"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom63753">
<div class="phpcode"><code><span class="html">I've (painfully) discovered that installing PHP5 with "make install" under SuSe 9.2 is NOT a good idea.<br /><a href="http://www.aditus.nu/jpgraph/apache2suse.php" rel="nofollow" target="_blank">http://www.aditus.nu/jpgraph/apache2suse.php</a><br />This page explains how to install it without breaking everything that's php-related in the Apache2 configuration. Its first purpose, though, is to show how to have php 4 and 5 to cohabit properly.</span></code></div>
  </div>
 </div>
  <div class="note" id="88638">  <div class="votes">
    <div id="Vu88638">
    <a href="https://www.php.net/manual/vote-note.php?id=88638&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd88638">
    <a href="https://www.php.net/manual/vote-note.php?id=88638&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V88638" title="57% like this...">
    6
    </div>
  </div>
  <a href="install.unix.apache2.php.html#88638" class="name">
  <strong class="user"><em>Tom420.Duhamel</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#88638"> &para;</a><div class="date" title="2009-02-01 05:31"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom88638">
<div class="phpcode"><code><span class="html">I have successfully installed Apache 2.2.11 and PHP 5.2.8 under Red Hat 9.0 on a Pentium 166 with 32 MB of RAM.<br /><br />While I used RH9, the worst possible case, these notes are probably good for RH-based distributions too (Red Hat Enterprise, Fedora, CentOS...)<br /><br />If you want to install MySQL, it needs to be installed before PHP because PHP requires some libraries be available.<br /><br />One think important when picking up a binary distribution of MySQL is to download all four packages: MySQL-server, MySQL-devel, MySQL-client and MySQL-shared. Note: The MySQL was bundled with PHP 4 but is not anymore in PHP 5.<br /><br />Then you need to install Apache before PHP, because again PHP needs some libraries be available. I installed Apache 2 from source, using the very last version available, which is 2.2.11. <br /><br />I installed PHP 5.2.8 from source. Here, I had a number of problems, but none which I could not resolve easily, some of them with a little help from different forums I found through Google.<br /><br />Rembember: When it says you need a package named xyz and you notice there is also one named xyz-devel, grab it.<br /><br />Most of the packages I got from:<br /><a href="http://legacy.redhat.com/pub/redhat/linux/9/en/os/i386/RedHat/RPMS/" rel="nofollow" target="_blank">http://legacy.redhat.com/pub/redhat/linux/9/en/os/i386/RedHat/RPMS/</a><br />A similar page exists for other versions of Red Hat<br />and:<br /><a href="http://rpmfind.net/" rel="nofollow" target="_blank">http://rpmfind.net/</a><br />This site has an updated version of some of the packages. Make sure to use only the one labeled for you version (in my case, Red Hat 9.0) or it will not likely work.<br /><br />You already have glibc and glibc-common installed, but you need to get glibc-devel and glibc-kernheaders. Make sure to match glibc's version (rpm -q glibc). Note: When it says kernel-header is a required dependency, that's glibc-kernheader (not kernel-source). You will also need binutils (no need to match the version), and gcc and cpp (version must match).<br /><br />You need zlib-devel (zlib is probably already installed, match the version you have).<br /><br />If you install the GD extension, the actual library is already bundled with PHP 5 (use that one, they have done some changes in there, so don't upgrade), but you will need to install libpng and libpng-devel (match version, or disable in configure if you don't want) and libjpeg (no -devel with that one).<br /><br />You will also need libxml2. Now there were a problem, because PHP requires libxml2 be 2.6 or greater, but Red Hat only supplied 2.5.4-1 for RH9 (if you have a more recent distro, you might be more lucky). After looking for a while, I decided to grab the source code for the most recent distribution at the official website (<a href="http://xmlsoft.org/" rel="nofollow" target="_blank">http://xmlsoft.org/</a>) and compiled.<br /><br />Hope my post is useful to someone. Please, share your experience when compiling/installing for your particular platform and setup. Remember how hard it's been for you the very first time. I confess, my very first server installation took me nearly a week and I was glad others helped me.</span></code></div>
  </div>
 </div>
  <div class="note" id="120889">  <div class="votes">
    <div id="Vu120889">
    <a href="https://www.php.net/manual/vote-note.php?id=120889&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120889">
    <a href="https://www.php.net/manual/vote-note.php?id=120889&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120889" title="56% like this...">
    6
    </div>
  </div>
  <a href="install.unix.apache2.php.html#120889" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#120889"> &para;</a><div class="date" title="2017-03-29 06:34"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom120889">
<div class="phpcode"><code><span class="html">Building php 7.1.3 with mysql 5.7.17 and httpd 2.4.25 on Debian 8, step 5 failed for me. Instead of<br /><br />--with-mysql<br /><br />try<br /><br />--with-pdo-mysql<br /><br />or<br /><br />--with-mysqli</span></code></div>
  </div>
 </div>
  <div class="note" id="47393">  <div class="votes">
    <div id="Vu47393">
    <a href="https://www.php.net/manual/vote-note.php?id=47393&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd47393">
    <a href="https://www.php.net/manual/vote-note.php?id=47393&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V47393" title="58% like this...">
    4
    </div>
  </div>
  <a href="install.unix.apache2.php.html#47393" class="name">
  <strong class="user"><em>praveen dot k at masconit dot com</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#47393"> &para;</a><div class="date" title="2004-11-15 01:38"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom47393">
<div class="phpcode"><code><span class="html">Hi too had same problem with multiview like when i execute <a href="http://huey/admin/test.php" rel="nofollow" target="_blank">http://huey/admin/test.php</a> it used to compile but when i use <a href="http://huey/admin/test" rel="nofollow" target="_blank">http://huey/admin/test</a> it wouldnt recognise it as php file... i worked it out with the addhandler method and AddType in different line and setting multiview for directive <br /><br />"multiviews Options Indexes FollowSymLinks MultiViews"<br /><br />the directives u can set it to root directory so now when u type pn test it will search in precendence for test.php, test.html if any .....<br /><br />its working for me with apache2.0.47 and php 4.3.9 on solaris<br /><br />praveen</span></code></div>
  </div>
 </div>
  <div class="note" id="91560">  <div class="votes">
    <div id="Vu91560">
    <a href="https://www.php.net/manual/vote-note.php?id=91560&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd91560">
    <a href="https://www.php.net/manual/vote-note.php?id=91560&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V91560" title="55% like this...">
    4
    </div>
  </div>
  <a href="install.unix.apache2.php.html#91560" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#91560"> &para;</a><div class="date" title="2009-06-16 10:58"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom91560">
<div class="phpcode"><code><span class="html">Solution for fedora is yum install mysql-devel. Then set --with-mysql=/usr/include/mysql/<br />monguesto</span></code></div>
  </div>
 </div>
  <div class="note" id="106119">  <div class="votes">
    <div id="Vu106119">
    <a href="https://www.php.net/manual/vote-note.php?id=106119&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd106119">
    <a href="https://www.php.net/manual/vote-note.php?id=106119&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V106119" title="56% like this...">
    3
    </div>
  </div>
  <a href="install.unix.apache2.php.html#106119" class="name">
  <strong class="user"><em>svepa at milestone42 dot com</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#106119"> &para;</a><div class="date" title="2011-10-11 08:35"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom106119">
<div class="phpcode"><code><span class="html">On 64-bit Fedora systems (I'm using Fedora 14), configuring PHP to use the MySQL libraries installed as part of the distribution gives the following error if you follow the default instructions in this manual.<br /><br />Cannot find libmysqlclient under /usr<br /><br />Modifying he following invocation of configure as follows:<br /><br />./configure --with-apxs2=/path/to/apxs --with-libdir=lib64 --with-mysql <br /><br />should work.<br /><br />Note the addition of --with-libdir=lib64<br />This points the configure script to look for 64-bit mysqlclient libraries.</span></code></div>
  </div>
 </div>
  <div class="note" id="57247">  <div class="votes">
    <div id="Vu57247">
    <a href="https://www.php.net/manual/vote-note.php?id=57247&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd57247">
    <a href="https://www.php.net/manual/vote-note.php?id=57247&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V57247" title="56% like this...">
    2
    </div>
  </div>
  <a href="install.unix.apache2.php.html#57247" class="name">
  <strong class="user"><em>frank@ethisoft</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#57247"> &para;</a><div class="date" title="2005-09-28 02:30"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom57247">
<div class="phpcode"><code><span class="html">Using Apache2 &amp; PHP5 work perfectly fine &amp; safe together.<br />- all core modules are safe in Zend Engine 2<br />- third-party-libraries should be avoided<br />- semaphores and shared memory enables you to ensure yourself that your application/website is thread-safe also with non-thread-safe PHP modules!</span></code></div>
  </div>
 </div>
  <div class="note" id="49204">  <div class="votes">
    <div id="Vu49204">
    <a href="https://www.php.net/manual/vote-note.php?id=49204&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd49204">
    <a href="https://www.php.net/manual/vote-note.php?id=49204&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V49204" title="56% like this...">
    2
    </div>
  </div>
  <a href="install.unix.apache2.php.html#49204" class="name">
  <strong class="user"><em>Dan Scott (dan dot scott at acm dot org)</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#49204"> &para;</a><div class="date" title="2005-01-19 08:36"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom49204">
<div class="phpcode"><code><span class="html">Building PHP 5.x with Apache2 on SuSE Professional 9.1/9.2<br /><br />SuSE uses a rather fragmented set of Apache configuration files stored in /etc/apache2/. When you configure PHP 5.x with:<br /><br />$ ./configure --with-apxs2=/usr/sbin/apxs2<br />$ make<br /><br />everything builds just fine; but when you issue:<br />$ su -c "make install"<br /><br />the unconventional Apache conf file layout confuses the install-sapi section of the Makefile and the process halts with the following error:<br /><br />apxs:Error: Config file /etc/apache2/httpd2-prefork.conf not found.<br />make: *** [install-sapi] Error 1<br /><br />At this point only the PHP SAPI library has been copied into place; the rest of the files (like PEAR scripts, PHP-CLI, etc) have not been installed. But never fear! You can overcome this problem with the following steps:<br /><br />1. Edit Makefile and change the following line to remove "install-sapi":<br />install_targets = install-sapi install-cli install-pear install-build install-headers install-programs<br /><br />2. Issue the make install command again:<br />$ su -c "make install"<br /><br />3. Add the PHP module &amp; type instructions to the Apache configuration. As root, create a new file, /etc/apache2/conf.d/php5.conf that contains the following lines:<br /><br />LoadModule php5_module /usr/lib/apache2/libphp5.so<br />AddType application/x-httpd-php php<br /><br />--- And that's it. Everything else is just as the documentation suggests it should be.</span></code></div>
  </div>
 </div>
  <div class="note" id="128910">  <div class="votes">
    <div id="Vu128910">
    <a href="https://www.php.net/manual/vote-note.php?id=128910&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128910">
    <a href="https://www.php.net/manual/vote-note.php?id=128910&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128910" title="100% like this...">
    1
    </div>
  </div>
  <a href="install.unix.apache2.php.html#128910" class="name">
  <strong class="user"><em>dfeprado at gmail dot com</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#128910"> &para;</a><div class="date" title="2023-09-21 11:42"><strong>4 months ago</strong></div>
  <div class="text" id="Hcom128910">
<div class="phpcode"><code><span class="html">When compiling for an Ubuntu 22.04 + Apache2 HTTPD (the one that comes from the default repo), you can face the following error when starting apache2.service:<br /><br />"Apache is running a threaded MPM, but your PHP Module is not compiled to be threadsafe. You need to recompile PHP."<br /><br />So, I came back to PHP source and configured it like this:<br /><br />$ make clean<br />$ ./configure [...all your build needs] --enable-zts<br />$ make<br />$ sudo make install<br /><br />Then it worked.</span></code></div>
  </div>
 </div>
  <div class="note" id="49872">  <div class="votes">
    <div id="Vu49872">
    <a href="https://www.php.net/manual/vote-note.php?id=49872&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd49872">
    <a href="https://www.php.net/manual/vote-note.php?id=49872&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V49872" title="52% like this...">
    1
    </div>
  </div>
  <a href="install.unix.apache2.php.html#49872" class="name">
  <strong class="user"><em>neil</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#49872"> &para;</a><div class="date" title="2005-02-10 02:21"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom49872">
<div class="phpcode"><code><span class="html">To install mysql and mysqli with PHP5 do the following:<br /><br />after doing:<br /><br />./configure --with-mysql=/path/to/mysql_config --with-mysqli=/path/to/mysql_config<br /><br />do this:<br /><br />"<br />    if you want to use both the old mysql and the new mysqli interface, load the Makefile into your editor and search for the line beginning with EXTRA_LIBS; it includes -lmysqlclient twice; remove the second instance<br />"<br /><br />then you can:<br /><br />make<br />make install<br /><br />.....<br />Pleasse note: you must have mysql-dev installed (RPM or source) or you will not have the mysql_config file at all.  The standard, server, and client installations of MySQL do not include it.  I read somewhere that the mysql and mysqli paths must be identical.<br /><br />Quoted from Michael Kofler at the following link:<br /><a href="http://www.kofler.cc/forum/forumthread.php?rootID=3571" rel="nofollow" target="_blank">http://www.kofler.cc/forum/forumthread.php?rootID=3571</a></span></code></div>
  </div>
 </div>
  <div class="note" id="69829">  <div class="votes">
    <div id="Vu69829">
    <a href="https://www.php.net/manual/vote-note.php?id=69829&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd69829">
    <a href="https://www.php.net/manual/vote-note.php?id=69829&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V69829" title="51% like this...">
    1
    </div>
  </div>
  <a href="install.unix.apache2.php.html#69829" class="name">
  <strong class="user"><em>chris@gerlt -dot- net</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#69829"> &para;</a><div class="date" title="2006-09-22 06:33"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom69829">
<div class="phpcode"><code><span class="html">Install issues on Redhat, specifically RHEL4 with php4 already installed:  <br /><br />I discovered that there was an issue caused by redhat loading php4 in another file seperate from the httpd.conf file!  This took me hours to discover.  Make sure you know if the apache config file (httpd.conf) is loading configurations from a directory (or another file(s)) as well.  If so, look in there for any php module loading which could conflict with the new module you are compiling/installing.</span></code></div>
  </div>
 </div>
  <div class="note" id="69224">  <div class="votes">
    <div id="Vu69224">
    <a href="https://www.php.net/manual/vote-note.php?id=69224&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd69224">
    <a href="https://www.php.net/manual/vote-note.php?id=69224&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V69224" title="47% like this...">
    -1
    </div>
  </div>
  <a href="install.unix.apache2.php.html#69224" class="name">
  <strong class="user"><em>susie91</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#69224"> &para;</a><div class="date" title="2006-08-27 08:34"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom69224">
<div class="phpcode"><code><span class="html">for slackware 10.2 users with apache2, mysql5, and trying to install php5:<br /><br />when following the directions above, after this step:<br /><br />./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql<br /><br />i kept getting this error:<br />"Unable to find MySql header files...."<br /><br />the only way i could get php5 with mysql support was to compile MySql5 from source, and not use the binary as the mysql site recommends.<br /><br />then i was able to ./configure successfully, but for some reason php was configured to compile the CGI version.<br /><br />so, had to use this ./configure line:<br /><br />./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql=/usr/local/mysql  --disable-cgi<br /><br />alternatively, you could install php4 which does bundle the MySql client files.</span></code></div>
  </div>
 </div>
  <div class="note" id="67805">  <div class="votes">
    <div id="Vu67805">
    <a href="https://www.php.net/manual/vote-note.php?id=67805&amp;page=install.unix.apache2&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd67805">
    <a href="https://www.php.net/manual/vote-note.php?id=67805&amp;page=install.unix.apache2&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V67805" title="45% like this...">
    -6
    </div>
  </div>
  <a href="install.unix.apache2.php.html#67805" class="name">
  <strong class="user"><em>jaya</em></strong></a><a class="genanchor" href="install.unix.apache2.php.html#67805"> &para;</a><div class="date" title="2006-07-05 11:41"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom67805">
<div class="phpcode"><code><span class="html">PHP 5.1.4 INSTALLATION on Solaris 9 (Sparc)<br /><br />Solaris9 Packages Installed:<br /><br />Verify required package installation:<br />root# pkginfo SUNWbtool SUNWsprot SUNWtoo SUNWhea SUNWarc \<br />SUNWlibm SUNWlibms SUNWdfbh SUNWxglh SUNWcg6h<br /><br />Uninstall Default Apache Packages:<br />root# /etc/init.d/apache stop<br />root# pkginfo |grep Apache<br />root# pkgrm SUNWaclg SUNWapchd SUNWapchr SUNWapchu<br /><br />Create installation Directory:<br />root# mkdir /phpdata/ <br /><br />Download Required Packages from Sunfreeware:<br /><br />Install libiconv-1.8 and gcc3.3.2 packages <br />root# pkgadd -d ./libiconv-1.8-sol9-sparc-local<br />root# pkgadd -d ./gcc-3.3.2-sol9-sparc-local<br /><br />set LD_LIBRARY_PATH, CC and PATH variables<br />root# LD_LIBRARY_PATH=/usr/local/lib:/usr/local/lib/sparcv9/:\<br />/usr/lib:/usr/openwin/lib:/opt/local/lib:/usr/local/ssl/lib:\<br />/usr/local/apr/lib:/opt/mysql/mysql/lib<br />root# CC=gcc<br />root# PATH=$PATH:/usr/ucb:/usr/local/bin/<br />root# export LD_LIBRARY_PATH CC PATH<br /> <br />Install apr-1.2.2 and aprutil-1.2.2 packages <br /><br />root# gzcat apr-1.2.2.tar.gz |tar xvf -<br />root# cd apr-1.2.2<br />root# ./configure<br />root# make<br />root# make install<br />root# cd ..<br /><br />root# gzcat aprutil-1.2.2.tar.gz |tar xvf -<br />root# cd apr-util-1.2.2/<br />root# ./configure --with-apr=/usr/local/apr/<br />root# make<br />root# make install<br /><br />Install gawk-3.1.4, expat-1.95.5, db-4.2.52.NC, <br />gdbm-1.8.3, libgcc-3.3 and libxml2-2.6.16 packages <br />root# cd ..<br />root# pkgadd -d ./gawk-3.1.4-sol9-sparc-local<br />root# pkgadd -d ./expat-1.95.5-sol9-sparc-local<br />root# pkgadd -d ./db-4.2.52.NC-sol9-sparc-local<br />root# pkgadd -d ./gdbm-1.8.3-sol9-sparc-local<br />root# pkgadd -d ./libgcc-3.3-sol9-sparc-local<br />root# pkgadd -d ./libxml2-2.6.16-sol9-sparc-local<br /><br />Install GNU make package<br />root# gzcat make-3.81.tar.gz |tar xvf -<br />root# cd make-3.81<br />root# ./configure<br />root# make<br />root# make install<br />root# cd .. <br /><br />Install mysql-standard-5.0.22 package<br />Search for user mysql<br />root# grep mysql /etc/passwd<br />root# grep mysql /etc/group<br /><br />If not found create user and group mysql<br />root# groupadd mysql<br />root# useradd -G mysql mysql<br />root# pkgadd -d ./mysql-standard-5.0.22-solaris9-sparc.pkg.gz<br /><br />Install openssl-0.9.7g package<br />root# gzcat openssl-0.9.7g.tar.gz |tar xvf -<br />root# cd openssl-0.9.7g<br />root# ./config shared<br />root# make<br />root# make install<br />root# cd ..<br /><br />Install Apache2 package<br />root# gzcat httpd-2.2.0.tar.gz |tar xvf -<br />root# cd httpd-2.2.0<br />root# ./configure --enable-so<br />root# /usr/local/bin/make<br />root# /usr/local/bin/make install<br />root# cd ..<br /><br />Install php-5.1.4 package<br />root# gzcat php-5.1.4.tar.gz |tar xvf -<br />root# cd php-5.1.4<br />root# ./configure --with-apxs2=/usr/local/apache2/bin/apxs\<br />--with-ldap --with-mysql=/opt/mysql/mysql/<br />root# /usr/local/bin/make<br />root# /usr/local/bin/make install<br />root# cp php.ini-dist /usr/local/lib/php.ini<br /><br />Edit httpd.conf to load the PHP module <br />and to parse certain extensions as PHP<br />root# vi /usr/local/apache2/conf/httpd.conf<br />LoadModule php5_module modules/libphp5.so<br />AddType application/x-httpd-php .php .phtml<br /><br />Start Apache<br />root# /usr/local/apache2/bin/apachectl start<br /> <br />Add environmental variables below HTTPD<br />root# vi /usr/local/apache2/bin/apachectl<br />LD_LIBRARY_PATH=/usr/local/lib:/usr/local/lib/sparcv9/:<br />/usr/lib:/usr/openwin/lib:/opt/local/lib:/usr/local/ssl/lib:<br />/usr/local/apr/lib:/opt/mysql/mysql/lib<br />PATH=/bin:/sbin:/usr/ccs/bin:/usr/sbin:/usr/openwin/bin:\<br />/usr/ucb:/usr/local/bin/<br />export LD_LIBRARY_PATH PATH<br /><br />Create Apache Startup Script</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=install.unix.apache2&amp;redirect=https://www.php.net/manual/ru/install.unix.apache2.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="install.unix.php.html">Установка на Unix-системы</a>

                                    <ul class='child-menu-list'>

                                                <li class="current">
                            <a href="install.unix.apache2.php.html" title="Apache 2.x на Unix системах">Apache 2.x на Unix системах</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.nginx.php.html" title="Установка Nginx 1.4.x на систему Unix">Установка Nginx 1.4.x на систему Unix</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.lighttpd-14.php.html" title="Установка PHP на Lighttpd 1.4 на Unix-&#8203;системах">Установка PHP на Lighttpd 1.4 на Unix-&#8203;системах</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.litespeed.php.html" title="Веб-&#8203;сервер LiteSpeed/OpenLiteSpeed на системах Unix">Веб-&#8203;сервер LiteSpeed/OpenLiteSpeed на системах Unix</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.commandline.php.html" title="Установка с интерфейсами CGI и командной строки">Установка с интерфейсами CGI и командной строки</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.openbsd.php.html" title="OpenBSD, замечания по установке">OpenBSD, замечания по установке</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.solaris.php.html" title="Инструкции по инсталляции для ОС Solaris">Инструкции по инсталляции для ОС Solaris</a>
                        </li>
                                                <li class="">
                            <a href="install.unix.debian.php.html" title="Инструкции по установке на Debian GNU/Linux">Инструкции по установке на Debian GNU/Linux</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
