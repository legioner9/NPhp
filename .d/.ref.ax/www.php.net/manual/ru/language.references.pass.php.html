<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: Передача по ссылке - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="language.references.pass.php.html">
 <link rel="shorturl" href="https://www.php.net/references.pass">
 <link rel="alternate" href="https://www.php.net/references.pass" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="language.references.php.html">
 <link rel="prev" href="language.references.arent.php.html">
 <link rel="next" href="language.references.return.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/language.references.pass.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/language.references.pass.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/language.references.pass.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/language.references.pass.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/language.references.pass.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/language.references.pass.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/language.references.pass.php" hreflang="pt_BR">
 <link rel="alternate" href="language.references.pass.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/language.references.pass.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/language.references.pass.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="language.references.return.php.html">
          Возврат по ссылке &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="language.references.arent.php.html">
          &laquo; Чем ссылки не являются        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='langref.php.html'>Справочник языка</a></li>      <li><a href='language.references.php.html'>Объяснение ссылок</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/language.references.pass.php'>English</option>
            <option value='de/language.references.pass.php'>German</option>
            <option value='es/language.references.pass.php'>Spanish</option>
            <option value='fr/language.references.pass.php'>French</option>
            <option value='it/language.references.pass.php'>Italian</option>
            <option value='ja/language.references.pass.php'>Japanese</option>
            <option value='pt_BR/language.references.pass.php'>Brazilian Portuguese</option>
            <option value='ru/language.references.pass.php' selected="selected">Russian</option>
            <option value='tr/language.references.pass.php'>Turkish</option>
            <option value='zh/language.references.pass.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/language/references.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Flanguage.references.pass%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="language.references.pass" class="sect1">
  <h2 class="title">Передача по ссылке</h2>
  <p class="para">
   Вы можете передать переменную по ссылке в качестве аргумента в функцию, чтобы эта
   функция могла изменять значение переменной. Синтаксис выглядит следующим образом:
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">$var</span><span style="color: #007700">++;<br />}<br /><br /></span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">// $a здесь равно 6<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <blockquote class="note"><p><strong class="note">Замечание</strong>: 
    <span class="simpara">
     В вызове функции отсутствует знак ссылки - он есть только в
     определении функции. Этого достаточно для корректной передачи аргументов по
     ссылке.
    </span>
   </p></blockquote>
  </p>
  <p class="para">
   По ссылке можно передавать:
   <ul class="itemizedlist">
    <li class="listitem">
     <span class="simpara">
      Переменные, например <code class="literal">foo($a)</code>
     </span>
    </li>
    <li class="listitem">
     <p class="para">
      Ссылки, возвращаемые функцией, например:
      <div class="informalexample">
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">$var</span><span style="color: #007700">++;<br />}<br />function &amp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">() {<br />    </span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />    return </span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">bar</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
        </div>

       </div>
       Смотрите также объяснение <a href="language.references.return.php.html" class="link">возврата по ссылке</a>.
      </p>
     </li>
    </ul>
  </p>
  <p class="para">
   Любое другое выражение не должно передаваться по ссылке, так как результат
   не определён. Например, следующая передача по ссылке является неправильной:
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">$var</span><span style="color: #007700">++;<br />}<br />function </span><span style="color: #0000BB">bar</span><span style="color: #007700">() { </span><span style="color: #FF8000">// Операция &amp; отсутствует<br />    </span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">5</span><span style="color: #007700">;<br />    return </span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">bar</span><span style="color: #007700">()); </span><span style="color: #FF8000">// Вызывает предупреждение<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$a </span><span style="color: #007700">= </span><span style="color: #0000BB">5</span><span style="color: #007700">); </span><span style="color: #FF8000">// Выражение, а не переменная<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">); </span><span style="color: #FF8000">// Константа, а не переменная<br /><br /></span><span style="color: #007700">class </span><span style="color: #0000BB">Foobar<br /></span><span style="color: #007700">{<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(new </span><span style="color: #0000BB">Foobar</span><span style="color: #007700">()) </span><span style="color: #FF8000">// Вызывает уведомление с PHP 7.0.7<br />                  // Notice: Only variables should be passed by reference<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
  </p>
 </div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=language.references.pass&amp;redirect=https://www.php.net/manual/ru/language.references.pass.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">18 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="115919">  <div class="votes">
    <div id="Vu115919">
    <a href="https://www.php.net/manual/vote-note.php?id=115919&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd115919">
    <a href="https://www.php.net/manual/vote-note.php?id=115919&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V115919" title="81% like this...">
    432
    </div>
  </div>
  <a href="language.references.pass.php.html#115919" class="name">
  <strong class="user"><em>tnestved at yahoo dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#115919"> &para;</a><div class="date" title="2014-10-14 01:54"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom115919">
<div class="phpcode"><code><span class="html">By removing the ability to include the reference sign on function calls where pass-by-reference is incurred (I.e., function definition uses &amp;), the readability of the code suffers, as one has to look at the function definition to know if the variable being passed is by-ref or not (I.e., potential to be modified).  If both function calls and function definitions require the reference sign (I.e., &amp;), readability is improved, and it also lessens the potential of an inadvertent error in the code itself.  Going full on fatal error in 5.4.0 now forces everyone to have less readable code.  That is, does a function merely use the variable, or potentially modify it...now we have to find the function definition and physically look at it to know, whereas before we would know the intent immediately.</span></code></div>
  </div>
 </div>
  <div class="note" id="123995">  <div class="votes">
    <div id="Vu123995">
    <a href="https://www.php.net/manual/vote-note.php?id=123995&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd123995">
    <a href="https://www.php.net/manual/vote-note.php?id=123995&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V123995" title="71% like this...">
    28
    </div>
  </div>
  <a href="language.references.pass.php.html#123995" class="name">
  <strong class="user"><em>ccb_bc at hotmail dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#123995"> &para;</a><div class="date" title="2019-07-01 05:58"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom123995">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php <br /></span><span class="comment">// PHP &gt;= 5.6<br /><br />// Here we use the 'use' operator to create a variable within the scope of the function. Although it may seem that the newly created variable has something to do with '$x' that is outside the function, we are actually creating a '$x' variable within the function that has nothing to do with the '$x' variable outside the function. We are talking about the same names but different content locations in memory.<br /></span><span class="default">$x </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />(function() use (</span><span class="default">$x</span><span class="keyword">){<br />    </span><span class="default">$x </span><span class="keyword">= </span><span class="default">$x</span><span class="keyword">*</span><span class="default">$x</span><span class="keyword">;<br />    </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">); </span><span class="comment">// 100<br /></span><span class="keyword">})();<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">); </span><span class="comment">// 10<br /><br />// Now the magic happens with using the reference (&amp;). Now we are actually accessing the contents of the '$y' variable that is outside the scope of the function. All the actions that we perform with the variable '$y' within the function will be reflected outside the scope of this same function. Remembering this would be an impure function in the functional paradigm, since we are changing the value of a variable by reference.<br /></span><span class="default">$y </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />(function() use (&amp;</span><span class="default">$y</span><span class="keyword">){<br />    </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$y</span><span class="keyword">*</span><span class="default">$y</span><span class="keyword">;<br />    </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">); </span><span class="comment">// 100<br /></span><span class="keyword">})();<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">); </span><span class="comment">// 100<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="117305">  <div class="votes">
    <div id="Vu117305">
    <a href="https://www.php.net/manual/vote-note.php?id=117305&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117305">
    <a href="https://www.php.net/manual/vote-note.php?id=117305&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117305" title="61% like this...">
    33
    </div>
  </div>
  <a href="language.references.pass.php.html#117305" class="name">
  <strong class="user"><em>mike at eastghost dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#117305"> &para;</a><div class="date" title="2015-05-19 07:06"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117305">
<div class="phpcode"><code><span class="html">beware unset()  destroys references<br /><br />$x = 'x';<br />change( $x );<br />echo $x; // outputs "x" not "q23"  ---- remove the unset() and output is "q23" not "x"<br /><br />function change( &amp; $x )<br />{<br />    unset( $x );<br />    $x = 'q23';<br />    return true;<br />}</span></code></div>
  </div>
 </div>
  <div class="note" id="128292">  <div class="votes">
    <div id="Vu128292">
    <a href="https://www.php.net/manual/vote-note.php?id=128292&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128292">
    <a href="https://www.php.net/manual/vote-note.php?id=128292&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128292" title="50% like this...">
    0
    </div>
  </div>
  <a href="language.references.pass.php.html#128292" class="name">
  <strong class="user"><em>Anonymous</em></strong></a><a class="genanchor" href="language.references.pass.php.html#128292"> &para;</a><div class="date" title="2023-03-06 10:51"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom128292">
<div class="phpcode"><code><span class="html">Parameters passed by references can have default values.<br />You can find out if a variable was actually passed by using func_num_args():<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">refault</span><span class="keyword">( &amp; </span><span class="default">$ref </span><span class="keyword">= </span><span class="string">'Do I have to be calculated?'</span><span class="keyword">){<br />  echo </span><span class="string">'NUM ARGS:  '</span><span class="keyword">. </span><span class="default">func_num_args</span><span class="keyword">().</span><span class="string">"\n"</span><span class="keyword">;<br />  echo </span><span class="string">"ORI VALUE: </span><span class="keyword">{</span><span class="default">$ref</span><span class="keyword">}</span><span class="string">\n"</span><span class="keyword">;<br />  if( </span><span class="default">func_num_args</span><span class="keyword">() &gt; </span><span class="default">0 </span><span class="keyword">)  </span><span class="default">$ref </span><span class="keyword">= </span><span class="string">'Yes, expensive to calculate result: ' </span><span class="keyword">. </span><span class="default">sleep</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br />  else </span><span class="default">$ref </span><span class="keyword">= </span><span class="string">'No.'</span><span class="keyword">;<br />  echo </span><span class="string">"NEW VALUE: </span><span class="keyword">{</span><span class="default">$ref</span><span class="keyword">}</span><span class="string">\n"</span><span class="keyword">;<br />}<br /><br /></span><span class="default">$result </span><span class="keyword">= </span><span class="string">'Do I have to be calculated?'</span><span class="keyword">;<br /></span><span class="default">refault</span><span class="keyword">( </span><span class="default">$result </span><span class="keyword">);<br />echo </span><span class="string">"RESULT:    </span><span class="keyword">{</span><span class="default">$result</span><span class="keyword">}</span><span class="string">\n"</span><span class="keyword">;<br /></span><span class="comment">// NUM ARGS:  1<br />// ORI VALUE: Do I have to be calculated?<br />// NEW VALUE: Yes, expensive to calculate result: 0<br />// RESULT:    Yes, expensive to calculate result: 0<br /><br /></span><span class="default">refault</span><span class="keyword">();<br /></span><span class="comment">// NUM ARGS:  0<br />// ORI VALUE: Do I have to be calculated?<br />// NEW VALUE: No.<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="114705">  <div class="votes">
    <div id="Vu114705">
    <a href="https://www.php.net/manual/vote-note.php?id=114705&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd114705">
    <a href="https://www.php.net/manual/vote-note.php?id=114705&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V114705" title="51% like this...">
    1
    </div>
  </div>
  <a href="language.references.pass.php.html#114705" class="name">
  <strong class="user"><em>phpnet at holodyn dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#114705"> &para;</a><div class="date" title="2014-03-26 06:38"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom114705">
<div class="phpcode"><code><span class="html">The notes indicate that a function variable reference will receive a deprecated warning in the 5.3 series, however when calling the function via call_user_func the operation aborts without fatal error.<br /><br />This is not a "bug" since it is not likely worth resolving, however should be noted in this documentation.</span></code></div>
  </div>
 </div>
  <div class="note" id="126194">  <div class="votes">
    <div id="Vu126194">
    <a href="https://www.php.net/manual/vote-note.php?id=126194&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd126194">
    <a href="https://www.php.net/manual/vote-note.php?id=126194&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V126194" title="50% like this...">
    0
    </div>
  </div>
  <a href="language.references.pass.php.html#126194" class="name">
  <strong class="user"><em>tianyiw at vip dot qq dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#126194"> &para;</a><div class="date" title="2021-06-25 07:51"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom126194">
<div class="phpcode"><code><span class="html">I designed a class that can easily pass references.<br /><br /><span class="default">&lt;?php<br /></span><span class="comment">#### Problem 1<br /></span><span class="keyword">function </span><span class="default">problem</span><span class="keyword">(&amp;</span><span class="default">$value</span><span class="keyword">)<br />{<br />}<br /></span><span class="default">problem</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">); </span><span class="comment">// cannot be passed by reference<br /><br />#### Problem 2<br /></span><span class="keyword">class </span><span class="default">problem2<br /></span><span class="keyword">{<br />    static function </span><span class="default">__callStatic</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, &amp;</span><span class="default">$arguments</span><span class="keyword">) </span><span class="comment">// cannot take arguments by reference <br />    </span><span class="keyword">{<br />    }<br />}<br /></span><span class="default">?&gt;<br /></span><br />My solution 👇<br /><span class="default">&lt;?php<br /></span><span class="keyword">class </span><span class="default">Reference<br /></span><span class="keyword">{<br />    function </span><span class="default">__construct</span><span class="keyword">(public </span><span class="default">mixed </span><span class="keyword">&amp;</span><span class="default">$data</span><span class="keyword">)<br />    {<br />    }<br /><br />    </span><span class="comment">/**<br />     * create <br />     *<br />     * @param mixed $data<br />     * @return self<br />     */<br />    </span><span class="keyword">static function &amp;</span><span class="default">create</span><span class="keyword">(</span><span class="default">mixed </span><span class="keyword">&amp;</span><span class="default">$data</span><span class="keyword">): </span><span class="default">self<br />    </span><span class="keyword">{<br />        if (</span><span class="default">$data </span><span class="keyword">instanceof </span><span class="default">self</span><span class="keyword">) {<br />            return </span><span class="default">$data</span><span class="keyword">;<br />        }<br />        </span><span class="default">$r </span><span class="keyword">= new </span><span class="default">self</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br />        return </span><span class="default">$r</span><span class="keyword">;<br />    }<br /><br />    </span><span class="comment">/**<br />     * get value<br />     *<br />     * @param mixed $reference<br />     * @return mixed<br />     */<br />    </span><span class="keyword">static function &amp;</span><span class="default">get</span><span class="keyword">(</span><span class="default">mixed </span><span class="keyword">&amp;</span><span class="default">$reference</span><span class="keyword">): </span><span class="default">mixed<br />    </span><span class="keyword">{<br />        if (</span><span class="default">$reference </span><span class="keyword">instanceof </span><span class="default">self</span><span class="keyword">) {<br />            return </span><span class="default">$reference</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />        }<br />        return </span><span class="default">$reference</span><span class="keyword">;<br />    }<br />}<br /><br /></span><span class="comment">#### Problem solving 1 ####<br /><br /></span><span class="keyword">function </span><span class="default">test</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />{<br />    </span><span class="default">$value </span><span class="keyword">= &amp;</span><span class="default">Reference</span><span class="keyword">::</span><span class="default">get</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">); </span><span class="comment">// values OR reference<br />    </span><span class="default">$value </span><span class="keyword">= </span><span class="string">"test-</span><span class="default">$value</span><span class="string">"</span><span class="keyword">;<br />    return </span><span class="default">$value</span><span class="keyword">;<br />}<br /><br />echo </span><span class="default">test</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">), </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// test-1<br /><br /></span><span class="default">$val </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />echo </span><span class="default">test</span><span class="keyword">(</span><span class="default">Reference</span><span class="keyword">::</span><span class="default">create</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)), </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// test-2<br /></span><span class="keyword">echo </span><span class="default">$val</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// test-2<br /><br />#### Problem solving 2 ####<br /></span><span class="keyword">class </span><span class="default">TestCall<br /></span><span class="keyword">{<br />    static function </span><span class="default">__callStatic</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">)<br />    {<br />        </span><span class="default">$value </span><span class="keyword">= &amp;</span><span class="default">Reference</span><span class="keyword">::</span><span class="default">get</span><span class="keyword">(</span><span class="default">$arguments</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />        </span><span class="default">$value </span><span class="keyword">= </span><span class="string">"</span><span class="default">$name</span><span class="string">-</span><span class="default">$value</span><span class="string">"</span><span class="keyword">;<br />        return </span><span class="default">$value</span><span class="keyword">;<br />    }<br />}<br /><br />echo </span><span class="default">TestCall</span><span class="keyword">::</span><span class="default">test</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">), </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// test-3<br /><br /></span><span class="default">$val </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;<br />echo </span><span class="default">TestCall</span><span class="keyword">::</span><span class="default">test</span><span class="keyword">(</span><span class="default">Reference</span><span class="keyword">::</span><span class="default">create</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)), </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// test-4<br /></span><span class="keyword">echo </span><span class="default">$val</span><span class="keyword">, </span><span class="default">PHP_EOL</span><span class="keyword">; </span><span class="comment">// test-4</span></span></code></div>
  </div>
 </div>
  <div class="note" id="124383">  <div class="votes">
    <div id="Vu124383">
    <a href="https://www.php.net/manual/vote-note.php?id=124383&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd124383">
    <a href="https://www.php.net/manual/vote-note.php?id=124383&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V124383" title="50% like this...">
    0
    </div>
  </div>
  <a href="language.references.pass.php.html#124383" class="name">
  <strong class="user"><em>Jason Steelman</em></strong></a><a class="genanchor" href="language.references.pass.php.html#124383"> &para;</a><div class="date" title="2019-11-12 06:13"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom124383">
<div class="phpcode"><code><span class="html">Within a class, passing array elements by reference which don't exist are added to the array as null. Compared to a normal function, this changes the behavior of the function from throwing an error to creating a new (null) entry in the referenced array with a new key.<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{ <br />    public </span><span class="default">$arr </span><span class="keyword">= [</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="string">'apple'</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="string">'banana'</span><span class="keyword">];<br />    public function </span><span class="default">normalFunction</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) {<br />        return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />    }<br />    public function &amp;</span><span class="default">referenceReturningFunction</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) {<br />        return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />    }<br />}<br /><br /></span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">();<br /></span><span class="default">$var </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">normalFunction</span><span class="keyword">(</span><span class="string">'beer'</span><span class="keyword">); </span><span class="comment">//Notice Error. Undefined index beer<br /></span><span class="default">$var </span><span class="keyword">= &amp;</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">referenceReturningFunction</span><span class="keyword">(</span><span class="string">'beer'</span><span class="keyword">); </span><span class="comment">// No error. The value of $bar is now null<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">arr</span><span class="keyword">);<br /></span><span class="comment">/**<br />[<br />  "a" =&gt; "apple",<br />  "b" =&gt; "banana",<br />  "beer" =&gt; null,<br />],<br />*/<br /><br /></span><span class="default">?&gt;<br /></span>This is in no way a "bug" - the framework is performing as designed, but it took careful thought to figure out what was going on. PHP7.3</span></code></div>
  </div>
 </div>
  <div class="note" id="109550">  <div class="votes">
    <div id="Vu109550">
    <a href="https://www.php.net/manual/vote-note.php?id=109550&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd109550">
    <a href="https://www.php.net/manual/vote-note.php?id=109550&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V109550" title="49% like this...">
    -1
    </div>
  </div>
  <a href="language.references.pass.php.html#109550" class="name">
  <strong class="user"><em>diabolos @t gmail dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#109550"> &para;</a><div class="date" title="2012-07-27 02:46"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom109550">
<div class="phpcode"><code><span class="html"><span class="default">&lt;?php<br /><br /></span><span class="comment">/*<br /><br />  This function internally swaps the contents between <br />  two simple variables using 'passing by reference'.<br /><br />  Some programming languages have such a swap function <br />  built in, but PHP seems to lack such a function.  So, <br />  one was created to fill the need.  It only handles <br />  simple, single variables, not arrays, but it is<br />  still a very handy tool to have.<br /><br />  No value is actually returned by this function, but <br />  the contents of the indicated variables will be <br />  exchanged (swapped) after the call.<br />*/<br /><br />// ------------------------------------------<br />// Demo call of the swap(...) function below.<br /><br /> </span><span class="default">$a </span><span class="keyword">= </span><span class="default">123.456</span><span class="keyword">;<br /> </span><span class="default">$b </span><span class="keyword">= </span><span class="string">'abcDEF'</span><span class="keyword">;<br />  <br /> print </span><span class="string">"&lt;pre&gt;Define:\na = </span><span class="default">$a</span><span class="string">\nb = '</span><span class="default">$b</span><span class="string">'&lt;/pre&gt;"</span><span class="keyword">;<br /> </span><span class="default">swap</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">);<br /> print </span><span class="string">"&lt;pre&gt;After swap(a,b):\na = '</span><span class="default">$a</span><span class="string">'\nb = </span><span class="default">$b</span><span class="string">&lt;/pre&gt;"</span><span class="keyword">;<br /><br /></span><span class="comment">// -------------------------------<br /><br />   </span><span class="keyword">function </span><span class="default">swap </span><span class="keyword">(&amp;</span><span class="default">$arg1</span><span class="keyword">, &amp;</span><span class="default">$arg2</span><span class="keyword">)<br />{<br /><br /></span><span class="comment">// Swap contents of indicated variables.<br />   </span><span class="default">$w</span><span class="keyword">=</span><span class="default">$arg1</span><span class="keyword">;   </span><span class="default">$arg1</span><span class="keyword">=</span><span class="default">$arg2</span><span class="keyword">;   </span><span class="default">$arg2</span><span class="keyword">=</span><span class="default">$w</span><span class="keyword">;<br />}<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div>
  <div class="note" id="121134">  <div class="votes">
    <div id="Vu121134">
    <a href="https://www.php.net/manual/vote-note.php?id=121134&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121134">
    <a href="https://www.php.net/manual/vote-note.php?id=121134&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121134" title="48% like this...">
    -1
    </div>
  </div>
  <a href="language.references.pass.php.html#121134" class="name">
  <strong class="user"><em>nickshanks at nickshanks dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#121134"> &para;</a><div class="date" title="2017-05-26 12:49"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121134">
<div class="phpcode"><code><span class="html">For anyone wondering, the copy-on-write behaviour just does the Right Thing™ when an array is passed to a function not by-ref which then passes it through to another function by-ref without writing to it. For example:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">function </span><span class="default">do_sort</span><span class="keyword">(array </span><span class="default">$array</span><span class="keyword">) : array {<br />    </span><span class="default">usort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, function (</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />        return </span><span class="default">strnatcasecmp</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">], </span><span class="default">$b</span><span class="keyword">[</span><span class="string">'name'</span><span class="keyword">]);<br />    });<br /><br />    return </span><span class="default">$array</span><span class="keyword">;<br />}<br /><br /></span><span class="default">$data </span><span class="keyword">= [<br />    [<br />        </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'one'</span><span class="keyword">,<br />    ], [<br />        </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'two'</span><span class="keyword">,<br />    ], [<br />        </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'three'</span><span class="keyword">,<br />    ], [<br />        </span><span class="string">'name' </span><span class="keyword">=&gt; </span><span class="string">'four'</span><span class="keyword">,<br />    ],<br />];<br /><br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br /></span><span class="default">do_sort</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">); </span><span class="comment">// does not affect value of $data<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br /></span><span class="default">$data </span><span class="keyword">= </span><span class="default">do_sort</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">);</span></span></code></div>
  </div>
 </div>
  <div class="note" id="68835">  <div class="votes">
    <div id="Vu68835">
    <a href="https://www.php.net/manual/vote-note.php?id=68835&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd68835">
    <a href="https://www.php.net/manual/vote-note.php?id=68835&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V68835" title="43% like this...">
    -12
    </div>
  </div>
  <a href="language.references.pass.php.html#68835" class="name">
  <strong class="user"><em>fdelizy at unfreeze dot net</em></strong></a><a class="genanchor" href="language.references.pass.php.html#68835"> &para;</a><div class="date" title="2006-08-12 09:32"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom68835">
<div class="phpcode"><code><span class="html">Some have noticed that reference parameters can not be assigned a default value. It's actually wrong, they can be assigned a value as the other variables, but can't have a "default reference value", for instance this code won't compile :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">use_reference</span><span class="keyword">( </span><span class="default">$someParam</span><span class="keyword">, &amp;</span><span class="default">$param </span><span class="keyword">=&amp; </span><span class="default">$POST </span><span class="keyword">)<br />{<br /> ...<br />} <br /></span><span class="default">?&gt;<br /></span><br />But this one will work :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">use_reference</span><span class="keyword">( </span><span class="default">$someParam</span><span class="keyword">, &amp;</span><span class="default">$param </span><span class="keyword">= </span><span class="default">null </span><span class="keyword">)<br /></span><span class="default">?&gt;<br /></span><br />So here is a workaround to have a default value for reference parameters :<br /><br /><span class="default">&lt;?php<br />$array1 </span><span class="keyword">= array ( </span><span class="string">'test'</span><span class="keyword">, </span><span class="string">'test2' </span><span class="keyword">);<br /><br />function </span><span class="default">AddTo</span><span class="keyword">( </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">, &amp;</span><span class="default">$array </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">)<br />{<br />    if ( </span><span class="default">$array </span><span class="keyword">== </span><span class="default">null </span><span class="keyword">)<br />    {<br />      </span><span class="default">$array </span><span class="keyword">=&amp; </span><span class="default">$_POST</span><span class="keyword">;<br />    }<br /><br />    </span><span class="default">$array</span><span class="keyword">[ </span><span class="default">$key </span><span class="keyword">] = </span><span class="default">$val </span><span class="keyword">;<br />}<br /><br /></span><span class="default">AddTo</span><span class="keyword">( </span><span class="string">"indirect test"</span><span class="keyword">, </span><span class="string">"test"</span><span class="keyword">, </span><span class="default">$array1 </span><span class="keyword">);<br /></span><span class="default">AddTo</span><span class="keyword">( </span><span class="string">"indirect POST test"</span><span class="keyword">, </span><span class="string">"test" </span><span class="keyword">);<br /><br />echo </span><span class="string">"Array 1 " </span><span class="keyword">;<br /></span><span class="default">print_r </span><span class="keyword">( </span><span class="default">$array1</span><span class="keyword">);<br /><br />echo </span><span class="string">"_POST "</span><span class="keyword">;<br /></span><span class="default">print_r</span><span class="keyword">( </span><span class="default">$_POST </span><span class="keyword">);<br /><br /></span><span class="default">?&gt;<br /></span><br />And this scripts output is :<br /><br />Array 1 Array<br />(<br />    [0] =&gt; test<br />    [1] =&gt; test2<br />    [indirect test] =&gt; test<br />)<br />_POST Array<br />(<br />    [indirect POST test] =&gt; test<br />)<br /><br />Of course that means you can only assign default reference to globals or super globals variables. <br /><br />Have fun</span></code></div>
  </div>
 </div>
  <div class="note" id="125374">  <div class="votes">
    <div id="Vu125374">
    <a href="https://www.php.net/manual/vote-note.php?id=125374&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd125374">
    <a href="https://www.php.net/manual/vote-note.php?id=125374&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V125374" title="35% like this...">
    -6
    </div>
  </div>
  <a href="language.references.pass.php.html#125374" class="name">
  <strong class="user"><em>yiangforwork at gmail dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#125374"> &para;</a><div class="date" title="2020-09-17 01:35"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom125374">
<div class="phpcode"><code><span class="html">function set(&amp;$arr) {<br />    $test = 10;<br />    $arr = &amp;$test;<br />}<br /><br />$arr = [1, 2, 3];<br />set( $arr );<br /><br />var_dump( $arr );    // [1, 2, 3]<br /><br />If you changed a reference variable with a new `Address`, the variable it originally pointed to won't change.</span></code></div>
  </div>
 </div>
  <div class="note" id="121535">  <div class="votes">
    <div id="Vu121535">
    <a href="https://www.php.net/manual/vote-note.php?id=121535&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121535">
    <a href="https://www.php.net/manual/vote-note.php?id=121535&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121535" title="33% like this...">
    -11
    </div>
  </div>
  <a href="language.references.pass.php.html#121535" class="name">
  <strong class="user"><em>fladnag at zerezo dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#121535"> &para;</a><div class="date" title="2017-08-18 09:29"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121535">
<div class="phpcode"><code><span class="html">Beware of using references with anonymous function and "use" keyword :<br /><br />If you have a PHP version between 5.3 and &lt; 5.3.10, "use" keyword break the reference :<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">withRef</span><span class="keyword">(&amp;</span><span class="default">$arg</span><span class="keyword">) {<br />  echo </span><span class="string">'withRef - BEGIN - '</span><span class="keyword">.</span><span class="default">$arg</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 1<br />  </span><span class="default">$func </span><span class="keyword">= function() use(</span><span class="default">$arg</span><span class="keyword">) { </span><span class="comment">/* do nothing, just declare using $arg */ </span><span class="keyword">};<br />  </span><span class="default">$arg </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />  echo </span><span class="string">'withRef - END - '</span><span class="keyword">.</span><span class="default">$arg</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 2<br /></span><span class="keyword">}<br /><br /></span><span class="default">$arg </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />echo </span><span class="string">'withRef - BEFORE - '</span><span class="keyword">.</span><span class="default">$arg</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// 1<br /></span><span class="default">withRef</span><span class="keyword">(</span><span class="default">$arg</span><span class="keyword">);<br /></span><span class="comment">// in PHP 5.3 &lt; 5.3.10 : display 1<br />// in PHP 5.3 &gt;= 5.3.10 : display 2<br /></span><span class="keyword">echo </span><span class="string">'withRef - AFTER - '</span><span class="keyword">.</span><span class="default">$arg</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br /></span><span class="default">?&gt;<br /></span><br />A workaround is to use a copy of the reference variable in "use" keyword :<br /><span class="default">&lt;?php<br />  </span><span class="keyword">...<br />  </span><span class="default">$arg2 </span><span class="keyword">= </span><span class="default">$arg</span><span class="keyword">;<br />  </span><span class="default">$func </span><span class="keyword">= function() use(</span><span class="default">$arg2</span><span class="keyword">) { </span><span class="comment">/* do nothing, just declare using $arg2 */ </span><span class="keyword">};</span></span></code></div>
  </div>
 </div>
  <div class="note" id="45554">  <div class="votes">
    <div id="Vu45554">
    <a href="https://www.php.net/manual/vote-note.php?id=45554&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd45554">
    <a href="https://www.php.net/manual/vote-note.php?id=45554&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V45554" title="33% like this...">
    -10
    </div>
  </div>
  <a href="language.references.pass.php.html#45554" class="name">
  <strong class="user"><em>Sergio Santana: ssantana at tlaloc dot imta dot mx</em></strong></a><a class="genanchor" href="language.references.pass.php.html#45554"> &para;</a><div class="date" title="2004-09-10 08:25"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom45554">
<div class="phpcode"><code><span class="html">Sometimes we need functions for building or modifying arrays whose elements are to be references to other variables (arrays or objects for instance). In this example, I wrote two functions 'tst' and 'tst1' that perform this task. Note how the functions are written, and how they are used.<br /><br /><span class="default">&lt;?php<br /></span><span class="keyword">function </span><span class="default">tst</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">) {<br />  </span><span class="comment">// The argument '$arr' is declared to be passed by reference, <br />  // but '$r' is not;<br />  // however, in the function's body, we use a reference to <br />  // the '$r' argument<br />  <br />  </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, &amp;</span><span class="default">$r</span><span class="keyword">); <br />  </span><span class="comment">// Alternatively, this also could be $arr[] = &amp;$r (in this case)<br /></span><span class="keyword">}<br />  <br /></span><span class="default">$arr0 </span><span class="keyword">= array();          </span><span class="comment">// an empty array<br /></span><span class="default">$arr1 </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);   </span><span class="comment">// the array to be referenced in $arr0<br /><br />// Note how we call the function:<br /></span><span class="default">tst</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">, &amp;</span><span class="default">$arr1</span><span class="keyword">); </span><span class="comment">// We are passing a reference to '$arr1' in the call !<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">); </span><span class="comment">// Contains just the reference to $arr1<br /><br /></span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">); </span><span class="comment">// we add another element to $arr0<br /></span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">); </span><span class="comment">// we add another element to $arr1 as well<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">);  <br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">); </span><span class="comment">// Changes in $arr1 are reflected in $arr0<br /><br />// -----------------------------------------<br />// A simpler way to do this:<br /><br /></span><span class="keyword">function </span><span class="default">tst1</span><span class="keyword">(&amp;</span><span class="default">$arr</span><span class="keyword">, &amp;</span><span class="default">$r</span><span class="keyword">) {<br />  </span><span class="comment">// Both arguments '$arr' and '$r" are declared to be passed by<br />  // reference, <br />  // again, in the function's body, we use a reference to <br />  // the '$r' argument<br />  <br />  </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, &amp;</span><span class="default">$r</span><span class="keyword">); <br />  </span><span class="comment">// Alternatively, this also could be $arr[] = &amp;$r (in this case)<br /></span><span class="keyword">}<br /><br />  <br /></span><span class="default">$arr0 </span><span class="keyword">= array();          </span><span class="comment">// an empty array<br /></span><span class="default">$arr1 </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">);   </span><span class="comment">// the array to be referenced in $arr0<br /><br />// Note how we call the function:<br /></span><span class="default">tst1</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">, </span><span class="default">$arr1</span><span class="keyword">); </span><span class="comment">// 'tst1' understands '$r' is a reference to '$arr1'<br /><br /></span><span class="keyword">echo </span><span class="string">"-------- 2nd. alternative ------------ &lt;br&gt;\n"</span><span class="keyword">;<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">); </span><span class="comment">// Contains just the reference to $arr1<br /><br /></span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">); </span><span class="comment">// we add another element to $arr0<br /></span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">);<br /><br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr1</span><span class="keyword">);  <br /></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$arr0</span><span class="keyword">); </span><span class="comment">// Changes in $arr1 are reflected in $arr0<br /><br />// This outputs:<br />// X-Powered-By: PHP/4.1.2<br />// Content-type: text/html<br />// <br />// Array<br />// (<br />//     [0] =&gt; Array<br />//         (<br />//             [0] =&gt; 1<br />//             [1] =&gt; 2<br />//             [2] =&gt; 3<br />//         )<br />// <br />// )<br />// Array<br />// (<br />//     [0] =&gt; 1<br />//     [1] =&gt; 2<br />//     [2] =&gt; 3<br />//     [3] =&gt; 18<br />// )<br />// Array<br />// (<br />//     [0] =&gt; Array<br />//         (<br />//             [0] =&gt; 1<br />//             [1] =&gt; 2<br />//             [2] =&gt; 3<br />//             [3] =&gt; 18<br />//         )<br />// <br />//     [1] =&gt; 5<br />// )<br />// -------- 2nd. alternative ------------ <br />// Array<br />// (<br />//     [0] =&gt; Array<br />//         (<br />//             [0] =&gt; 1<br />//             [1] =&gt; 2<br />//             [2] =&gt; 3<br />//         )<br />// <br />// )<br />// Array<br />// (<br />//     [0] =&gt; 1<br />//     [1] =&gt; 2<br />//     [2] =&gt; 3<br />//     [3] =&gt; 18<br />// )<br />// Array<br />// (<br />//     [0] =&gt; Array<br />//         (<br />//             [0] =&gt; 1<br />//             [1] =&gt; 2<br />//             [2] =&gt; 3<br />//             [3] =&gt; 18<br />//         )<br />// <br />//     [1] =&gt; 5<br />// )<br /></span><span class="default">?&gt;<br /></span><br />In both cases we get the same result.<br /><br />I hope this is somehow useful<br /><br />Sergio.</span></code></div>
  </div>
 </div>
  <div class="note" id="117220">  <div class="votes">
    <div id="Vu117220">
    <a href="https://www.php.net/manual/vote-note.php?id=117220&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd117220">
    <a href="https://www.php.net/manual/vote-note.php?id=117220&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V117220" title="29% like this...">
    -11
    </div>
  </div>
  <a href="language.references.pass.php.html#117220" class="name">
  <strong class="user"><em>no at spam dot please</em></strong></a><a class="genanchor" href="language.references.pass.php.html#117220"> &para;</a><div class="date" title="2015-05-05 08:36"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom117220">
<div class="phpcode"><code><span class="html">agreed : this change produces less readable code.<br /><br />additionally, it breaks many existing perfectly working codes which are not portable anymore and in some cases will require complex modifications<br /><br />another issue regards the fatal error that is produced : how the hell am i supposed to do if i want to allow the user to use a value that is not even in a variable, or the return or a function call, or use call_user_func... this produces many occasions for a code to even break at run time</span></code></div>
  </div>
 </div>
  <div class="note" id="49950">  <div class="votes">
    <div id="Vu49950">
    <a href="https://www.php.net/manual/vote-note.php?id=49950&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd49950">
    <a href="https://www.php.net/manual/vote-note.php?id=49950&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V49950" title="32% like this...">
    -22
    </div>
  </div>
  <a href="language.references.pass.php.html#49950" class="name">
  <strong class="user"><em>pillepop2003 at yahoo dot de</em></strong></a><a class="genanchor" href="language.references.pass.php.html#49950"> &para;</a><div class="date" title="2005-02-13 08:08"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom49950">
<div class="phpcode"><code><span class="html">PHP has a strange behavior when passing a part of an array by reference, that does not yet exist.<br /><br /><span class="default">&lt;?php<br />    </span><span class="keyword">function </span><span class="default">func</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">)<br />    {<br />        </span><span class="comment">// void();<br />    </span><span class="keyword">}<br />    <br />    </span><span class="default">$a</span><span class="keyword">[</span><span class="string">'one'</span><span class="keyword">] =</span><span class="default">1</span><span class="keyword">;<br />    </span><span class="default">func</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'two'</span><span class="keyword">]);<br /></span><span class="default">?&gt;</span>    <br /><br />var_dump($a) returns<br /><br />    array(2) {<br />        ["one"]=&gt;<br />        int(1)<br />        ["two"]=&gt;<br />        NULL<br />    }<br /><br />...which seems to be not intentional!</span></code></div>
  </div>
 </div>
  <div class="note" id="48484">  <div class="votes">
    <div id="Vu48484">
    <a href="https://www.php.net/manual/vote-note.php?id=48484&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd48484">
    <a href="https://www.php.net/manual/vote-note.php?id=48484&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V48484" title="30% like this...">
    -18
    </div>
  </div>
  <a href="language.references.pass.php.html#48484" class="name">
  <strong class="user"><em>obscvresovl at NOSPAM dot hotmail dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#48484"> &para;</a><div class="date" title="2004-12-25 10:51"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom48484">
<div class="phpcode"><code><span class="html">Just a simple note...<br /><br /><span class="default">&lt;?php<br /><br />$num </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br /><br />function </span><span class="default">blah</span><span class="keyword">(&amp;</span><span class="default">$var</span><span class="keyword">)<br />{<br />    </span><span class="default">$var</span><span class="keyword">++;<br />}<br /><br /></span><span class="default">blah</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">);<br /><br />echo </span><span class="default">$num</span><span class="keyword">; </span><span class="comment">#2<br /><br /></span><span class="default">?&gt;<br /></span><br /><span class="default">&lt;?php<br /><br />$num </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br /><br />function </span><span class="default">blah</span><span class="keyword">()<br />{<br />    </span><span class="default">$var </span><span class="keyword">=&amp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">"num"</span><span class="keyword">];<br />    </span><span class="default">$var</span><span class="keyword">++;<br />}<br /><br /></span><span class="default">blah</span><span class="keyword">();<br /><br />echo </span><span class="default">$num</span><span class="keyword">; </span><span class="comment">#2<br /><br /></span><span class="default">?&gt;<br /></span><br />Both codes do the same thing! The second code "explains" how passage of parameters by reference works.</span></code></div>
  </div>
 </div>
  <div class="note" id="120351">  <div class="votes">
    <div id="Vu120351">
    <a href="https://www.php.net/manual/vote-note.php?id=120351&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120351">
    <a href="https://www.php.net/manual/vote-note.php?id=120351&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120351" title="25% like this...">
    -16
    </div>
  </div>
  <a href="language.references.pass.php.html#120351" class="name">
  <strong class="user"><em>pallsopp at gmail dot com</em></strong></a><a class="genanchor" href="language.references.pass.php.html#120351"> &para;</a><div class="date" title="2016-12-19 08:32"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120351">
<div class="phpcode"><code><span class="html">The comment by tnestved at yahoo dot com is incorrect as it is based purely on perception and not architecture. The method passing the object should not care whether it is by ref or by val, and nor should the reader.<br /><br />If we are talking about readability and perception, then the receiving method needs to show that the object coming in is a reference, not an object instance, otherwise the reader is perplexed why the object is not returned.<br /><br />Good functional headers alleviate all issues in this case.</span></code></div>
  </div>
 </div>
  <div class="note" id="126633">  <div class="votes">
    <div id="Vu126633">
    <a href="https://www.php.net/manual/vote-note.php?id=126633&amp;page=language.references.pass&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd126633">
    <a href="https://www.php.net/manual/vote-note.php?id=126633&amp;page=language.references.pass&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V126633" title="0% like this...">
    -6
    </div>
  </div>
  <a href="language.references.pass.php.html#126633" class="name">
  <strong class="user"><em>rob at librobert dot net</em></strong></a><a class="genanchor" href="language.references.pass.php.html#126633"> &para;</a><div class="date" title="2021-11-23 01:22"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom126633">
<div class="phpcode"><code><span class="html">A reference remains a reference, even if it's an element of an array that is not passed by reference.<br /><br />An example:<br /><br /><span class="default">&lt;?php<br />$c </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br /></span><span class="default">$array </span><span class="keyword">= array(<br />        </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">,<br />        </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">,<br />        </span><span class="string">'c' </span><span class="keyword">=&gt; &amp;</span><span class="default">$c<br /></span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />function </span><span class="default">func</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />        </span><span class="default">$array</span><span class="keyword">[</span><span class="string">'a'</span><span class="keyword">] = </span><span class="default">4</span><span class="keyword">;<br />        </span><span class="default">$array</span><span class="keyword">[</span><span class="string">'b'</span><span class="keyword">] = </span><span class="default">5</span><span class="keyword">;<br />        </span><span class="default">$array</span><span class="keyword">[</span><span class="string">'c'</span><span class="keyword">] = </span><span class="default">6</span><span class="keyword">;<br />        </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />}<br /></span><span class="default">func</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">);<br /></span><span class="default">?&gt;<br /></span><br />This will output the following:<br /><br />array(3) {<br />  ["a"]=&gt;<br />  int(1)<br />  ["b"]=&gt;<br />  int(2)<br />  ["c"]=&gt;<br />  &amp;int(3)<br />}<br />array(3) {<br />  ["a"]=&gt;<br />  int(4)<br />  ["b"]=&gt;<br />  int(5)<br />  ["c"]=&gt;<br />  &amp;int(6)<br />}<br />array(3) {<br />  ["a"]=&gt;<br />  int(1)<br />  ["b"]=&gt;<br />  int(2)<br />  ["c"]=&gt;<br />  &amp;int(6)<br />}<br />int(6)<br /><br />You could use this to allow a function to have read-write access to part of the array, while limiting it to read-only access for the rest of the array:<br /><br /><span class="default">&lt;?php<br />$config </span><span class="keyword">= [<br />        </span><span class="string">'ro' </span><span class="keyword">=&gt; [<br />                </span><span class="comment">// ...<br />        </span><span class="keyword">],<br />        </span><span class="string">'rw' </span><span class="keyword">=&gt; [<br />                </span><span class="comment">// ...<br />        </span><span class="keyword">]<br />];<br /></span><span class="default">$copy </span><span class="keyword">= </span><span class="default">$config</span><span class="keyword">;<br /></span><span class="default">$copy</span><span class="keyword">[</span><span class="string">'rw'</span><span class="keyword">] = &amp;</span><span class="default">$config</span><span class="keyword">[</span><span class="string">'rw'</span><span class="keyword">];<br /></span><span class="default">func</span><span class="keyword">(</span><span class="default">$copy</span><span class="keyword">);<br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=language.references.pass&amp;redirect=https://www.php.net/manual/ru/language.references.pass.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="language.references.php.html">Объяснение ссылок</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="language.references.whatare.php.html" title="Что такое ссылки">Что такое ссылки</a>
                        </li>
                                                <li class="">
                            <a href="language.references.whatdo.php.html" title="Что делают ссылки">Что делают ссылки</a>
                        </li>
                                                <li class="">
                            <a href="language.references.arent.php.html" title="Чем ссылки не являются">Чем ссылки не являются</a>
                        </li>
                                                <li class="current">
                            <a href="language.references.pass.php.html" title="Передача по ссылке">Передача по ссылке</a>
                        </li>
                                                <li class="">
                            <a href="language.references.return.php.html" title="Возврат по ссылке">Возврат по ссылке</a>
                        </li>
                                                <li class="">
                            <a href="language.references.unset.php.html" title="Сброс переменных-&#8203;ссылок">Сброс переменных-&#8203;ссылок</a>
                        </li>
                                                <li class="">
                            <a href="language.references.spot.php.html" title="Неявное использование механизма ссылок">Неявное использование механизма ссылок</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
