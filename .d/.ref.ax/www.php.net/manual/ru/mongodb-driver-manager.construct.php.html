<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: MongoDB\Driver\Manager::__construct - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="mongodb-driver-manager.construct.php.html">
 <link rel="shorturl" href="mongodb-driver-manager.construct.php.html">
 <link rel="alternate" href="mongodb-driver-manager.construct.php.html" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="class.mongodb-driver-manager.php.html">
 <link rel="prev" href="mongodb-driver-manager.addsubscriber.php.html">
 <link rel="next" href="mongodb-driver-manager.createclientencryption.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/mongodb-driver-manager.construct.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/mongodb-driver-manager.construct.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/mongodb-driver-manager.construct.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/mongodb-driver-manager.construct.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/mongodb-driver-manager.construct.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/mongodb-driver-manager.construct.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/mongodb-driver-manager.construct.php" hreflang="pt_BR">
 <link rel="alternate" href="mongodb-driver-manager.construct.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/mongodb-driver-manager.construct.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/mongodb-driver-manager.construct.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="mongodb-driver-manager.createclientencryption.php.html">
          MongoDB\Driver\Manager::createClientEncryption &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="mongodb-driver-manager.addsubscriber.php.html">
          &laquo; MongoDB\Driver\Manager::addSubscriber        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.database.php.html'>Модули для работы с базами данных</a></li>      <li><a href='refs.database.vendors.php.html'>Модули для работы с базами данных отдельных производителей</a></li>      <li><a href='set.mongodb.php.html'>MongoDB</a></li>      <li><a href='book.mongodb.php.html'>MongoDB\Driver</a></li>      <li><a href='class.mongodb-driver-manager.php.html'>MongoDB\Driver\Manager</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/mongodb-driver-manager.construct.php'>English</option>
            <option value='de/mongodb-driver-manager.construct.php'>German</option>
            <option value='es/mongodb-driver-manager.construct.php'>Spanish</option>
            <option value='fr/mongodb-driver-manager.construct.php'>French</option>
            <option value='it/mongodb-driver-manager.construct.php'>Italian</option>
            <option value='ja/mongodb-driver-manager.construct.php'>Japanese</option>
            <option value='pt_BR/mongodb-driver-manager.construct.php'>Brazilian Portuguese</option>
            <option value='ru/mongodb-driver-manager.construct.php' selected="selected">Russian</option>
            <option value='tr/mongodb-driver-manager.construct.php'>Turkish</option>
            <option value='zh/mongodb-driver-manager.construct.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/mongodb/mongodb/driver/manager/construct.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Fmongodb-driver-manager.construct%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="mongodb-driver-manager.construct" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">MongoDB\Driver\Manager::__construct</h1>
  <p class="verinfo">(mongodb &gt;=1.0.0)</p><p class="refpurpose"><span class="refname">MongoDB\Driver\Manager::__construct</span> &mdash; <span class="dc-title">Создаёт новый Manager MongoDB</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-mongodb-driver-manager.construct-description">
  <h3 class="title">Описание</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">public</span> <span class="methodname"><strong>MongoDB\Driver\Manager::__construct</strong></span>(<span class="methodparam"><span class="type">?</span><span class="type"><span class="type">string</span><span class="type"></span></span> <code class="parameter">$uri</code><span class="initializer"> = <strong><code>null</code></strong></span></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">array</span><span class="type"></span></span> <code class="parameter">$uriOptions</code><span class="initializer"> = <strong><code>null</code></strong></span></span>, <span class="methodparam"><span class="type">?</span><span class="type"><span class="type">array</span><span class="type"></span></span> <code class="parameter">$driverOptions</code><span class="initializer"> = <strong><code>null</code></strong></span></span>)</div>

  <p class="para rdfs-comment">
   Создаёт новый объект <span class="classname"><a href="class.mongodb-driver-manager.php.html" class="classname">MongoDB\Driver\Manager</a></span> с переданными параметрами.
  </p>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <span class="simpara">
    В <a href="https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-discovery-and-monitoring.rst#single-threaded-client-construction" class="link external">&raquo;&nbsp;спецификации по обнаружению и мониторингу сервера</a>,
    этот конструктор не выполняет ввода-вывода. Соединения будут инициализироваться по требованию,
    когда выполняется первая операция.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Замечание</strong>: 
   <span class="simpara">
    При передаче любых URI-опций, связанных с SSL или TLS, через строку
    подключения или параметр
    <code class="parameter">uriOptions</code>, драйвер неявно включает TLS
    при соединениях. Чтобы предотвратить это, либо явно отключите опцию
    <code class="literal">tls</code>, либо не передавайте никаких TLS-опций.
   </span>
  </p></blockquote>
  
<blockquote class="note"><p><strong class="note">Замечание</strong>: 
 <span class="simpara">
  На Unix, драйвер MongoDB чувствителен к сценариям, которые используют
  системный вызов fork() без последующего exec(). Пользователям рекомендуется
  не переиспользовать экземпляр <span class="classname"><a href="class.mongodb-driver-manager.php.html" class="classname">MongoDB\Driver\Manager</a></span>
  в дочернем процессе.
  child process.
 </span>
</p></blockquote>

 </div>


 <div class="refsect1 parameters" id="refsect1-mongodb-driver-manager.construct-parameters">
  <h3 class="title">Список параметров</h3>
  <dl>
   
    <dt id="mongodb-driver-manager.construct-uri"><code class="parameter">uri</code></dt>

    <dd>

     <p class="para">
      URI-адрес подключения <a href="https://www.mongodb.com/docs/manual/reference/connection-string/" class="link external">&raquo;&nbsp;mongodb://</a>:
      <div class="example-contents">
<div class="txtcode"><pre class="txtcode">mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[defaultAuthDb][?options]]</pre>
</div>
      </div>

     </p>
     <p class="para">
      Подробнее о поддерживаемых URI параметрах, смотрите раздел
      <a href="https://www.mongodb.com/docs/manual/reference/connection-string/#connections-connection-options" class="link external">&raquo;&nbsp;Параметры строки подключения</a>
      в руководстве MongoDB.
      <a href="https://www.mongodb.com/docs/manual/reference/connection-string/#connection-pool-options" class="link external">&raquo;&nbsp;Параметры пула подключения</a>
      не поддерживаются, т. к. PHP-драйвер не реализует пулы подключений.
     </p>
     <p class="para">
      <code class="parameter">uri</code> — это URL, поэтому любые специальные символы в
      его компонентах должны закодированы в соответствии
      <a href="http://www.faqs.org/rfcs/rfc3986" class="link external">&raquo;&nbsp;RFC 3986</a>. Это особенно
      актуально для имени пользователя и пароля, которые часто могут содержать специальные
      символы, такие как <code class="literal">@</code>, <code class="literal">:</code>, или
      <code class="literal">%</code>. При подключении через доменный сокет Unix, путь
      сокета может содержать специальные символы, например слеши, которые необходимо закодировать.
      Функция <span class="function"><a href="function.rawurlencode.php.html" class="function">rawurlencode()</a></span> может использоваться для кодирования
      составных частей URI-адреса.
     </p>
     <p class="para">
      Компонент <code class="literal">defaultAuthDb</code> может использоваться для указания
      имени базы данных, связанной с учётными данными пользователя; однако
      параметр URI <code class="literal">authSource</code> будет иметь приоритет, если он указан.
      Если ни <code class="literal">defaultAuthDb</code>, ни
      <code class="literal">authSource</code> не указаны, база данных <code class="literal">admin</code>
      будет использоваться по умолчанию. Компонент
      <code class="literal">defaultAuthDb</code> не имеет смысла при отсутствии учётных данных пользователя.
     </p>
    </dd>

   
   
    <dt id="mongodb-driver-manager.construct-urioptions"><code class="parameter">uriOptions</code></dt>

    <dd>

     <p class="para">
      Дополнительные
      <a href="https://www.mongodb.com/docs/manual/reference/connection-string/#connections-connection-options" class="link external">&raquo;&nbsp;параметры строки подключения</a>,
      которые будут перезаписывать любые параметры с тем же именем в параметре
      <code class="parameter">uri</code>.
     </p>
     <p class="para">
      <table class="doctable table">
       <caption><strong>uriOptions</strong></caption>
       
        <thead>
         <tr>
          <th>Название опции</th>
          <th>Тип</th>
          <th>Описание</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td>appname</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            В MongoDB 3.4+ появилась возможность добавлять аннотации к соединениям с метаданными,
            предоставляемыми подключающимся клиентом. Эти метаданные включаются в журналы
            логирования сервера при установлении соединения, а также записываются в журналы
            медленных запросов, если включено профилирование базы данных.
           </p>
           <p class="para">
            Эта опция может использоваться для указания имени приложения, которое будет
            включено в метаданные. Значение не может превышать 128 символов.
           </p>
          </td>
         </tr>

         <tr>
          <td>authMechanism</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Механизм аутентификации, который MongoDB будет использовать для аутентификации
            соединения. Для просмотра дополнительных сведений и списка поддерживаемых
            значений, смотрите раздел
            <a href="https://www.mongodb.com/docs/manual/reference/connection-string/#urioption.authMechanism" class="link external">&raquo;&nbsp;Параметры аутентификации</a>
            в руководстве MongoDB.
           </p>
          </td>
         </tr>

         <tr>
          <td>authMechanismProperties</td>
          <td><span class="type">array</span></td>
          <td>
           <p class="para">
            Свойства для выбранного механизма аутентификации. Для просмотра дополнительных сведений и списка поддерживаемых
            значений, смотрите раздел
            <a href="https://github.com/mongodb/specifications/blob/master/source/auth/auth.rst#auth-related-options" class="link external">&raquo;&nbsp;Спецификация аутентификации драйвера</a>.
           </p>
           <blockquote class="note"><p><strong class="note">Замечание</strong>: 
            <span class="simpara">
             Если не указана в строке URI-адреса, эта опция представляется
             в виде массива пар ключ-значение. Ключи и значения в этом массиве должны быть строками.
            </span>
           </p></blockquote>
          </td>
         </tr>

         <tr>
          <td>authSource</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Имя базы данных, связанное с учётными данными пользователя. По умолчанию
            используется компонент базы данных из URI-адреса соединения или база данных
            <code class="literal">admin</code>, если оба не указаны.
           </p>
           <p class="para">
            Для механизмов аутентификации, которые делегируют хранение учётных данных
            другим службам (например, GSSAPI), значение должно быть
            <code class="literal">&quot;$external&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>canonicalizeHostname</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Если <strong><code>true</code></strong>, драйвер будет преобразовывать реальное имя хоста для
            IP-адреса сервера перед аутентификацией через SASL. Некоторые базовые
            слои GSSAPI уже делают это, но эта функциональность может быть отключена
            в их конфигурации (например, <code class="literal">krb.conf</code>). По умолчанию
            <strong><code>false</code></strong>.
           </p>
           <p class="para">
            Этот параметр является устаревшим псевдонимом для свойства
            <code class="literal">&quot;CANONICALIZE_HOST_NAME&quot;</code> параметра URI
            <code class="literal">&quot;authMechanismProperties&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>compressors</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Имеющий приоритет, список разделённых запятыми компрессоров,
            которые клиент хочет использовать. Сообщения сжаты только в том случае,
            если клиент и сервер совместно используют любые компрессоры,
            а компрессор, используемый в каждом направлении,
            будет зависеть от индивидуальной конфигурации сервера или драйвера.
            Смотрите <a href="https://github.com/mongodb/specifications/blob/master/source/compression/OP_COMPRESSED.rst#compressors" class="link external">&raquo;&nbsp;Спецификация компрессии драйвера</a>
            для получения дополнительной информации.
           </p>
          </td>
         </tr>

         <tr id="mongodb-driver-manager.construct-urioptions.connecttimeoutms">
          <td>connectTimeoutMS</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Время ожидания в миллисекундах при попытке соединения.
            По умолчанию — 10 000 миллисекунд.
           </p>
          </td>
         </tr>

         <tr>
          <td>directConnection</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Этот параметр можно использовать для управления поведением обнаружения набора реплик,
            если в строке подключения указан только один хост. По умолчанию,
            предоставление одного члена в строке подключения приведёт к
            установлению прямого подключения или обнаружению дополнительных членов
            в зависимости от того, отсутствует или отсутствует опция
            URI <code class="literal">&quot;replicaSet&quot;</code> соответственно. Укажите <strong><code>false</code></strong>, чтобы вызвать
            обнаружение (если <code class="literal">&quot;replicaSet&quot;</code> опущен)
            или укажите <strong><code>true</code></strong>, чтобы форсировать прямое соединение (если
            <code class="literal">&quot;replicaSet&quot;</code> присутствует).
           </p>
          </td>
         </tr>

         <tr>
          <td>gssapiServiceName</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Устанавливает имя службы Kerberos при подключении к керберизованными
            экземплярам MongoDB. Это значение должно совпадать именем службы,
            установленным в экземплярах MongoDB (т. е. с параметром сервер,
            <a href="https://www.mongodb.com/docs/manual/reference/parameters/#param.saslServiceName" class="link external">&raquo;&nbsp;saslServiceName</a>
            ). По умолчанию используется <code class="literal">&quot;mongodb&quot;</code>.
           </p>
           <p class="para">
            Этот параметр является устаревшим псевдонимом для свойства
            <code class="literal">&quot;SERVICE_NAME&quot;</code> параметра URI
            <code class="literal">&quot;authMechanismProperties&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>heartbeatFrequencyMS</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Задаёт интервал в миллисекундах между проверками драйвера
            топологии MongoDB, отсчитываемыми с конца предыдущей проверки
            до начала следующей. По умолчанию — 60 000
            миллисекунд.
           </p>
           <p class="para">
            Согласно
            <a href="https://github.com/mongodb/specifications/blob/master/source/server-discovery-and-monitoring/server-discovery-and-monitoring.rst#heartbeatfrequencyms" class="link external">&raquo;&nbsp;Спецификации по обнаружению и мониторингу сервера</a>,
            это значение не может быть меньше 500 миллисекунд.
           </p>
          </td>
         </tr>

         <tr>
          <td>journal</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Соответствует параметру гарантий записи <code class="parameter">journal</code>.
            Если <strong><code>true</code></strong>, для записи будет требоваться подтверждение от
            MongoDB, что операция была записана в журнал. Подробнее
            смотрите <span class="classname"><a href="class.mongodb-driver-writeconcern.php.html" class="classname">MongoDB\Driver\WriteConcern</a></span>.
           </p>
          </td>
         </tr>

         <tr>
          <td>loadBalanced</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Указывает, подключается ли драйвер к кластеру MongoDB через балансировщик нагрузки.
            Если <strong><code>true</code></strong>, драйвер может подключаться только к одному узлу (указанному либо строкой подключения, либо поиском SRV),
            параметр URI <code class="literal">&quot;directConnection&quot;</code> не может быть <strong><code>true</code></strong> и опция URI <code class="literal">&quot;replicaSet&quot;</code> должна быть опущена. По умолчанию <strong><code>false</code></strong>.
           </p>
          </td>
         </tr>

         <tr>
          <td>localThresholdMS</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Размер в миллисекундах окна задержки для выбора среди
            нескольких подходящих экземпляров MongoDB при разрешении предпочтения
            чтения. По умолчанию — 15 миллисекунд.
           </p>
          </td>
         </tr>

         <tr>
          <td>maxStalenessSeconds</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Соответствует параметру предпочтения чтения
            <code class="literal">&quot;maxStalenessSeconds&quot;</code>. Указывает в секундах, насколько
            устаревшим может быть вторичный узел в наборе реплик, прежде чем клиент перестанет
            его использовать для операций чтения. По умолчанию не задано максимальное отставание репликации (staleness)
            и клиенты не будут учитывать отставание вторичного узла
            при выборе направления операции чтения. Подробнее об этом рассказано
            в описании класса <span class="classname"><a href="class.mongodb-driver-readpreference.php.html" class="classname">MongoDB\Driver\ReadPreference</a></span>.
           </p>
           <p class="para">
            Если указана, максимальное отставание должно быть 32-битным целым числом,
            большим или равным
            <strong><code>MongoDB\Driver\ReadPreference::SMALLEST_MAX_STALENESS_SECONDS</code></strong>
            (т. е. 90 секунд).
           </p>
          </td>
         </tr>

         <tr>
          <td>password</td>
          <td><span class="type">string</span></td>
          <td>
           Пароль для аутентификации пользователя. Эта опция полезна,
           если пароль содержит специальные символы, которые в противном случае
           должны были закодированы для URI-адреса подключения.
          </td>
         </tr>

         <tr>
          <td>readConcernLevel</td>
          <td><span class="type">string</span></td>
          <td>
           Соответствует параметру гарантий чтения <code class="parameter">level</code>
           Определяет уровень изоляции чтения. Подробнее смотрите
           <span class="classname"><a href="class.mongodb-driver-readconcern.php.html" class="classname">MongoDB\Driver\ReadConcern</a></span>.
          </td>
         </tr>

         <tr>
          <td>readPreference</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Соответствует параметру предпочтениям чтения <code class="parameter">mode</code>
            По умолчанию — <code class="literal">&quot;primary&quot;</code>.
            Подробнее смотрите <span class="classname"><a href="class.mongodb-driver-readpreference.php.html" class="classname">MongoDB\Driver\ReadPreference</a></span>.
           </p>
          </td>
         </tr>

         <tr>
          <td>readPreferenceTags</td>
          <td><span class="type">array</span></td>
          <td>
           <p class="para">
            Соответствует параметру предпочтениям чтения <code class="parameter">tagSets</code>.
            Наборы тегов позволяют настраивать операции чтения для определённых
            членов набора реплики. Подробнее смотрите
            <span class="classname"><a href="class.mongodb-driver-readpreference.php.html" class="classname">MongoDB\Driver\ReadPreference</a></span>.
           </p>
           <blockquote class="note"><p><strong class="note">Замечание</strong>: 
            <span class="simpara">
             Если в строке URI не указано, этот параметр представляется как
             как массив, соответствующий формату, ожидаемому
             <span class="function"><a href="mongodb-driver-readpreference.construct.php.html" class="function">MongoDB\Driver\ReadPreference::__construct()</a></span>.
            </span>
           </p></blockquote>
          </td>
         </tr>

         <tr>
          <td>replicaSet</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Задаёт имя набора реплики.
           </p>
          </td>
         </tr>

         <tr>
          <td>retryReads</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Указывает, должен ли драйвер автоматически повторять
            определённые операции чтения, которые не выполняются из-за временных сетевых ошибок
            или выборов набора реплик. Требуется MongoDB 3.6+.
            По умолчанию <strong><code>true</code></strong>.
           </p>
           <p class="para">
            Смотрите
            <a href="https://github.com/mongodb/specifications/blob/master/source/retryable-reads/retryable-reads.rst" class="link external">&raquo;&nbsp;Спецификацию по Retryable Reads</a>
            для получения дополнительной информации.
           </p>
          </td>
         </tr>

         <tr>
          <td>retryWrites</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Указывает, должен ли драйвер автоматически повторять
            определённые операции записи, которые не выполняются из-за временных сетевых ошибок
            или выборов набора реплик. Требуется MongoDB 3.6+.
            По умолчанию <strong><code>true</code></strong>.
           </p>
           <p class="para">
            Смотрите
            <a href="https://www.mongodb.com/docs/manual/core/retryable-writes/" class="link external">&raquo;&nbsp;Retryable Writes</a>
            в руководстве MongoDB для получения дополнительной информации.
           </p>
          </td>
         </tr>

         <tr>
          <td>safe</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Если <strong><code>true</code></strong>, указывает <code class="literal">1</code> для
            параметра <code class="parameter">w</code>
            гарантии записи по умолчанию. Если <strong><code>false</code></strong>, указывается
            <code class="literal">0</code>. Подробнее смотрите
            <span class="classname"><a href="class.mongodb-driver-writeconcern.php.html" class="classname">MongoDB\Driver\WriteConcern</a></span>.
           </p>
           <p class="para">
            Эта опция устарела и не должна использоваться.
           </p>
          </td>
         </tr>

         <tr id="mongodb-driver-manager.construct-urioptions.serverselectiontimeoutms">
          <td>serverSelectionTimeoutMS</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Указывает как долго в миллисекунд блокировать выбор сервера
            перед выбросом исключения. По умолчанию — 30 000 миллисекунд.
           </p>
          </td>
         </tr>

         <tr>
          <td>serverSelectionTryOnce</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Если <strong><code>true</code></strong>, то сообщает драйверу сканировать развёртывание MongoDB
            только один раз после неудачной попытки выбора сервера, а затем либо
            выбрать сервер или создать ошибку. Когда <strong><code>false</code></strong>, драйвер блокирует выбор и
            выполняет поиск сервера до истечения времени, указанного в параметре
            <code class="literal">&quot;serverSelectionTimeoutMS&quot;</code>. По умолчанию -
            <strong><code>true</code></strong>.
           </p>
          </td>
         </tr>

         <tr>
          <td>socketCheckIntervalMS</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Если сокет не использовался в последнее время, драйвер должен проверить
            с помощью команды <code class="literal">hello</code>, прежде чем использовать
            его для любой операции. По умолчанию — 5 000 миллисекунд.
           </p>
          </td>
         </tr>

         <tr>
          <td>socketTimeoutMS</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Время в миллисекундах, чтобы попытаться отправить или получить в сокет
            до истечения времени. По умолчанию — 300 000 миллисекунд (т. е. 5 минут).
           </p>
          </td>
         </tr>

         <tr>
          <td>srvMaxHosts</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Максимальное количество результатов SRV для случайного выбора
            при первоначальном заполнении посевного списка или, во время опроса SRV,
            при добавлении новых узлов к топологии.
            По умолчанию <code class="literal">0</code> (т. е. без максимума).
           </p>
          </td>
         </tr>

         <tr>
          <td>srvServiceName</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Имя службы, используемое для поиска SRV в начальном списке DNS seedlist
            обнаружения и опроса SRV. По умолчанию <code class="literal">&quot;mongodb&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>ssl</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Создаёт соединение с TLS/SSL, если <strong><code>true</code></strong>. По умолчанию -
            <strong><code>false</code></strong>.
           </p>
           <p class="para">
            Параметр является устаревшим псевдонимом для параметра
            URI <code class="literal">&quot;tls&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>tls</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Инициирует соединение с TLS/SSL, если <strong><code>true</code></strong>.
            По умолчанию <strong><code>false</code></strong>.
           </p>
          </td>
         </tr>

         <tr>
          <td>tlsAllowInvalidCertificates</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Указывает, должен ли драйвер выдавать ошибку, если
            сертификат TLS сервера недействителен. По умолчанию
            <strong><code>false</code></strong>.
           </p>
           <div class="warning"><strong class="warning">Внимание</strong>
            <p class="simpara">
             Отключение проверки сертификата создаёт уязвимость.
            </p>
           </div>
          </td>
         </tr>

         <tr>
          <td>tlsAllowInvalidHostnames</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Указывает, должен ли драйвер выдавать ошибку
            при несоответствии имени хоста сервера и имени хоста, указанного
            в сертификате TLS. По умолчанию <strong><code>false</code></strong>.
           </p>
           <div class="warning"><strong class="warning">Внимание</strong>
            <p class="simpara">
             Отключение проверки сертификата создаёт уязвимость.
             Разрешение недопустимых имён хоста может привести к атаке типа
             <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" class="link external">&raquo;&nbsp;&quot;человек посередине&quot; (man-in-the-middle)</a>.
            </p>
           </div>
          </td>
         </tr>

         <tr>
          <td>tlsCAFile</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Путь к файлу с одним или несколькими центрами сертификации,
            которые следует считать доверенными при установлении соединения TLS.
            По умолчанию будет использоваться хранилище системных сертификатов.
           </p>
          </td>
         </tr>

         <tr>
          <td>tlsCertificateKeyFile</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Путь к файлу сертификата клиента или файлу закрытого ключа клиента;
            в случае, если они оба необходимы, файлы должны быть объединены.
           </p>
          </td>
         </tr>

         <tr>
          <td>tlsCertificateKeyFilePassword</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Пароль для расшифровки закрытого ключа клиента (т. е.
            параметра URI <code class="literal">&quot;tlsCertificateKeyFile&quot;</code>), который будет использоваться для соединений TLS.
           </p>
          </td>
         </tr>

         <tr>
          <td>tlsDisableCertificateRevocationCheck</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Если <strong><code>true</code></strong>, драйвер не будет пытаться проверить статус
            отзыва сертификата (например, OCSP, CRL). По умолчанию <strong><code>false</code></strong>.
           </p>
          </td>
         </tr>

         <tr>
          <td>tlsDisableOCSPEndpointCheck</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Если <strong><code>true</code></strong>, драйвер не будет пытаться связаться с конечной
            точкой ответа OCSP, если это необходимо (то есть ответ OCSP не сшивается).
            По умолчанию <strong><code>false</code></strong>.
           </p>
          </td>
         </tr>

         <tr>
          <td>tlsInsecure</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Ослабьте ограничения TLS в максимально возможной степени.
            При значении <strong><code>true</code></strong> этот параметр имеет тот же эффект, что и указание значения <strong><code>true</code></strong> для обоих параметров URI
            <code class="literal">&quot;tlsAllowInvalidCertificates&quot;</code>
            и
            <code class="literal">&quot;tlsAllowInvalidHostnames&quot;</code>.
            По умолчанию <strong><code>false</code></strong>.
           </p>
           <div class="warning"><strong class="warning">Внимание</strong>
            <p class="simpara">
             Отключение проверки сертификата создаёт уязвимость.
             Разрешение недопустимых имён хоста может привести к атаке типа
             <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" class="link external">&raquo;&nbsp;&quot;человек посередине&quot; (man-in-the-middle)</a>.
            </p>
           </div>
          </td>
         </tr>

         <tr>
          <td>username</td>
          <td><span class="type">string</span></td>
          <td>
           Имя пользователя для аутентификации. Эта опция полезна,
           если имя пользователя содержит специальные символы, которые в противном случае
           должны были быть закодированы в URL для URI-адреса подключения.
          </td>
         </tr>

         <tr>
          <td>w</td>
          <td><span class="type"><span class="type">int</span>|<span class="type">string</span></span></td>
          <td>
           <p class="para">
            Соответствует параметру гарантий записи <code class="parameter">w</code>.
            Подробнее смотрите
            <span class="classname"><a href="class.mongodb-driver-writeconcern.php.html" class="classname">MongoDB\Driver\WriteConcern</a></span>.
           </p>
          </td>
         </tr>

         <tr>
          <td>wTimeoutMS</td>
          <td><span class="type"><span class="type">int</span>|<span class="type">string</span></span></td>
          <td>
           <p class="para">
            Соответствует параметру гарантий записи <code class="parameter">wtimeout</code>.
            Указывает срок в миллисекундах для гарантии записи. Подробнее смотрите
            <span class="classname"><a href="class.mongodb-driver-writeconcern.php.html" class="classname">MongoDB\Driver\WriteConcern</a></span>.
           </p>
           <p class="para">
            Если указан, <code class="literal">wTimeoutMS</code> должен быть
            32-битным целым числом со знаком, большим или равным нулю.
           </p>
          </td>
         </tr>

         <tr>
          <td>zlibCompressionLevel</td>
          <td><span class="type">int</span></td>
          <td>
           <p class="para">
            Указывает уровень сжатия для использования zlib. Эта
            опция ничего не делает, если <code class="literal">zlib</code> не включён в URL опции
            <code class="literal">&quot;compressors&quot;</code>. Смотрите
            <a href="https://github.com/mongodb/specifications/blob/master/source/compression/OP_COMPRESSED.rst#zlibcompressionlevel" class="link external">&raquo;&nbsp;Спецификация компрессии драйвера</a>
            для получения дополнительной информации.
           </p>
          </td>
         </tr>

        </tbody>
       
      </table>

     </p>
    </dd>

   
   
    <dt id="mongodb-driver-manager.construct-driveroptions"><code class="parameter">driverOptions</code></dt>

    <dd>

     <p class="para">
      <table class="doctable table">
       <caption><strong>driverOptions</strong></caption>
       
        <thead>
         <tr>
          <th>Опция</th>
          <th>Тип</th>
          <th>Описание</th>
         </tr>

        </thead>

        <tbody class="tbody">
         <tr>
          <td>allow_invalid_hostname</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Отключает проверку имени хоста, если <strong><code>true</code></strong>. По умолчанию — <strong><code>false</code></strong>.
           </p>
           <p class="para">
            Разрешение недопустимых имён хоста может привести к атаке типа
            <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" class="link external">&raquo;&nbsp;&quot;человек посередине&quot; (man-in-the-middle)</a>.
           </p>
           <p class="para">
            Этот параметр является устаревшим псевдонимом
            для параметра URI
            <code class="literal">&quot;tlsAllowInvalidHostnames&quot;</code>
           </p>
          </td>
         </tr>

         <tr>
          <td>autoEncryption</td>
          <td><span class="type">array</span></td>
          <td>
           <p class="para">
            Предоставляет опции для включения автоматического шифрования на уровне поля на стороне клиента.
            </p>
           <blockquote class="note"><p><strong class="note">Замечание</strong>: 
            <p class="para">
             Автоматическое шифрование — функция только для Enterprise версии, которая применяется только к операциям над коллекцией.
             Автоматическое шифрование не поддерживается для операций над базой данных или представлением,
             а операции, которые не обходятся, приведут к ошибке (смотрите <a href="https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#libmongocrypt-auto-encryption-allow-list" class="link external">&raquo;&nbsp;libmongocrypt: Список разрешений на автоматическое шифрование</a>). Чтобы обойти автоматическое шифрование для всех операций, установите <code class="literal">bypassAutoEncryption</code> в значение <strong><code>true</code></strong>.
            </p>
            <p class="para">
             Автоматическое шифрование требует, чтобы у аутентифицированного пользователя была привилегия <a href="https://www.mongodb.com/docs/manual/reference/command/listCollections/#required-access" class="link external">&raquo;&nbsp;listCollections</a>.
            </p>
            <p class="para">
             Явное шифрование/дешифрование и автоматическая расшифровка — это функция Community версии.
             Драйвер все ещё может автоматически расшифровывать, если у опции <code class="literal">bypassAutoEncryption</code> установлено значение <strong><code>true</code></strong>.
            </p>
           </p></blockquote>
           <p class="para">
            Поддерживаются следующие опции:

            <table class="doctable table">
             <caption><strong>Опции для автоматического шифрования</strong></caption>
             
              <thead>
               <tr>
                <th>Опция</th>
                <th>Тип</th>
                <th>Описание</th>
               </tr>

              </thead>

              <tbody class="tbody">
               
         <tr>
          <td>keyVaultClient</td>
          <td><span class="classname"><a href="class.mongodb-driver-manager.php.html" class="classname">MongoDB\Driver\Manager</a></span></td>
          <td>Менеджер маршрутизации запросов ключей данных в отдельный кластер MongoDB. По умолчанию метод выбирает текущий менеджер и кластер.</td>
         </tr>


               
         <tr>
          <td>keyVaultNamespace</td>
          <td><span class="type">string</span></td>
          <td>Полное пространство имён (например, <code class="literal">&quot;databaseName.collectionName&quot;</code>), обозначающее коллекцию, которая содержит все ключи данных, используемые для шифрования и дешифрования. Обязательный параметр.</td>
         </tr>


               
         <tr>
          <td>kmsProviders</td>
          <td><span class="type">array</span></td>
          <td>
           <p class="para">
            Документ, содержащий конфигурацию для одного или нескольких провайдеров KMS, которые используются для шифрования ключей данных.
            Поддерживаются провайдеры <code class="literal">&quot;aws&quot;</code>, <code class="literal">&quot;azure&quot;</code>, <code class="literal">&quot;gcp&quot;</code> и <code class="literal">&quot;local&quot;</code>, и, по крайней мере, один из них должен быть указан.
           </p>
           <p class="para">
            Если для <code class="literal">&quot;aws&quot;</code>, <code class="literal">&quot;azure&quot;</code> или <code class="literal">&quot;gcp&quot;</code> указан пустой документ,
            драйвер попытается сконфигурировать провайдера, используя
            <a href="https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#automatic-credentials" class="link external">&raquo;&nbsp;Автоматические учётные данные</a>.
           </p>
           <p class="para">
            Формат для <code class="literal">&quot;aws&quot;</code> выглядит следующим образом:
           </p>
           <div class="example-contents">
<div class="javascriptcode"><pre class="javascriptcode">aws: {
    accessKeyId: &lt;string&gt;,
    secretAccessKey: &lt;string&gt;,
    sessionToken: &lt;optional string&gt;
}</pre>
</div>
           </div>

           <p class="para">
            Формат для <code class="literal">&quot;azure&quot;</code> выглядит следующим образом:
           </p>
           <div class="example-contents">
<div class="javascriptcode"><pre class="javascriptcode">azure: {
    tenantId: &lt;string&gt;,
    clientId: &lt;string&gt;,
    clientSecret: &lt;string&gt;,
    identityPlatformEndpoint: &lt;optional string&gt; // По умолчанию &quot;login.microsoftonline.com&quot;

}</pre>
</div>
           </div>

           <p class="para">
            Формат для <code class="literal">&quot;gcp&quot;</code> выглядит следующим образом:
           </p>
           <div class="example-contents">
<div class="javascriptcode"><pre class="javascriptcode">gcp: {
    email: &lt;string&gt;,
    privateKey: &lt;base64 string&gt;|&lt;MongoDB\BSON\Binary&gt;,
    endpoint: &lt;optional string&gt; // По умолчанию &quot;oauth2.googleapis.com&quot;

}</pre>
</div>
           </div>

           <p class="para">
            Формат для <code class="literal">&quot;kmip&quot;</code> выглядит следующим образом:
           </p>
           <div class="example-contents">
<div class="javascriptcode"><pre class="javascriptcode">kmip: {
    endpoint: &lt;string&gt;
}</pre>
</div>
           </div>

           <p class="para">
            Формат для <code class="literal">&quot;local&quot;</code> выглядит следующим образом:
           </p>
           <div class="example-contents">
<div class="javascriptcode"><pre class="javascriptcode">local: {
    // 96-байтовый главный ключ, используемый для шифрования/дешифрования ключей данных
    key: &lt;base64 string&gt;|&lt;MongoDB\BSON\Binary&gt;
}</pre>
</div>
           </div>

          </td>
         </tr>


               
         <tr>
          <td>tlsOptions</td>
          <td><span class="type">array</span></td>
          <td>
           <p class="para">
            Документ, содержащий конфигурацию TLS для одного или нескольких KMS провайдеров. Поддерживаются провайдеры <code class="literal">&quot;aws&quot;</code>, <code class="literal">&quot;azure&quot;</code>, <code class="literal">&quot;gcp&quot;</code> и <code class="literal">&quot;kmip&quot;</code>. Все провайдеры поддерживают следующие опции:
           </p>
           <div class="example-contents">
<div class="javascriptcode"><pre class="javascriptcode">&lt;provider&gt;: {
    tlsCaFile: &lt;optional string&gt;,
    tlsCertificateKeyFile: &lt;optional string&gt;,
    tlsCertificateKeyFilePassword: &lt;optional string&gt;,
    tlsDisableOCSPEndpointCheck: &lt;optional bool&gt;
}</pre>
</div>
           </div>

          </td>
         </tr>


               <tr>
                <td>schemaMap</td>
                <td><span class="type"><span class="type">array</span>|<span class="type">object</span></span></td>
                <td>
                 <p class="para">
                  Карта пространств имён коллекции в локальную схему JSON. Используется для настройки автоматического шифрования.
                  Дополнительную информацию смотрите в <a href="https://www.mongodb.com/docs/manual/reference/security-client-side-automatic-json-schema/" class="link external">&raquo;&nbsp;Правилах автоматического шифрования</a> в руководстве по MongoDB.
                  Ошибкой является указание коллекции как в <code class="literal">schemaMap</code>, так и в <code class="literal">encryptedFieldsMap</code>.
                 </p>
                 <blockquote class="note"><p><strong class="note">Замечание</strong>: 
                  <span class="simpara">
                   Добавление <code class="literal">schemaMap</code> обеспечивает большую
                   безопасность, чем использование схем JSON, полученных с
                   сервера. Это защищает от вредоносного сервера, рекламирующего
                   ложную схему JSON, которая может заставить клиента отправлять
                   незашифрованные данные, которые должны быть зашифрованы.
                  </span>
                 </p></blockquote>
                 <blockquote class="note"><p><strong class="note">Замечание</strong>: 
                  <span class="simpara">
                   Схемы, поставляемые в <code class="literal">schemaMap</code>, применяются только
                   для настройки автоматического шифрования на стороне
                   клиента. Другие правила проверки в схеме JSON
                   не будут применяться драйвером и приведут к ошибке.
                  </span>
                 </p></blockquote>
                </td>
               </tr>

               <tr>
                <td>bypassAutoEncryption</td>
                <td><span class="type">bool</span></td>
                <td>
                 Если <strong><code>true</code></strong>, <code class="literal">mongocryptd</code>
                 не будет появляться автоматически.
                 Используется для отключения автоматического шифрования. По умолчанию <strong><code>false</code></strong>.
                </td>
               </tr>

               <tr>
                <td>bypassQueryAnalysis</td>
                <td><span class="type">bool</span></td>
                <td>
                 Если <strong><code>true</code></strong>, автоматический анализ исходящих команд будет отключён и <code class="literal">mongocryptd</code> не будет появляться автоматически.
                 Это позволяет использовать явное шифрование для запроса индексированных полей без необходимости использования лицензированной корпоративной библиотеки <code class="literal">crypt_shared</code> или процесса <code class="literal">mongocryptd</code>. По умолчанию установлено значение <strong><code>false</code></strong>.
                </td>
               </tr>

               <tr>
                <td>encryptedFieldsMap</td>
                <td><span class="type"><span class="type">array</span>|<span class="type">object</span></span></td>
                <td>
                 <p class="para">
                  Карта пространств имён коллекции в документе <code class="literal">encryptedFields</code>. Используется для настройки шифрования с возможностью запроса. Смотрите <a href="https://www.mongodb.com/docs/manual/core/queryable-encryption/fundamentals/encrypt-and-query/" class="link external">&raquo;&nbsp;Шифрование полей и возможность запросов</a> в руководстве по MongoDB для получения дополнительной информации.
                  Ошибкой является указание коллекции как в <code class="literal">encryptedFieldsMap</code>, так и в <code class="literal">schemaMap</code>.
                 </p>
                 <blockquote class="note"><p><strong class="note">Замечание</strong>: 
                  <span class="simpara">
                   Указание <code class="literal">encryptedFieldsMap</code> обеспечивает большую безопасность, чем полагаться на <code class="literal">encryptedFields</code>, полученные от сервера.
                   Это защищает от злонамеренного сервера, рекламирующего ложные <code class="literal">encryptedFields</code>.
                  </span>
                 </p></blockquote>
                </td>
               </tr>

               <tr>
                <td>extraOptions</td>
                <td><span class="type">array</span></td>
                <td>
                 <p class="para">
                  <code class="literal">extraOptions</code> относится к процессу <code class="literal">mongocryptd</code>.
                  Поддерживаются следующие параметры:
                 </p>
                 <ul class="simplelist">
                  <li class="member">
                   <code class="literal">mongocryptdURI</code> (<span class="type">string</span>): URI для подключения к существующему процессу <code class="literal">mongocryptd</code>.
                   По умолчанию <code class="literal">&quot;mongodb://localhost:27020&quot;</code>.
                  </li>
                  <li class="member">
                   <code class="literal">mongocryptdBypassSpawn</code> (<span class="type">bool</span>): Если <strong><code>true</code></strong>, предотвращает создание драйвером <code class="literal">mongocryptd</code>.
                   По умолчанию <strong><code>false</code></strong>.
                  </li>
                  <li class="member">
                   <code class="literal">mongocryptdSpawnPath</code> (<span class="type">string</span>): Абсолютный путь для поиска двоичного файла <code class="literal">mongocryptd</code>.
                   По умолчанию это пустая строка, использующая системные пути.
                  </li>
                  <li class="member">
                   <code class="literal">mongocryptdSpawnArgs</code> (<span class="type">array</span>): Массив строковых аргументов для передачи в <code class="literal">mongocryptd</code> при создании.
                   По умолчанию <code class="literal">[&quot;--idleShutdownTimeoutSecs=60&quot;]</code>.
                  </li>
                  <li class="member">
                   <code class="literal">cryptSharedLibPath</code> (<span class="type">string</span>): Абсолютный путь к библиотеке общего доступа <code class="literal">crypt_shared</code>.
                   По умолчанию — пустая строка и использует системные пути.
                  </li>
                  <li class="member">
                   <code class="literal">cryptSharedLibRequired</code> (<span class="type">bool</span>): Если <strong><code>true</code></strong>, требует, чтобы драйвер загружал <code class="literal">crypt_shared</code>.
                   По умолчанию <strong><code>false</code></strong>.
                  </li>
                 </ul>
                 <p class="para">
                  Смотрите
                 <a href="https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#extraoptions" class="link external">&raquo;&nbsp;Руководство по шифрованию на стороне клиента</a>,
                 чтобы получить больше информации.
                 </p>
                </td>
               </tr>

              </tbody>
             
            </table>

           </p>

           <blockquote class="note"><p><strong class="note">Замечание</strong>: 
            <span class="simpara">
             Автоматическое шифрование — это только корпоративная функция, которая применяется
             только к операциям над коллекцией. Автоматическое шифрование не
             поддерживается для операций с базой данных или представлением, операции, которые
             не получится обойти, приведут к ошибке. Чтобы обойти автоматическое
             шифрование для всех операций, установите <code class="literal">bypassAutoEncryption=true</code>
             в <code class="literal">autoEncryption</code>. Для получения дополнительной информации
             о разрешённых операциях смотрите
             <a href="https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#libmongocrypt-auto-encryption-whitelist" class="link external">&raquo;&nbsp;Руководство по шифрованию на стороне клиента</a>.
            </span>
           </p></blockquote>
          </td>
         </tr>

         <tr>
          <td>ca_dir</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Путь к корректно захешированному каталогу сертификатов. По умолчанию будет
            использоваться хранилище системных сертификатов.
           </p>
          </td>
         </tr>

         <tr>
          <td>ca_file</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Путь к файлу с одним или несколькими центрами сертификации,
            которые следует считать доверенными при установлении соединения TLS.
            По умолчанию будет
            использоваться хранилище системных сертификатов.
           </p>
           <p class="para">
            Параметр является устаревшим псевдонимом
            для параметра URI <code class="literal">&quot;tlsCAFile&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>context</td>
          <td><span class="type">resource</span></td>
          <td>
           <p class="para">
            <a href="context.ssl.php.html" class="link">Параметры контекста SSL</a> для использования
            в качестве запасного варианта, если не указана опция драйвера или эквивалентная ей опция URI. Обратите внимание, что драйвер не обращается к контексту
            потока по умолчанию (т. е. <span class="function"><a href="function.stream-context-get-default.php.html" class="function">stream_context_get_default()</a></span>).
            Поддерживаются следующие параметры контекста:
           </p>

           <table class="doctable table">
            <caption><strong>Резервные параметры контекста SSL</strong></caption>
            
             <thead>
              <tr>
               <th>Параметр драйвера</th>
               <th>Параметр контекста (запасной вариант)</th>
              </tr>

             </thead>

             <tbody class="tbody">
              <tr>
               <td>ca_dir</td>
               <td>capath</td>
              </tr>

              <tr>
               <td>ca_file</td>
               <td>cafile</td>
              </tr>

              <tr>
               <td>pem_file</td>
               <td>local_cert</td>
              </tr>

              <tr>
               <td>pem_pwd</td>
               <td>passphrase</td>
              </tr>

              <tr>
               <td>weak_cert_validation</td>
               <td>allow_self_signed</td>
              </tr>

             </tbody>
            
           </table>

           <p class="para">
            Параметр поддерживается для обратной совместимости,
            но его следует считать устаревшим.
           </p>
          </td>
         </tr>

         <tr>
          <td>crl_file</td>
          <td><span class="type">string</span></td>
          <td>Путь к файлу списка аннулированных сертификатов.</td>
         </tr>

         <tr>
          <td>disableClientPersistence</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Если <strong><code>true</code></strong>, Manager будет использовать новый клиент libmongoc, который не будет
            сохраняться или использоваться другими объектами Manager.
            Когда этот объект Manager будет освобождён, его клиент будет уничтожен,
            а все соединения будут закрыты. По умолчанию <strong><code>false</code></strong>.
           </p>
           <blockquote class="note"><p><strong class="note">Замечание</strong>: 
            <span class="simpara">
             Disabling client persistence is not generally recommended.
            </span>
           </p></blockquote>
          </td>
         </tr>

         <tr>
          <td>driver</td>
          <td><span class="type">array</span></td>
          <td>
           <p class="para">
            Позволяет пользовательским драйверам добавлять свои метаданные к рукопожатию сервера.
            По умолчанию драйвер передаёт своё собственное имя, версию и
            платформу (то есть версию PHP) в рукопожатие. Пользовательские драйверы могут
            указывать строки для ключей <code class="literal">&quot;name&quot;</code>,
            <code class="literal">&quot;version&quot;</code> и
            <code class="literal">&quot;platform&quot;</code> этого массива, которые будут
            добавлены к соответствующие поля в документе рукопожатия.
           </p>
           <blockquote class="note"><p><strong class="note">Замечание</strong>: 
            <span class="simpara">
             Информация о рукопожатии ограничена 512 байтами. Драйвер урезает
             данные рукопожатия, чтобы соответствовать этой 512-байтовой строке. Драйверам и ODM
             рекомендуется сохранять краткость своих метаданных.
            </span>
           </p></blockquote>
          </td>
         </tr>

         <tr>
          <td>pem_file</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Путь к сертификату в формате <abbr title="Privacy-Enhanced Mail">PEM</abbr> для аутентификации клиента.
           </p>
           <p class="para">
            Этот параметр является устаревшим псевдонимом
            для параметра URI <code class="literal">&quot;tlsCertificateKeyFile&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>pem_pwd</td>
          <td><span class="type">string</span></td>
          <td>
           <p class="para">
            Парольная фраза к <abbr title="Privacy-Enhanced Mail">PEM</abbr>-закодированному сертификату (если есть).
           </p>
           <p class="para">
            Этот параметр является устаревшим псевдонимом
            для параметра URI <code class="literal">&quot;tlsCertificateKeyFilePassword&quot;</code>.
           </p>
          </td>
         </tr>

         <tr>
          <td>serverApi</td>
          <td><span class="classname"><a href="class.mongodb-driver-serverapi.php.html" class="classname">MongoDB\Driver\ServerApi</a></span></td>
          <td>
           <p class="para">
            Опция используется для объявления версии API сервера для менеджера.
            Если не указана, версия API не объявляется.
           </p>
          </td>
         </tr>

         <tr>
          <td>weak_cert_validation</td>
          <td><span class="type">bool</span></td>
          <td>
           <p class="para">
            Отключает проверку сертификат, если <strong><code>true</code></strong>. По умолчанию — <strong><code>false</code></strong>
           </p>
           <p class="para">
            Этот параметр является устаревшим псевдонимом
            для параметра URI <code class="literal">&quot;tlsAllowInvalidCertificates&quot;</code>.
           </p>
          </td>
         </tr>

        </tbody>
       
      </table>

     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 errors" id="refsect1-mongodb-driver-manager.construct-errors">
  <h3 class="title">Ошибки</h3>
  <ul class="simplelist">
   <li class="member">При ошибке парсинга аргумента бросает исключение  <span class="classname"><a href="class.mongodb-driver-exception-invalidargumentexception.php.html" class="classname">MongoDB\Driver\Exception\InvalidArgumentException</a></span>.</li>
   <li class="member">При неверном формате <code class="parameter">uri</code> выбрасывает исключение <span class="classname"><a href="class.mongodb-driver-exception-runtimeexception.php.html" class="classname">MongoDB\Driver\Exception\RuntimeException</a></span>.</li>
  </ul>
 </div>


 <div class="refsect1 changelog" id="refsect1-mongodb-driver-manager.construct-changelog">
  <h3 class="title">Список изменений</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Версия</th>
       <th>Описание</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>PECL mongodb 1.16.0</td>
       <td>
        <p class="para">
         Провайдер AWS KMS для шифрования на стороне клиента теперь принимает параметр
         <code class="literal">&quot;sessionToken&quot;</code>, который можно использовать для аутентификации
         с временными учётными данными AWS.
        </p>
        <p class="para">
         Добавлено <code class="literal">&quot;tlsDisableOCSPEndpointCheck&quot;</code> в поле
         <code class="literal">&quot;tlsOptions&quot;</code> поля
         <code class="literal">&quot;autoEncryption&quot;</code> опции драйвера.
        </p>
        <p class="para">
         Если для KMS-провайдеров <code class="literal">&quot;azure&quot;</code> или
         <code class="literal">&quot;gcp&quot;</code> указан пустой документ,
         драйвер попытается сконфигурировать провайдера, заполнив
         <a href="https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#automatic-credentials" class="link external">&raquo;&nbsp;Автоматические учётные данные</a>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.15.0</td>
       <td>
        <p class="para">
         Если для KMS-провайдера <code class="literal">&quot;aws&quot;</code> указан пустой документ,
         драйвер попытается сконфигурировать провайдера, заполнив
         <a href="https://github.com/mongodb/specifications/blob/master/source/client-side-encryption/client-side-encryption.rst#automatic-credentials" class="link external">&raquo;&nbsp;Автоматические учётные данные</a>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.14.0</td>
       <td>
        <p class="para">
         Добавлены опции автоматического шифрования <code class="literal">&quot;bypassQueryAnalysis&quot;</code> и <code class="literal">&quot;encryptedFieldsMap&quot;</code>.
         Дополнительные опции, относящиеся к <code class="literal">crypt_shared</code>, теперь поддерживаются в опции автоматического шифрования <code class="literal">&quot;extraOptions&quot;</code>.
         option.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.13.0</td>
       <td>
        <p class="para">
         Добавлены URI опции <code class="literal">&quot;srvMaxHosts&quot;</code> и
         <code class="literal">&quot;srvServiceName&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.12.0</td>
       <td>
        <p class="para">
         KMIP теперь поддерживается в качестве KMS провайдера для шифрования на стороне клиента
         и может быть настроен с помощью поля <code class="literal">&quot;kmsProviders&quot;</code>
         параметра драйвера <code class="literal">&quot;autoEncryption&quot;</code>.
         Кроме того, параметры TLS для KMS-провайдеров теперь можно настроить в поле <code class="literal">&quot;tlsOptions&quot;</code>
         параметра драйвера <code class="literal">&quot;autoEncryption&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.11.0</td>
       <td>
        <p class="para">
         Добавлена опция URI <code class="literal">&quot;loadBalanced&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.10.0</td>
       <td>
        <p class="para">
         Добавлена опция драйвера <code class="literal">&quot;disableClientPersistence&quot;</code>.
        </p>
        <p class="para">
         Azure и GCP теперь поддерживаются в качестве поставщиков KMS
         для шифрования на стороне клиента и могут быть настроены в поле <code class="literal">&quot;kmsProviders&quot;</code> параметра драйвера <code class="literal">&quot;autoEncryption&quot;</code>.
         Строки в кодировке Base64 теперь принимаются в качестве альтернативы <span class="classname"><a href="class.mongodb-bson-binary.php.html" class="classname">MongoDB\BSON\Binary</a></span>
         для параметров внутри <code class="literal">&quot;kmsProviders&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.8.0</td>
       <td>
        <p class="para">
         Добавлены опции URI <code class="literal">&quot;directConnection&quot;</code>,
         <code class="literal">&quot;tlsDisableCertificateRevocationCheck&quot;</code>, и
         <code class="literal">&quot;tlsDisableOCSPEndpointCheck&quot;</code>.
        </p>
        <p class="para">
         Добавлен параметр драйвера <code class="literal">&quot;driver&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.7.0</td>
       <td>
        <p class="para">
         Добавлена опция драйвера <code class="literal">&quot;autoEncryption&quot;</code>.
        </p>
        <p class="para">
         Указание любой опции SSL или TLS в
         параметре <code class="parameter">driverOptions</code> теперь неявно включает TLS, как это делается для
         соответствующих опций URI.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.6.0</td>
       <td>
        <p class="para">
         Добавлены параметры URI <code class="literal">&quot;retryReads&quot;</code>, <code class="literal">&quot;tls&quot;</code>,
         <code class="literal">&quot;tlsAllowInvalidCertificates&quot;</code>,
         <code class="literal">&quot;tlsAllowInvalidHostnames&quot;</code>,
         <code class="literal">&quot;tlsCAFile&quot;</code>,
         <code class="literal">&quot;tlsCertificateKeyFile&quot;</code>,
         <code class="literal">&quot;tlsCertificateKeyFilePassword&quot;</code>, и
         <code class="literal">&quot;tlsInsecure&quot;</code>.
        </p>
        <p class="para">
         Параметр URI <code class="literal">&quot;retryWrites&quot;</code> по умолчанию <strong><code>true</code></strong>.
        </p>
        <p class="para">
         Передача URI-опции SSL или TLS через строку подключения или параметр
         <code class="parameter">uriOptions</code>
         теперь неявно включает TLS, при условии, если
         <code class="literal">ssl</code> или
         <code class="literal">tls</code> не равны <strong><code>false</code></strong>. TSL <em>не</em>
         включается неявно для
         любых опций в параметре <code class="parameter">driverOptions</code>,
         как в предыдущих версиях.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.5.0</td>
       <td>
        <p class="para">
         <code class="literal">&quot;wtimeoutMS&quot;</code> теперь всегда проверяется и применяется к
         гарантии записи. Ранее эта опция игнорировалась, если
         <code class="literal">&quot;w&quot;</code> был &lt;= 1, поскольку время ожидания применяется только к
         репликации.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.4.0</td>
       <td>
        <p class="para">
         Добавлены опции URI <code class="literal">&quot;compressors&quot;</code>,
         <code class="literal">&quot;retryWrites&quot;</code> и
         <code class="literal">&quot;zlibCompressionLevel&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.3.0</td>
       <td>
        <p class="para">
         В аргументе <code class="parameter">uriOptions</code> теперь есть опции
         <code class="literal">&quot;authMechanism&quot;</code> и
         <code class="literal">&quot;authMechanismProperties&quot;</code>. Раньше эти опции
         поддерживались только в аргументе <code class="parameter">uri</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.2.0</td>
       <td>
        <p class="para">
         Аргумент <code class="parameter">uri</code> по умолчанию теперь
         <code class="literal">&quot;mongodb://127.0.0.1/&quot;</code>. Порт по умолчанию не изменился -
         <code class="literal">27017</code>.
        </p>
        <p class="para">
         Добавлен URI-параметр <code class="literal">&quot;appname&quot;</code>.
        </p>
        <p class="para">
         Добавлены параметры драйвера <code class="literal">&quot;allow_invalid_hostname&quot;</code>,
         <code class="literal">&quot;ca_file&quot;</code>, <code class="literal">&quot;ca_dir&quot;</code>,
         <code class="literal">&quot;clr_file&quot;</code>, <code class="literal">&quot;pem_file&quot;</code>,
         <code class="literal">&quot;pem_pwd&quot;</code> и
         <code class="literal">&quot;weak_cert_validation&quot;</code>.
        </p>
        <p class="para">
         API потоков PHP больше не используется для соединения с сокетом. Параметр URI
         <code class="literal">&quot;connectTimeoutMS&quot;</code> теперь по умолчанию равен 10
         секунд вместо
         <a href="filesystem.configuration.php.html#ini.default-socket-timeout" class="link">default_socket_timeout</a>
         в предыдущих версиях. Кроме того, драйвер больше не поддерживает все
         <a href="context.ssl.php.html" class="link">параметры SSL-контекста</a> через параметр драйвера
         <code class="literal">&quot;context&quot;</code>.
        </p>
       </td>
      </tr>

      <tr>
       <td>PECL mongodb 1.1.0</td>
       <td>
        <p class="para">
         Аргумент <code class="parameter">uri</code> является необязательный и по умолчанию равен
         <code class="literal">&quot;mongodb://localhost:27017/&quot;</code>.
        </p>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-mongodb-driver-manager.construct-examples">
  <h3 class="title">Примеры</h3>
  <div class="example" id="example-3913">
   <p><strong>Пример #1 Примеры использования <span class="function"><strong>MongoDB\Driver\Manager::__construct()</strong></span></strong></p>
   <div class="example-contents"><p>Подключение к автономному узлу MongoDB:</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(</span><span style="color: #DD0000">"mongodb://example.com:27017"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>
    Подключение к автономному узлу MongoDB через доменный сокет Unix. Путь сокета
    может содержать специальные символы, например слеши, которые должны закодированы
    с помощью <span class="function"><a href="function.rawurlencode.php.html" class="function">rawurlencode()</a></span>.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(</span><span style="color: #DD0000">"mongodb://" </span><span style="color: #007700">. </span><span style="color: #0000BB">rawurlencode</span><span style="color: #007700">(</span><span style="color: #DD0000">"/tmp/mongodb-27017.sock"</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Подключение к набору реплик:</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(</span><span style="color: #DD0000">"mongodb://rs1.example.com,rs2.example.com/?replicaSet=myReplicaSet"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Подключение к сегментированному кластеру (т. е. одну или нескольким экземплярам mongos):</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(</span><span style="color: #DD0000">"mongodb://mongos1.example.com,mongos2.example.com/"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>Подключение к MongoDB с учётными данными аутентификации для конкретного пользователя и базы данных:</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(</span><span style="color: #DD0000">"mongodb://myusername:mypassword@example.com/?authSource=databaseName"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>


   <div class="example-contents"><p>
    Подключение к MongoDB с учётными данными аутентификации для конкретного пользователя и базы данных,
    где имя пользователя или пароль содержат специальные
    символы (например, <code class="literal">@</code>, <code class="literal">:</code>,
    <code class="literal">%</code>). В следующем примере, строка с паролем
    <code class="literal">myp@ss:w%rd</code> была вручную экранирована; однако
    <span class="function"><a href="function.rawurlencode.php.html" class="function">rawurlencode()</a></span> может использоваться для экранирования URI-компонентов,
    которые могут содержать специальные символы.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(</span><span style="color: #DD0000">"mongodb://myusername:mypassword@example.com/?authSource=databaseName"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>


   <div class="example-contents"><p>Подключение к MongoDB с аутентификацией X509:</p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br />$manager </span><span style="color: #007700">= new </span><span style="color: #0000BB">MongoDB\Driver\Manager</span><span style="color: #007700">(<br />    </span><span style="color: #DD0000">"mongodb://example.com/?ssl=true&amp;authMechanism=MONGODB-X509"</span><span style="color: #007700">,<br />    [],<br />    [<br />        </span><span style="color: #DD0000">"pem_file" </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">"/path/to/client.pem"</span><span style="color: #007700">,<br />    ]<br />);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-mongodb-driver-manager.construct-seealso">
  <h3 class="title">Смотрите также</h3>
  <ul class="simplelist">
   <li class="member"><a href="mongodb.connection-handling.php.html" class="link">Обработка подключения и сохранение</a></li>
   <li class="member"><a href="https://www.mongodb.com/docs/manual/reference/connection-string/" class="link external">&raquo;&nbsp;Формат строки соединения MongoDB</a></li>
  </ul>
 </div>


</div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=mongodb-driver-manager.construct&amp;redirect=https://www.php.net/manual/ru/mongodb-driver-manager.construct.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">2 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="121328">  <div class="votes">
    <div id="Vu121328">
    <a href="https://www.php.net/manual/vote-note.php?id=121328&amp;page=mongodb-driver-manager.construct&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121328">
    <a href="https://www.php.net/manual/vote-note.php?id=121328&amp;page=mongodb-driver-manager.construct&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121328" title="50% like this...">
    0
    </div>
  </div>
  <a href="mongodb-driver-manager.construct.php.html#121328" class="name">
  <strong class="user"><em>denys at bulakhweb dot com</em></strong></a><a class="genanchor" href="mongodb-driver-manager.construct.php.html#121328"> &para;</a><div class="date" title="2017-07-06 02:20"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121328">
<div class="phpcode"><code><span class="html">Please note, if you send socketTimeoutMs value as 0 to disable timeout (according to MongoDB documentation), it will be considered as default value which is 300,000 ms in PHP driver. So send some really huge amount in case if you need to disable limitation.</span></code></div>
  </div>
 </div>
  <div class="note" id="121329">  <div class="votes">
    <div id="Vu121329">
    <a href="https://www.php.net/manual/vote-note.php?id=121329&amp;page=mongodb-driver-manager.construct&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121329">
    <a href="https://www.php.net/manual/vote-note.php?id=121329&amp;page=mongodb-driver-manager.construct&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121329" title="25% like this...">
    -2
    </div>
  </div>
  <a href="mongodb-driver-manager.construct.php.html#121329" class="name">
  <strong class="user"><em>denys at bulakhweb dot com</em></strong></a><a class="genanchor" href="mongodb-driver-manager.construct.php.html#121329"> &para;</a><div class="date" title="2017-07-06 02:31"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121329">
<div class="phpcode"><code><span class="html">Please note, if you send socketTimeoutMs value as 0 to disable timeout (according to MongoDB documentation), it will be considered as default value which is 300,000 ms in PHP driver. So send some really huge amount in case if you need to disable limitation.</span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=mongodb-driver-manager.construct&amp;redirect=https://www.php.net/manual/ru/mongodb-driver-manager.construct.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="class.mongodb-driver-manager.php.html">MongoDB\Driver\Manager</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="mongodb-driver-manager.addsubscriber.php.html" title="addSubscriber">addSubscriber</a>
                        </li>
                                                <li class="current">
                            <a href="mongodb-driver-manager.construct.php.html" title="_&#8203;_&#8203;construct">_&#8203;_&#8203;construct</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.createclientencryption.php.html" title="createClientEncryption">createClientEncryption</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.executebulkwrite.php.html" title="executeBulkWrite">executeBulkWrite</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.executecommand.php.html" title="executeCommand">executeCommand</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.executequery.php.html" title="executeQuery">executeQuery</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.executereadcommand.php.html" title="executeReadCommand">executeReadCommand</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.executereadwritecommand.php.html" title="executeReadWriteCommand">executeReadWriteCommand</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.executewritecommand.php.html" title="executeWriteCommand">executeWriteCommand</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.getencryptedfieldsmap.php.html" title="getEncryptedFieldsMap">getEncryptedFieldsMap</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.getreadconcern.php.html" title="getReadConcern">getReadConcern</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.getreadpreference.php.html" title="getReadPreference">getReadPreference</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.getservers.php.html" title="getServers">getServers</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.getwriteconcern.php.html" title="getWriteConcern">getWriteConcern</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.removesubscriber.php.html" title="removeSubscriber">removeSubscriber</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.selectserver.php.html" title="selectServer">selectServer</a>
                        </li>
                                                <li class="">
                            <a href="mongodb-driver-manager.startsession.php.html" title="startSession">startSession</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
