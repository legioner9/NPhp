<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP: MongoDB - Manual </title>

 <link rel="icon" type="image/svg+xml" sizes="any" href="../../favicon.svg%3Fv=2">
 <link rel="icon" type="image/png" sizes="196x196" href="../../favicon-196x196.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png%3Fv=2">
 <link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png%3Fv=2">
 <link rel="shortcut icon" href="../../favicon.ico%3Fv=2">

 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="set.mongodb.php.html">
 <link rel="shorturl" href="set.mongodb.php.html">
 <link rel="alternate" href="set.mongodb.php.html" hreflang="x-default">

 <link rel="contents" href="index.php.html">
 <link rel="index" href="refs.database.vendors.php.html">
 <link rel="prev" href="function.db2-tables.php.html">
 <link rel="next" href="mongodb.setup.php.html">

 <link rel="alternate" href="https://www.php.net/manual/en/set.mongodb.php" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/de/set.mongodb.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/es/set.mongodb.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/fr/set.mongodb.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/it/set.mongodb.php" hreflang="it">
 <link rel="alternate" href="https://www.php.net/manual/ja/set.mongodb.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/set.mongodb.php" hreflang="pt_BR">
 <link rel="alternate" href="set.mongodb.php.html" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/tr/set.mongodb.php" hreflang="tr">
 <link rel="alternate" href="https://www.php.net/manual/zh/set.mongodb.php" hreflang="zh">

<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1689765002&amp;f=%252Ffonts%252FFira%252Ffira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1700771401&amp;f=%252Ffonts%252FFont-Awesome%252Fcss%252Ffontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1705413607&amp;f=%252Fstyles%252Ftheme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached.php%3Ft=1701958202&amp;f=%252Fstyles%252Ftheme-medium.css" media="screen">

 <base href="">


</head>
<body class="docs ">

<nav id="head-nav" class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <a href="https://www.php.net/" class="brand"><img src="../../images/logos/php-logo.svg" width="48" height="24" alt="php"></a>
    <div id="mainmenu-toggle-overlay"></div>
    <input type="checkbox" id="mainmenu-toggle">
    <ul class="nav">
      <li class=""><a href="https://www.php.net/downloads">Downloads</a></li>
      <li class="active"><a href="https://www.php.net/docs.php">Documentation</a></li>
      <li class=""><a href="https://www.php.net/get-involved" >Get Involved</a></li>
      <li class=""><a href="https://www.php.net/support">Help</a></li>
      <li class="">
        <a href="https://www.php.net/releases/8.3/index.php">
          <img src="../../images/php8/logo_php8_3.svg" alt="php8.3" height="22" width="60">
        </a>
      </li>
    </ul>
    <form class="navbar-search" id="topsearch" action="https://www.php.net/search.php">
      <input type="hidden" name="show" value="quickref">
      <input type="search" name="pattern" class="search-query" placeholder="Search" accesskey="s">
    </form>
  </div>
  <div id="flash-message"></div>
</nav>
<div class="headsup"><a href='https://www.php.net/conferences/index.php#2024-02-13-1'>Dutch PHP Conference 2024</a></div>
<nav id="trick"><div><dl>
<dt><a href='https://www.php.net/manual/en/getting-started.php'>Getting Started</a></dt>
	<dd><a href='https://www.php.net/manual/en/introduction.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/tutorial.php'>A simple tutorial</a></dd>
<dt><a href='https://www.php.net/manual/en/langref.php'>Language Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/language.basic-syntax.php'>Basic syntax</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.types.php'>Types</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.variables.php'>Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.constants.php'>Constants</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.expressions.php'>Expressions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.operators.php'>Operators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.control-structures.php'>Control Structures</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.functions.php'>Functions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.oop5.php'>Classes and Objects</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.namespaces.php'>Namespaces</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.enumerations.php'>Enumerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.errors.php'>Errors</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.exceptions.php'>Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.fibers.php'>Fibers</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.generators.php'>Generators</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.attributes.php'>Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/language.references.php'>References Explained</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.variables.php'>Predefined Variables</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.exceptions.php'>Predefined Exceptions</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.interfaces.php'>Predefined Interfaces and Classes</a></dd>
	<dd><a href='https://www.php.net/manual/en/reserved.attributes.php'>Predefined Attributes</a></dd>
	<dd><a href='https://www.php.net/manual/en/context.php'>Context options and parameters</a></dd>
	<dd><a href='https://www.php.net/manual/en/wrappers.php'>Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/security.php'>Security</a></dt>
	<dd><a href='https://www.php.net/manual/en/security.intro.php'>Introduction</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.general.php'>General considerations</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.cgi-bin.php'>Installed as CGI binary</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.apache.php'>Installed as an Apache module</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.sessions.php'>Session Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.filesystem.php'>Filesystem Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.database.php'>Database Security</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.errors.php'>Error Reporting</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.variables.php'>User Submitted Data</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.hiding.php'>Hiding PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/security.current.php'>Keeping Current</a></dd>
<dt><a href='https://www.php.net/manual/en/features.php'>Features</a></dt>
	<dd><a href='https://www.php.net/manual/en/features.http-auth.php'>HTTP authentication with PHP</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.cookies.php'>Cookies</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.sessions.php'>Sessions</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.xforms.php'>Dealing with XForms</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.file-upload.php'>Handling file uploads</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.remote-files.php'>Using remote files</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.connection-handling.php'>Connection handling</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.persistent-connections.php'>Persistent Database Connections</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.commandline.php'>Command line usage</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.gc.php'>Garbage Collection</a></dd>
	<dd><a href='https://www.php.net/manual/en/features.dtrace.php'>DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href='https://www.php.net/manual/en/funcref.php'>Function Reference</a></dt>
	<dd><a href='https://www.php.net/manual/en/refs.basic.php.php'>Affecting PHP's Behaviour</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.audio.php'>Audio Formats Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.auth.php'>Authentication Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.cmdline.php'>Command Line Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.compression.php'>Compression and Archive Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.crypto.php'>Cryptography Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.database.php'>Database Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.calendar.php'>Date and Time Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.file.php'>File System Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.international.php'>Human Language and Character Encoding Support</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.image.php'>Image Processing and Generation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.mail.php'>Mail Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.math.php'>Mathematical Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.nontext.php'>Non-Text MIME Output</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.fileprocess.process.php'>Process Control Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.other.php'>Other Basic Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.remote.other.php'>Other Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.search.php'>Search Engine Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.server.php'>Server Specific Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.session.php'>Session Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.text.php'>Text Processing</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.basic.vartype.php'>Variable and Type Related Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.webservice.php'>Web Services</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.utilspec.windows.php'>Windows Only Extensions</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.xml.php'>XML Manipulation</a></dd>
	<dd><a href='https://www.php.net/manual/en/refs.ui.php'>GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="clearfix">
    <div id="breadcrumbs-inner">
          <div class="next">
        <a href="mongodb.setup.php.html">
          Установка и настройка &raquo;
        </a>
      </div>
              <div class="prev">
        <a href="function.db2-tables.php.html">
          &laquo; db2_tables        </a>
      </div>
          <ul>
            <li><a href='index.php.html'>Руководство по PHP</a></li>      <li><a href='funcref.php.html'>Справочник функций</a></li>      <li><a href='refs.database.php.html'>Модули для работы с базами данных</a></li>      <li><a href='refs.database.vendors.php.html'>Модули для работы с базами данных отдельных производителей</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div class="page-tools">
    <div class="change-language">
      <form action="https://www.php.net/manual/change.php" method="get" id="changelang" name="changelang">
        <fieldset>
          <label for="changelang-langs">Change language:</label>
          <select onchange="document.changelang.submit()" name="page" id="changelang-langs">
            <option value='en/set.mongodb.php'>English</option>
            <option value='de/set.mongodb.php'>German</option>
            <option value='es/set.mongodb.php'>Spanish</option>
            <option value='fr/set.mongodb.php'>French</option>
            <option value='it/set.mongodb.php'>Italian</option>
            <option value='ja/set.mongodb.php'>Japanese</option>
            <option value='pt_BR/set.mongodb.php'>Brazilian Portuguese</option>
            <option value='ru/set.mongodb.php' selected="selected">Russian</option>
            <option value='tr/set.mongodb.php'>Turkish</option>
            <option value='zh/set.mongodb.php'>Chinese (Simplified)</option>
            <option value='help-translate.php'>Other</option>
          </select>
        </fieldset>
      </form>
    </div>
    <div class="edit-bug">
      <a href="https://github.com/php/doc-ru/blob/master/reference/mongodb/set.xml">Submit a Pull Request</a>
      <a href="https://github.com/php/doc-ru/issues/new?body=From%20manual%20page:%20https:%2F%2Fphp.net%2Fset.mongodb%0A%0A---">Report a Bug</a>
    </div>
  </div><div id="set.mongodb" class="set">
 <h1 class="title">Драйвер MongoDB</h1>
 

 <div class="info">
  <div class="abstract">
   <p class="simpara">
    Этот модуль разработан на основе библиотек
    <a href="https://github.com/mongodb/mongo-c-driver" class="link external">&raquo;&nbsp;libmongoc</a> и
    <a href="https://github.com/mongodb/mongo-c-driver/tree/master/src/libbson" class="link external">&raquo;&nbsp;libbson</a>.
    Он предоставляет минимальное API для ключевого функционала драйвера:
    <a href="class.mongodb-driver-command.php.html" class="link">команды</a>,
    <a href="class.mongodb-driver-query.php.html" class="link">запросы</a>,
    <a href="class.mongodb-driver-bulkwrite.php.html" class="link">записи</a>,
    <a href="class.mongodb-driver-manager.php.html" class="link">управление соединением</a>
    и <a href="book.bson.php.html" class="link">сериализация BSON</a>.
   </p>
   <p class="simpara">
    Самодельные библиотеки PHP, требующие этот модуль, могут предоставлять
    высокоуровневые API, такие как: сборщики запросов, методы-помощники для
    индивидуальных команд и GridFS. Разработчики приложений должны рассмотреть
    вопрос об использовании этого модуля совместно с
    <a href="https://github.com/mongodb/mongo-php-library" class="link external">&raquo;&nbsp;библиотекой MongoDB PHP</a>, которая
    реализует такие же высокоуровневые API драйвера MongoDB, как и для других языков.
    Подобное разделение задач позволяет этому драйверу сконцентрироваться
    на главных задачах, стоящих перед ним - повышение производительности.
   </p>
  </div>
 </div>

 





 






 





 







 




 




 




 




<ul class="chunklist chunklist_set"><li><a href="mongodb.setup.php.html">Установка и настройка</a><ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.requirements.php.html">Требования</a></li><li><a href="mongodb.installation.php.html">Установка</a></li><li><a href="mongodb.configuration.php.html">Настройка во время выполнения</a></li><li><a href="mongodb.constants.php.html">Предопределённые константы</a></li></ul></li><li><a href="mongodb.tutorial.php.html">Обучающие материалы</a><ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.tutorial.library.php.html">Работа библиотеки PHP с драйвером MongoDB (PHPLIB)</a></li><li><a href="mongodb.tutorial.apm.php.html">Мониторинг производительности приложения (Application Performance Monitoring или APM)</a></li></ul></li><li><a href="mongodb.architecture.php.html">Архитектура и внутреннее устройство драйвера</a> — Обзор архитектуры драйвера и её особенностей<ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.overview.php.html">Архитектура</a> — Обзор архитектуры</li><li><a href="mongodb.connection-handling.php.html">Соединения</a> — Обработка соединения и постоянство</li><li><a href="mongodb.persistence.php.html">Постоянные данные</a> — Сериализация и десериализация переменных PHP в MongoDB</li></ul></li><li><a href="mongodb.security.php.html">Безопасность</a><ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.security.request_injection.php.html">Атака с помощью инъекций в запросе</a></li><li><a href="mongodb.security.script_injection.php.html">Атака с помощью инъекций в скриптах</a></li></ul></li><li><a href="book.mongodb.php.html">MongoDB\Driver</a> — Классы драйвера MongoDB<ul class="chunklist chunklist_set chunklist_children"><li><a href="class.mongodb-driver-manager.php.html">MongoDB\Driver\Manager</a> — Класс MongoDB\Driver\Manager</li><li><a href="class.mongodb-driver-command.php.html">MongoDB\Driver\Command</a> — Класс The MongoDB\Driver\Command</li><li><a href="class.mongodb-driver-query.php.html">MongoDB\Driver\Query</a> — Класс MongoDB\Driver\Query</li><li><a href="class.mongodb-driver-bulkwrite.php.html">MongoDB\Driver\BulkWrite</a> — Класс MongoDB\Driver\BulkWrite</li><li><a href="class.mongodb-driver-session.php.html">MongoDB\Driver\Session</a> — Класс MongoDB\Driver\Session</li><li><a href="class.mongodb-driver-clientencryption.php.html">MongoDB\Driver\ClientEncryption</a> — Класс MongoDB\Driver\ClientEncryption</li><li><a href="class.mongodb-driver-serverapi.php.html">MongoDB\Driver\ServerApi</a> — Класс MongoDB\Driver\ServerApi</li><li><a href="class.mongodb-driver-writeconcern.php.html">MongoDB\Driver\WriteConcern</a> — Класс MongoDB\Driver\WriteConcern</li><li><a href="class.mongodb-driver-readpreference.php.html">MongoDB\Driver\ReadPreference</a> — Класс MongoDB\Driver\ReadPreference</li><li><a href="class.mongodb-driver-readconcern.php.html">MongoDB\Driver\ReadConcern</a> — Класс MongoDB\Driver\ReadConcern</li><li><a href="class.mongodb-driver-cursor.php.html">MongoDB\Driver\Cursor</a> — Класс MongoDB\Driver\Cursor</li><li><a href="class.mongodb-driver-cursorid.php.html">MongoDB\Driver\CursorId</a> — Класс MongoDB\Driver\CursorId</li><li><a href="class.mongodb-driver-cursorinterface.php.html">MongoDB\Driver\CursorInterface</a> — Интерфейс MongoDB\Driver\CursorInterface</li><li><a href="class.mongodb-driver-server.php.html">MongoDB\Driver\Server</a> — Класс MongoDB\Driver\Server</li><li><a href="class.mongodb-driver-serverdescription.php.html">MongoDB\Driver\ServerDescription</a> — Класс MongoDB\Driver\ServerDescription</li><li><a href="class.mongodb-driver-topologydescription.php.html">MongoDB\Driver\TopologyDescription</a> — Класс MongoDB\Driver\TopologyDescription</li><li><a href="class.mongodb-driver-writeconcernerror.php.html">MongoDB\Driver\WriteConcernError</a> — Класс The MongoDB\Driver\WriteConcernError</li><li><a href="class.mongodb-driver-writeerror.php.html">MongoDB\Driver\WriteError</a> — Класс MongoDB\Driver\WriteError</li><li><a href="class.mongodb-driver-writeresult.php.html">MongoDB\Driver\WriteResult</a> — Класс MongoDB\Driver\WriteResult</li></ul></li><li><a href="book.bson.php.html">MongoDB\BSON</a> — Классы типов BSON и функции сериализации<ul class="chunklist chunklist_set chunklist_children"><li><a href="ref.bson.functions.php.html">Функции</a></li><li><a href="class.mongodb-bson-document.php.html">MongoDB\BSON\Document</a> — Класс MongoDB\BSON\Document</li><li><a href="class.mongodb-bson-packedarray.php.html">MongoDB\BSON\PackedArray</a> — Класс MongoDB\BSON\PackedArray</li><li><a href="class.mongodb-bson-iterator.php.html">MongoDB\BSON\Iterator</a> — Класс MongoDB\BSON\Iterator</li><li><a href="class.mongodb-bson-binary.php.html">MongoDB\BSON\Binary</a> — Класс MongoDB\BSON\Binary</li><li><a href="class.mongodb-bson-decimal128.php.html">MongoDB\BSON\Decimal128</a> — Класс MongoDB\BSON\Decimal128</li><li><a href="class.mongodb-bson-javascript.php.html">MongoDB\BSON\Javascript</a> — Класс MongoDB\BSON\Javascript</li><li><a href="class.mongodb-bson-maxkey.php.html">MongoDB\BSON\MaxKey</a> — Класс MongoDB\BSON\MaxKey</li><li><a href="class.mongodb-bson-minkey.php.html">MongoDB\BSON\MinKey</a> — Класс MongoDB\BSON\MinKey</li><li><a href="class.mongodb-bson-objectid.php.html">MongoDB\BSON\ObjectId</a> — Класс MongoDB\BSON\ObjectId</li><li><a href="class.mongodb-bson-regex.php.html">MongoDB\BSON\Regex</a> — Класс MongoDB\BSON\Regex</li><li><a href="class.mongodb-bson-timestamp.php.html">MongoDB\BSON\Timestamp</a> — Класс MongoDB\BSON\Timestamp</li><li><a href="class.mongodb-bson-utcdatetime.php.html">MongoDB\BSON\UTCDateTime</a> — Класс MongoDB\BSON\UTCDateTime</li><li><a href="class.mongodb-bson-type.php.html">MongoDB\BSON\Type</a> — Интерфейс MongoDB\BSON\Type</li><li><a href="class.mongodb-bson-persistable.php.html">MongoDB\BSON\Persistable</a> — Интерфейс MongoDB\BSON\Persistable</li><li><a href="class.mongodb-bson-serializable.php.html">MongoDB\BSON\Serializable</a> — Интерфейс MongoDB\BSON\Serializable</li><li><a href="class.mongodb-bson-unserializable.php.html">MongoDB\BSON\Unserializable</a> — Интерфейс MongoDB\BSON\Unserializable</li><li><a href="class.mongodb-bson-binaryinterface.php.html">MongoDB\BSON\BinaryInterface</a> — Интерфейс MongoDB\BSON\BinaryInterface</li><li><a href="class.mongodb-bson-decimal128interface.php.html">MongoDB\BSON\Decimal128Interface</a> — Интерфейс MongoDB\BSON\Decimal128Interface</li><li><a href="class.mongodb-bson-javascriptinterface.php.html">MongoDB\BSON\JavascriptInterface</a> — Интерфейс MongoDB\BSON\JavascriptInterface</li><li><a href="class.mongodb-bson-maxkeyinterface.php.html">MongoDB\BSON\MaxKeyInterface</a> — Интерфейс MongoDB\BSON\MaxKeyInterface</li><li><a href="class.mongodb-bson-minkeyinterface.php.html">MongoDB\BSON\MinKeyInterface</a> — Интерфейс MongoDB\BSON\MinKeyInterface</li><li><a href="class.mongodb-bson-objectidinterface.php.html">MongoDB\BSON\ObjectIdInterface</a> — Интерфейс MongoDB\BSON\ObjectIdInterface</li><li><a href="class.mongodb-bson-regexinterface.php.html">MongoDB\BSON\RegexInterface</a> — Интерфейс MongoDB\BSON\RegexInterface</li><li><a href="class.mongodb-bson-timestampinterface.php.html">MongoDB\BSON\TimestampInterface</a> — Интерфейс MongoDB\BSON\TimestampInterface</li><li><a href="class.mongodb-bson-utcdatetimeinterface.php.html">MongoDB\BSON\UTCDateTimeInterface</a> — Интерфейс MongoDB\BSON\UTCDateTimeInterface</li><li><a href="class.mongodb-bson-dbpointer.php.html">MongoDB\BSON\DBPointer</a> — Класс MongoDB\BSON\DBPointer (устаревший)</li><li><a href="class.mongodb-bson-int64.php.html">MongoDB\BSON\Int64</a> — Класс MongoDB\BSON\Int64</li><li><a href="class.mongodb-bson-symbol.php.html">MongoDB\BSON\Symbol</a> — Класс MongoDB\BSON\Symbol (устаревший)</li><li><a href="class.mongodb-bson-undefined.php.html">MongoDB\BSON\Undefined</a> — Класс MongoDB\BSON\Undefined (устарело)</li></ul></li><li><a href="mongodb.monitoring.php.html">MongoDB\Driver\Monitoring</a> — Классы мониторинга и функции подписчика<ul class="chunklist chunklist_set chunklist_children"><li><a href="ref.monitoring.functions.php.html">Функции</a></li><li><a href="class.mongodb-driver-monitoring-commandfailedevent.php.html">MongoDB\Driver\Monitoring\CommandFailedEvent</a> — Класс MongoDB\Driver\Monitoring\CommandFailedEvent</li><li><a href="class.mongodb-driver-monitoring-commandstartedevent.php.html">MongoDB\Driver\Monitoring\CommandStartedEvent</a> — Класс MongoDB\Driver\Monitoring\CommandStartedEvent</li><li><a href="class.mongodb-driver-monitoring-commandsucceededevent.php.html">MongoDB\Driver\Monitoring\CommandSucceededEvent</a> — Класс MongoDB\Driver\Monitoring\CommandSucceededEvent</li><li><a href="class.mongodb-driver-monitoring-serverchangedevent.php.html">MongoDB\Driver\Monitoring\ServerChangedEvent</a> — Класс MongoDB\Driver\Monitoring\ServerChangedEvent</li><li><a href="class.mongodb-driver-monitoring-serverclosedevent.php.html">MongoDB\Driver\Monitoring\ServerClosedEvent</a> — Класс MongoDB\Driver\Monitoring\ServerClosedEvent</li><li><a href="class.mongodb-driver-monitoring-serveropeningevent.php.html">MongoDB\Driver\Monitoring\ServerOpeningEvent</a> — Класс MongoDB\Driver\Monitoring\ServerOpeningEvent</li><li><a href="class.mongodb-driver-monitoring-serverheartbeatfailedevent.php.html">MongoDB\Driver\Monitoring\ServerHeartbeatFailedEvent</a> — Класс MongoDB\Driver\Monitoring\ServerHeartbeatFailedEvent</li><li><a href="class.mongodb-driver-monitoring-serverheartbeatstartedevent.php.html">MongoDB\Driver\Monitoring\ServerHeartbeatStartedEvent</a> — Класс MongoDB\Driver\Monitoring\ServerHeartbeatStartedEvent</li><li><a href="class.mongodb-driver-monitoring-serverheartbeatsucceededevent.php.html">MongoDB\Driver\Monitoring\ServerHeartbeatSucceededEvent</a> — Класс MongoDB\Driver\Monitoring\ServerHeartbeatSucceededEvent</li><li><a href="class.mongodb-driver-monitoring-topologychangedevent.php.html">MongoDB\Driver\Monitoring\TopologyChangedEvent</a> — Класс MongoDB\Driver\Monitoring\TopologyChangedEvent</li><li><a href="class.mongodb-driver-monitoring-topologyclosedevent.php.html">MongoDB\Driver\Monitoring\TopologyClosedEvent</a> — Класс MongoDB\Driver\Monitoring\TopologyClosedEvent</li><li><a href="class.mongodb-driver-monitoring-topologyopeningevent.php.html">MongoDB\Driver\Monitoring\TopologyOpeningEvent</a> — Класс MongoDB\Driver\Monitoring\TopologyOpeningEvent</li><li><a href="class.mongodb-driver-monitoring-commandsubscriber.php.html">MongoDB\Driver\Monitoring\CommandSubscriber</a> — Интерфейс The MongoDB\Driver\Monitoring\CommandSubscriber</li><li><a href="class.mongodb-driver-monitoring-logsubscriber.php.html">MongoDB\Driver\Monitoring\LogSubscriber</a> — Интерфейс MongoDB\Driver\Monitoring\LogSubscriber</li><li><a href="class.mongodb-driver-monitoring-sdamsubscriber.php.html">MongoDB\Driver\Monitoring\SDAMSubscriber</a> — Интерфейс MongoDB\Driver\Monitoring\SDAMSubscriber</li><li><a href="class.mongodb-driver-monitoring-subscriber.php.html">MongoDB\Driver\Monitoring\Subscriber</a> — Интерфейс MongoDB\Driver\Monitoring\Subscriber</li></ul></li><li><a href="mongodb.exceptions.php.html">MongoDB\Driver\Exception</a> — Классы исключений<ul class="chunklist chunklist_set chunklist_children"><li><a href="class.mongodb-driver-exception-authenticationexception.php.html">MongoDB\Driver\Exception\AuthenticationException</a> — Класс MongoDB\Driver\Exception\AuthenticationException</li><li><a href="class.mongodb-driver-exception-bulkwriteexception.php.html">MongoDB\Driver\Exception\BulkWriteException</a> — Класс MongoDB\Driver\Exception\BulkWriteException</li><li><a href="class.mongodb-driver-exception-commandexception.php.html">MongoDB\Driver\Exception\CommandException</a> — Класс MongoDB\Driver\Exception\CommandException</li><li><a href="class.mongodb-driver-exception-connectionexception.php.html">MongoDB\Driver\Exception\ConnectionException</a> — Класс MongoDB\Driver\Exception\ConnectionException</li><li><a href="class.mongodb-driver-exception-connectiontimeoutexception.php.html">MongoDB\Driver\Exception\ConnectionTimeoutException</a> — Класс MongoDB\Driver\Exception\ConnectionTimeoutException</li><li><a href="class.mongodb-driver-exception-encryptionexception.php.html">MongoDB\Driver\Exception\EncryptionException</a> — Класс MongoDB\Driver\Exception\EncryptionException</li><li><a href="class.mongodb-driver-exception-exception.php.html">MongoDB\Driver\Exception\Exception</a> — Интерфейс MongoDB\Driver\Exception\Exception</li><li><a href="class.mongodb-driver-exception-executiontimeoutexception.php.html">MongoDB\Driver\Exception\ExecutionTimeoutException</a> — Класс MongoDB\Driver\Exception\ExecutionTimeoutException</li><li><a href="class.mongodb-driver-exception-invalidargumentexception.php.html">MongoDB\Driver\Exception\InvalidArgumentException</a> — Класс MongoDB\Driver\Exception\InvalidArgumentException</li><li><a href="class.mongodb-driver-exception-logicexception.php.html">MongoDB\Driver\Exception\LogicException</a> — Класс MongoDB\Driver\Exception\LogicException</li><li><a href="class.mongodb-driver-exception-runtimeexception.php.html">MongoDB\Driver\Exception\RuntimeException</a> — Класс MongoDB\Driver\Exception\RuntimeException</li><li><a href="class.mongodb-driver-exception-serverexception.php.html">MongoDB\Driver\Exception\ServerException</a> — Класс MongoDB\Driver\Exception\ServerException</li><li><a href="class.mongodb-driver-exception-sslconnectionexception.php.html">MongoDB\Driver\Exception\SSLConnectionException</a> — Класс MongoDB\Driver\Exception\SSLConnectionException (устаревший)</li><li><a href="class.mongodb-driver-exception-unexpectedvalueexception.php.html">MongoDB\Driver\Exception\UnexpectedValueException</a> — Класс MongoDB\Driver\Exception\UnexpectedValueException</li><li><a href="class.mongodb-driver-exception-writeexception.php.html">MongoDB\Driver\Exception\WriteException</a> — Класс MongoDB\Driver\Exception\WriteException</li><li><a href="mongodb.exceptions.tree.php.html">Class Tree</a> — MongoDB Exception Class Tree</li></ul></li></ul></div><section id="usernotes">
 <div class="head">
  <span class="action"><a href="https://www.php.net/manual/add-note.php?sect=set.mongodb&amp;redirect=https://www.php.net/manual/ru/set.mongodb.php">＋<small>add a note</small></a></span>
  <h3 class="title">User Contributed Notes <span class="count">4 notes</span></h3>
 </div><div id="allnotes">
  <div class="note" id="120256">  <div class="votes">
    <div id="Vu120256">
    <a href="https://www.php.net/manual/vote-note.php?id=120256&amp;page=set.mongodb&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd120256">
    <a href="https://www.php.net/manual/vote-note.php?id=120256&amp;page=set.mongodb&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V120256" title="72% like this...">
    19
    </div>
  </div>
  <a href="set.mongodb.php.html#120256" class="name">
  <strong class="user"><em>n dot vandermeij at mycademy dot com</em></strong></a><a class="genanchor" href="set.mongodb.php.html#120256"> &para;</a><div class="date" title="2016-12-01 04:02"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom120256">
<div class="phpcode"><code><span class="html">*** ONLY FOR VERSIONS &gt;= 1.2.0 ***<br /><br />If you encounter the following error:<br /><br />"PHP Warning:  PHP Startup: Unable to load dynamic library '/usr/lib64/php/modules/mongodb.so'<br /> - /usr/lib64/php/modules/mongodb.so: undefined symbol: php_json_serializable_ce in Unknown on line 0"<br /><br />For a detailed explanation, please visit: <br /><br /><a href="https://derickrethans.nl/undefined-symbol.html" rel="nofollow" target="_blank">https://derickrethans.nl/undefined-symbol.html</a><br /><br />TLDR: You need to load the mongodb.so extension after the json.so<br />extension<br /><br />Special thanks to Derick Rethans for pointing this out!</span></code></div>
  </div>
 </div>
  <div class="note" id="121184">  <div class="votes">
    <div id="Vu121184">
    <a href="https://www.php.net/manual/vote-note.php?id=121184&amp;page=set.mongodb&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd121184">
    <a href="https://www.php.net/manual/vote-note.php?id=121184&amp;page=set.mongodb&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V121184" title="63% like this...">
    5
    </div>
  </div>
  <a href="set.mongodb.php.html#121184" class="name">
  <strong class="user"><em>mike at eastghost dot com</em></strong></a><a class="genanchor" href="set.mongodb.php.html#121184"> &para;</a><div class="date" title="2017-06-04 05:11"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom121184">
<div class="phpcode"><code><span class="html">There is an adapter - so old MongoClient / MongoDB code will run on the new PHP7/Mongo mess<br /><br /><a href="https://github.com/alcaeus/mongo-php-adapter" rel="nofollow" target="_blank">https://github.com/alcaeus/mongo-php-adapter</a></span></code></div>
  </div>
 </div>
  <div class="note" id="122190">  <div class="votes">
    <div id="Vu122190">
    <a href="https://www.php.net/manual/vote-note.php?id=122190&amp;page=set.mongodb&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd122190">
    <a href="https://www.php.net/manual/vote-note.php?id=122190&amp;page=set.mongodb&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V122190" title="58% like this...">
    2
    </div>
  </div>
  <a href="set.mongodb.php.html#122190" class="name">
  <strong class="user"><em>mike at eastghost dot com</em></strong></a><a class="genanchor" href="set.mongodb.php.html#122190"> &para;</a><div class="date" title="2017-12-27 06:10"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom122190">
<div class="phpcode"><code><span class="html">PHP 'USERLAND' / HIGHER-LEVEL DRIVER IS HERE --  [url]<a href="https://github.com/mongodb/mongo-php-driver[/url]" rel="nofollow" target="_blank">https://github.com/mongodb/mongo-php-driver[/url]</a><br /><br />In new driver, these fail:<br /><br />(A) $count = $collection-&gt;find( $criteria )-&gt;count();<br /><br />(B1) $cursor = $collection-&gt;find( $criteria );<br />(B2) $count = $cursor-&gt;count();<br /><br />In new driver, result counting has become its own separate action, to be applied to the collection, not the cursor:<br /><br />$count = $collection-&gt;count( $criteria );<br />$cursor = $collection-&gt;find( $criteria );<br /><br />From jmikola 6 Jan 2016 ([url]<a href="https://github.com/mongodb/mongo-php-driver/issues/195" rel="nofollow" target="_blank">https://github.com/mongodb/mongo-php-driver/issues/195</a> here[/url]):<br /><br />"In the new driver, a Cursor object now represents the actual results of an executed command or query, whereas cursors in the legacy driver had a dual-nature (pre- or post-executed). The legacy MongoCursor::count() method actually invoked a count command with the same criteria; however, this meant it was entirely possible for the count command's calculation to differ from the actual query results, since they were not necessarily operating on the same result data.<br /><br />"The userland library implements a count() method on the collection, which also takes filter criteria, and we'd rather encourage that so users understand that the operations are separate. If we do end up making Cursor countable in the userland library, we would use iterator_count() to provide an exact count on the results; however, this will also require us to cache the results so that users can rewind the cursor and iterate again (this was most recently discussed in PHPLIB-81). While the legacy driver would re-execute the query on a rewind, that's also not an option given the nature of a Cursor in the new driver.<br /><br />"I realize this may come across as an inconvenience, but I believe the explicit API is a ultimately a step forward from the legacy driver, where many users might have been oblivious to what was actually happening under the hood. Feel free to follow up if you have additional questions.</span></code></div>
  </div>
 </div>
  <div class="note" id="128262">  <div class="votes">
    <div id="Vu128262">
    <a href="https://www.php.net/manual/vote-note.php?id=128262&amp;page=set.mongodb&amp;vote=up" title="Vote up!" class="usernotes-voteu">up</a>
    </div>
    <div id="Vd128262">
    <a href="https://www.php.net/manual/vote-note.php?id=128262&amp;page=set.mongodb&amp;vote=down" title="Vote down!" class="usernotes-voted">down</a>
    </div>
    <div class="tally" id="V128262" title="33% like this...">
    -1
    </div>
  </div>
  <a href="set.mongodb.php.html#128262" class="name">
  <strong class="user"><em>Robert</em></strong></a><a class="genanchor" href="set.mongodb.php.html#128262"> &para;</a><div class="date" title="2023-02-28 08:42"><strong>11 months ago</strong></div>
  <div class="text" id="Hcom128262">
<div class="phpcode"><code><span class="html">Hey guys,<br />a short example to access a local mongo db server:<br /><br /><span class="default">&lt;?php<br /><br /></span><span class="keyword">echo </span><span class="string">"Mongo DB Example&lt;br&gt;"</span><span class="keyword">;<br /><br /></span><span class="comment">// run composer requre mongodb/mongdodb in your project folder before<br /></span><span class="keyword">require(</span><span class="string">"vendor/autoload.php"</span><span class="keyword">);<br /><br /></span><span class="comment">// start mongod process on your instance first<br /></span><span class="default">$client </span><span class="keyword">= new </span><span class="default">MongoDB\Client</span><span class="keyword">(</span><span class="string">'mongodb://localhost:27017'</span><span class="keyword">);<br /><br /></span><span class="comment">// select a database (will be created automatically if it not exists)<br /></span><span class="default">$db </span><span class="keyword">= </span><span class="default">$client</span><span class="keyword">-&gt;</span><span class="default">test2</span><span class="keyword">;<br />echo </span><span class="string">"Database test2 created/selected&lt;br&gt;"</span><span class="keyword">;<br /><br /></span><span class="comment">// select a collection (will be created automatically if it not exists)<br /></span><span class="default">$coll </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">selectCollection</span><span class="keyword">(</span><span class="string">"mycoll"</span><span class="keyword">);<br />echo </span><span class="string">"Collection mycoll created/selected&lt;br&gt;"</span><span class="keyword">;<br /><br /></span><span class="comment">// insert a datatow in the collection<br /></span><span class="default">$coll</span><span class="keyword">-&gt;</span><span class="default">insertOne</span><span class="keyword">([</span><span class="string">'foo' </span><span class="keyword">=&gt; </span><span class="string">'bar'</span><span class="keyword">]);<br /><br /></span><span class="comment">// search for the datarow<br /></span><span class="keyword">echo </span><span class="string">"Result:&lt;br&gt;"</span><span class="keyword">;<br /></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$coll</span><span class="keyword">-&gt;</span><span class="default">findOne</span><span class="keyword">([</span><span class="string">'foo' </span><span class="keyword">=&gt; </span><span class="string">'bar'</span><span class="keyword">]));<br /><br /></span><span class="default">?&gt;</span></span></code></div>
  </div>
 </div></div>
<div class="foot"><a href="https://www.php.net/manual/add-note.php?sect=set.mongodb&amp;redirect=https://www.php.net/manual/ru/set.mongodb.php">＋<small>add a note</small></a></div>
</section>    </section><!-- layout-content -->
        <aside class='layout-menu'>

        <ul class='parent-menu-list'>
                                    <li>
                <a href="refs.database.vendors.php.html">Модули для работы с базами данных отдельных производителей</a>

                                    <ul class='child-menu-list'>

                                                <li class="">
                            <a href="book.cubrid.php.html" title="CUBRID">CUBRID</a>
                        </li>
                                                <li class="">
                            <a href="book.dbase.php.html" title="dBase">dBase</a>
                        </li>
                                                <li class="">
                            <a href="book.ibase.php.html" title="Firebird/InterBase">Firebird/InterBase</a>
                        </li>
                                                <li class="">
                            <a href="book.ibm-db2.php.html" title="IBM DB2">IBM DB2</a>
                        </li>
                                                <li class="current">
                            <a href="set.mongodb.php.html" title="MongoDB">MongoDB</a>
                        </li>
                                                <li class="">
                            <a href="set.mysqlinfo.php.html" title="MySQL">MySQL</a>
                        </li>
                                                <li class="">
                            <a href="book.oci8.php.html" title="OCI8">OCI8</a>
                        </li>
                                                <li class="">
                            <a href="book.pgsql.php.html" title="PostgreSQL">PostgreSQL</a>
                        </li>
                                                <li class="">
                            <a href="book.sqlite3.php.html" title="SQLite3">SQLite3</a>
                        </li>
                                                <li class="">
                            <a href="book.sqlsrv.php.html" title="SQLSRV">SQLSRV</a>
                        </li>
                        
                    </ul>
                
            </li>
                        
                    </ul>
    </aside>


  </div><!-- layout -->

  <footer>
    <div class="container footer-content">
      <div class="row-fluid">
      <ul class="footmenu">
        <li><a href="https://www.php.net/copyright.php">Copyright &copy; 2001-2024 The PHP Group</a></li>
        <li><a href="https://www.php.net/my.php">My PHP.net</a></li>
        <li><a href="https://www.php.net/contact.php">Contact</a></li>
        <li><a href="https://www.php.net/sites.php">Other PHP.net sites</a></li>
        <li><a href="https://www.php.net/privacy.php">Privacy policy</a></li>
      </ul>
      </div>
    </div>
  </footer>

    
 <!-- External and third party libraries. -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fhogan-3.0.2.min.js"></script>
<script src="../../cached.php%3Ft=1421837618&amp;f=%252Fjs%252Fext%252Ftypeahead.min.js"></script>
<script src="../../cached.php%3Ft=1657876202&amp;f=%252Fjs%252Fext%252Fmousetrap.min.js"></script>
<script src="../../cached.php%3Ft=1657730402&amp;f=%252Fjs%252Fext%252Fjquery.scrollTo.min.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fsearch.js"></script>
<script src="../../cached.php%3Ft=1701958202&amp;f=%252Fjs%252Fcommon.js"></script>

<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top@2x.png"></a>

</body>
</html>
